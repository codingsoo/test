[
  {
    "number": 25080,
    "title": "error_for_create_order_hyperliquid",
    "created_at": "2025-01-28T14:06:37Z",
    "closed_at": "2025-01-28T15:07:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/25080",
    "body": "### Operating System\n\n_No response_\n\n### Programming Languages\n\nPython\n\n### CCXT Version\n\n4.4.52\n\n### Description\n\nhello, i've been looking for someone who has this error but i haven't found it. here's the code and the error. thanks to those who will take the time.\n\n### Code\n\n\u2002\u2002/CODE\\\n\nimport ccxt\nimport config\n\nexchange = ccxt.hyperliquid({\n    'Wallet_API': config.Wallet_API,\n    'Secret_Key': config.Secret_Key,\n})\n\n\nsymbol = 'BTC/USDC:USDC'\norder_type = 'limit' #'market'\nside = 'buy' #'sell'\namount_in_usdc = 10\nprice = 50000 #The price at wich you want to buy or sell\n\ncurrent_price = (exchange.fetch_ticker(symbol)['ask'] + exchange.fetch_ticker(symbol)['bid'])/2\namount = amount_in_usdc / current_price\n\norder = exchange.create_order(symbol, order_type, side, amount, price)\n\n\n/ERROR\\\n\n raise AuthenticationError(self.id + ' requires \"' + key + '\" credential')\n ccxt.base.errors.AuthenticationError: hyperliquid requires \"privateKey\" credential \n\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/25080/comments",
    "author": "B3atrixKidd0",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2025-01-28T15:07:29Z",
        "body": "Hello @B3atrixKidd0,\n\nYou're using the wrong properties (wallet_api and secret_key)\n```\n'Wallet_API': config.Wallet_API,\n'Secret_Key': config.Secret_Key,\n```\n\nYou should use `walletAddress` and `privateKey`\n"
      }
    ]
  },
  {
    "number": 23990,
    "title": "CoinEx errror: The endpoint has been deprecated",
    "created_at": "2024-10-14T21:14:59Z",
    "closed_at": "2024-10-15T11:30:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/23990",
    "body": "### Operating System\n\nUbuntu 22.04.4 LTS\n\n### Programming Languages\n\nPHP\n\n### CCXT Version\n\n4.3.5\n\n### Description\n\n2024-10-15 00:04:56,708 ERROR coinex **The endpoint has been deprecated. Please use the new version of this endpoint.**: Traceback (most recent call last):\r\n  File \".../main.py\", line 145, in handle_all_orderbooks\r\n    start_order = await **coinex.create_limit_order**(symbol, start_side, amount, start_price)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ccxt/async_support/base/exchange.py\", line 1488, in create_limit_order\r\n    return await self.create_order(symbol, 'limit', side, amount, price, params)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ccxt/async_support/coinex.py\", line 2226, in create_order\r\n    response = await self.v1PrivatePostOrderLimit(request)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ccxt/async_support/base/exchange.py\", line 816, in request\r\n    return await self.fetch2(path, api, method, params, headers, body, config)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ccxt/async_support/base/exchange.py\", line 813, in fetch2\r\n    return await self.fetch(request['url'], request['method'], request['headers'], request['body'])\r\n  File \"/usr/local/lib/python3.10/dist-packages/ccxt/async_support/base/exchange.py\", line 243, in fetch\r\n    self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ccxt/async_support/coinex.py\", line 5373, in handle_errors\r\n    raise ExchangeError(feedback)\r\nccxt.base.errors.ExchangeError: coinex **The endpoint has been deprecated. Please use the new version of this endpoint.**\n\n### Code\n\n```\r\n\u2002\u2002\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/23990/comments",
    "author": "grozz97",
    "comments": [
      {
        "user": "grozz97",
        "created_at": "2024-10-14T22:40:38Z",
        "body": "Probably the problem is in the old version of CCXT?"
      },
      {
        "user": "sc0Vu",
        "created_at": "2024-10-15T07:19:45Z",
        "body": "@grozz97 Can you upgrade ccxt and try?"
      },
      {
        "user": "carlosmiei",
        "created_at": "2024-10-15T10:49:42Z",
        "body": "Hello @grozz97, correct that was updated in the meantime.\r\n\r\nCan you please upgrade and try again? "
      }
    ]
  },
  {
    "number": 23587,
    "title": "ModuleNotFoundError: No module named 'importlib.metadata'",
    "created_at": "2024-08-30T14:29:16Z",
    "closed_at": "2024-09-03T03:12:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/23587",
    "body": "### Operating System\n\ncentos7\n\n### Programming Languages\n\nPython\n\n### CCXT Version\n\n4.3.90\n\n### Description\n\ntoday I upgrade my ccxt to 4.3.90,but when i run my py script ,there is an error: ModuleNotFoundError: No module named 'importlib.metadata',my python verion is 3.7.5\n\n### Code\n\n```\r\n\u2002\u2002\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/23587/comments",
    "author": "y0rkl4u",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2024-08-30T15:35:53Z",
        "body": "Hello @y0rkl4u,\r\nIs it possible to update your Python version to at least 3.8? Python 3.7 is not officially supported "
      }
    ]
  },
  {
    "number": 23018,
    "title": "QUESTION: using of both async and sync versions of ccxt within same app",
    "created_at": "2024-07-07T20:55:19Z",
    "closed_at": "2024-07-08T11:08:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/23018",
    "body": "### Operating System\n\nWindows 11 / Debian\n\n### Programming Languages\n\nPython\n\n### CCXT Version\n\n4.3.15\n\n### Description\n\nHi. First thing to say is thank you for ccxt - it's a really brilliant library!\r\n\r\nI have an app written in python which is watching or fetching orderbooks at multiple exchanges - using CCXT Pro where available, or async fetch methods where not.\r\n\r\nI want to try reconfigure my app with threads for some of orderbook fetching (because, off topic, my UI is running in the same event loop as ccxt and is lagging). This means I need to use the non-async ccxt library.\r\n\r\nI still want to use watchOrderBooks for some lookups but also threaded fetches alongside. I'm loathe to create two objects for ccxt and ccxt pro however (plus running load_markets on both). Is there a way to just load the async version but fallback to the non-async method at times? Or will I always need to do both imports and create both objects?\n\n### Code\n\n```\r\n\u2002\u2002\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/23018/comments",
    "author": "ByTheSeaL",
    "comments": [
      {
        "user": "sc0Vu",
        "created_at": "2024-07-08T03:37:38Z",
        "body": "Hi @ByTheSeaL, The async integration works differently; you'll need to initialize two exchange objects.\r\n\r\n"
      }
    ]
  },
  {
    "number": 22265,
    "title": "okx {\"msg\":\"Request header OK-ACCESS-PASSPHRASE incorrect.\",\"code\":\"50105\"}",
    "created_at": "2024-04-24T08:05:15Z",
    "closed_at": "2024-04-24T11:56:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/22265",
    "body": "### Operating System\r\n\r\nubuntu\r\n\r\n### Programming Languages\r\n\r\nJavaScript\r\n\r\n### CCXT Version\r\n\r\n^4.3.6\r\n\r\n### Description\r\n\r\nI am passing correct passphrase then also I am getting the same error again and again \r\nI have check it several times\r\n\r\n### Code\r\n\r\n```\r\n\u2002const okxExchange = new ccxt.okx({\r\n  apiKey: \"my-api-key\",\r\n  secret: \"my-secret-key\",\r\n  password: \"my-password\",\r\n  passPharse: \"Helloworldiamhere@98\",\r\n});\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/22265/comments",
    "author": "block98ct",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2024-04-24T09:11:56Z",
        "body": "Hello @block98ct,\r\nyou should provide the `passphrase` as `password` to ccxt, example\r\n\r\n```Javascript\r\n\u2002const okxExchange = new ccxt.okx({\r\n  apiKey: \"my-api-key\",\r\n  secret: \"my-secret-key\",\r\n  password: \"my-api-passphrase\",\r\n});\r\n```\r\n"
      },
      {
        "user": "block98ct",
        "created_at": "2024-04-24T09:18:45Z",
        "body": "@carlosmiei Thanks for the quick response\r\nIs this the same for kucoin also??"
      },
      {
        "user": "carlosmiei",
        "created_at": "2024-04-24T09:47:04Z",
        "body": "@block98ct Yes, the api passphrase/password should always be provided as `password` to ccxt"
      }
    ]
  },
  {
    "number": 22104,
    "title": "Mexc can't put a stop loss order",
    "created_at": "2024-04-09T11:34:56Z",
    "closed_at": "2024-04-10T02:14:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/22104",
    "body": "### Operating System\n\nwindows 11\n\n### Programming Languages\n\nPython\n\n### CCXT Version\n\n3.1.50\n\n### Description\n\nhello,\r\n\r\nI would like to create a Stop-Limit order but it's always a Limit order which is created\r\nI've tried using parameters but mexc is still creating a Limit order with no stop loss and no trigger price\r\nIt looks like neither stopPrice nor triggerPrice is taken into account\r\n\r\nany thoughts ?\r\n\r\nthanks\r\n\r\n{'id': 'C02__406344578380128256053', 'clientOrderId': None, 'timestamp': 1712662332869, 'datetime': '2024-04-09T11:32:12.869Z', 'lastTradeTimestamp': None, 'status': None, 'symbol': 'NTX/USDT', 'type': 'limit', 'timeInForce': None, 'side': 'sell', 'price': 0.1, 'stopPrice': None, 'triggerPrice': None, 'average': None, 'amount': 63, 'cost': None, 'filled': None, 'remaining': None, 'fee': None, 'trades': [], 'info': {'symbol': 'NTXUSDT', 'orderId': 'C02__406344578380128256053', 'orderListId': '-1', 'price': '0.1', 'origQty': '63', 'type': 'LIMIT', 'side': 'SELL', 'transactTime': '1712662332869'}, 'fees': [], 'lastUpdateTimestamp': None, 'postOnly': None, 'reduceOnly': None, 'takeProfitPrice': None, 'stopLossPrice': None}\r\n\n\n### Code\n\n```\r\nparams = {\r\n    'triggerPrice': 0.045,\r\n    'triggerDirection': 'below', # order will be triggered when price is above 1700\r\n    'stopPrice': 0.035,  # your stop loss price\r\n    'stopLoss': {\r\n        'type': 'limit',# or 'market', this field is not necessary if limit price is specified\r\n        'price': 0.035, # limit price for a limit stop loss order\r\n        'triggerPrice': 0.04,\r\n        'stopPrice': 0.035,\r\n    }\r\n    }\r\n```\r\n    \r\n    order = exchange.create_order('NTXUSDT', 'limit','sell', 150, 0.035, params)",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/22104/comments",
    "author": "swiinger",
    "comments": [
      {
        "user": "sc0Vu",
        "created_at": "2024-04-09T14:10:37Z",
        "body": "@swiinger do you create order in spot market? I think mexc doesn't support stop order for spot."
      }
    ]
  },
  {
    "number": 21707,
    "title": " probit access token expired",
    "created_at": "2024-03-14T02:07:32Z",
    "closed_at": "2024-03-14T03:06:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/21707",
    "body": "### Operating System\n\nxampp, win10\n\n### Programming Languages\n\nPHP\n\n### CCXT Version\n\nlastest\n\n### Description\n\nHi;\r\nI've made create_order in probit exchange but got error:\r\n\r\nFatal error: Uncaught ccxt\\AuthenticationError: probit access token expired, call signIn() method in C:\\xampp\\htdocs\\main\\ccxt11t3\\php\\probit.php:1777 Stack trace: #0 C:\\xampp\\htdocs\\main\\ccxt11t3\\php\\Exchange.php(4404): ccxt\\probit->sign('new_order', 'private', 'POST', Array, NULL, NULL) #1 C:\\xampp\\htdocs\\main\\ccxt11t3\\php\\Exchange.php(4412): ccxt\\Exchange->fetch2('new_order', 'private', 'POST', Array, NULL, NULL, Array) #2 C:\\xampp\\htdocs\\main\\ccxt11t3\\php\\abstract\\probit.php(92): ccxt\\Exchange->request('new_order', 'private', 'POST', Array, NULL, NULL, Array) #3 C:\\xampp\\htdocs\\main\\ccxt11t3\\php\\probit.php(1240): ccxt\\abstract\\probit->privatePostNewOrder(Array) #4 C:\\xampp\\htdocs\\main\\ccxt11t3\\probitORDER.php(52): ccxt\\probit->create_order('BTC-USDT', 'LIMIT', 'buy', 0.0003, 50000.0) #5 {main} thrown in C:\\xampp\\htdocs\\main\\ccxt11t3\\php\\probit.php on line 1777\r\n\r\nHow can i get this worked? thank for your support!\r\n\n\n### Code\n\n```\r\n\u2002\u2002$poloniex   = new \\ccxt\\probit   (array (\r\n    'apiKey' => 'xxx',\r\n    'secret' => 'xxxx',\r\n));\r\n\r\n\r\n$poloniex_markets = $poloniex->load_markets ();\r\n$poloniex->create_order ('BTC-USDT', 'LIMIT', 'buy', 0.0001, 50000, array ('client_order_id' => '123'));\r\n\r\n\r\n\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/21707/comments",
    "author": "haitokt",
    "comments": [
      {
        "user": "sc0Vu",
        "created_at": "2024-03-14T02:12:22Z",
        "body": "@haitokt I think you can signIn to retrieve another token."
      }
    ]
  },
  {
    "number": 20028,
    "title": "Transfer from subacc to main on okex",
    "created_at": "2023-11-17T21:00:39Z",
    "closed_at": "2023-11-18T07:56:32Z",
    "labels": [
      "question",
      "python"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/20028",
    "body": "### Operating System\n\nLinux\n\n### Programming Languages\n\nPython\n\n### CCXT Version\n\n4.1.56\n\n### Description\n\nhi can u help with transfer from subacc to main on okex pls, i try use 2 methods, and got the same error\n\n### Code\n\n#1 \r\n```\r\nexchange.private_post_asset_transfer({\"ccy\": symbolWithdraw, \"amt\": str(sub_balance), \"from\": '6', \"to\": '6', \"type\": \"2\", \"subAcct\": name_sub})\r\n```\r\n#2 \r\n```\r\nexchange.transfer(code=symbolWithdraw, amount=sub_balance, fromAccount=name_sub, toAccount='main', params={\"type\": \"2\", \"from\": '6', \"to\": '6'})\u2002\u2002\r\n```\r\n#ERROR\r\n```\r\nccxt.base.errors.ExchangeError: okx {\"msg\":\"This API key doesn't have permission to use this function\",\"code\":\"50120\"}\r\n```",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/20028/comments",
    "author": "WhereIsMyMindDL",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2023-11-17T21:56:15Z",
        "body": "Have you have enabled the transfer permission on your API key in the okx website settings?"
      }
    ]
  },
  {
    "number": 19437,
    "title": "Class krakenfutures not found. ",
    "created_at": "2023-10-03T11:59:20Z",
    "closed_at": "2023-10-03T14:37:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/19437",
    "body": "### Operating System\n\nubuntu\n\n### Programming Languages\n\nPHP\n\n### CCXT Version\n\n2.5\n\n### Description\n\nError when implementing kraken futures: \r\nClass krakenfutures not found\r\n\r\n\r\nI am trying to setup krakenfutures (using PHP) but the class does not exist in the library. \r\n\r\nI used composer require ccxt/ccxt to install. Here is the version \r\n \"require\": {\r\n        \"ccxt/ccxt\": \"^2.5\",\r\n\r\nIf I try:\r\n\r\n $exchange = '\\\\ccxt\\\\krakenfutures';\r\n        $exchange = new $exchange(array(\r\n            'apiKey' => 'my api key',\r\n            'secret' => 'my secret',\r\n        ));\r\n\r\nI have: Class krakenfutures not found. \r\n\r\nI checked in the files of ccxt, I have a kraken.php but no krakenfutures.php. \r\n\r\nWhen I check on the documentation is says it is supported in ccxt pro. \r\nWhen I try to go to ccxt.pro I am redirected to github pages saying that ccxt pro is now merged to ccxt. \r\n\r\nMaybe I misunderstood something because I saw some people saying that they implemented it. I tried to search if I could buy ccxt pro but all I found is that it is now merged.\r\n\r\nCan you please help ?\r\n\r\nThanks\n\n### Code\n\n```\r\n\u2002\u2002 $exchange = '\\\\ccxt\\\\krakenfutures';\r\n        $exchange = new $exchange(array(\r\n            'apiKey' => 'my api key',\r\n            'secret' => 'my secret',\r\n        ));\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/19437/comments",
    "author": "smamet",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2023-10-03T13:25:03Z",
        "body": "Hello @smamet,\r\n`KrakenFutures` was added at a later version, so you need to update your CCXT version to access it. "
      }
    ]
  },
  {
    "number": 19023,
    "title": "Kucoin Symbol Does not Exist",
    "created_at": "2023-08-28T11:42:26Z",
    "closed_at": "2023-08-28T11:54:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/19023",
    "body": "### Operating System\r\n\r\nWindows 10\r\n\r\n### Programming Languages\r\n\r\nPython\r\n\r\n### CCXT Version\r\n\r\n4.0.77\r\n\r\n### Description\r\n\r\nI am unable to change the margin for BTCUSDT, see code below to reproduce\r\n\r\n### Code\r\n\r\n```\r\nclient = ccxt.kucoinfutures({'apiKey': strategy.public,\r\n                                      'secret': strategy.private,\r\n                                      'password': password})\r\n\r\nticker = \"BTC/USDT:USDT\"\r\nticker = ticker.replace(\"/USDT:USDT\", \"USDTM\")\r\nclient.futuresprivate_post_position_margin_auto_deposit_status(\r\n    params={'symbol': ticker, 'status': True})\r\n```\r\nFile ~\\anaconda3\\lib\\site-packages\\ccxt\\base\\types.py:26, in Entry.__init__.<locals>.unbound_method(_self, \r\nparams)\r\n     25 def unbound_method(_self, params={}):\r\n---> 26     return _self.request(self.path, self.api, self.method, params, config=self.config)\r\n\r\nFile ~\\anaconda3\\lib\\site-packages\\ccxt\\base\\exchange.py:3019, in Exchange.request(self, path, api, method, params, headers, body, config)\r\n   3018 def request(self, path, api: Any = 'public', method='GET', params={}, headers: Optional[Any] = None, body: Optional[Any] = None, config={}):\r\n-> 3019     return self.fetch2(path, api, method, params, headers, body, config)\r\n\r\nFile ~\\anaconda3\\lib\\site-packages\\ccxt\\base\\exchange.py:3016, in Exchange.fetch2(self, path, api, method, \r\nparams, headers, body, config)\r\n   3014 self.lastRestRequestTimestamp = self.milliseconds()\r\n   3015 request = self.sign(path, api, method, params, headers, body)\r\n-> 3016 return self.fetch(request['url'], request['method'], request['headers'], request['body'])\r\n\r\nFile ~\\anaconda3\\lib\\site-packages\\ccxt\\base\\exchange.py:644, in Exchange.fetch(self, url, method, headers, body)\r\n    641     else:\r\n    642         raise ExchangeError(details) from e\r\n--> 644 self.handle_errors(http_status_code, http_status_text, url, method, headers, http_response, json_response, request_headers, request_body)\r\n    645 if json_response is not None:\r\n    646     return json_response\r\n\r\nFile ~\\anaconda3\\lib\\site-packages\\ccxt\\kucoin.py:3871, in kucoin.handle_errors(self, code, reason, url, method, headers, body, response, requestHeaders, requestBody)\r\n   3869 self.throw_broadly_matched_exception(self.exceptions['broad'], body, feedback)\r\n   3870 if errorCode != '200000':\r\n-> 3871     raise ExchangeError(feedback)\r\n   3872 return None\r\n\r\nExchangeError: kucoinfutures Contract symbol[BTCUSDTM] does not exist",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/19023/comments",
    "author": "Tomas-MP",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2023-08-28T11:51:04Z",
        "body": "Hello @Tomas-MP, I think you're using the wrong exchange-specific market id, it should be `XBTUSDTM`\r\n\r\nYou can easily check it by doing\r\n```Python\r\nawait ex.loadMarkets()\r\nmarket = ex.market('BTC/USDT:USDT')\r\nprint(market['id'])\r\n```\r\n"
      }
    ]
  },
  {
    "number": 18975,
    "title": "binance {\"code\":-5000,\"msg\":\"GET /fapi/v1/positionRisk is retired, please use GET /fapi/v2/positionRisk\"}",
    "created_at": "2023-08-23T13:48:25Z",
    "closed_at": "2023-08-24T09:51:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/18975",
    "body": "### Operating System\n\nMacOS\n\n### Programming Languages\n\nJavaScript\n\n### CCXT Version\n\n4.0.3\n\n### Description\n\nbinance {\"code\":-5000,\"msg\":\"GET /fapi/v1/positionRisk is retired, please use GET /fapi/v2/positionRisk\"}\r\n\r\nWe are not calling this enpoint anywhere in our code so this must be ccxt internal error.\n\n### Code\n\n```\r\n\u2002\u2002\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/18975/comments",
    "author": "filipzupancic",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2023-08-23T14:12:18Z",
        "body": "Hello @filipzupancic, we upgraded the endpoint a few versions ago (it is used by fetchPositions btw), if you upgrade your ccxt version to the latest it should work"
      }
    ]
  },
  {
    "number": 18633,
    "title": "Bybit.fetch_tickers() return data with colon",
    "created_at": "2023-07-24T07:26:50Z",
    "closed_at": "2023-07-26T15:12:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/18633",
    "body": "### Operating System\n\nWindows 10 \n\n### Programming Languages\n\n_No response_\n\n### CCXT Version\n\n2.8.31\n\n### Description\n\nWhen I call fetch_tickers() function I get something like '10000LADYS/USDT:USDT':{} And this is rather strange considering that bybit.markets() will return the data in a different format, which is my preferred ('BTC/USDT':{} ). I tried to change the params and put a spot there, etc., but this does not help me. I checked the bybit documentation and didn't find anything there. Perhaps you can advise me. Because such a difference in the returned data from only 1 exchange interferes very much\n\n### Code\n\n```\r\n\u2002\u2002\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/18633/comments",
    "author": "AlwxDavydov",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2023-07-24T09:27:29Z",
        "body": "Hello @AlwxDavydov,\r\n\r\nFirst and foremost, I noticed that you have a pretty outdated ccxt version I would suggest upgrading it because we did a lot of meaningful updates in the meantime.\r\n\r\nRegarding your question, bybit will return the swap tickers by default if no symbol/type is provided but you can easily provide a type in params if you want to retrieve spot tickers only, example:\r\n\r\n```Python\r\ntickers = await bybit.fetch_tickers(params = {'type':'spot'})\r\n```"
      },
      {
        "user": "AlwxDavydov",
        "created_at": "2023-07-24T17:04:02Z",
        "body": "@carlosmiei Thanks, your answer helped but not completely. As it turned out, not all tokens return by params = {'type':'spot'}), just like 1INCH, it will shown only if I use code with deafult params and looked like '1INCH/USDT:USDT. To be honest, I don't understand why. Initially, I thought that spot is only spot pairs, and default is those pairs that include margin trading, but no. For example WLD/USDC will be returned by params = spot, but in includes margin. So when I call a fetch_tickers() I want to got all pairs and I want it in some format like got all other exchanges.(without :USDT) Moreover I check type of some coins and both 1INCH and CAPO is type:spot but first is shown only without params second is shown only with params = {'type':'spot'}."
      },
      {
        "user": "carlosmiei",
        "created_at": "2023-07-26T11:10:27Z",
        "body": "@AlwxDavydov Sorry don't know exactly why was re-opened. Have you updated your ccxt version as suggested?"
      },
      {
        "user": "AlwxDavydov",
        "created_at": "2023-07-26T11:12:05Z",
        "body": "@carlosmiei Yes, the old version was added by autocomplete. I just didn't notice it"
      },
      {
        "user": "AlwxDavydov",
        "created_at": "2023-07-26T11:16:46Z",
        "body": "@carlosmiei I'll even add the problem. The fact is that len(bybit.markets) will return 669, but fetch_tickers(\r\n            params={'type': 'spot'}) will return around 280, and  fetch_tickers() will return around 250 pairs. So bybit.markets will include some derivatives and there are around 550 real spot markets, but they can only be obtained by different calls (with fetch_tickers(params={'type': 'spot'}) and without this pararms). I really hope I was able to explain well, but if you do not understand, please tell me and I will try again"
      },
      {
        "user": "carlosmiei",
        "created_at": "2023-07-26T11:55:45Z",
        "body": "@AlwxDavydov Sorry I still don't get what the problem is here.\r\n\r\n> The fact is that len(bybit.markets) will return 669,\r\n\r\nyes, bybit loads all markets buy default now (spot, swap, futures, options)\r\n\r\n> fetch_tickers(\r\nparams={'type': 'spot'}) will return around 280,\r\n\r\nThat is because only returns spot tickers\r\n\r\n>  fetch_tickers() will return around 250 pairs\r\n\r\nAs explained, by default will return only swap tickers\r\n\r\n\r\n\r\n"
      },
      {
        "user": "AlwxDavydov",
        "created_at": "2023-07-26T12:39:32Z",
        "body": "@carlosmiei Once again, I apologize for my stupidity and English. To be clearer, I will explain my task. I get tickers on many exchanges, on all but bybit it will return me all available pairs for spot (what I need) trading. But on bybit, the ticker call needs to be called 2 times to get all the pairs I need. This is annoying, but not such a big problem, the problem is that in spot trading pairs it will return data to me in a different format, namely the last coin and the colon before it(\"BTC/USDT:USDT\"). And I'm rather asking for advice on how I can get my 550 spot pairs (after all, their real number is about it) in the same format, without the last character with a colon."
      },
      {
        "user": "ttodua",
        "created_at": "2023-07-26T13:07:33Z",
        "body": "@AlwxDavydov please post your ccxt version.\r\nalso, tell us an example, which spot symbol that you are missing from bybit response when doing `fetch_tickers (None, {'type':'spot'})`"
      },
      {
        "user": "carlosmiei",
        "created_at": "2023-07-26T13:12:02Z",
        "body": "@AlwxDavydov Yeah the problem might be with the ccxt version, you might have installed a buggy outdated one. \r\n\r\nBtw if you see `:USDT` in the symbol that means it is a swap/derivative market not a spot one.  \r\n\r\nAs I said, I tested it on the latest version of ccxt and by doing `fetch_tickers(\r\nparams={'type': 'spot'})` I only get spot markets (with the symbol BASE/QUOTE)"
      }
    ]
  },
  {
    "number": 18609,
    "title": "derebit authentication error",
    "created_at": "2023-07-20T18:11:18Z",
    "closed_at": "2023-07-21T08:27:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/18609",
    "body": "### Operating System\n\nosx and windows 10\n\n### Programming Languages\n\npython\n\n### CCXT Version\n\nlast over pipe installed\n\n### Description\n\ni am try use your lib but on the windows 10 and on the osx have at the some error message \r\nccxt.base.errors.AuthenticationError: deribit {\"jsonrpc\":\"2.0\",\"error\":{\"message\":\"invalid_credentials\",\"code\":13004},\"testnet\":false,\"usIn\":1689876278308631,\"usOut\":1689876278308889,\"usDiff\":258}\r\n\r\nall lib last version updated,\r\nmy key and secret good and work.\r\n\r\npublic function your lib good work,but only private not work.\n\n### Code\n\n\r\nimport ccxt\r\nderibit = ccxt.deribit({\r\n    'apiKey': 'xxx',\r\n    'secret': 'xxx',\r\n})\r\n\r\nderibit.verbose = True\r\nprint(deribit.fetch_balance ())",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/18609/comments",
    "author": "sadek69",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2023-07-20T19:55:46Z",
        "body": "@sadek69 are you using the testnet keys or the production keys?"
      },
      {
        "user": "sadek69",
        "created_at": "2023-07-20T22:44:34Z",
        "body": "i am use test net keys"
      },
      {
        "user": "carlosmiei",
        "created_at": "2023-07-21T08:08:36Z",
        "body": "Hello @sadek69, I just tested the sandbox mode, and everything seems to be working fine, so I would suggest double-checking your API keys, make sure they don't have empty spaces, are not expired, etc\r\n\r\n```\r\n p deribit fetchBalance --sandbox\r\nPython v3.10.9\r\nCCXT v4.0.33\r\nderibit.fetchBalance()\r\n{'BTC': {'free': 98.99598757, 'total': 98.99602114, 'used': 1.678e-05},\r\n 'free': {'BTC': 98.99598757},\r\n 'info': {'available_funds': '98.99598757',\r\n          'available_withdrawal_funds': '98.99598654',\r\n          'balance': '98.99602011',\r\n          'cross_collateral_enabled': False,\r\n          'currency': 'BTC',\r\n          'delta_total': '0.001678',\r\n          'delta_total_map': {'btc_usd': '0.001678289'},\r\n          'deposit_address': 'bcrt1qhe24trh0d34lwh6j5rfmpyr8l9j76g3gey7jgs',\r\n          'equity': '98.99602114',\r\n          'estimated_liquidation_ratio': '0.00001721',\r\n          'estimated_liquidation_ratio_map': {'btc_usd': '0.000017205020192293057'},\r\n          'fee_balance': '0.0',\r\n          'futures_pl': '0.00099132',\r\n          'futures_session_rpl': '0.0',\r\n          'futures_session_upl': '0.00000103',\r\n          'initial_margin': '0.00003357',\r\n          'limits': {'matching_engine': {'burst': '20', 'rate': '5'},\r\n                     'non_matching_engine': {'burst': '100', 'rate': '20'}},\r\n          'maintenance_margin': '0.00001678',\r\n          'margin_balance': '98.99602114',\r\n          'options_delta': '0.0',\r\n          'options_gamma': '0.0',\r\n          'options_gamma_map': {},\r\n          'options_pl': '0.0',\r\n          'options_session_rpl': '0.0',\r\n          'options_session_upl': '0.0',\r\n          'options_theta': '0.0',\r\n          'options_theta_map': {},\r\n          'options_value': '0.0',\r\n          'options_vega': '0.0',\r\n          'options_vega_map': {},\r\n          'portfolio_margining_enabled': False,\r\n          'projected_delta_total': '0.001678',\r\n          'projected_initial_margin': '0.00003357',\r\n          'projected_maintenance_margin': '0.00001678',\r\n          'session_rpl': '0.0',\r\n          'session_upl': '0.00000103',\r\n          'spot_reserve': '0.0',\r\n          'total_pl': '0.00099132'},\r\n 'total': {'BTC': 98.99602114},\r\n 'used': {'BTC': 1.678e-05}}\r\n```\r\n\r\n"
      }
    ]
  },
  {
    "number": 17514,
    "title": "Opening stop loss and take profit orders on Bybit",
    "created_at": "2023-04-09T10:11:46Z",
    "closed_at": "2023-05-06T10:33:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/17514",
    "body": "### Operating System\r\n\r\nWindows 10\r\n\r\n### Programming Languages\r\n\r\npython\r\n\r\n### CCXT Version\r\n\r\n3.0.9\r\n\r\n### Description\r\n\r\nI'm trying to create a stop loss and take profit for my order on bybit with ccxt.\r\n\r\n\r\n\r\n### Code\r\n\r\nI've tried the following:\r\n(1)\r\n```\r\n        side = direction\r\n        order_type = 'market'\r\n        entry_price = last_price\r\n        size = 1\r\n        params = {\r\n            'leverage': 1,\r\n            'marginMode': 'cross',\r\n            'stopLoss' : stop_loss,\r\n            'takeProfit' : take_profit\r\n        }\r\n\r\n        order = exchange.create_order(symbol, order_type, side, size, entry_price, params)\r\n```\r\n\r\n(2)\r\n```\r\n        side = direction\r\n        order_type = 'market'\r\n        entry_price = last_price\r\n        size = 1\r\n        params = {\r\n            'leverage': 1,\r\n            'marginMode': 'cross',\r\n            'stopLossPrice' : stop_loss,\r\n            'takeProfitPrice' : take_profit\r\n        }\r\n\r\n        order = exchange.create_order(symbol, order_type, side, size, entry_price, params)\r\n```\r\n\r\n(3)\r\n```\r\n        side = direction\r\n        order_type = 'market'\r\n        entry_price = last_price\r\n        size = 1\r\n        params = {\r\n            'leverage': 1,\r\n            'marginMode': 'cross',\r\n            'stop_loss' : stop_loss,\r\n            'take_profit' : take_profit\r\n        }\r\n\r\n        order = exchange.create_order(symbol, order_type, side, size, entry_price, params)\r\n```\r\n\r\n\r\n\r\n(4)\r\n```\r\n        side = direction\r\n        order_type = 'market'\r\n        entry_price = last_price\r\n        size = 1\r\n        params = {\r\n            'leverage': 1,\r\n            'marginMode': 'cross',\r\n            'stopPrice' : stop_loss,\r\n            'triggerPrice' : take_profit\r\n        }\r\n\r\n        order = exchange.create_order(symbol, order_type, side, size, entry_price, params)\r\n```\r\n\r\nI'm either getting the following error:\r\n```\r\nError: bybit {\"retCode\":10001,\"retMsg\":\"Request parameter error.\",\"result\":{},\"retExtInfo\":{},\"time\":1681034354617}\r\n```\r\n\r\nOr it opens a limit order for the stop loss and it ignores the take profit limit order and market order.",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/17514/comments",
    "author": "ambiflextrous",
    "comments": [
      {
        "user": "sc0Vu",
        "created_at": "2023-04-10T04:48:10Z",
        "body": "Hi @weslienlive\r\n\r\nThe bug was incorrect data type of stopLoss/takeProfit (should be string). We already fixed last week. Please update ccxt. Let me know if you have any other issues."
      }
    ]
  },
  {
    "number": 17479,
    "title": "Fetch oldest candles on BitGet, no response",
    "created_at": "2023-04-04T21:23:55Z",
    "closed_at": "2023-04-06T06:21:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/17479",
    "body": "### Operating System\n\nlinux\n\n### Programming Languages\n\nJS\n\n### CCXT Version\n\n3.0.52\n\n### Description\n\nHi @carlosmiei,\r\n\r\nI'm trying to retrieve the oldest candles for a symbol on BitGet.\r\nI use a large time frame to estimate the first market time.\r\nBut no candle is returned.\r\nSee example.\r\nWork fine on Binance and ByBit.\n\n### Code\n\n```\r\n\u2002\u2002    const exchange = new ccxt['bitget']()\r\n\r\n    // big time frame\r\n    let ohlcvRawList = await exchange.fetchOHLCV('ETH/USDT:USDT', '1w')\r\n\r\n    let firstMonthCandle = ohlcvRawList[0]\r\n    const timeStart = firstMonthCandle[0]\r\n\r\n    const timeStartTenMonthAfter = timeStart + 60 * 60 * 24 * 30 * 10 * 1000\r\n\r\n    console.log('first month candle', firstMonthCandle)\r\n    ohlcvRawList = await exchange.fetchOHLCV('ETH/USDT:USDT', '1h', timeStart)\r\n    console.log(ohlcvRawList.length) // 0\r\n\r\n    // try 10 months after\r\n    ohlcvRawList = await exchange.fetchOHLCV('ETH/USDT:USDT', '1h', timeStartTenMonthAfter)\r\n    console.log(ohlcvRawList.length) // 0\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/17479/comments",
    "author": "dawadam",
    "comments": [
      {
        "user": "sc0Vu",
        "created_at": "2023-04-05T02:30:43Z",
        "body": "Hi @dawadam \r\n\r\nAfter test, it seems you can fetch data within 30 days for 1h (the documentations said for `1m` candles)"
      }
    ]
  },
  {
    "number": 17170,
    "title": "watch_ohlcv function not working for Bybit exchange",
    "created_at": "2023-03-14T15:40:00Z",
    "closed_at": "2023-03-14T19:25:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/17170",
    "body": "### Operating System\n\nWindows 11\n\n### Programming Languages\n\npython\n\n### CCXT Version\n\n2.8.89\n\n### Description\n\nI am trying to connect with Bybit using the watch_ohlcv function to stream live data, but it returns an array with no values. The same code works fine for Binance Exchange.\r\n\r\nOutput ---\r\n\r\n[[None, None, None, None, None, None]]\r\n[[None, None, None, None, None, None]]\r\n[[None, None, None, None, None, None]]\r\n[[None, None, None, None, None, None]]\r\n[[None, None, None, None, None, None]]\n\n### Code\n\n```\r\nimport asyncio\r\nimport ccxt.pro\r\n\r\n\r\nmarket = \"future\"\r\napi_key = \"api_key\"\r\napi_sec = \"api_secret\"\r\n\r\nexchange = ccxt.pro.bybit({\r\n    'enableRateLimit': True,\r\n    'options': {\r\n        'defaultType': market,\r\n        'adjustForTimeDifference': True\r\n    },\r\n    \"apiKey\" : api_key,\r\n    \"secret\" : api_sec\r\n})\r\n\r\n\r\n\r\nasync def fetch_kline():\r\n\r\n    while True:\r\n\r\n        live_feed = await exchange.watch_ohlcv(\"ETH/USDT\", \"1m\")\r\n\r\n        print(live_feed)\r\n\r\n\r\n\r\nasyncio.run(fetch_kline())\r\n```",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/17170/comments",
    "author": "sumitgautam0101",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2023-03-14T15:41:49Z",
        "body": "Hello @sumitgautam0101,\r\nDo you mind updating your ccxt version? I think this issue was fixed in the meantime."
      }
    ]
  },
  {
    "number": 17114,
    "title": "watchOrderBookSnapshot has error in ascendex",
    "created_at": "2023-03-10T18:18:33Z",
    "closed_at": "2023-03-16T15:26:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/17114",
    "body": "### Operating System\r\n\r\nwindows 64bit\r\n\r\n### Programming Languages\r\n\r\nJS\r\n\r\n### CCXT Version\r\n\r\n2.8.75\r\n\r\n### Description\r\n\r\n```js\r\nError in watchOrderBookSnapshot method in the ascendex:\r\n\r\nC:\\Bots\\jsTest\\node_modules\\ccxt\\js\\pro\\ascendex.js:270\r\n        orderbook.reset (snapshot);\r\n                  ^\r\n\r\nTypeError: Cannot read properties of undefined (reading 'reset')\r\n    at ascendex.handleOrderBookSnapshot (C:\\Bots\\jsTest\\node_modules\\ccxt\\js\\pro\\ascendex.js:270:19)\r\n    at ascendex.handleMessage (C:\\Bots\\jsTest\\node_modules\\ccxt\\js\\pro\\ascendex.js:892:20)\r\n    at WsClient.onMessage (C:\\Bots\\jsTest\\node_modules\\ccxt\\js\\pro\\base\\Client.js:283:14)\r\n    at callListener (C:\\Bots\\jsTest\\node_modules\\ws\\lib\\event-target.js:290:14)\r\n    at WebSocket.onMessage (C:\\Bots\\jsTest\\node_modules\\ws\\lib\\event-target.js:209:9)\r\n    at WebSocket.emit (node:events:512:28)\r\n    at Receiver.receiverOnMessage (C:\\Bots\\jsTest\\node_modules\\ws\\lib\\websocket.js:1180:20)\r\n    at Receiver.emit (node:events:512:28)\r\n    at Receiver.dataMessage (C:\\Bots\\jsTest\\node_modules\\ws\\lib\\receiver.js:541:14)\r\n    at Receiver.getData (C:\\Bots\\jsTest\\node_modules\\ws\\lib\\receiver.js:459:17)\r\n\r\nNode.js v19.7.0\r\n```\r\n\r\n### Code\r\n\r\n```js\r\nconst ccxt = require('ccxt')\r\n\r\nconst exchange = new ccxt.pro.ascendex({\r\n    'apiKey': apiKey,\r\n    'secret': secret,\r\n    'options': {\r\n        'account-category': 'margin', // 'cash', 'margin', 'futures' // obsolete\r\n        'account-group': accountGroup,\r\n        'defaultType': 'margin', // 'spot', 'margin', 'swap'\r\n        'accountCategories': {\r\n            'margin': 'margin',\r\n        }\r\n    },\r\n})\r\n\r\nexchange.verbose = false\r\n\r\nasync function watchOrderBookSnapshot(symbol) {\r\n    while (true) {\r\n        try {\r\n            const orderbook = await exchange.watchOrderBookSnapshot(symbol)\r\n            console.log(new Date(), exchange.id, symbol, orderbook)\r\n        } catch (e) {\r\n            console.log(symbol, e)\r\n        }\r\n    }\r\n}\r\n\r\nwatchOrderBookSnapshot('MATIC/USDT')\u2002\r\n\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/17114/comments",
    "author": "fotrosi",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2023-03-11T14:28:40Z",
        "body": "Hello @fotrosi,\r\n`watchOrderBookSnaphot` is an internal method and not meant to be used independently. You should be using `watchOrderBook` instead. "
      }
    ]
  },
  {
    "number": 16193,
    "title": "CCXT Ascendex Stopped Working (fetch_markets())",
    "created_at": "2022-12-24T18:04:51Z",
    "closed_at": "2022-12-25T01:43:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/16193",
    "body": "Hi all.\r\n\r\nHave been using CCXT for Ascendex successfully for months.  Recently it stopped working.\r\nIt's failing in 'load_markets'.  Base currency & quote currency for some trading pair I don't even care about are both Null, this leads to a Type error during concatenation.    I would guess some bad/null data coming from the exchange, or that Null's are not being filtered/handled properly in CCXT Ascendex.\r\n\r\n- OS:  AWS EC2 (Windows)\r\n- Programming Language version:  Python 3.9 ( 3.9.5 I think)\r\n- CCXT version:  latest, 2.2.89\r\n\r\nYOUR_CODE_TO_REPRODUCE_THE_ISSUE_WITHOUT_YOUR_KEYS\r\n\r\nascendex.py, line 573, 'fetch_markets()'\r\n\r\nERROR LINE>>>symbol = base + '/' + quote \r\n \r\nFails with Type error, because base & quote are both = None.\r\nThe symbol is XMR5S/USDT, which I am not even interested in.\r\n\r\n----\r\nThe calling code is standard set up:\r\n```\r\nself.exchange_class = getattr(mod, exchange_id)\u2028\u2028\r\nself.ccxt = self.exchange_class({\u2028    'apiKey': config['apiKey'],\u2028    'secret': config['secret'],\u2028    'uid': config['uid'],\u2028    'password': config['password'],\u2028    'options': {\u2028        'defaultType': 'spot',\u2028    },\u2028    'enableRateLimit': True,\u2028})\u2028 \r\nself.ccxt.set_sandbox_mode(\u2028config['is_sandbox']\u2028)\u2028\r\n\u2028self.ccxt.load_markets()\r\n\r\n```\r\n\r\nYOUR_OUTPUT_ERROR_EXCEPTION_IN_TEXT_NO_SCREENSHOTS\r\n```\r\nNot very useful is it doesn't cast light on WHY they are None value.\r\n\"unsupported operand type(s) for +: 'NoneType' and 'str'\"\r\n```\r\n\r\nPlease advise, thank you\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/16193/comments",
    "author": "SpenTappy",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2022-12-24T18:10:39Z",
        "body": "Hello @SpenTappy,\r\nYes, we detected this issue recently, but it should already be fixed. Can you try updating to the latest version?\r\n\r\nThanks!"
      }
    ]
  },
  {
    "number": 14890,
    "title": "bibox fetch_withdrawals has error",
    "created_at": "2022-09-06T16:46:01Z",
    "closed_at": "2022-09-16T22:03:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/14890",
    "body": "hi\r\nsince = None\r\nlimit = 200\r\nend_time = connection.milliseconds()\r\nparams = {\r\n     'end_time': int(end_time / 1000),\r\n}\r\nwithdrawals = connection.fetch_withdrawals(\"TRX\", since, limit, params)\r\n\r\nerror :\r\nbibox {\"error\":{\"code\":\"3000\",\"msg\":\"\u8bf7\u6c42\u53c2\u6570\u9519\u8bef\"},\"cmd\":\"transfer/transferInList\"}",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/14890/comments",
    "author": "hosseinab",
    "comments": [
      {
        "user": "kubeat",
        "created_at": "2022-09-07T09:55:41Z",
        "body": "i try to debug your code.the param 'limit' too big\uff0cyou can try change 'limit ' to 100 \u3002bibox Api have update to v3 ,v4,the ccxt is v1"
      }
    ]
  },
  {
    "number": 14512,
    "title": "okx default type does not change",
    "created_at": "2022-07-28T11:52:05Z",
    "closed_at": "2022-07-28T14:24:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/14512",
    "body": "i'm using the latest version of ccxt\r\nin okx, when i change defaultType to swap or any other kinds it does not change and when i call an order it still shows spot mode price and ..... .\r\nand when I wanna create a swap order it shows error which i don't have when i use binance and change defaultType to future.\r\n\r\n\r\nokex = ccxt.okx({\r\n    'apiKey': config.API_KEY,\r\n    'secret': config.API_SECRET,\r\n    'password' : config.API_PASS,\r\n    'options':{\r\n        'defaultType' : 'swap'\r\n        },\r\n\r\n})\r\nokex.set_sandbox_mode(True)\r\n\r\n\r\nleve = okex.set_leverage(10 , 'ETH-USDT' ,  params = {'mgnMode' : 'isolated'} , )\r\norder1 = okex.create_market_buy_order('ETH-USDT' , 6 )\r\nprint(order1)\r\n\r\n\r\n\r\nbut when i use this code i can get swap price but i can't open an order with swap symbol :\r\n\r\nokex = ccxt.okx({\r\n    'apiKey': config.API_KEY,\r\n    'secret': config.API_SECRET,\r\n    'password' : config.API_PASS,\r\n})\r\n\r\nticker = okex.fetch_ticker('ETH-USDT-SWAP')\r\nprint(ticker)\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/14512/comments",
    "author": "ar3sla",
    "comments": [
      {
        "user": "carlosmiei",
        "created_at": "2022-07-28T12:02:02Z",
        "body": "Hello @ar3sla you're mixing up spot and swap market ids.\r\n\r\nIf you want to place an order for the linear ETH/USDT swap you should be using `ETH-USDT-SWAP` as an argument for `createMarketBuyOrder` instead of `ETH-USDT`, the latter represents the spot symbol. \r\n\r\n\r\n\r\n\r\n\r\n\r\n"
      },
      {
        "user": "ar3sla",
        "created_at": "2022-07-28T12:23:42Z",
        "body": "hi @carlosmiei, thanks for your answer\r\nbut when i change it to ETH-USDT-SWAP with this code:\r\nokex = ccxt.okx({\r\n    'apiKey': config.API_KEY,\r\n    'secret': config.API_SECRET,\r\n    'password' : config.API_PASS,\r\n    'options':{\r\n        'defaultType' : 'swap'\r\n        },\r\n\r\n})\r\nokex.set_sandbox_mode(True)\r\n\r\nparams1 = {\r\n    \"instId\":\"ETH-USDT-SWAP\",\r\n    \"tdMode\":\"isolated\",\r\n    \"side\":\"buy\",\r\n    'posSide':\"SWAP\",\r\n    \"ordType\":\"market\",\r\n    \"sz\":\"6\"\r\n}\r\norder1 = okex.create_market_buy_order('ETH-USDT-SWAP' , 6 , params=params1)\r\nprint(order1)\r\n\r\nit shows me this error :\r\nccxt.base.errors.BadRequest: okx {\"code\":\"1\",\"data\":[{\"clOrdId\":\"e847386590ce4dBC2ffbe9c12cb175e0\",\"ordId\":\"\",\"sCode\":\"51000\",\"sMsg\":\"Parameter posSide  error \",\"tag\":\"\"}],\"msg\":\"Operation failed.\"}\r\n\r\n\r\n\r\nand if i use ETH-USDT in this code :\r\nokex = ccxt.okx({\r\n    'apiKey': config.API_KEY,\r\n    'secret': config.API_SECRET,\r\n    'password' : config.API_PASS,\r\n\r\n\r\n})\r\nokex.set_sandbox_mode(True)\r\n\r\n\r\norder1 = okex.create_market_buy_order('ETH-USDT' , 6 )\r\nprint(order1)\r\n\r\nit shows me this error :\r\n\r\nccxt.base.errors.InsufficientFunds: okx {\"code\":\"1\",\"data\":[{\"clOrdId\":\"e847386590ce4dBCb25a7bde230285b0\",\"ordId\":\"\",\"sCode\":\"51008\",\"sMsg\":\"Order placement failed due to insufficient balance \",\"tag\":\"\"}],\"msg\":\"Operation failed.\"}"
      },
      {
        "user": "carlosmiei",
        "created_at": "2022-07-28T13:06:15Z",
        "body": "Hello @ar3sla,\r\n\r\n> order1 = okex.create_market_buy_order('ETH-USDT' , 6 )\r\n> print(order1)\r\n\r\nthis is not what you want, as said earlier 'ETH-USDT' is a spot symbol, so you're saying \"I want to buy 6 ETH with USDT\"\r\n\r\n> order1 = okex.create_market_buy_order('ETH-USDT-SWAP' , 6 , params=params1)\r\n> print(order1)\r\n\r\nYou're almost there, you're just missing the `postSide` parameter required by OKX.\r\n\r\nSomething like this:\r\n```Python\r\n\r\nparams1 = {\r\n    \"marginMode\":\"isolated\", # or cross\r\n    \"posSide\":\"long\", # long or short depending on your intent\r\n}\r\nsymbol = \"ETH-USDT-SWAP\"\r\namount = 6 # number of contracts\r\norder1 = okex.create_market_buy_order(symbol , amount , params=params1)\r\nprint(order1)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"
      }
    ]
  },
  {
    "number": 12452,
    "title": "Since timestamp exchange.iso8601() not syncing with actual trade timestamp",
    "created_at": "2022-03-23T01:53:29Z",
    "closed_at": "2022-03-23T01:57:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/12452",
    "body": "OS: Windows Server 2019 Datacenter\r\nProgramming Language version: Node.js 15.3.0\r\nCCXT version: 1.49.98\r\nExchange: Kucoin\r\nMethod: exchange.iso8601()\r\n\r\nHello!\r\n\r\nI noticed a problem that happens with the `exchange.iso8601()`. I will describe the steps. I am not sure the verbose output is needed or if this is a fundamental \"problem\" that has a solution. Otherwise I will create/add verbose if needed.\r\n\r\nI have written comments in the code which tell the question:\r\n\r\n```\r\n    //First, I Declare the kucoin exchange\r\n    const Exchange = ccxt[\"kucoin\"];\r\n    const exchange = new Exchange({ enableRateLimit: true, 'timeout': 30000 });\r\n\r\n    //Second, I register the kucoin exchange iso8601 Date now which returned: 1647997843992\r\n    var since = exchange.iso8601(Date.now()).toString(); \r\n\r\n    //Third, I now Create order that goes through instantly on kucoin\r\n    var response = await exchange.createOrder(\"ETH/USDT\", \"limit\", \"buy\", 0.002, 3000, {});\r\n\r\n    //Now, I will try and return trades since: \"1647997843992\"\r\n    var trades = await exchange.fetchClosedOrders(\"ETH/USDT\", since, 10); //since: 1647997843992\r\n```\r\nHowever, no trades are returned but I tried to put 1 second back in time manually as since parameter instead `1647997842992`. Now I did return the trade on kucoin.\r\n\r\nThe thing is that the trade has registered this timestamp: `1647997843672`.\r\n`1647997843672 `is `20 `milliseconds BEFORE `1647997843992` which I registered the moment before I created the trade.\r\n\r\nWhy does this happen. It seems that something is not syncing. Shouldn't I get the Absolute timestamp from the exchange?\r\nIs there any safe approach to be sure to have the correct timestamp as the `since`?\r\n\r\nThank you!",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/12452/comments",
    "author": "jackpotcityco",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2022-03-23T01:57:58Z",
        "body": "@jackpotcityco the `since` argument must be a number in milliseconds (not a string). Alternatively you should use `exchange.parse8601()` to parse an ISO8601 datetime string to a milliseconds-number, cause `exchange.iso8601` is used to convert from milliseconds to a string.\r\n\r\nThis should work, let us know if it does not help:\r\n\r\n```JavaScript\r\n    const exchange = new ccxt[\"kucoin\"]({\r\n        'apiKey': 'YOUR_API_KEY',\r\n        'secret': 'YOUR_SECRET',\r\n        'password': 'YOUR_API_PASSWORD',\r\n    });\r\n\r\n    const since = exchange.milliseconds()\r\n\r\n    const response = await exchange.createOrder(\"ETH/USDT\", \"limit\", \"buy\", 0.002, 3000, {});\r\n\r\n    const trades = await exchange.fetchClosedOrders(\"ETH/USDT\", since, 10);\r\n```"
      }
    ]
  },
  {
    "number": 9371,
    "title": "help authenticating to KuCoin Exchange using ccxtPro",
    "created_at": "2021-06-13T07:52:53Z",
    "closed_at": "2021-06-13T18:19:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/9371",
    "body": "Hello Guys, \r\n\r\ni tried to authenticate to Kucoin using ccxtPro but it doesn't work, can someone please correct what i'm doing wrong here ?\r\n\r\nhere is my code:\r\n\r\n```\r\nexchange_kucoin = ccxtpro.kucoin({\r\n    'apiKey': const.API_KEY,\r\n    'secret': const.API_SECRET,\r\n    'password': const.API_PASSPHRASE,\r\n    'enableRateLimit': True,\r\n    'headers': {\r\n        'KC-API-KEY': const.API_KEY,\r\n    }\r\n})\r\n```\r\ni have also tried this without the \"header\" but still the same issue\r\n\r\nbut when i try to run a function to get some informations about my account, i get this error: \r\n\r\n`kucoin KC-API-KEY not exists`\r\n\r\n\r\nthe ccxtpro version i'm using is: print(ccxtpro.__version__) ==> 0.7.19",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/9371/comments",
    "author": "korchix",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2021-06-13T12:46:20Z",
        "body": "@korchix have you tried recreating your API Key? If not, please, try with a fresh new keypair and let us know if that does not help."
      }
    ]
  },
  {
    "number": 9291,
    "title": "Bitvavo `watch_orders` with `newUpdates` not working",
    "created_at": "2021-05-30T12:56:01Z",
    "closed_at": "2021-05-31T11:36:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/9291",
    "body": "- OS: macOS 11.3.1\r\n- Programming Language version: 3.9.5\r\n- CCXT version: 1.50.66 (CCXT) / 0.7.10 (CCXT Pro)\r\n\r\n```\r\nbitvavo = ccxtpro.bitvavo({\"apiKey\": \"#####\", \"secret\": \"#####\", \"newUpdates\": True})\r\nawait bitvavo.authenticate()\r\nawait bitvavo.watch_orders('BTC/EUR')\r\n```\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-3-8cfabd3aa667> in <module>\r\n----> 1 await bitvavo.watch_orders('BTC/EUR')\r\n\r\n~/###/###/venv/lib/python3.9/site-packages/ccxtpro/bitvavo.py in watch_orders(self, symbol, since, limit, params)\r\n    384         orders = await self.watch(url, messageHash, request, subscriptionHash)\r\n    385         if self.newUpdates:\r\n--> 386             limit = orders.getLimit(symbol, limit)\r\n    387         return self.filter_by_symbol_since_limit(orders, symbol, since, limit, True)\r\n    388 \r\n\r\nAttributeError: 'list' object has no attribute 'getLimit'\r\n```",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/9291/comments",
    "author": "Matthias-Thul",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2021-05-31T05:04:48Z",
        "body": "I've just tried this snippet with new versions of both libs, and it works for me:\r\n\r\n```Python\r\nimport ccxtpro\r\nimport ccxt\r\nfrom asyncio import get_event_loop, gather\r\n\r\n\r\nprint('CCXT Version:', ccxt.__version__)\r\nprint('CCXT Pro Version:', ccxtpro.__version__)\r\n\r\n\r\nasync def watch_orders(exchange, symbol):\r\n    while True:\r\n        orders = await exchange.watch_orders(symbol)\r\n        now = exchange.iso8601(exchange.milliseconds())\r\n        for order in orders:\r\n            print(now, order['id'], order['symbol'], order['datetime'], order['status'])\r\n\r\n\r\nasync def create_and_cancel_orders(exchange, symbol):\r\n    for i in range(0, 10):\r\n        ticker = await exchange.fetch_ticker(symbol)\r\n        amount = 0.01\r\n        price = float(ticker['last']) * 0.7\r\n        order = await exchange.create_order(symbol, 'limit', 'buy', amount, price)\r\n        await exchange.sleep(5000)\r\n        order = await exchange.cancel_order(order['id'], symbol)\r\n        await exchange.sleep(5000)\r\n\r\n\r\nasync def main(id, symbol):\r\n    exchange = getattr(ccxtpro, id)({\r\n        'apiKey': 'YOUR_API_KEY',\r\n        'secret': 'YOUR_SECRET',\r\n        \"newUpdates\": True,\r\n    })\r\n    await exchange.load_markets()\r\n    # exchange.verbose = True\r\n    loops = [\r\n        watch_orders(exchange, symbol),\r\n        create_and_cancel_orders(exchange, symbol)\r\n    ]\r\n    await gather(*loops)\r\n    await exchange.close()\r\n\r\n\r\nloop = get_event_loop()\r\nloop.run_until_complete(main('bitvavo', 'ETH/EUR'))\r\n```\r\n\r\nIf that does not work for you, please paste your complete output and your complete code (without your keys)."
      }
    ]
  },
  {
    "number": 8921,
    "title": "Coinbasepro watch_orders() fails with TypeError: 'Unicode-objects must be encoded before hashing'",
    "created_at": "2021-04-10T05:03:12Z",
    "closed_at": "2021-04-10T08:26:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/8921",
    "body": "I'm having this problem only with coinbasepro and only in watch_orders(). It works with ftx, and both watch_orderbook and watch_orders work with coinbasepro. My keys and passphrase are stored as strings, and they are being converted to bytes at some point before reaching hmac()\r\n\r\n \r\n- OS: macOS Catalina\r\n- Programming Language version: Python 3.8.6\r\n- CCXT version :ccxt==1.45.74, ccxtpro==0.6.33\r\n-\r\n\r\n```\r\ndef listen(self, callback=(lambda x: None)):\r\n        loop = asyncio.get_event_loop()\r\n        loop.create_task(self.watch_orderbook(callback))\r\n        loop.create_task(self.watch_orders(callback))\r\n        loop.create_task(self.slowly_watch_balance())\r\n\r\n```\r\nI also modified the hmac method for some debugging output, which indicates the string and request are bytes\r\n```\r\n@staticmethod\r\n    def hmac(request, secret, algorithm=hashlib.sha256, digest='hex'):\r\n        print('SECRET IS ' + str(secret))\r\n        print('REQUEST IS ' + str(request))\r\n        print('ALGORITHM IS ' + str(algorithm))\r\n        h = hmac.new(secret, request, algorithm)\r\n        binary = h.digest()\r\n        if digest == 'hex':\r\n            return Exchange.binary_to_base16(binary)\r\n        elif digest == 'base64':\r\n            return Exchange.binary_to_base64(binary)\r\n        return binary\r\n```\r\n\r\n```\r\nSECRET IS b'\\xd3\\xe1!...omitted...x9a'\r\nREQUEST IS b'16...omitted...86GET/accounts'\r\nALGORITHM IS <built-in function openssl_sha256>\r\n```\r\n\r\nThe traceback for the error is:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/nnsk/Desktop/scrypto/addthistowrappers.py\", line 130, in watch_orders\r\n    self.orders = await self.client.watch_orders(symbol=self.symbol, limit=200)\r\n  File \"/usr/local/lib/python3.8/site-packages/ccxtpro/coinbasepro.py\", line 101, in watch_orders\r\n    authentication = self.authenticate()\r\n  File \"/usr/local/lib/python3.8/site-packages/ccxtpro/coinbasepro.py\", line 46, in authenticate\r\n    signature = self.hmac(payload, self.base64_to_binary(self.secret), hashlib.sha256, 'base64')\r\n  File \"/usr/local/lib/python3.8/site-packages/ccxt/base/exchange.py\", line 1112, in hmac\r\n    h = hmac.new(secret, request, algorithm)\r\n  File \"/usr/local/Cellar/python@3.8/3.8.6/Frameworks/Python.framework/Versions/3.8/lib/python3.8/hmac.py\", line 153, in new\r\n    return HMAC(key, msg, digestmod)\r\n  File \"/usr/local/Cellar/python@3.8/3.8.6/Frameworks/Python.framework/Versions/3.8/lib/python3.8/hmac.py\", line 88, in __init__\r\n    self.update(msg)\r\n  File \"/usr/local/Cellar/python@3.8/3.8.6/Frameworks/Python.framework/Versions/3.8/lib/python3.8/hmac.py\", line 96, in update\r\n    self.inner.update(msg)\r\nTypeError: Unicode-objects must be encoded before hashing\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/8921/comments",
    "author": "nanaknihal",
    "comments": [
      {
        "user": "frosty00",
        "created_at": "2021-04-10T06:43:24Z",
        "body": "you need to update to the latest version of ccxtpro, this error has already been fixed"
      },
      {
        "user": "frosty00",
        "created_at": "2021-04-10T06:44:08Z",
        "body": "my current version is `0.6.47`"
      },
      {
        "user": "kroitor",
        "created_at": "2021-04-10T08:26:42Z",
        "body": "@nanaknihal please, let us know if you have the same issue with the most recent version of CCXT + CCXT Pro. Feel free to reopen it or just ask further questions if any."
      }
    ]
  },
  {
    "number": 8503,
    "title": "Error 'finance' object has no attribute 'amount_to_lots'",
    "created_at": "2021-02-22T19:18:15Z",
    "closed_at": "2021-02-22T19:19:41Z",
    "labels": [
      "duplicate",
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/8503",
    "body": "- OS: running in docker file using image `python:3`\r\n- Programming Language version: running in docker file using image `python:3`\r\n- CCXT version: 1.42.18\r\n\r\n```\r\n def place_order(self, order, ticker):\r\n        try:\r\n            # load order info\r\n            symbol = order.symbol\r\n            bid, ask = ticker['bid'], ticker['ask']\r\n            buy = order.buy  # boolean representing buy/sell\r\n\r\n            exchange = load_exchange(order.exchange)\r\n            if buy:\r\n                if order.exchange == 'binance':\r\n                    price = float(order.buy_max)\r\n                elif order.exchange == 'bittrex':\r\n                    price = exchange.amount_to_precision(ask * 1.05)\r\n                order.amount = self.config.btc / price\r\n            else:  # sell\r\n                price = bid\r\n                revenue = order.amount * price\r\n                revenue -= order.amount * order.bought_at\r\n                logging.info(\"bought at: {0} - sold at {1}\".format(order.bought_at, price))\r\n                logging.info(\"total revenue of order: {0}\".format(revenue))\r\n\r\n            logging.info('amount: {0}'.format(order.amount))\r\n            amount = exchange.amount_to_lots(symbol, order.amount)\r\n            logging.info('amount(lots): {0}'.format(amount))\r\n            self.create_order_on_market(buy, order.exchange, symbol, price, amount)\r\n        except Exception as e:\r\n            logging.error(e)\r\n            self.pushover.send_pushover(\r\n                \"{0} order failed for {1} on {2} with error {3}\".format(\r\n                    'Buy' if buy else 'Sell', order.coin, order.exchange, e\r\n                )\r\n            )\r\n```\r\n```\r\n2021-02-22T19:06:02.159814831Z ERROR:root:'binance' object has no attribute 'amount_to_lots'\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/8503/comments",
    "author": "dantheman0207",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2021-02-22T19:19:40Z",
        "body": "@dantheman0207 change `amount_to_lots` \u2192\u00a0`amount_to_precision` in your code. Let us know if that does not help."
      }
    ]
  },
  {
    "number": 8492,
    "title": "pip install ccxt failed => error: command 'arm-linux-gnueabihf-gcc' failed with exit status 1",
    "created_at": "2021-02-20T21:55:11Z",
    "closed_at": "2021-02-20T22:20:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/8492",
    "body": "I tried to install ccxt on Ubuntu 20.10 (GNU/Linux 5.8.0-1013-raspi armv7l) and go this error:\r\n\r\n```\r\nERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-wptrvtsv/pycares/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-wptrvtsv/pycares/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-6eg7h048\r\n         cwd: /tmp/pip-install-wptrvtsv/pycares/\r\n    Complete output (73 lines):\r\n      ERROR: Command errored out with exit status 1:\r\n       command: /usr/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-wheel-9vn7c6c_/cffi/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-wheel-9vn7c6c_/cffi/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-iv1tnu4e\r\n           cwd: /tmp/pip-wheel-9vn7c6c_/cffi/\r\n      Complete output (36 lines):\r\n      running bdist_wheel\r\n      running build\r\n      running build_py\r\n      creating build\r\n      creating build/lib.linux-armv7l-3.8\r\n      creating build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/backend_ctypes.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/recompiler.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/cparser.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/ffiplatform.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/model.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/vengine_gen.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/error.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/verifier.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/lock.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/api.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/cffi_opcode.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/__init__.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/setuptools_ext.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/vengine_cpy.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/commontypes.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/pkgconfig.py -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/_cffi_include.h -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/parse_c_type.h -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/_embedding.h -> build/lib.linux-armv7l-3.8/cffi\r\n      copying cffi/_cffi_errors.h -> build/lib.linux-armv7l-3.8/cffi\r\n      running build_ext\r\n      building '_cffi_backend' extension\r\n      creating build/temp.linux-armv7l-3.8\r\n      creating build/temp.linux-armv7l-3.8/c\r\n      arm-linux-gnueabihf-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DUSE__THREAD -DHAVE_SYNC_SYNCHRONIZE -I/usr/include/ffi -I/usr/include/libffi -I/usr/include/python3.8 -c c/_cffi_backend.c -o build/temp.linux-armv7l-3.8/c/_cffi_backend.o\r\n      c/_cffi_backend.c:15:10: fatal error: ffi.h: No such file or directory\r\n         15 | #include <ffi.h>\r\n            |          ^~~~~~~\r\n      compilation terminated.\r\n      error: command 'arm-linux-gnueabihf-gcc' failed with exit status 1\r\n      ----------------------------------------\r\n      ERROR: Failed building wheel for cffi\r\n    ERROR: Failed to build one or more wheels\r\n    Traceback (most recent call last):\r\n      File \"/usr/lib/python3/dist-packages/setuptools/installer.py\", line 128, in fetch_build_egg\r\n        subprocess.check_call(cmd)\r\n      File \"/usr/lib/python3.8/subprocess.py\", line 364, in check_call\r\n        raise CalledProcessError(retcode, cmd)\r\n    subprocess.CalledProcessError: Command '['/usr/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmpja9grf0o', '--quiet', 'cffi>=1.5.0']' returned non-zero exit status 1.\r\n    \r\n    The above exception was the direct cause of the following exception:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-wptrvtsv/pycares/setup.py\", line 15, in <module>\r\n        setup(name             = 'pycares',\r\n      File \"/usr/lib/python3/dist-packages/setuptools/__init__.py\", line 162, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"/usr/lib/python3/dist-packages/setuptools/__init__.py\", line 157, in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"/usr/lib/python3/dist-packages/setuptools/dist.py\", line 699, in fetch_build_eggs\r\n        resolved_dists = pkg_resources.working_set.resolve(\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 779, in resolve\r\n        dist = best[req.key] = env.best_match(\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 1064, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 1076, in obtain\r\n        return installer(requirement)\r\n      File \"/usr/lib/python3/dist-packages/setuptools/dist.py\", line 758, in fetch_build_egg\r\n        return fetch_build_egg(self, req)\r\n      File \"/usr/lib/python3/dist-packages/setuptools/installer.py\", line 130, in fetch_build_egg\r\n        raise DistutilsError(str(e)) from e\r\n    distutils.errors.DistutilsError: Command '['/usr/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmpja9grf0o', '--quiet', 'cffi>=1.5.0']' returned non-zero exit status 1.\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n```",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/8492/comments",
    "author": "theMoe",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2021-02-20T21:58:45Z",
        "body": "Try `apt install libffi-dev` or `sudo apt install libffi-dev` and then retry to install ccxt."
      }
    ]
  },
  {
    "number": 7500,
    "title": " python No module named 'ccxt'\uff0cwhat should I do?",
    "created_at": "2020-08-22T16:48:44Z",
    "closed_at": "2020-08-22T17:26:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/7500",
    "body": "\r\nwhat should I do?\r\nIm win10 python 3.7.3,allredy install cctx1.0.0,but still No module named 'ccxt',help me!!\r\n\r\n- OS:win10\r\n- Programming Language version:python\r\n- CCXT version:1.0.0\r\n\r\nNo module named 'ccxt'\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/7500/comments",
    "author": "keyvin-wei",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2020-08-22T16:50:31Z",
        "body": "Which command do you use to install it? \r\n\r\nMake sure you do not confuse `cctx` (this is a wrong name, just a stub) with `ccxt` (this is the actual package name). "
      }
    ]
  },
  {
    "number": 6903,
    "title": "{ ExchangeError: binanceus {\"code\":-1102,\"msg\":\"Mandatory parameter 'quantity' was not sent, was empty/null, or malformed.\"}",
    "created_at": "2020-05-07T13:25:29Z",
    "closed_at": "2020-05-07T14:20:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/6903",
    "body": "- OS: Windows 10\r\n- Programming Language version: Node Js\r\n- CCXT version: 6.14.4\r\n\r\nHello Igor,\r\n\r\ni am trying to edit an order initially placed as limit order to change it from limit to market order. I am receiving the error below:\r\n{ ExchangeError: binanceus {\"code\":-1102,\"msg\":\"Mandatory parameter 'quantity' was not sent, was empty/null, or malformed.\"}\r\n\r\nhere's my code snippet below:\r\n\r\ntry { myOrder = await exchange.editOrder(orderId, tradingPair, type, side, amount, price, {}); }\r\n\tcatch(err) {...}\r\n\r\nThanks in advance.\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/6903/comments",
    "author": "crossx4real",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2020-05-07T13:45:49Z",
        "body": "Hi!\r\n\r\nTry removing the `price` argument from there, as follows:\r\n\r\n```JavaScript\r\n// if it doesn't work uncomment the next line and paste your verbose request+response\r\n// exchange.verbose = true \r\ntry { myOrder = await exchange.editOrder(orderId, tradingPair, 'market', side, amount); }\r\ncatch(err) {...}\r\n```"
      }
    ]
  },
  {
    "number": 6148,
    "title": "no name module gdax() in ccxt ",
    "created_at": "2019-11-16T19:27:25Z",
    "closed_at": "2019-11-16T21:02:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/6148",
    "body": "import ccxt  # noqa: E402\r\n\r\nkraken = ccxt.kraken()\r\ngdax = gdax().ccxt\r\n\r\n\r\nI'd like work with this code part. Compiler cannot find function name as gdax(). Also I controlled the file, there is no function in the ccxt  master file. Has the function lost its continuity? How can I continue?",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/6148/comments",
    "author": "BahadirSoybakis",
    "comments": [
      {
        "user": "frosty00",
        "created_at": "2019-11-16T20:04:33Z",
        "body": "`gdax` is depreciated, please use `coinbasepro` instead )\r\n\r\nlet me know if you have any other issues"
      }
    ]
  },
  {
    "number": 5516,
    "title": "Unable to fecth deposit address huobipro?",
    "created_at": "2019-07-15T11:49:11Z",
    "closed_at": "2019-07-15T12:55:52Z",
    "labels": [
      "duplicate",
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/5516",
    "body": "- OS: Any\r\n- Programming Language version: python3.6\r\n- CCXT version: 1.18.817\r\n- Exchange: huobipro\r\n- Method: fetchDepositAddress\r\n\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n  File \"/home/saurav/projects/computeex_django/env/lib/python3.6/site-packages/ccxt/huobipro.py\", line 823, in fetch_deposit_address\r\n    response = getattr(self, method)(self.extend(request, params))\r\n  File \"/home/saurav/projects/computeex_django/env/lib/python3.6/site-packages/ccxt/base/exchange.py\", line 423, in inner\r\n    return entry(_self, **inner_kwargs)\r\n  File \"/home/saurav/projects/computeex_django/env/lib/python3.6/site-packages/ccxt/base/exchange.py\", line 452, in request\r\n    return self.fetch2(path, api, method, params, headers, body)\r\n  File \"/home/saurav/projects/computeex_django/env/lib/python3.6/site-packages/ccxt/base/exchange.py\", line 448, in fetch2\r\n    return self.fetch(request['url'], request['method'], request['headers'], request['body'])\r\n  File \"/home/saurav/projects/computeex_django/env/lib/python3.6/site-packages/ccxt/base/exchange.py\", line 551, in fetch\r\n    self.handle_errors(response.status_code, response.reason, url, method, headers, http_response, json_response)\r\n  File \"/home/saurav/projects/computeex_django/env/lib/python3.6/site-packages/ccxt/huobipro.py\", line 948, in handle_errors\r\n    raise ExchangeError(feedback)\r\nccxt.base.errors.ExchangeError: huobipro {\"status\":\"error\",\"err-code\":\"login-required\",\"err-msg\":\"The account is not logged in, please log in and try again.\",\"data\":null}\r\n```\r\nMethods working:\r\nhuobipro.loadAccounts() \r\nhuobipro.fetchBalance()\r\n\r\n\r\n\r\nhuobipro.fetchDepositAddress(\"XRP\") is giving login-required error.",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/5516/comments",
    "author": "SauravKanchan",
    "comments": [
      {
        "user": "frosty00",
        "created_at": "2019-07-15T12:14:32Z",
        "body": "Please update CCXT, huobipro's `fetchDepositAddress` has been depreciated and they do not provide an API endpoint. The old code used an endpoint that was accessible from the browser but it now requires a session cookie (i.e. to be logged in)."
      }
    ]
  },
  {
    "number": 3759,
    "title": "Exmo partial fill is considered as full fill.",
    "created_at": "2018-08-29T06:33:55Z",
    "closed_at": "2018-08-29T11:00:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/3759",
    "body": "When calling fetch order on Exmo on a partially filled order, CCXT seems to be tricked. It thinks the order is fully filled.\r\n\r\nOrder was a limit on 0.5 BTC.\r\n\r\n```\r\n{'id': '1139757129', 'datetime': '2018-08-24T17:13:24.000Z', 'timestamp': 1535130804000, 'lastTradeTimestamp': None, 'status': 'closed', 'symbol': 'BTC/USD', 'type': 'limit', 'side': 'sell', 'price': 6630.999999737207, 'cost': 252.32738738, 'amount': 0.03805269, 'filled': 0.03805269, 'remaining': 0.0, 'trades': [{'id': '67768715', 'info': {'trade_id': 67768715, 'date': 1535130804, 'type': 'sell', 'pair': 'BTC_USD', 'order_id': 1139757129, 'quantity': '0.03805269', 'price': '6630.99999999', 'amount': '252.32738738'}, 'timestamp': 1535130804000, 'datetime': '2018-08-24T17:13:24.000Z', 'symbol': 'BTC/USD', 'order': '1139757129', 'type': None, 'side': 'sell', 'price': 6630.99999999, 'amount': 0.03805269, 'cost': 252.32738738}], 'fee': {'cost': 0.0, 'currency': 'USD'}, 'info': {'type': 'sell', 'in_currency': 'USD', 'in_amount': '252.32738738', 'out_currency': 'BTC', 'out_amount': '0.03805269', 'trades': [{'trade_id': 67768715, 'date': 1535130804, 'type': 'sell', 'pair': 'BTC_USD', 'order_id': 1139757129, 'quantity': '0.03805269', 'price': '6630.99999999', 'amount': '252.32738738'}]}}\r\n```\r\n\r\nResponse for fetch order on exmo seems to be a long list rather than a single order. So it might actually explain why.\r\n\r\n\r\n\r\n- OS: Linux\r\n- CCXT version: 1.17.174 (very recent one given the fact that no code was updated for the past 2 months on EXMO).\r\n- Exchange: exmo\r\n- Method: fetch_order\r\n",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/3759/comments",
    "author": "philipperemy",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2018-08-29T10:41:02Z",
        "body": "@philipperemy it looks like an order with one filling trade to me:\r\n\r\n```\r\n{'amount': 0.03805269,   # \u2190------------------------------- ordered amount\r\n 'cost': 252.32738738,\r\n 'datetime': '2018-08-24T17:13:24.000Z',\r\n 'fee': {'cost': 0.0, 'currency': 'USD'},\r\n 'filled': 0.03805269,   # \u2190------------------------------- filled amount\r\n 'id': '1139757129',\r\n 'info': {'in_amount': '252.32738738',\r\n          'in_currency': 'USD',\r\n          'out_amount': '0.03805269',\r\n          'out_currency': 'BTC',\r\n          'trades': [{'amount': '252.32738738',\r\n                      'date': 1535130804,\r\n                      'order_id': 1139757129,\r\n                      'pair': 'BTC_USD',\r\n                      'price': '6630.99999999',\r\n                      'quantity': '0.03805269',\r\n                      'trade_id': 67768715,\r\n                      'type': 'sell'}],\r\n          'type': 'sell'},\r\n 'lastTradeTimestamp': None,\r\n 'price': 6630.999999737207,\r\n 'remaining': 0.0,\r\n 'side': 'sell',\r\n 'status': 'closed',\r\n 'symbol': 'BTC/USD',\r\n 'timestamp': 1535130804000,\r\n 'trades': [{'amount': 0.03805269, # \u2190------------------------------- filled amount\r\n             'cost': 252.32738738,\r\n             'datetime': '2018-08-24T17:13:24.000Z',\r\n             'id': '67768715',\r\n             'info': {'amount': '252.32738738',\r\n                      'date': 1535130804,\r\n                      'order_id': 1139757129,\r\n                      'pair': 'BTC_USD',\r\n                      'price': '6630.99999999',\r\n                      'quantity': '0.03805269',\r\n                      'trade_id': 67768715,\r\n                      'type': 'sell'},\r\n             'order': '1139757129',\r\n             'price': 6630.99999999,\r\n             'side': 'sell',\r\n             'symbol': 'BTC/USD',\r\n             'timestamp': 1535130804000,\r\n             'type': None}],\r\n 'type': 'limit'}\r\n>>>\r\n```\r\n\r\n\u2191 The ordered amount is completely filled with that trade. How do you tell it's still open?"
      }
    ]
  },
  {
    "number": 893,
    "title": "bitstamp createOrder type limit throws \"under 5$ Order\" exception",
    "created_at": "2017-12-18T21:39:45Z",
    "closed_at": "2017-12-18T22:09:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/893",
    "body": "createLimitBuyOrder is also broken on bitstamp.\r\n\r\n- exchange.createOrder ('BTC/USD', 'limit', 'buy', '0.001', '20.00') -> doesn't work\r\n- exchange.createOrder ('BTC/USD', 'market', 'buy', '0.001') -> works fine\r\n\r\ni don't know how to fix it myself, sorry.",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/893/comments",
    "author": "jom1337",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2017-12-18T21:50:30Z",
        "body": "Let's see... you're buying BTC 0.001 for a price of $20 per BTC, that is:\r\n\r\n`$20 * 0.001 = $0.020` \r\n\r\nwhich is obviously less that $5. Pure arithmetics...\r\n\r\nYour BTC/USD order should be worth more than $5 in total. \r\n\r\n> i don't know how to fix it myself, sorry.\r\n\r\nOne solution I would propose is to not submit orders that are too small, because most exchanges will forbid *dust trade* (orders of very tiny amounts)."
      }
    ]
  },
  {
    "number": 746,
    "title": "pip install on Mac: Permission denied",
    "created_at": "2017-12-04T16:32:43Z",
    "closed_at": "2017-12-04T16:37:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/ccxt/ccxt/issues/746",
    "body": "When I install ccxd on command line of Mac, I got a message like a following.\r\nHow can I install ccxt? \r\n\r\npip install ccxt\r\n\r\n\r\nCollecting ccxt\r\n\r\n  Using cached ccxt-1.10.282-py2.py3-none-any.whl\r\nRequirement already satisfied: setuptools in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from ccxt)\r\nInstalling collected packages: ccxt\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/commands/install.py\", line 342, in run\r\n    prefix=options.prefix_path,\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_set.py\", line 784, in install\r\n    **kwargs\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_install.py\", line 851, in install\r\n    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_install.py\", line 1064, in move_wheel_files\r\n    isolated=self.isolated,\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/wheel.py\", line 345, in move_wheel_files\r\n    clobber(source, lib_dir, True)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/wheel.py\", line 316, in clobber\r\n    ensure_dir(destdir)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/utils/__init__.py\", line 83, in ensure_dir\r\n    os.makedirs(path)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/os.py\", line 157, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/ccxt'",
    "comments_url": "https://api.github.com/repos/ccxt/ccxt/issues/746/comments",
    "author": "kangilrhee",
    "comments": [
      {
        "user": "kroitor",
        "created_at": "2017-12-04T16:34:22Z",
        "body": "Have you tried `sudo pip install ccxt` ?"
      }
    ]
  }
]