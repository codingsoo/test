[
  {
    "number": 6407,
    "title": "Question: Will the UOW open the DB connection even my controller or application service doesn't need to access DB?",
    "created_at": "2022-03-15T06:44:54Z",
    "closed_at": "2022-03-16T09:12:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/6407",
    "body": "Hello Everyone,\r\n\r\nI'm wondering will the UOW open the DB connection even my controller or application service doesn't need to access DB? or do I need to disable the UOW explicitly? thank you.\r\n\r\nBTW, my ABP package version is 5.14.0, the ORM is EF core, the provider is Npgsql.EntityFrameworkCore.PostgreSQL.",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/6407/comments",
    "author": "xiaohui-hiwintech",
    "comments": [
      {
        "user": "ismcagdas",
        "created_at": "2022-03-16T04:47:13Z",
        "body": "@xiaohui-gsv yes, if you don't disable the UoW manually, it will open a connection."
      }
    ]
  },
  {
    "number": 5794,
    "title": "query Abp setting using efcore",
    "created_at": "2020-09-17T07:34:59Z",
    "closed_at": "2020-09-23T14:22:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5794",
    "body": "i have a requirement where i need to query the AbpSetting table using efcore. is it possible? how? please help",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/5794/comments",
    "author": "tnlthanzeel",
    "comments": [
      {
        "user": "ismcagdas",
        "created_at": "2020-09-23T08:34:48Z",
        "body": "@tnlthanzeel you can inject IDbContextProvider or IRepository<Setting> and execute the query."
      }
    ]
  },
  {
    "number": 5536,
    "title": "Last modification audit information not recorded when only change MultiLingual data",
    "created_at": "2020-04-25T16:28:23Z",
    "closed_at": "2020-04-27T01:58:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5536",
    "body": "I am using .Net Core & ABP v5.4,\r\nMy entity Currency with MultiLingual works fine except that the modification audit information was not recorded when I only change the multilingual information. Did I missing something?\r\n```\r\n    public class Currency : FullAuditedEntity<Guid>, IMultiLingualEntity<CurrencyTranslation>, IMustHaveTenant\r\n    {\r\n        public virtual string Code { get; set; }\r\n        public virtual ICollection<CurrencyTranslation> Translations { get; set; }\r\n        public virtual string Sign { get; set; }\r\n        public virtual int TenantId { get; set; }\r\n    }\r\n    public class CurrencyTranslation : Entity<Guid>, IEntityTranslation<Currency, Guid>\r\n    {\r\n        public virtual string Description { get; set; }\r\n        public virtual Currency Core { get; set; }\r\n        public virtual Guid CoreId { get; set; }\r\n        public virtual string Language { get; set; }\r\n    }\r\n\r\n    public class AppDbContext : AbpDbContext\r\n    {\r\n        public virtual DbSet<Currency> Currencies { get; set; }\r\n        ...\r\n    }\r\n    public class CurrencyTranslationDto\r\n    {\r\n        public Guid? Id { get; set; }\r\n\r\n        [StringLength(CurrencyConsts.MaxDescriptionLength)]\r\n        public string Description { get; set; }\r\n        public string Language { get; set; }\r\n        public string Icon { get; set; }\r\n        public string DisplayName { get; set; }\r\n    }\r\n    public class CreateOrEditCurrencyDto : EntityDto<Guid?>\r\n    {\r\n        [StringLength(CurrencyConsts.MaxCodeLength)]\r\n        public string Code { get; set; }\r\n\r\n        [StringLength(CurrencyConsts.MaxSignLength)]\r\n        public string Sign { get; set; }\r\n        public List<CurrencyTranslationDto> Translations { get; set; }\r\n    }\r\n\r\n```\r\n```\r\nCodes in DTOmapper config:\r\n            configuration.CreateMap<CurrencyTranslation, CurrencyTranslationDto>().ReverseMap();\r\n            configuration.CreateMap<Currency, CurrencyDto>();\r\n            configuration.CreateMap<Currency, CreateOrEditCurrencyDto>().ReverseMap();\r\n\r\n    public class CurrencyAppService: AppAppServiceBase\r\n        public async Task CreateOrEdit(CreateOrEditCurrencyDto input)\r\n        {\r\n            if (input.Id == null)\r\n            {\r\n                await Create(input);\r\n            }\r\n            else\r\n            {\r\n                await Update(input);\r\n            }\r\n        }\r\n        protected virtual async Task Update(CreateOrEditCurrencyDto input)\r\n        {\r\n            var currency = await _currencyRepository.FirstOrDefaultAsync((Guid)input.Id);\r\n            ObjectMapper.Map(input, currency);\r\n        }\r\n    ...\r\n    }\r\n```\r\n\r\n```\r\nThese data are commited to the CreateOrEdit service method from the browser:\r\n{id: \"782e0570-4b77-4bfa-b8e4-08d7e1cb288e\"\r\n code: \"EUR\"\r\n sign: \"\u20ac\"\r\n translations: Array(3)\r\n0:\r\n{id: \"0ea2b25a-e955-4ca4-52b2-08d7e1cb2892\"\r\nlanguage: \"en\"\r\ndescription: \"Euro\"\r\n}\r\n1:\r\n{id: \"\"\r\nlanguage: \"de\"\r\ndescription: \"\"\r\n}\r\n2:\r\n{id: \"639aaa10-ec43-43dc-52b1-08d7e1cb2892\"\r\nlanguage: \"zh-Hans\"\r\ndescription: \"\u6b27\u5143\"\r\n}\r\n}\r\n```\r\nWhen I change \"Code\" or \"Sign\", the LastModificationTime & UserId are recorded, when only change something in the \"Translations\", the translation data save correctly but LastModificationTime & UserId not change. Any suggestion? Thank you.",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/5536/comments",
    "author": "Shanlujun",
    "comments": [
      {
        "user": "acjh",
        "created_at": "2020-04-26T09:18:16Z",
        "body": "This is expected since `Translations` is simply a collection property.\r\n\r\nYou can override `ApplyAbpConcepts` in your `DbContext` to mark the entity entry as modified:\r\n\r\n```c#\r\nprotected override void ApplyAbpConcepts(EntityEntry entry, long? userId, EntityChangeReport changeReport)\r\n{\r\n    if (entry.State == EntityState.Unchanged &&\r\n        entry.Collections.Any(c => c.IsModified && c.Metadata.Name == \"Translations\"))\r\n    {\r\n        entry.State = EntityState.Modified;\r\n    }\r\n\r\n    base.ApplyAbpConcepts(entry, userId, changeReport);\r\n}\r\n```"
      }
    ]
  },
  {
    "number": 5527,
    "title": "External API call from ASP Boilerplate",
    "created_at": "2020-04-22T11:15:35Z",
    "closed_at": "2020-04-27T08:39:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5527",
    "body": "We are making external API calls from abp, now what should be the convention. Should it be called from core layer or application layer. We will need DTOs for api calls response to auto map our response in DTOs and then save the response in DB. But the issue is we need to make some api calls from background workers as well. And we can not get application layer data to core and then background worker.",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/5527/comments",
    "author": "FaizaNasir",
    "comments": [
      {
        "user": "maliming",
        "created_at": "2020-04-23T02:58:53Z",
        "body": "If calling api is the business of the application, it should be in the core layer, and you can create some api response models for it.\r\n\r\nYou can also put these API calling methods and the Dto it needs into a separate library. Then reference it in the application service layer or core layer.\r\n"
      },
      {
        "user": "FaizaNasir",
        "created_at": "2020-04-24T15:23:19Z",
        "body": "I can not create separate library , its not allowed as per my structure. . Yes the api calling is business of application, but if I took my api calls in core I will be needing DTOs and automapper in core , so what i thought is if i call my api from core after taking user input from application and then return the api response back to application and then auto map the response with dtos in application level and then lastly insert the response in db using method in core then will this be an acceptable approach, according to you?"
      },
      {
        "user": "FaizaNasir",
        "created_at": "2020-04-27T07:29:40Z",
        "body": "Can u please guide how do I map them with my DTOs in core level.\r\nconsider this is my code\r\n\r\npublic async Task<UserByEmailApiDto> GetUserByEmail(string email)\r\n        {\r\n           UserByEmailApiDto result = null;\r\n            var content = GetUserProfileApiDto(email); //this method returns dictionary \r\n            var responseJson = await Get(SlackConst.LOOKUP_USER, content); //this method makes HTTP api calls and return the response JSON as JObject\r\n            if (responseJson != null)\r\n            {\r\n              result = ObjectMapper.Map<UserByEmailApiDto>(responseJson);\r\n            }\r\n            return result;\r\n        }\r\n//now the issue is after your suggestion i have moved my business logic in core level, but how do I map my JObject with my DTO, coz my core can not link to UserByEmailApiDto even with referencing"
      },
      {
        "user": "maliming",
        "created_at": "2020-04-27T07:43:34Z",
        "body": "**create models in core layer and map them to your DTOs in your application layer when you need.**\r\n\r\nThe return value of the `GetUserByEmail `method is these models."
      },
      {
        "user": "FaizaNasir",
        "created_at": "2020-04-27T07:51:02Z",
        "body": "U mean I return responseJson to application level and then map it there?"
      },
      {
        "user": "maliming",
        "created_at": "2020-04-27T08:28:21Z",
        "body": "Create a model class, eg: `UserModel` or other name.\r\n\r\n`public async Task <UserModel> GetUserByEmail(string email)`"
      }
    ]
  },
  {
    "number": 5251,
    "title": "Automapper with EntityChangeSet not working",
    "created_at": "2020-01-23T15:51:50Z",
    "closed_at": "2020-01-24T01:09:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/5251",
    "body": "@acjh I am creating service to show data referent info save on EntityChangeSet, EntityChange, EntityPropertyChange. When I try to map this information with Dto that I created, not working. \r\nLogs:\r\n\r\nERROR 2020-01-23 12:06:03,538 [11   ] Mvc.ExceptionHandling.AbpExceptionFilter - Error mapping types.\r\n\r\n```\r\nMapping types:\r\nList`1 -> List`1\r\nSystem.Collections.Generic.List`1[[Abp.EntityHistory.EntityChangeSet, Abp, Version=5.1.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[cgsa.toolkit.Auditing.Dto.EntityChangeSetDto, cgsa.toolkit.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\r\nAutoMapper.AutoMapperMappingException: Error mapping types.\r\n\r\nMapping types:\r\nList`1 -> List`1\r\nSystem.Collections.Generic.List`1[[Abp.EntityHistory.EntityChangeSet, Abp, Version=5.1.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[cgsa.toolkit.Auditing.Dto.EntityChangeSetDto, cgsa.toolkit.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\r\n ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.\r\n\r\nMapping types:\r\nEntityChangeSet -> EntityChangeSetDto\r\nAbp.EntityHistory.EntityChangeSet -> cgsa.toolkit.Auditing.Dto.EntityChangeSetDto\r\n   at lambda_method(Closure , EntityChangeSet , EntityChangeSetDto , ResolutionContext )\r\n   at lambda_method(Closure , List`1 , List`1 , ResolutionContext )\r\n   --- End of inner exception stack trace ---\r\n   at lambda_method(Closure , List`1 , List`1 , ResolutionContext )\r\n   at lambda_method(Closure , Object , Object , ResolutionContext )\r\n   at Abp.AutoMapper.AutoMapperObjectMapper.Map[TDestination](Object source)\r\n   at cgsa.toolkit.Auditing.AuditingAppService.GetAllChangeSet(PagedChangeSetResultRequestDto input) in C:\\Users\\yaniel\\Desktop\\CG_Development\\Projects\\BackendSolution\\CGSA3.0\\aspnet-core\\src\\cgsa.toolkit.Application\\Auditing\\AuditingAppService.cs:line 38\r\n   at lambda_method(Closure , Object )\r\n   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n``` \r\n\r\nMy DTo for EntityChangeSet is:\r\n\r\n[AutoMapTo(typeof(EntityChangeSet))]\r\n```\r\n    public class EntityChangeSetDto : EntityDto<long>\r\n    {\r\n        public string BrowserInfo { get; set; }\r\n        \r\n        public string ClientIpAddress { get; set; }\r\n        \r\n        public string ClientName { get; set; }\r\n        \r\n        public string ExtensionData { get; set; }\r\n        \r\n        public string Reason { get; set; }\r\n\r\n    }\r\n```\r\n\r\nThis is my method in service:\r\n\r\n```\r\npublic async Task<ListResultDto<EntityChangeSetDto>> GetAllChangeSet(PagedChangeSetResultRequestDto input)\r\n        {\r\n            var changeSets = await _entityChangeSetRepository.GetAll()\r\n                 .WhereIf(input.userId > 0, t => t.UserId == input.userId)\r\n                 .OrderByDescending(t => t.CreationTime)\r\n                 .ToListAsync();\r\n\r\n            return new ListResultDto<EntityChangeSetDto>(\r\n                ObjectMapper.Map<List<EntityChangeSetDto>>(changeSets)\r\n            );\r\n        }\r\n```\r\n\r\nCan you help me, please!!!",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/5251/comments",
    "author": "yanielbf",
    "comments": [
      {
        "user": "acjh",
        "created_at": "2020-01-23T16:00:23Z",
        "body": "`[AutoMapTo(typeof(EntityChangeSet))]` ->\r\n`[AutoMapFrom(typeof(EntityChangeSet))]`"
      }
    ]
  },
  {
    "number": 4553,
    "title": "(question)EntityFrameWorkCore Can Not Running Seed Method",
    "created_at": "2019-05-30T12:06:21Z",
    "closed_at": "2019-05-30T12:11:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/4553",
    "body": "I downloaded an ABP project, with .net Core and Vue\r\nWhen i execute the \"Update-Database\" command, the seed method not running\r\nAnd no seed data in the table, why?",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/4553/comments",
    "author": "wudi3121113",
    "comments": [
      {
        "user": "maliming",
        "created_at": "2019-05-30T12:09:14Z",
        "body": "Abp with net core, when you start the application will be Seed data."
      }
    ]
  },
  {
    "number": 3052,
    "title": "Why Web-project reference Core-project\uff1f",
    "created_at": "2018-02-09T01:59:03Z",
    "closed_at": "2018-02-12T05:42:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/3052",
    "body": "I saw \u201cXXXConsts.LocalizationSourceName\u201d reference in web project\u3002 Is it against the DDD N-layer rules\uff1f",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/3052/comments",
    "author": "muzizongheng",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2018-02-11T14:22:03Z",
        "body": "Hi,\r\n\r\nThe problem here is the localization is defined in the Core project. Actually, it's something related to presentation. We did it like that to allow you to use localization code in application and domain layers too.\r\n\r\nXXXConsts.LocalizationSourceName is not a domain object, so it does not break DDD layering. But a better design could be creating a new project, say MyProject.Core.Shared, and depends on it both from domain and presentation layers."
      },
      {
        "user": "muzizongheng",
        "created_at": "2018-02-12T02:32:14Z",
        "body": "hi Hikalkan\uff0c\r\n\r\nthanks for your reply, I meant web project reference core will be caused domain layer exposed to presentation layer. Someone maybe use domain class directly. \r\n\r\nAnother question, Is your opinion xxx.core.shared  like infrastructure layer? Can domain layer reference infrastructure layer? I think domain layer cannot depend any other layers, I don't know my mind whether is right."
      },
      {
        "user": "hikalkan",
        "created_at": "2018-02-12T05:18:55Z",
        "body": "> thanks for your reply, I meant web project reference core will be caused domain layer exposed to presentation layer. Someone maybe use domain class directly.\r\n\r\nYou're right. It can be a potential issue. That's why I suggested to create a project like Core.Shared.\r\n\r\nIt's not infrastructure layer. It just stores some code (mostly consts) shared accross the entire solution. It does not depend on 3rd-party libraries and does not implement any service used in domain or application layers (it can not because it has not a reference to those projects)."
      },
      {
        "user": "muzizongheng",
        "created_at": "2018-02-12T05:40:24Z",
        "body": "Hi\uff0ci\u2019m agree with you that the consts\u2019 definition can not reference any\u00a03rd-party libraries. i have last question(sorry for my balabala...), dose core-shared include enums of domain-layer.thanks again,"
      },
      {
        "user": "hikalkan",
        "created_at": "2018-02-12T05:41:58Z",
        "body": "Yes, it can contain enums since I think enums can be shared with upper layers."
      }
    ]
  },
  {
    "number": 2734,
    "title": "Angular project setup",
    "created_at": "2017-11-27T09:12:53Z",
    "closed_at": "2017-11-27T14:41:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2734",
    "body": "* Abp 3.1.1\r\n* .Net 4.6\r\n\r\nHi,\r\nI got question about current's template angular project setup. It uses angular CLI which is greate, when I use generate commands to create components and other elements those are added automatically to project which is even better. My question is how is this happening? How did you set this up? I couldn't find information how to achieve this kind of setup. \r\nMassive thank you for amazing work on Abp!",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2734/comments",
    "author": "Krystian-D",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-11-27T12:46:49Z",
        "body": "Hi,\r\n\r\nYou're welcome. I'm happy that you liked it. We used Angular-CLI to create the project. It already setups the project, we haven't done a special thing."
      },
      {
        "user": "Krystian-D",
        "created_at": "2017-11-27T14:41:17Z",
        "body": "Hi,\r\n\r\nI understand basic of Angular-CLI and its standard project setup.\r\nMy question is related to Visual studio project and how does Angular-CLI/Node are 'talking' to each other and generated files are being added automatically as references in .csproj\r\n\r\nAs it is clear now that it is not your @hikalkan sorcery we can close this question since its not Abp specifc.\r\n\r\nOnce again thank you :)"
      },
      {
        "user": "hikalkan",
        "created_at": "2017-11-27T14:43:54Z",
        "body": "> generated files are being added automatically as references in .csproj\r\n\r\nThis is a feature of new .csproj format of VS. You you add a file to the folder, it's automatically added to the project."
      }
    ]
  },
  {
    "number": 2620,
    "title": "Execute logic right after user logged in",
    "created_at": "2017-10-21T15:47:01Z",
    "closed_at": "2017-10-25T18:46:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2620",
    "body": "We need to integrate with a third party web application. They provide an endpoint to generate tokens that are then used to access their APIs and pages.\r\nWe want to call their generate tokens endpoint right after a Login in our app.\r\n\r\nI thought of raising an event in the AccountController, right after the SignInAsync() has completed.\r\nThe event is raised and received by my handler ok. However, if I inject an AbpSession in my handler, the UserId is still null, it seems the abp session is not yet fully initialized.\r\nIs that expected behavior ?\r\n\r\nThe other approach I was thinking of was to make a call to an ApplicationService from the javascript, right after the user logged in.\r\nHowever, i can't find any client side hook where i know the user just logged in.\r\nAny ideas ?\r\n\r\nThanks! ",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2620/comments",
    "author": "guilmori",
    "comments": [
      {
        "user": "acjh",
        "created_at": "2017-10-22T01:56:05Z",
        "body": "Pass `loginResult.User.Id` in your event data."
      },
      {
        "user": "hikalkan",
        "created_at": "2017-10-22T12:35:47Z",
        "body": "Just after user login, you can not reach to AbpSession.UserId in the same request, because AspNet MVC does not set user to HttpContext.User yet. You obtain UserId on login and pass it to your event as @acjh said.\r\n\r\nFor client side, return UserId from login ajax call, so you will have UserId that can be directly used."
      },
      {
        "user": "guilmori",
        "created_at": "2017-10-22T13:36:51Z",
        "body": "On server side, I could pass the UserId as parameter, but then my handler could make use of other components that depends on AbpSession, so this is not reliable enough.\r\n\r\nOn the client side, I want to execute code only after a login, where should I hook my code ? \r\nMy Login form dates of old ABP version, it is a simple razor view that submits the form to the Account Controller, then the Account controller issue a redirect on successful login. There is no ajax call. \r\n\r\nI will try to download a new ABP solution and check if the updated version has more hook point."
      },
      {
        "user": "hikalkan",
        "created_at": "2017-10-22T15:21:26Z",
        "body": "AbpSession has ``Use`` method where you can override AbpSession.UserId and AbpSession.TenantId for a limited scope. Example:\r\n\r\n````C#\r\nusing(AbpSession.Use(42, AbpSession.TenantId))\r\n{\r\n    var userId = AbpSession.UserId; //gets 42 in this scope and used methods in this scope...\r\n}\r\n````"
      },
      {
        "user": "hikalkan",
        "created_at": "2017-10-22T15:22:39Z",
        "body": "For client side, I suggest you to seperate login from other actions. That means you refresh page after login so after refreshing you will see that user has logged in (abp.session.userId has a value) in the client side."
      },
      {
        "user": "guilmori",
        "created_at": "2017-10-22T19:13:50Z",
        "body": "I had tried the `Use` method, but it ended in a not implemented exception. I will try again with more recent ABP version.\r\n\r\nFor client side, i may not understand you correctly. I want to execute my code only right after a login. So I don't want my code to execute when for example the user refresh the browser page, and is already logged in. "
      },
      {
        "user": "guilmori",
        "created_at": "2017-10-25T18:46:36Z",
        "body": "Finally the `AbpSession.Use()` method worked. So I'm gonna initiate my logic server side for now.\r\n\r\nIf anyone has an idea where to hook javascript code right after login, I'm still interested.\r\n\r\nThanks !"
      }
    ]
  },
  {
    "number": 2427,
    "title": "Not able to See Tenants in the side menu",
    "created_at": "2017-08-23T06:01:47Z",
    "closed_at": "2017-08-23T06:09:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2427",
    "body": "Hi,\r\n\r\nI have successfully created a ABP modulezero from the website and was able to run . I'm using asp.net core version with multiple pages. After logging in as Default Tenant , with admin/123qwe( the default user credentials) I'm not able to see the Tentants link in the Left Menu. Is there something , I missed out . Please let me know what shall I do . \r\nThanks in advance.",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2427/comments",
    "author": "JoCodes",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-08-23T06:06:27Z",
        "body": "A tenant can not manage other tenants. You should login as host (by entering empty string for tenant name)."
      },
      {
        "user": "JoCodes",
        "created_at": "2017-08-23T06:08:40Z",
        "body": "Means current name should be empty instead of the Default one?"
      }
    ]
  },
  {
    "number": 2292,
    "title": "Is there a possibility of using dependency injection in DbMigrationsConfiguration?",
    "created_at": "2017-07-05T06:21:42Z",
    "closed_at": "2017-07-05T07:04:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2292",
    "body": "\r\n```csharp\r\nusing System.Data.Entity.Migrations;\r\n\r\nnamespace AbpCompanyName.AbpProjectName.Migrations\r\n{\r\n    internal sealed class Configuration : DbMigrationsConfiguration<AbpProjectName.EntityFramework.AbpProjectNameDbContext>\r\n    {\r\n        public Configuration()\r\n        {\r\n            AutomaticMigrationsEnabled = false;\r\n            ContextKey = \"AbpProjectName\";\r\n        }\r\n\r\n        protected override void Seed(AbpProjectName.EntityFramework.AbpProjectNameDbContext context)\r\n        {\r\n            // This method will be called every time after migrating to the latest version.\r\n            // You can add any seed data here...\r\n        }\r\n    }\r\n}\r\n```\r\nIs there a possibility of using dependency injection in DbMigrationsConfiguration?",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2292/comments",
    "author": "maliming",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-07-05T06:33:00Z",
        "body": "When you use \"Update-Database\" command from PMC obviously you can't use because ABP is not being initialized in this case."
      }
    ]
  },
  {
    "number": 2262,
    "title": "EF DbContext configuration",
    "created_at": "2017-06-28T10:42:22Z",
    "closed_at": "2017-06-28T11:08:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2262",
    "body": "* Abp 1.5.1\r\n* .Net 4.5.2\r\n\r\nHi,\r\nI'm trying to figure out how to change configuration of DbContext.\r\nI've got process in application which imports large set of data, and change detection is slowing it down significantly (previously process was outside of Abp application and was using dbContext directly so I was able to change configuration)\r\n\r\nIs there any recommended way of getting DbContext reference for repository so I can change its configuration ?",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2262/comments",
    "author": "Krystian-D",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-06-28T10:50:54Z",
        "body": "Startup templates already contains EntityFramework project that includes a DbContext. You can change configuration of it. What change you want to do?"
      },
      {
        "user": "Krystian-D",
        "created_at": "2017-06-28T10:53:46Z",
        "body": "For long running import process I'd like to change to disable autodetectchangesenabled feature"
      },
      {
        "user": "hikalkan",
        "created_at": "2017-06-28T11:02:55Z",
        "body": "If you add EntityFramework reference to your project then you can access to internal DbContext of a repository like ``_repository.GetDbContext()`` and you can directly use it's API."
      },
      {
        "user": "Krystian-D",
        "created_at": "2017-06-28T11:08:32Z",
        "body": "The whole time I was trying to access Context property of EfRepositoryBase<>.\r\nUsing `_repository.GetDbContext()` did the job.\r\n\r\nMany thanks ! \r\nKeep up amazing work you're doing guys"
      }
    ]
  },
  {
    "number": 2238,
    "title": "Using ILogger....",
    "created_at": "2017-06-19T00:53:10Z",
    "closed_at": "2017-06-22T04:48:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2238",
    "body": "Hi Halil,\r\n\r\n- ABP 2.1, WebForms\r\n- I am resolving an ILogger in a static class as follows:\r\n\r\n```c#\r\nusing (IDisposableDependencyObjectWrapper<ILogger> logger = IocManager.Instance.ResolveAsDisposable<ILogger>())\r\n{\r\n}\r\n```\r\n\r\nAnd writing to the log successfully as:\r\n\r\n```c#\r\nlogger.Object.Debug($\"DbMigrations: {scriptsPerformed}\");\r\n```\r\n\r\nand what I get in the log is something like:\r\n\r\n> DEBUG 2017-06-19 10:42:06,750 [78   ] Default                                  - DbMigrations: 00001_Dummy.sql\r\n\r\nWhat I want to know is where does \"Default\" come from and how do I change it? The only thing named that in the app is my connection string, but the logging has nothing to do with it.\r\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2238/comments",
    "author": "natiki",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-06-19T01:49:01Z",
        "body": "\"Default\" is name of the Logger. If you inject ILogger to a class, say MyService, log line writes ``MyService`` as the logger name. Since you directly resolve from IocManager, it gets the Default logger. This is behavior of the Logger, not ABP's. If you need a named logger, resolve ILoggerFactory and create logger manually with a desired name."
      }
    ]
  },
  {
    "number": 2190,
    "title": "Swashbucle configuration from AbpModule",
    "created_at": "2017-06-05T12:35:57Z",
    "closed_at": "2017-06-07T13:17:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2190",
    "body": "Hi, \r\n\r\nis it possible to Access and configure Swashbuckle from AbpModule ?\r\n\r\n```\r\nservices.AddSwaggerGen(c =>\r\n{\r\n    c.SwaggerDoc(\"v1\", new Info { Title = \"My API\", Version = \"v1\" });\r\n});\r\n```\r\nand \r\n```\r\napp.UseSwaggerUI(c =>\r\n{\r\n    c.SwaggerEndpoint(\"/swagger/v1/swagger.json\", \"V1 Docs\");\r\n    c.SwaggerEndpoint(\"/swagger/v2/swagger.json\", \"V2 Docs\");\r\n}\r\n```\r\n\r\nI don't want to change startup code every time i add new module.\r\n\r\nThanks for advance.\r\n\r\nEdvin\r\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2190/comments",
    "author": "sebitsi",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-06-05T15:57:47Z",
        "body": "Not possible, because Swagger is an AspNet middleware and it should be added in the Startup file like that.\r\nYou don't change startup code every time you add new module, but AspNet Core middlewares are designed to work like that, that's not related to ABP."
      },
      {
        "user": "sebitsi",
        "created_at": "2017-06-06T07:01:26Z",
        "body": "Hi, if it is not possible to Access swashbuckle configuration from module config, is it possible opposite ?\r\n\r\nI mean, ABP framework is initialized first in startup configure method. Right ?\r\n\r\nIs it possible to Access abp configuration inside  startup configure method after abp has been initialized ?\r\n\r\nMy goal is to split big swagger document do separate documents based on module names (CreateControllersForAppServices).\r\n\r\nThanks for advance.\r\n\r\nEdvin\r\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2017-06-06T10:24:58Z",
        "body": "> Is it possible to Access abp configuration inside startup configure method after abp has been initialized ?\r\n\r\nYes, possible. in Startup's Configure, after UseAbp, you can do that:\r\n\r\n````C#\r\nvar abpCong = app.ApplicationServices.GetRequiredService<IAbpStartupConfiguration>();\r\n````\r\n\r\nYou can also resolve any service registered by Abp and your modules."
      }
    ]
  },
  {
    "number": 2005,
    "title": "why EfUnitOfWork's IsolationLevel set ReadUncommitted as default value?",
    "created_at": "2017-04-08T15:13:20Z",
    "closed_at": "2017-04-11T01:54:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/2005",
    "body": "abp 1.5\r\nwhy not use database default seting(ReadCommitted) as default?",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/2005/comments",
    "author": "duanwenhao",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-04-10T13:08:10Z",
        "body": "ReadCommitted causes more transaction deadlocks. But you can easily change the default value for your application using Configuration.UnitOfWork..."
      }
    ]
  },
  {
    "number": 1784,
    "title": "Questions about the interceptor",
    "created_at": "2017-01-18T02:50:10Z",
    "closed_at": "2017-01-19T08:48:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1784",
    "body": "we found that the interceptor a \"problem\"\r\n\r\nIf we intercept the ApplicationService method, which use the Repository to insert or update the entity.\r\n\r\nCall `invocation.Proceed ()`\r\n\r\nthis time the database has not been affected.",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1784/comments",
    "author": "maliming",
    "comments": [
      {
        "user": "maliming",
        "created_at": "2017-01-18T05:32:32Z",
        "body": "Or s said, I can manually saveChanges inside the interceptor?"
      },
      {
        "user": "hikalkan",
        "created_at": "2017-01-18T14:42:54Z",
        "body": "It's expected since DbContext.SaveChanges is called one the web request successfully finishes. If you want to manually save changes, inject IUnitOfWorkManager into the interceptor and call it's Current.SaveChanges method."
      },
      {
        "user": "maliming",
        "created_at": "2017-01-19T00:57:06Z",
        "body": "@hikalkan \r\n\r\nit works, but I found an interesting thing.\r\n\r\nIn the interceptor I use _unitOfWorkManager.Current.SaveChanges (); After that, I can query to modify or insert the entity, but the database is still not updated or inserted entities.\r\n\r\nIn fact, I have tried before in the use of interceptor UnitOfWorkManager SaveChanges But I check the results of the database, rather than Repository query results.\r\n\r\nI think EF may have caching.\r\n\r\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2017-01-19T08:47:14Z",
        "body": "It's because of transaction. When you SaveChanges, it's written to the database, but you can not see it in the database (from another client) until the transaction is commited.\r\nSo, it's not a problem."
      }
    ]
  },
  {
    "number": 1739,
    "title": "Upgrading from 0.9.7 and changes to AbpIntegratedTestBase....",
    "created_at": "2017-01-10T02:53:52Z",
    "closed_at": "2017-01-19T05:31:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1739",
    "body": "Hi Halil,\r\n\r\nI am finally getting around to upgrading some of our projects from 0.9.7 ==> 1.2.x. In 0.10.00 AbpIntegratedTestBase got a startup module....\r\n\r\nAs we use nUnit internally we had to make an adapter to make things work for us, which was implemented as follows prior to 0.10.00:\r\n\r\n```c#\r\n    /// <summary>\r\n    ///     Adapter class so that we can more easily use the ABP test class with\r\n    ///     nUnit. AbpIntegratedTestBase is written for xUnit which assumes that\r\n    ///     we will use the constructor for each test run and hence override the ModulesAdd()\r\n    ///     method. However in nUnit with the test class only instantiated once we need\r\n    ///     to do this via the adapter.\r\n    /// </summary>\r\n    /// <remarks>\r\n    ///     To use this class:\r\n    ///     - Create a descendant and override AddModules() adding the APB modules needed\r\n    ///     - Create an instance of this class in nUnit Setup() method\r\n    ///     - Destroy instance of this class in nUnit TearDown() method\r\n    /// </remarks>\r\n    public abstract class OzAbpTestsAdapterBase : AbpIntegratedTestBase\r\n    {\r\n        public new IIocManager LocalIocManager => base.LocalIocManager;\r\n    }\r\n\r\n    /// <summary>\r\n    ///     Adapter class to work with the ABP base test class, to ensure the IocManager is correctly\r\n    ///     instantiated.\r\n    /// </summary>\r\n    public class AbpApplicationServiceTestsAdapter : OzAbpTestsAdapterBase\r\n    {\r\n        /// <summary>\r\n        ///     Class constructor.\r\n        /// </summary>\r\n        public AbpApplicationServiceTestsAdapter()\r\n        {\r\n            //Ensure all the AutoMapper mappings are in place\r\n            OzCpAutoMapperConfig autoMapperConfig = new  OzCpAutoMapperConfig();\r\n            autoMapperConfig.ConfigurationApproachFor201610_02(new Type[0]);\r\n\r\n            //Ensure that we have applied all the DB migrations\r\n            string connString = ConfigurationManager.ConnectionStrings[\"Default\"].ConnectionString;\r\n\r\n            DatabaseMigrationsManager dbMigrationsManager = new DatabaseMigrationsManager(connString, DbEnvironmentKindEnum.Automation);\r\n            DatabaseUpgradeResult dbMigrationResult = dbMigrationsManager.Process();\r\n            if (!dbMigrationResult.Successful)\r\n                throw dbMigrationResult.Error;\r\n        }\r\n\r\n        protected override void AddModules(ITypeList<AbpModule> aModules)\r\n        {\r\n            base.AddModules(aModules);\r\n\r\n            //Add testing modules. Dependant modules are automatically added.\r\n            aModules.Add<OzCPlatformApplicationModule>();\r\n            aModules.Add<OzCPlatformDataModule>();\r\n            aModules.Add<OzCPlatformDataCmsModule>();\r\n\r\n            //External Api's\r\n            aModules.Add<OzCCarnivalApiModule>();\r\n            aModules.Add<OzCCarnivalOpenseasApiModule>();\r\n        }\r\n    }\r\n```\r\n\r\nand in 0.10.00 the small change is obviously to add the startup module:\r\n\r\n```c#\r\n    public class OzAbpTestsAdapterBaseStartupModule : AbpModule\r\n    {\r\n    }\r\n\r\n    public abstract class OzAbpTestsAdapterBase : AbpIntegratedTestBase<OzAbpTestsAdapterBaseStartupModule>\r\n    {\r\n        public new IIocManager LocalIocManager => base.LocalIocManager;\r\n    }\r\n```\r\n\r\nhowever the AddModules() method is no longer available from AbpIntegratedTestBase. So how do I go about adding the modules I need?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1739/comments",
    "author": "natiki",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2017-01-10T08:06:24Z",
        "body": "Hi,\r\n\r\nYour test startup module should depend on ([DependsOn] attribute) the modules listed in AddModules method. Thus, no need to AddModules since they will be automatically added because of dependency. "
      }
    ]
  },
  {
    "number": 1707,
    "title": "in application service can not get AbpSession.UserId value with AbTriggerAsync",
    "created_at": "2016-12-28T16:50:38Z",
    "closed_at": "2016-12-29T07:56:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1707",
    "body": "english is bad,hope you can understand.\r\nin application service, i use EventBus.TriggerAsync() to trigger a event, in handler,i inject  IApplicationService  to execute some insert operation,but in this application service,can not get userId, and  the creatorUserId is null in table. use no async no problem.\r\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1707/comments",
    "author": "dm-Andy",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-12-28T19:21:34Z",
        "body": "If you are triggering is asynchronously from a synchronous method, then it will probably executed after your request complete. So, you can not access to UserId of current user.\r\nIf you are using it inside an async method, use with await.\r\nOtherwise, always use Trigger, not TriggerAsync."
      }
    ]
  },
  {
    "number": 1705,
    "title": "why abp has not use asp.net DependencyResolver?",
    "created_at": "2016-12-28T10:26:48Z",
    "closed_at": "2016-12-29T08:23:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1705",
    "body": "System.Web.Mvc.DependencyResolver and System.Web.Http.Dependencies.IDependencyResolver\r\nin the abp , they're both not work .",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1705/comments",
    "author": "ColinZeb",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-12-28T11:25:50Z",
        "body": "Instead we are extending DefaultControllerFactory as WindsorControllerFactory to create controllers.\r\nWhy you need IDependencyResolver?"
      },
      {
        "user": "ColinZeb",
        "created_at": "2016-12-28T23:31:38Z",
        "body": "i'm using oauth. \r\nit's option like this:\r\n\r\n````C#\r\nvar OAuthServerOptions = new OAuthAuthorizationServerOptions\r\n            { \r\n                TokenEndpointPath = new PathString(\"/auth/token\"),\r\n                AccessTokenExpireTimeSpan = TimeSpan.FromDays(10),\r\n                Provider = new SimpleAuthorizationServerProvider(),\r\n                RefreshTokenProvider = new SimpleRefreshTokenProvider(),\r\n                AuthorizeEndpointPath = new PathString(\"/auth/login\")\r\n            };\r\n````\r\n\r\nin the **SimpleAuthorizationServerProvider** ,i need a loginservice, but it's not a contrller,so abp can't inject."
      },
      {
        "user": "maliming",
        "created_at": "2016-12-29T05:22:34Z",
        "body": "@hikalkan  If I want to get IocManager in Owin Startup method can be achieved, or my idea is not correct."
      },
      {
        "user": "hikalkan",
        "created_at": "2016-12-29T08:02:00Z",
        "body": "No problem with your idea. You can get IocManager as IocManager.Instance (static instance) and Resolve any dependency you like. Ex:\r\n\r\n````C#\r\nProvider = new SimpleAuthorizationServerProvider(IocManager.Instance.Resolve<LoginService>())\r\n````"
      },
      {
        "user": "mayorquin",
        "created_at": "2018-11-06T16:25:40Z",
        "body": "Hello, \r\n\r\nI know that this thread has been closed for a while, but I hope you can help me.  I'm trying to apply the same approach and I can get the token and refresh token as well, but the token is not valid, When I try to call a protected method with the token I\u00bfm getting the following error: \r\n\r\n_Current user did not login to the application!_\r\n\r\nThis is how I'm getting the Ticket:\r\n\r\n```\r\npublic override async Task GrantResourceOwnerCredentials(OAuthGrantResourceOwnerCredentialsContext context)\r\n        {\r\n            string tenancyName = \"\";\r\n            var allowedOrigin = context.OwinContext.Get<string>(\"as:clientAllowedOrigin\");\r\n\r\n            if (allowedOrigin == null) allowedOrigin = \"*\";\r\n\r\n            context.OwinContext.Response.Headers.Add(\"Access-Control-Allow-Origin\", new[] { allowedOrigin });\r\n\r\n            var loginResult = await _logInManager.LoginAsync(context.UserName, context.Password, tenancyName);\r\n\r\n\r\n            if (loginResult.Result == AbpLoginResultType.InvalidPassword ||\r\n                loginResult.Result == AbpLoginResultType.InvalidUserNameOrEmailAddress)\r\n            {\r\n                context.SetError(\"invalid_grant\", \"The user name or password is incorrect.\");\r\n                return;\r\n            }\r\n\r\n            var identity = new ClaimsIdentity(context.Options.AuthenticationType);\r\n            identity.AddClaim(new Claim(ClaimTypes.Name, context.UserName));\r\n            identity.AddClaim(new Claim(ClaimTypes.Role, \"user\"));\r\n            identity.AddClaim(new Claim(\"sub\", context.UserName));\r\n\r\n            var props = new AuthenticationProperties(new Dictionary<string, string>\r\n                {\r\n                    {\r\n                        \"as:client_id\", (context.ClientId == null) ? string.Empty : context.ClientId\r\n                    },\r\n                    {\r\n                        \"userName\", context.UserName\r\n                    }\r\n                });\r\n\r\n\r\n            var ticket = new AuthenticationTicket(identity, props);\r\n            context.Validated(ticket);\r\n        }\r\n```\r\n\r\n"
      }
    ]
  },
  {
    "number": 1588,
    "title": "Why cookieTokenValue.IsNullOrEmpty() return a true result?",
    "created_at": "2016-11-26T02:31:31Z",
    "closed_at": "2016-11-28T02:26:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1588",
    "body": "Why cookieTokenValue.IsNullOrEmpty() return a true result in AbpAntiForgeryManagerMvcExtensions and AbpAntiForgeryManagerWebApiExtensions files?\r\n\r\nAbp version 1.0.0\r\n\r\nThank you.",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1588/comments",
    "author": "mokezhuhy",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-11-27T19:34:50Z",
        "body": "We want to allow using API without sending antiforgery token in non-browser clients (like mobile clients). Because CSRF is only problem in browsers. So, we are checking is cookie is sent (it's sent by browsers). Otherwise, no need to protection."
      }
    ]
  },
  {
    "number": 1562,
    "title": "Localization  @L method question",
    "created_at": "2016-11-17T08:47:00Z",
    "closed_at": "2016-11-17T08:57:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1562",
    "body": "hi,@hikalkan \r\n\r\nabp ver1.0.0.0\r\n\r\nIn the page\uff0cWhen use @L method execute Localization\uff0cif it does not exist translation\uff0cthe result contains extra characters\u3002\r\nFor example\uff1a\r\nFile:index.cshtml\r\n`<a href=\"@Url.Action(\"Logout\",\"Account\")\">@L(\"Logout Now\")</a>`\r\nResult:\r\n`<a href=\"/Account/Logout\">[Logout Now]</a>`\r\nBut,I hope the result is \"Logout Now\"\u3002\r\n\r\nwhat should I do? thanks",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1562/comments",
    "author": "pedoc",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-11-17T08:53:20Z",
        "body": "Put this in PreInitialize method of your module:\n\n``` C#\nConfiguration.Localization.WrapGivenTextIfNotFound = false;\n```\n"
      }
    ]
  },
  {
    "number": 1424,
    "title": "Can't use AjaxResponse with success = true when passed result is Boolean",
    "created_at": "2016-10-02T13:42:30Z",
    "closed_at": "2016-10-03T06:13:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1424",
    "body": "i need to convert the result to object before passing it to AjaxResponse\n`return new AjaxResponse((object)isUnique);`\n\nif i didn't convert to object it will call the override method which take success or failure as input and return response with result : null\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1424/comments",
    "author": "abou-emish",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-10-02T18:08:19Z",
        "body": "Why not this:\n\n``` C#\nreturn new AjaxResponse { Result = isUnique };\n```\n"
      }
    ]
  },
  {
    "number": 1389,
    "title": "how to use two type database in abp ?",
    "created_at": "2016-09-21T06:57:18Z",
    "closed_at": "2016-09-22T09:57:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1389",
    "body": "If I want to use Ef (sql server) and mongo in one project ,how to deal with ? \nIUnitwork will be registered by two instance . mongo project will use ef unitwork instance because ef instance is the first one . That will throw erorr .\n\nThanks\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1389/comments",
    "author": "fengzijun",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-09-21T11:03:30Z",
        "body": "Hi,\n\nThat's not possible. As you said, there should be single IUnitOfWorkManager implementation. I suggest you to use MongoDB directly with it's own API and use EF with ABP's infrastructure.\n"
      }
    ]
  },
  {
    "number": 1361,
    "title": "Can't create component 'XX.XX.XX.SponsorAppService' as it has dependencies to be satisfied.",
    "created_at": "2016-09-10T09:50:35Z",
    "closed_at": "2016-09-10T10:50:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1361",
    "body": "Abp.dll Version : 0.11.0.2\n\nException Message : Can't create component 'Sedion.Trucking.Orders.Cargo.SponsorAppService' as it has dependencies to be satisfied.\n'Sedion.Trucking.Orders.Cargo.SponsorAppService' is waiting for the following dependencies:\n- Service 'Sedion.Trucking.OrderManage.IRepositories.IOrderRespository' which was not registered.\n\nI think I have register the repository (Customize Implement) like the following code\n\n```\npublic interface IOrderRespository:IRepository<CommissionOrder,long>\n    {\n        Task<List<CommissionOrder>> GetCommissionOrders(long? orderId, long? sponsorUserId, long? receiverUserId,\n           CommissionOrderStatus? status);\n    }\n\npublic class OrderRepository : TruckingRepositoryBase<CommissionOrder, long>, IOrderRespository\n    {\n        public OrderRepository(IDbContextProvider<TruckingDbContext> dbContextProvider) : base(dbContextProvider)\n        {\n        }\n\n        /// <summary>\n        ///    \n        /// </summary>\n        /// <param name=\"orderId\"></param>\n        /// <param name=\"sponsorUserId\"></param>\n        /// <param name=\"receiverUserId\"></param>\n        /// <param name=\"status\"></param>\n        /// <returns></returns>\n        public async Task<List<CommissionOrder>> GetCommissionOrders(long? orderId,long? sponsorUserId, long? receiverUserId,\n            CommissionOrderStatus? status)\n        {\n            var query = GetAll().Include(c=>c.ContainerOrder);\n\n            if (orderId.HasValue) \n                query = query.Where(c => c.Id == orderId);\n\n            if (sponsorUserId.HasValue)\n                query = query.Where(c => c.SponserUserId == sponsorUserId);\n\n            if (receiverUserId.HasValue)\n                query = query.Where(c => c.ReceiverUserId == receiverUserId);\n\n            if (status.HasValue)\n                query = query.Where(c => c.CommissionOrderStatus == status);\n\n            return  await query.OrderByDescending(c=>c.CreationTime).ToListAsync();\n        }\n}\n```\n\nAnd the service is\n\n```\n///     \u8d27\u4ee3\u7ba1\u7406\u5458App Service\n    /// </summary>\n    public interface ISponsorAppService:IApplicationService\n{\n   \u2026\u2026   \n  \u2026\u2026\n  \u2026\u2026\n}\n\n/// <summary>\n    ///     \u8d27\u4ee3\u7ba1\u7406\u5458App Service\n    /// </summary>\n    public class SponsorAppService : TruckingAppServiceBase, ISponsorAppService\n    {\n        private readonly IOrderRespository _commissionOrderRepository;\n\n        private readonly IContainerOrderRepository _containerOrderRepository;\n\n        private readonly IRelationLogRepository _relationLogRepository;\n\n        /// <summary>\n        ///     \u6784\u9020\u65b9\u6cd5\n        /// </summary>\n        public SponsorAppService(\n            IOrderRespository commissionOrderRepository,\n            IContainerOrderRepository containerOrderRepository,\n            IRelationLogRepository relationLogRepository)\n        {\n            _commissionOrderRepository = commissionOrderRepository;\n            _containerOrderRepository = containerOrderRepository;\n            _relationLogRepository = relationLogRepository;\n        }\n}\n```\n\nSo, can you help it, I think I didn't write the wrong code.~confuse~\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1361/comments",
    "author": "panchengtao",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-09-10T10:06:52Z",
        "body": "Hi,\n\nYou made a naming mistake.\nInterface name: `IOrderRespository` must be `IOrderRepository` \n"
      }
    ]
  },
  {
    "number": 1356,
    "title": "EF unique  insert doubt ",
    "created_at": "2016-09-08T12:18:34Z",
    "closed_at": "2016-09-08T13:08:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1356",
    "body": "If database column has unique constraint,\nWhat happens with ef repository insert?\ncatch?\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1356/comments",
    "author": "maliming",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-09-08T12:48:59Z",
        "body": "you get exception if you violate a unique constraint. don't you?\n"
      }
    ]
  },
  {
    "number": 1080,
    "title": "Background job manager",
    "created_at": "2016-06-07T03:04:58Z",
    "closed_at": "2016-06-07T11:46:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/1080",
    "body": "Hi Halil,  \n\nWhen I use background job, i encountered a problem in my porject. \n- I set a delay task, if i want to delete it before execution. Can I use IBackgroundJobStore to delete? Or there are some good way in BackgroundJobManager? What's the best practices? \n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/1080/comments",
    "author": "Caskia",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-06-07T06:01:32Z",
        "body": "Hi,\n\nDo not delete background job. But you can return from background job without executing it.\n\n```\nif(Cancelled()){\n   return;\n}\n```\n\nYou can check it first and return without executing the job. Background job manager will already delete this job.\n"
      }
    ]
  },
  {
    "number": 984,
    "title": "Multiple Tenants Issue",
    "created_at": "2016-04-14T15:47:45Z",
    "closed_at": "2016-04-15T06:58:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/984",
    "body": "Thank you for your great project at first.\nI have a SPA with Zero, multiple tenants is enabled, when I login to host and a tenant with same one IE 11 browser, the application works as host always.\nAny action in tenant application works as host, there is no tenant id in the audit log records.\nAfter I logout from host, then the tenant works well, the tenant id is recorded in log table.\nWhat's wrong?\nThank you.\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/984/comments",
    "author": "fiting",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-04-15T06:46:04Z",
        "body": "You can not login twice in same browser. Login as host in one browser and login as tenant in a different browser window (not tab) since same browser tabs share same cookies and login info is stored in cookies.\n"
      },
      {
        "user": "fiting",
        "created_at": "2016-04-15T06:57:24Z",
        "body": "Thank you. But it works using Chrome, same browser different tab.\n"
      }
    ]
  },
  {
    "number": 963,
    "title": "Am I incorrectly using AbpController?",
    "created_at": "2016-04-05T02:01:33Z",
    "closed_at": "2016-04-05T10:58:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/963",
    "body": "Hi Halil,\n- ABP 0.8.3\n\nI am concerned I have screwed up the inheritance here. I have the following class that I want to base all my controllers from so that I have common functionality viz:\n\n``` c#\n   /// <summary>\n    ///     Derive all Controllers from this class.\n    /// </summary>\n    public abstract class CruisesDesktopControllerBase : AbpController\n    {\n         /// <summary>\n        ///     Class constructor\n        /// </summary>\n        protected CruisesDesktopControllerBase()\n        {\n            LocalizationSourceName = CruisesDesktopConsts.LOCALIZATION_SOURCE_NAME;\n\n            //Force the culture to be en-AU so that our dates work in the form dd/MM/yyyy ie. 31/01/1960\n            Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(\"en-AU\");\n            Thread.CurrentThread.CurrentUICulture = CultureInfo.CreateSpecificCulture(\"en-AU\");\n        }\n    }\n```\n\nand then my controller itself would be:\n\n``` c#\n   public partial class MyBookingController : CruisesDesktopControllerBase\n   {\n   }\n```\n\nHowever my concern is that I am never invoking the constructor from **AbpController**. Have I done this correctly or have I messed up the hierarchy here?\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/963/comments",
    "author": "natiki",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-04-05T07:48:21Z",
        "body": "It's implicitly invokes since it's default public constructor. That's true.\n"
      }
    ]
  },
  {
    "number": 930,
    "title": "Accessing AbpSession in Entity Properties or DTO Properties",
    "created_at": "2016-03-15T10:30:41Z",
    "closed_at": "2016-04-06T11:58:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/930",
    "body": "How to set a property value in Entity class or DTO class depending on condition related to current user from AbpSession, for example\n\n``` C#\n[NotMapped]\npublic bool CanEditAndCanel\n{\n    get\n    {\n        return CreatorUserId.Value == AbpSession.UserId.Value && (RequestStatus == PaymentRequestStatus.Draft || RequestStatus == PaymentRequestStatus.ApprovalRejected);\n    }\n}\n```\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/930/comments",
    "author": "abou-emish",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-03-15T11:52:08Z",
        "body": "This works:\n\n``` C#\n[NotMapped]\npublic bool CanEditAndCanel\n{\n    get\n    {\n        return CreatorUserId.Value == IocManager.Instance.Resolve<IAbpSession>().UserId.Value && (RequestStatus == PaymentRequestStatus.Draft || RequestStatus == PaymentRequestStatus.ApprovalRejected);\n    }\n}\n```\n\nBut I don't suggest it since it's a bad practice. Just set DTO's property in the application service.\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2016-03-15T11:52:44Z",
        "body": "If you really want to move login into entitiy, convert CanEditAndCanel to a method and pass the current user's id.\n"
      }
    ]
  },
  {
    "number": 903,
    "title": "LocalizableString in Core dll",
    "created_at": "2016-02-26T14:34:58Z",
    "closed_at": "2016-02-26T15:16:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/903",
    "body": "I try to localize a `UserFriendlyException` but in Core dll is not possibile. \n\nI think that is a good option extend UserFriendlyException or AbpException to do it.\n\nMat\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/903/comments",
    "author": "andmattia",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-02-26T14:36:47Z",
        "body": "It's possible, localization can be used in any layer. What's the problem of your case?\n"
      },
      {
        "user": "andmattia",
        "created_at": "2016-02-26T14:42:28Z",
        "body": "`var a = new LocalizableString(\"tmkRequestIsInThePast\", tmkConsts.LocalizationSourceName)\nthrow new UserFriendlyException(a); //   error and not correct translation if I use a.toString() \n"
      },
      {
        "user": "hikalkan",
        "created_at": "2016-02-26T14:45:08Z",
        "body": "Oh, this not works in anywhere, not only domain layer. Instead, inject and use ILocalizationManager.\n"
      },
      {
        "user": "andmattia",
        "created_at": "2016-02-26T14:56:16Z",
        "body": "`private readonly ILocalizationManager _localizationManager;\n\n```\n    public Product(ILocalizationManager localizationManager)\n    {\n        _localizationManager = localizationManager;\n    }\n```\n\n`\n\nbut if i create a static method like \n`public static Product Create(...){ // like your suggestion on Event example on CodeProject`\n`return new Product(){ // <- I need to add a localization manager...`\n`name = ...,`\n`}`\n`}`\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2016-02-26T15:00:25Z",
        "body": "Statics can not inject dependencies. This is a general programming issue. We introduced LocalizationHelper for this purpose. Use this:\n\n`LocalizationHelper.GetString(\"tmkRequestIsInThePast\", tmkConsts.LocalizationSourceName)`\n"
      }
    ]
  },
  {
    "number": 889,
    "title": "Swagger error",
    "created_at": "2016-02-22T08:01:05Z",
    "closed_at": "2016-02-23T04:41:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/889",
    "body": "I've this issue when try to open /swagger:\n`500 : {\"message\":\"An error has occurred.\",\"exceptionMessage\":\"Not supported by Swagger 2.0: Multiple operations with path 'api/AbpServiceProxies' and method 'GET'. See the config setting - \\\"ResolveConflictingActions\\\" for a potential workaround\",\"exceptionType\":\"System.NotSupportedException\"`\n\nIn my API module I don't call swagger beacuse if I try I cacth an exception that say me the path already exists.  \n`Configuration.Modules.AbpWebApi().HttpConfiguration\n                .EnableSwagger(c =>\n                {\n                    c.SingleApiVersion(\"v1\", \"myApp.WebApi\");\n                    c.ResolveConflictingActions(apiDescriptions => apiDescriptions.First());\n                })\n                .EnableSwaggerUi();`\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/889/comments",
    "author": "andmattia",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-02-22T19:56:10Z",
        "body": "Where are you calling this code? In AspNet Zero, we are calling it in Initialize method of WebApi project.\n\nNote that; When you install Swagger, it also includes a configuration class and calls it from Startup file. Remove this configuration file and it's usage.\n"
      }
    ]
  },
  {
    "number": 783,
    "title": "How to ensure the same instance for DbContext in ABP in a httpRequest?",
    "created_at": "2016-01-07T08:38:17Z",
    "closed_at": "2016-01-07T10:25:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/783",
    "body": "hi\n   I think DbContext in ABP  does not  dependend on castle to keep  consistent  in a httpRequest,because you use  LifestyleTransient ,it  likes 'new a instance ' ,why do not use LifestylePerWebRequest to ensure the same instance .\n I see the code of ABP,here is my opinion. a httpRequest should in a unitwork that in CallContext,and in a unitwork , here keep a dictionary of DbContext , is not it uses the dictionary  to find unique DbContext ?  and others?\n  please tell me your  intention if you have time thanks\n  my english is so bad ,i hope you can understand my meaning. \n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/783/comments",
    "author": "wangzhp",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2016-01-07T10:14:21Z",
        "body": "Hi,\n\nLifestylePerWebRequest does not works good with async. That's why I used CallContext.\nAlso, I don't want to use same DbContext for entire web request. Instead, create/use/dispose when needed (per unit of work). Lastly, ABP also supports to non-web applications (like Windows services). So, I did not use HttpContext or LifestylePerWebRequest to follow same model in all platforms.\n"
      }
    ]
  },
  {
    "number": 762,
    "title": "problem after update to abp 0.7.6.0",
    "created_at": "2015-12-23T20:40:30Z",
    "closed_at": "2015-12-23T21:07:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/762",
    "body": "Hello,\n\nafter update my project to last version i couldn't add a migration because of the error\nCould not load type 'Abp.Events.Bus.Entities.IEntityChangedEventHelper' from assembly 'Abp, Version=0.7.6.0, Culture=neutral, PublicKeyToken=null'.\nAny help?\nThanks\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/762/comments",
    "author": "dimiszk",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-12-23T21:01:42Z",
        "body": "Hi,\n\nIt's defined in ABP 0.7.6. Have you upgraded all Abp.\\* nuget packages for your solution?\n"
      },
      {
        "user": "dimiszk",
        "created_at": "2015-12-23T21:03:37Z",
        "body": "Oh No. I noticed that Abp.Zero.EntityFramework was in 0.7.5. Thanks.\n"
      }
    ]
  },
  {
    "number": 755,
    "title": "Logging is sync or async?",
    "created_at": "2015-12-18T02:57:24Z",
    "closed_at": "2015-12-22T01:56:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/755",
    "body": "``` C#\nusing Castle.Core.Logging; //1: Import Logging namespace\n\npublic class TaskAppService : ITaskAppService\n{    \n    //2: Getting a logger using property injection\n    public ILogger Logger { get; set; }\n\n    public TaskAppService()\n    {\n        //3: Do not write logs if no Logger supplied.\n        Logger = NullLogger.Instance;\n    }\n\n    public void CreateTask(CreateTaskInput input)\n    {\n        //4: Write logs\n        Logger.Info(\"Creating a new task with description: \" + input.Description);\n\n        //TODO: save task to database...\n    }\n}\n\n```\n\nMy problem is:\n\n```\n Logger.Info(\"Creating a new task with description: \" + input.Description);\n```\n\nDoes 'todo' operation run after the above code line?\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/755/comments",
    "author": "Farb",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-12-21T19:51:05Z",
        "body": "Loggins is sync as I know since Info method does not return a Task to await.\nSo, TODO runs after logging.\n"
      }
    ]
  },
  {
    "number": 587,
    "title": "IocManager: do I always need to call Release after Resolve?",
    "created_at": "2015-08-30T10:43:29Z",
    "closed_at": "2015-08-31T08:46:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/587",
    "body": "Hi!\n\nHelp for Resolve method says that resolved object must be released. But when I'm looking into abp codebase I see that it's not always the case. Can you please tell me when I definitely should release resolved object and when not?\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/587/comments",
    "author": "a-merson",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-08-30T10:49:26Z",
        "body": "Hi,\n\nCall Release whenever it's possible. As better, use ResolveAsDisposable in a using statement.\nBut.. if your resolving object is Singleton.. then releasing has no effect actually. So, you may not call Release in that case. But call Release even in that case wherever it's possible (you may change Singleton to Transient in the future, for example).\n"
      }
    ]
  },
  {
    "number": 551,
    "title": "Service call from JS no longer works with default Type parameter",
    "created_at": "2015-07-27T06:41:32Z",
    "closed_at": "2015-07-27T08:14:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/551",
    "body": "I got a Service wich used single default Type parameters like this\n\n``` csharp\ninterface IMyAppService\n{\n       GetEntity(long id);\n}\n```\n\nIn previous version i could call this method from javascript. But since i updated to the current version the call no longer works. I had to change to:\n\n``` csharp\ninterface IMyAppService\n{\n       GetEntity(GetEntityInput input);\n}\nclass GetEntityInput\n{\n        public Id {get; set;}\n}\n```\n\nto make it work again. \n\nWas this change intended cause you are againts using default types in service parameters like you described in your articles or is this some unintended change?\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/551/comments",
    "author": "BoeseB",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-07-27T06:44:05Z",
        "body": "Hi,\n\nprimitive inputs are not supported yet (I don't know how it worked before). But you don't have to create one class for sending Ids. You can use pre-built IdInput class (IdInput&lt;long&gt; for long type).\n"
      }
    ]
  },
  {
    "number": 522,
    "title": "Is is possible to run it on IIS 7 server with .NET 4.0",
    "created_at": "2015-06-19T08:20:01Z",
    "closed_at": "2015-06-20T08:51:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/522",
    "body": "Hallo, \nI really like your ideas about boilerplate, but I am facing a problem that I do not have neither IIS8 nor ASP MVC 5 on my production environment. So I am wondering that is it possible to run it on .net 4.\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/522/comments",
    "author": "qiansen1386",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-06-19T08:31:49Z",
        "body": "Hi,\n\nIt can not work .NET 4.0 or MVC4. It's designed to use .NET 4.5.1. But it can run on IIS 7 if you install .NET Framework 4.5.1 to the server.\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2015-06-19T09:29:18Z",
        "body": "Yes, we're working with IIS 7 and .NET 4.5.1 for some projects.\n"
      }
    ]
  },
  {
    "number": 394,
    "title": "All relation properties are included without calling include() method",
    "created_at": "2015-03-11T15:35:38Z",
    "closed_at": "2015-03-12T10:36:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/394",
    "body": "in my application i have a page to manage system roles, in the application service i have this Dto Classes\n\n``` C#\n    [AutoMapFrom(typeof(Role))]\n    public class RoleDto : CreationAuditedEntityDto\n    {\n        public string DisplayName { get; set; }\n        public bool IsStatic { get; set; }\n        public string Name { get; set; }\n        public ICollection<RolePermissionSettingDto> Permissions { get; set; }\n        public TenantDto Tenant { get; set; }\n        public int? TenantId { get; set; }\n        public string CreatorUserName { get; set; }\n    }\n\n    [AutoMapFrom(typeof(RolePermissionSetting))]\n    public class RolePermissionSettingDto : AuditedEntityDto\n    {\n        public virtual int RoleId { get; set; }\n        public bool IsGranted { get; set; }\n        public string Name { get; set; }\n    }\n\n    [AutoMapFrom(typeof(Tenant))]\n    public class TenantDto : AuditedEntityDto\n    {\n        public bool IsActive { get; set; }\n        public string Name { get; set; }\n        public ICollection<SettingDto> Settings { get; set; }\n        public string TenancyName { get; set; }\n    }\n    [AutoMapFrom(typeof(Setting))]\n    public class SettingDto : AuditedEntityDto\n    {\n        public string Name { get; set; }\n        public int? TenantId { get; set; }\n        public long? UserId { get; set; }\n        public string Value { get; set; }\n    }\n```\n\nand here is the code for selecting roles,\n\n``` C#\n            int count = await _roleManager.Roles.CountAsync();\n\n            var query = _roleManager.Roles;\n            if (!string.IsNullOrEmpty(input.name))\n                query = query.Where(at => at.Name.Contains(input.name));\n            if (!string.IsNullOrEmpty(input.displayName))\n                query = query.Where(at => at.DisplayName.Contains(input.displayName));\n            if (!string.IsNullOrEmpty(input.creatorUserName))\n                query = query.Where(at => at.CreatorUser.Name.Contains(input.creatorUserName));\n            if (input.creationTimeFrom.HasValue)\n                query = query.Where(at => at.CreationTime >= input.creationTimeFrom);\n            if (input.creationTimeTo.HasValue)\n            {\n                input.creationTimeTo = input.creationTimeTo.Value.Add(TimeSpan.FromSeconds(86399)); // add 1 day minus 1 second\n                query = query.Where(at => at.CreationTime <= (input.creationTimeTo.Value));\n            }\n            int filteredCount = await query.CountAsync();\n\n            var roles =\n                await query\n                    .OrderBy(string.Format(\"{0} {1}\", input.columns[input.order[0].column].name, input.order[0].dir))\n                    .Skip(input.start)\n                    .Take(input.length)\n                    .ToListAsync();\n\n            return new DataTableOutputDto<RoleDto>\n            {\n                iTotalDisplayRecords = filteredCount,\n                iTotalRecords = count,\n                aaData = roles.MapTo<List<RoleDto>>()\n            };\n```\n\nand the data returned from service call,  why All relation properties are included without calling include() method ?\n\n``` javascript\n{\n    \"success\": true,\n    \"result\": {\n        \"draw\": 0,\n        \"actionResult\": null,\n        \"iTotalRecords\": 2,\n        \"iTotalDisplayRecords\": 2,\n        \"aaData\": [{\n            \"displayName\": \"Admin\",\n            \"isStatic\": false,\n            \"name\": \"Admin\",\n            \"permissions\": [{\n                \"roleId\": 2,\n                \"isGranted\": true,\n                \"name\": \"Read.Defenition\",\n                \"lastModificationTime\": null,\n                \"lastModifierUserId\": null,\n                \"creationTime\": \"2015-01-31T19:28:25.227\",\n                \"creatorUserId\": 2,\n                \"id\": 1\n            }, {\n                \"roleId\": 2,\n                \"isGranted\": true,\n                \"name\": \"Read.Settings\",\n                \"lastModificationTime\": null,\n                \"lastModifierUserId\": null,\n                \"creationTime\": \"2015-01-31T19:28:25.227\",\n                \"creatorUserId\": 2,\n                \"id\": 2\n            }, {\n                \"roleId\": 2,\n                \"isGranted\": true,\n                \"name\": \"Read.Roles\",\n                \"lastModificationTime\": null,\n                \"lastModifierUserId\": null,\n                \"creationTime\": \"2015-01-31T19:28:25.243\",\n                \"creatorUserId\": 2,\n                \"id\": 3\n            }, {\n                \"roleId\": 2,\n                \"isGranted\": true,\n                \"name\": \"Read.Users\",\n                \"lastModificationTime\": null,\n                \"lastModifierUserId\": null,\n                \"creationTime\": \"2015-01-31T19:28:25.243\",\n                \"creatorUserId\": 2,\n                \"id\": 4\n            }],\n            \"tenant\": {\n                \"isActive\": true,\n                \"name\": \"Default\",\n                \"settings\": [{\n                    \"name\": \"DisplayHijriInArabic\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"false\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T13:20:51.367\",\n                    \"creatorUserId\": 2,\n                    \"id\": 222\n                }, {\n                    \"name\": \"FavouriteLanguage\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"en\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T13:47:10.587\",\n                    \"creatorUserId\": 2,\n                    \"id\": 229\n                }, {\n                    \"name\": \"SaveDataTableState\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"true\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T14:12:32.167\",\n                    \"creatorUserId\": 2,\n                    \"id\": 233\n                }, {\n                    \"name\": \"DisplayDateFormat\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"DD dd MMM, yyyy\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T14:13:11.723\",\n                    \"creatorUserId\": 2,\n                    \"id\": 234\n                }],\n                \"tenancyName\": \"Default\",\n                \"lastModificationTime\": null,\n                \"lastModifierUserId\": null,\n                \"creationTime\": \"2015-01-31T19:28:25.16\",\n                \"creatorUserId\": null,\n                \"id\": 1\n            },\n            \"tenantId\": 1,\n            \"creatorUserName\": \"System\",\n            \"creationTime\": \"2015-01-31T19:28:25.2\",\n            \"creatorUserId\": 2,\n            \"id\": 2\n        }, {\n            \"displayName\": \"User\",\n            \"isStatic\": false,\n            \"name\": \"User\",\n            \"permissions\": [],\n            \"tenant\": {\n                \"isActive\": true,\n                \"name\": \"Default\",\n                \"settings\": [{\n                    \"name\": \"DisplayHijriInArabic\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"false\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T13:20:51.367\",\n                    \"creatorUserId\": 2,\n                    \"id\": 222\n                }, {\n                    \"name\": \"FavouriteLanguage\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"en\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T13:47:10.587\",\n                    \"creatorUserId\": 2,\n                    \"id\": 229\n                }, {\n                    \"name\": \"SaveDataTableState\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"true\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T14:12:32.167\",\n                    \"creatorUserId\": 2,\n                    \"id\": 233\n                }, {\n                    \"name\": \"DisplayDateFormat\",\n                    \"tenantId\": 1,\n                    \"userId\": null,\n                    \"value\": \"DD dd MMM, yyyy\",\n                    \"lastModificationTime\": null,\n                    \"lastModifierUserId\": null,\n                    \"creationTime\": \"2015-03-10T14:13:11.723\",\n                    \"creatorUserId\": 2,\n                    \"id\": 234\n                }],\n                \"tenancyName\": \"Default\",\n                \"lastModificationTime\": null,\n                \"lastModifierUserId\": null,\n                \"creationTime\": \"2015-01-31T19:28:25.16\",\n                \"creatorUserId\": null,\n                \"id\": 1\n            },\n            \"tenantId\": 1,\n            \"creatorUserName\": \"System\",\n            \"creationTime\": \"2015-01-31T19:28:25.243\",\n            \"creatorUserId\": 2,\n            \"id\": 3\n        }]\n    },\n    \"error\": null,\n    \"unAuthorizedRequest\": false\n}\n```\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/394/comments",
    "author": "abou-emish",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-03-12T09:34:52Z",
        "body": "Because of lazy-loading feature of Entity Framework (If you don't know, search web for it).\nLazy-loading is a useful feature but use carefully. If you need these properties, explicitly Include it for performance reasons.\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2015-03-12T11:02:11Z",
        "body": "No, it's not changed by ABP.\n"
      }
    ]
  },
  {
    "number": 374,
    "title": "How to create a new service attribute",
    "created_at": "2015-03-04T19:18:45Z",
    "closed_at": "2015-03-04T20:01:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/374",
    "body": "I would like to create a new attribute that I can add to my service methods, similar to how you have AbpAuthorize.\n\nWhen I add my attribute to my service methods, I need to ensure that users have a WorkspaceId in their claims.\n\nI have modeled my RequireWorkspaceIdAttribute based on your AbpAuthorizeAttribute and created the following files:\n- IRequireWorkspaceIdAttribute\n- RequireWorkspaceIdAttribute\n- RequireWorkspaceIdAttributeHelper\n- RequireWorkspaceIdInterceptor\n\nI have also created a registrar with the following:\n\n```\n    private static void Kernel_ComponentRegistered(string key, Castle.MicroKernel.IHandler handler)\n    {\n        if (typeof(IApplicationService).IsAssignableFrom(handler.ComponentModel.Implementation))\n        {\n            handler.ComponentModel.Interceptors.Add(new InterceptorReference(typeof(RequireWorkspaceIdInterceptor))); \n        }\n    }\n```\n\nWhich I am calling from MyApplicationModule : AbpModule in my Services.\n\nThe Kernel_ComponentRegistered is getting called, but my if-statement never evaluates to true, so when I call my service method, the attribute never fires.\n\nI think my problem is with registering the interceptor.\n\nAny advice would be greatly appreciated.\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/374/comments",
    "author": "ballistic",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-03-04T19:46:27Z",
        "body": "You should register to ComponentRegistered event in the PreInitialize of your module. Can you chare your module?\n"
      }
    ]
  },
  {
    "number": 373,
    "title": "MenuItemDefinition without LocalizableString",
    "created_at": "2015-03-04T15:57:55Z",
    "closed_at": "2015-03-05T07:48:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/373",
    "body": "hi,\n\nI need \u00e0 contructor without LocalizableString. \nMy menu is dynamic and i dont know how i can add a dynamic text menu this with LocalizableString\nA constructor with a static Menutext parameter is needed\n\n public override void SetNavigation(INavigationProviderContext context)\n  {\n   ... \n   IList<MyMenuDto> menus = srvMymenu.selectAll();\n   foreach(var menu in menus) {\n    // What i need\n    //  MenuItemDefinition menudef = new MenuItemDefinition(\"menu\"+ menu.ID, menu.Text, url: menu.Url);\n   ...\n globalMenu.addItem( menudef);\n\n   }\n. \n\n}\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/373/comments",
    "author": "oliviercpl",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-03-04T17:57:03Z",
        "body": "Pass FixedLocalizableString instead of LocalizableString.\n"
      }
    ]
  },
  {
    "number": 332,
    "title": "SettingManager Caching",
    "created_at": "2015-02-12T02:44:09Z",
    "closed_at": "2015-02-12T13:36:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/332",
    "body": "from the following line \"SettingManager Class in abp Source Code\" i understand that the settings is cached for 20 minutes, but after more than 20 minutes i keep trying to refresh the application to read the new setting from database but it doesn't, i must restart the application to read the new settings from database.\n\n``` C#\n_userSettingCache = new AsyncThreadSafeObjectCache<Dictionary<string, SettingInfo>>(new MemoryCache(GetType().FullName + \".UserSettings\"), TimeSpan.FromMinutes(20)); //TODO: Get constant from somewhere else.\n```\n\nam i understand wrong, or is there anyway to force the cach to be updated \n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/332/comments",
    "author": "abou-emish",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-02-12T13:23:41Z",
        "body": "Don't directly change setting in the database, use SettingManager. It also updates cache.\nIt's cache is sliding. It clears cache after 20 minutes of non-access time. This 20 minutes starts from beginning when you reach it.\n"
      }
    ]
  },
  {
    "number": 306,
    "title": "How to build latest version from master and then updating nuget package for Zero",
    "created_at": "2015-01-29T18:37:07Z",
    "closed_at": "2015-01-29T20:17:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/306",
    "body": "I'm pulling in the latest Abp.Zero which has a dependency on .0.5.0.4   I've run the .bat file to generate the latest nuget packages.  What's the best way of going about getting 0.5.0.4 nuget package into the Zero project?\n\nThanks so much.\n\nChris\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/306/comments",
    "author": "langman66",
    "comments": [
      {
        "user": "jaq316",
        "created_at": "2015-01-29T19:10:59Z",
        "body": "All you need to do is to add the directory where the latest nuget packages was generated as a Package Source in Visual Studio. You can find this setting under:\nTools > Options > NuGet Package Manager > Package Sources\n"
      }
    ]
  },
  {
    "number": 282,
    "title": "Get localisation's user setting through a webAPI request",
    "created_at": "2015-01-18T20:42:43Z",
    "closed_at": "2015-03-02T17:42:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/282",
    "body": "Hello guys,\n\nFor translation purpose, i need to get the selected language of the user ( frontend ) sent to the backend for a specific query.\n\nThis query will select a different source in DataLayer based on the language sent via the webAPI request.\n\nIs there already something like this existing in ABP ?\nSomething like that, maybe with the ABP-ZERO and the identities sessions ?\n(I'll implement ABP Zero soon to manage rights & user paramaters)\n\n(or should I include the parameter myself)\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/282/comments",
    "author": "dawsidious",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2015-01-19T11:19:13Z",
        "body": "You can use abp.localization.currentCulture.name in javascript.\n"
      }
    ]
  },
  {
    "number": 168,
    "title": "Inheriting an existing entity framework model class and using in ABP....",
    "created_at": "2014-10-21T02:55:39Z",
    "closed_at": "2014-10-27T07:23:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/168",
    "body": "Hi Halil,\n\nI have the following class that defines a table for use with some of my library framework code:\n\n``` c#\n    [Table(\"EmailActivity\", Schema = \"dbo\")]\n    public class EmailActivityModel\n    {\n        #region Public Members\n\n        [Required]\n        public int DataFormatVersion { get; set; }\n\n        [Required]\n        public EmailDirectionEnum EmailDirection { get; set; }\n\n        [Key]\n        public long Id { get; set; }\n\n        public string InReplyTo { get; set; }\n\n        [Required]\n        public string MessageId { get; set; }\n\n        public string PayloadCompressed   { get; set; }\n\n        public string ExternalId { get; set; }\n\n\n        public string PayloadGet()\n        {\n            return PayloadCompressed.Decompress();\n        }\n\n        public void PayloadSet(string aPayload)\n        {\n            PayloadCompressed = aPayload.Compress();\n        }\n\n\n        #endregion\n    }\n```\n\nI want to use the above class as a model in my ABP application. Ordinarily I would descend from this class namely:\n\n``` c#\n    public class MyEmailActivity : EmailActivityModel\n    {\n         public string MyProperty {get; set;}\n    } \n```\n\nand after adding it as a property off my DbContext I would be good to go. However I need to get it to support the various interfaces from ABP and be able to plug in to the Repository and UOW so I declared it as follows:\n\n``` c#\n    public class EmailActivityEntity<TPrimaryKey> : EmailActivityModel,  ISoftDelete, IAudited, IEntity<TPrimaryKey>\n    {\n        #region Implementation of ISoftDelete\n\n        /// <summary>\n        /// Used to mark an Entity as 'Deleted'. \n        /// </summary>\n        public bool IsDeleted { get; set; }\n\n        #endregion\n\n        #region Implementation of IHasCreationTime\n\n        /// <summary>\n        /// Creation time of this entity.\n        /// </summary>\n        public DateTime CreationTime { get; set; }\n\n        #endregion\n\n        #region Implementation of ICreationAudited\n\n        /// <summary>\n        /// Creator of this entity.\n        /// </summary>\n        public long? CreatorUserId { get; set; }\n\n        #endregion\n\n        #region Implementation of IModificationAudited\n\n        /// <summary>\n        /// The last time of modification.\n        /// </summary>\n        public DateTime? LastModificationTime { get; set; }\n\n        /// <summary>\n        /// Last modifier user for this entity.\n        /// </summary>\n        public long? LastModifierUserId { get; set; }\n\n        #endregion\n\n        #region Implementation of IEntity<TPrimaryKey>\n\n        /// <summary>\n        /// Checks if this entity is transient (not persisted to database and it has not an <see cref=\"P:Abp.Domain.Entities.IEntity`1.Id\"/>).\n        /// </summary>\n        /// <returns>\n        /// True, if this entity is transient\n        /// </returns>\n        public bool IsTransient()\n        {\n            return EqualityComparer<TPrimaryKey>.Default.Equals(this.Id, default(TPrimaryKey));\n        }\n\n        /// <summary>\n        /// Unique identifier for this entity.\n        /// </summary>\n        public new TPrimaryKey Id { get; set; }\n\n        #endregion\n\n        #region Copied from Entity\n\n        public static bool operator ==(EmailActivityEntity<TPrimaryKey> aLeft, EmailActivityEntity<TPrimaryKey> aRight)\n        {\n            if (object.Equals((object)aLeft, (object)null))\n                return object.Equals((object)aRight, (object)null);\n            else\n                return aLeft.Equals((object)aRight);\n        }\n\n        public static bool operator !=(EmailActivityEntity<TPrimaryKey> aLeft, EmailActivityEntity<TPrimaryKey> aRight)\n        {\n            return !(aLeft == aRight);\n        }\n\n\n        public override bool Equals(object obj)\n        {\n            if (obj == null || !(obj is Entity<TPrimaryKey>))\n                return false;\n            if (object.ReferenceEquals((object)this, obj))\n                return true;\n            Entity<TPrimaryKey> entity = (Entity<TPrimaryKey>)obj;\n            if (this.IsTransient() && entity.IsTransient())\n                return false;\n            Type type1 = this.GetType();\n            Type type2 = entity.GetType();\n            if (!type1.IsAssignableFrom(type2) && !type2.IsAssignableFrom(type1))\n                return false;\n            else\n                return this.Id.Equals((object)entity.Id);\n        }\n\n        public override int GetHashCode()\n        {\n            return this.Id.GetHashCode();\n        }\n\n        public override string ToString()\n        {\n            return string.Format(\"[{0} {1}]\", (object)this.GetType().Name, (object)this.Id);\n        }\n\n\n        #endregion\n    }\n```\n\nThe code compiles fine, however when I now try and add a migration I get the following error:\n\n```\nSystem.InvalidOperationException: The type 'MakersLanePlatform.Domain.Entities.EmailActivityEntity`1[System.Int64]' was not mapped. Check that the type has not been explicitly excluded by using the Ignore method or NotMappedAttribute data annotation. Verify that the type was defined as a class, is not primitive or generic, and does not inherit from EntityObject.\n   at System.Data.Entity.Internal.DbSetDiscoveryService.GetSets()\n   at System.Data.Entity.Internal.DbSetDiscoveryService.InitializeSets()\n   at System.Data.Entity.DbContext.InitializeLazyInternalContext(IInternalConnection internalConnection, DbCompiledModel model)\n   at System.Data.Entity.DbContext..ctor(String nameOrConnectionString)\n   at Abp.Domain.Repositories.EntityFramework.AbpDbContext..ctor(String nameOrConnectionString)\n   at MakersLanePlatform.EntityFramework.MakersLanePlatformDbContext..ctor() in e:\\DataSyncPoint\\DJE\\Natiki\\Clients\\MakersLane\\Development\\Platform\\MakersLanePlatform.Infrastructure.EntityFramework\\EntityFramework\\MakersLanePlatformDbContext.cs:line 20\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Data.Entity.Infrastructure.DbContextInfo.CreateInstance()\n   at System.Data.Entity.Infrastructure.DbContextInfo..ctor(Type contextType, DbProviderInfo modelProviderInfo, AppConfig config, DbConnectionInfo connectionInfo, Func`1 resolver)\n   at System.Data.Entity.Migrations.DbMigrator..ctor(DbMigrationsConfiguration configuration, DbContext usersContext, DatabaseExistenceState existenceState, Boolean calledByCreateDatabase)\n   at System.Data.Entity.Migrations.DbMigrator..ctor(DbMigrationsConfiguration configuration)\n   at System.Data.Entity.Migrations.Design.MigrationScaffolder..ctor(DbMigrationsConfiguration migrationsConfiguration)\n   at System.Data.Entity.Migrations.Design.ToolingFacade.ScaffoldRunner.Run()\n   at System.AppDomain.DoCallBack(CrossAppDomainDelegate callBackDelegate)\n   at System.AppDomain.DoCallBack(CrossAppDomainDelegate callBackDelegate)\n   at System.Data.Entity.Migrations.Design.ToolingFacade.Run(BaseRunner runner)\n   at System.Data.Entity.Migrations.Design.ToolingFacade.Scaffold(String migrationName, String language, String rootNamespace, Boolean ignoreChanges)\n   at System.Data.Entity.Migrations.AddMigrationCommand.Execute(String name, Boolean force, Boolean ignoreChanges)\n   at System.Data.Entity.Migrations.AddMigrationCommand.<>c__DisplayClass2.<.ctor>b__0()\n   at System.Data.Entity.Migrations.MigrationsDomainCommand.Execute(Action command)\nThe type 'MakersLanePlatform.Domain.Entities.EmailActivityEntity`1[System.Int64]' was not mapped. Check that the type has not been explicitly excluded by using the Ignore method or NotMappedAttribute data annotation. Verify that the type was defined as a class, is not primitive or generic, and does not inherit from EntityObject.\n```\n\nI have tried various permutations of how I declare the Id property:\n\n``` c#\npublic new TPrimaryKey Id { get; set; }\n```\n\nboth with and without the new keyword but still the error persists. If possible I do not want to modify EmailActivityModel as that is used in other projects that do not use ABP. So I am sure I am missing something obvious here (again).\n\n--Donovan\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/168/comments",
    "author": "natiki",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2014-10-24T17:53:28Z",
        "body": "Hi @natiki ,\n\nJust implement IEntity, not IEntity&lt;TPrimaryKey&gt;. An entity can not be generic. If your Id was not int, say it was long, you should implement IEntity&lt;long&gt;\n\nExample\n\n<pre>public class EmailActivityEntity : EmailActivityModel,  ISoftDelete, IAudited, IEntity\n{\n...\n}</pre>\n\nfor long Id\n\n<pre>public class EmailActivityEntity : EmailActivityModel,  ISoftDelete, IAudited, IEntity&lt;long&gt;\n{\n...\n}</pre>\n"
      }
    ]
  },
  {
    "number": 157,
    "title": "The operation cannot be completed because the DbContext has been disposed...",
    "created_at": "2014-10-11T23:00:52Z",
    "closed_at": "2014-10-17T05:16:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/157",
    "body": "Hi,\n\nI am using EF and having some trouble retrieving LocationMappingTableModel which is defined as follows:\n\n``` c#\n  /// <summary>\n    ///     Base class for all entities defined in the system. This allows for the following\n    ///     COMMON features:\n    ///     - Primary key \"Id\" of type long\n    ///     - Auditing which adds Date & User information for creation and update\n    /// </summary>\n    public class EmEntityCommon : AuditedEntity<long>\n    {\n    }\n\n    /// <summary>\n    ///     Extends the common functionality by adding the ability to mark a record as deleted rather than\n    ///     deleting it from the database. Unless there is a reason not to mark an entity as a soft delete\n    ///     then all entities should descend from this class.\n    /// </summary>\n    public class EmEntityBase : EmEntityCommon, ISoftDelete\n    {\n        #region Implementation of ISoftDelete\n\n        /// <summary>\n        ///     Used to mark an Entity as 'Deleted'.\n        /// </summary>\n        public bool IsDeleted { get; set; }\n\n        #endregion\n    }\n\n[Table(\"LocationMappings\", Schema = \"dbo\")]\n    public class LocationMappingTableModel : EmEntityBase\n    {\n        /// <summary>\n        /// Suppress unique identifier for this entity from base.\n        /// </summary>\n        [NotMapped]\n        public override long Id { get; set; }\n\n\n        [ForeignKey(\"CountryId\")]\n        public virtual CountryTableModel Country { get; set; }\n\n        [Column(Order = 1)]\n        [Key]\n        public long CountryId { get; set; }\n\n        [ForeignKey(\"PostCodeId\")]\n        public virtual PostCodeTableModel PostCode { get; set; }\n\n        [Key]\n        [Column(Order = 2)]\n        public long PostCodeId { get; set; }\n\n        [ForeignKey(\"StateId\")]\n        public virtual StateTableModel State { get; set; }\n\n        [Key]\n        [Column(Order = 3)]\n        public long StateId { get; set; }\n\n        [ForeignKey(\"SuburbId\")]\n        public virtual SuburbTableModel Suburb { get; set; }\n\n        [Column(Order = 4)]\n        [Key]\n        public long SuburbId { get; set; }\n    }\n```\n\nThe issue comes from the fact that when I attempt to access one of the lazy loaded properties viz Country, Suburb, State or PostCode I get \"The operation cannot be completed because the DbContext has been disposed\". Here is my repository method GetLocationMappings():\n\n``` c#\n    /// <summary>\n    ///     Base class for all application services for the application. Implements IApplicationService\n    ///     via descending from ApplicationService.\n    /// </summary>\n    public class EmApplicationServiceBase : ApplicationService\n    {\n    }\n\n\n    public class LocationMappingAppService : EmApplicationServiceBase, ILocationMappingAppService\n    {\n  /// <summary>\n        ///     Retrieves the locationMappings within the system\n        /// </summary>\n        /// <param name=\"aInput\">Filter of which locationMappings to retrieve.</param>\n        /// <returns>Returns the locationMappings within the system.</returns>\n        public GetLocationMappingsOutput GetLocationMappings(GetLocationMappingsInput aInput)\n        {\n            List<LocationMappingTableModel> locationMappings = _LocationMappingRepository.GetAllList();\n            var result = new GetLocationMappingsOutput();\n\n\n            foreach (LocationMappingTableModel locationMappingTableModel in locationMappings)\n            {\n                result.LocationMappings.Add(new LocationMappingDto()\n                {\n                    CountryId = locationMappingTableModel.CountryId,\n                    Country = Mapper.Map<CountryDto>(locationMappingTableModel.Country)\n                });\n            }\n\n            return result;\n        }\n}\n```\n\nFor simplicity sake I have taken out my AutoMapper code and just done \"Country\". As soon as I try and create the new LocationMappingDto I get the exception. As this is all done in a single repository method I don't understand why the connection has been closed?\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/157/comments",
    "author": "natiki",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2014-10-12T10:44:51Z",
        "body": "Hi,\n\nThis is about lazy load of EF. Alternative solutions:\n1. You can make GetLocationMappings method virtual, like:\n   <pre>public virtual GetLocationMappingsOutput GetLocationMappings(GetLocationMappingsInput aInput)</pre>\n   Thus, ABP can implement UOW for this method, and session will be usable in this method. If you did use this class over an interface, it was not needed.\n\nThis works but also implement 2nd solution:\n1. You can select LocationMappingTableModel included Countries. This is better than 1st solution (Actually, you should make it virtual anyway). Because, in first solution, EF will make a db query for each contry and this is a performance killer. This known as N+1 problem. When you Include Contries, it will execute just one query.\n   To implement it, You can add a method to your repository named GetAllListWithCountries() and in that like this:\n   <pre>return GetAll().Include(l => l.Country).ToList();</pre>\n\nIf you have added referenced to EntityFramework nuget package to your application layer and made GetLocationMappings virtual, then you can replace this line:\n\nList<LocationMappingTableModel> locationMappings = _LocationMappingRepository.GetAllList();\n\nwtih this one:\n\nList<LocationMappingTableModel> locationMappings = _LocationMappingRepository.GetAll().Include(l => l.Country).ToList();;\n\nThus, you don't need to create a new repository method.\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2014-10-12T12:02:49Z",
        "body": "I also have some advices:\n- EmEntityCommon and EmEntityBase classes should be abstract as I understand.\n- LocationMappingTableModel is not a good name. Why do you postfix with TableModel? If you want to implement DDD, your entities are Entity, not table model. LocationMapping is enough. If you really like, LocationMappingEntity is better. But if you dont want to implement DDD, it's OK.\n- Your GetLocationMappings method can be much more smaller if you map LocationMappingTableModel  to LocationMappingDto. AutoMapper can do nested mappings.\n"
      },
      {
        "user": "natiki",
        "created_at": "2014-10-13T10:04:11Z",
        "body": "Hi,\n\nThanks for your time. And I will say it again. ABP is GREAT, Some questions:\n\nWhy do I need to make the following method virtual to make UOW work?\n\n``` c#\npublic virtual GetLocationMappingsOutput GetLocationMappings(GetLocationMappingsInput aInput)\n```\n\nHere is the relevant controller code:\n\n``` c#\n    public class LocationMappingsController : EmControllerGridView<GetNewLocationMappingOutput, GetLocationMappingOutput>\n    {\n        private readonly ILocationMappingAppService _LocationMappingAppService;\n\n        /// <summary>\n        ///     Class constructor\n        /// </summary>\n        /// <param name=\"aLocationMappingAppService\">Application service for locationMappings</param>\n        public LocationMappingsController(ILocationMappingAppService aLocationMappingAppService)\n        {\n            ViewBag.PageTitle = \"Location Mappings\";\n            _LocationMappingAppService = aLocationMappingAppService;\n        }\n\n /// <summary>\n        ///     Main view to display all the locationMappings in the system.\n        /// </summary>\n        /// <returns>Returns the view for all the locationMappings in the system.</returns>\n        [AcceptVerbs(HttpVerbs.Get)]\n        public ActionResult Index()\n        {\n            return View(RetrieveAllLocationMappings());\n        }\n```\n\nMy question is assuming I have interpreted the docs correctly this should not fail UOW? As you can see I did use the IRepository interface to call this method?\n\nI understand about using Include() to get the dependent entities. It was a mistake on my part that GetAllList() did that for included objects. Any chance you can add a call GetAllList(bool aWithInclude) where aWithInclude will do the necessary Include calls?\n\nI also appreciate your advice provided:\n- EmEntityCommon, EmEntityBase have been made abstract now. I was previously going to add some common functionality there but then decided against it and did not make them abstract agauin\n- Using TableModel as a suffix is an old habit. Changing to Entity would be better as I already have them descending from EmEntityBase\n- Yep understand about using AutoMapper for GetLocationMappings but as I was having issues with the Include() of Country I had taken it out for debugging.\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2014-10-13T16:58:45Z",
        "body": "Thanks for using it :)\n\nAs I understand, it worked.\n\nAs I see your codes, there is no need for virtual since you are using application service over interface. I did not understand it but I don't see all codes. What RetrieveAllLocationMappings() does?\n\nI'm considering to add an Inlcude method to repository but EF and NHibernate differently implements it. NHibernate does not support multiple include but EF supports it. If you will never change EF, than reference EF from application layer and use GetAll().Include(...). If you don't like it, you can extend IRepository for your project easily. Because I can not promise when I add it to ABP :)\n"
      },
      {
        "user": "natiki",
        "created_at": "2014-10-17T04:08:48Z",
        "body": "Hi,\n\nYep things started working once I used ILocationMappingAppService in the controller. What I don't understand is why UOW failed when I mistakenly had **LocationMappingAppService** as the variable type?\n\n```\n private readonly LocationMappingAppService _LocationMappingAppService;\n```\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2014-10-17T05:16:18Z",
        "body": "Hi @natiki,\n\nIt's easy. ABP uses dynamic proxying and non-virtual methods of a concrete class can not be proxied (can not override to add a dynamic behaviour). So, make your method virtual if you directly use the class. For interfaces, it's different. All methods of an interface can be proxied.\n"
      }
    ]
  },
  {
    "number": 73,
    "title": "Request ApiController",
    "created_at": "2014-08-29T22:17:44Z",
    "closed_at": "2014-08-31T06:11:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/aspnetboilerplate/aspnetboilerplate/issues/73",
    "body": "Hi again,\nI have a question,\nIs there any way to access to ApiController.Request(HttpRequestMessage) from IApplicationService?\n\nThanks.\n",
    "comments_url": "https://api.github.com/repos/aspnetboilerplate/aspnetboilerplate/issues/73/comments",
    "author": "ghost",
    "comments": [
      {
        "user": "hikalkan",
        "created_at": "2014-08-30T09:36:49Z",
        "body": "Hi @bernardo5304,\n\nIt's not possible because application layer is completely independent from Web API layer. So, an app service can not use web api infrastructure. This is by design. ABP's dynamic api controllers expose app services directly to clients by creating dynamic proxies.\n\nIf you want to use web api infrastructure directly, you can derive your classes from AbpApiController. You can also implement your application layer as web api controllers. This is your choice.\n\nBy the way, why you need to ApiController.Request(HttpRequestMessage)? we may find another way.\n"
      },
      {
        "user": "ghost",
        "created_at": "2014-08-30T22:14:22Z",
        "body": "Hi hikaklakn.\nI wanted to upload a file using an Application Service, (Request.Content.ReadAsMultipartAsync)..\n\nFinally i did : HttpContext.Current.Request.Files.\n\nI dont know if it is correct. I think is my bad, and im not understanding layer\u00b4s responsibility.\n\nThank you.\n"
      },
      {
        "user": "hikalkan",
        "created_at": "2014-08-31T06:11:57Z",
        "body": "Hi again,\n\nI think uploading a file is a web-specific job and should be placed in web layer. Your application layer depends on System.Web.dll now. Maybe you can write a regular web api controller for this (not a dynamic generated apicontroller) in YourApplication.WebApi.dll. But, actually this is not bad thing if this application service just used by web clients. You can continue with this solution ;)\n"
      }
    ]
  }
]