[
  {
    "number": 593,
    "title": "在群聊怎么获取@的人username",
    "created_at": "2018-02-10T04:05:31Z",
    "closed_at": "2018-02-28T02:59:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/593",
    "body": "在群聊怎么获取@的人username",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/593/comments",
    "author": "slin1972",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T02:59:17Z",
        "body": "@slin1972 @你的消息若为msg\r\n```python\r\nmsg.actualUserName\r\n```"
      }
    ]
  },
  {
    "number": 590,
    "title": "有没有办法让itchat收到链接时自动打开这个链接？",
    "created_at": "2018-02-01T09:33:23Z",
    "closed_at": "2018-02-28T03:00:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/590",
    "body": "我们在微信客户端，收到一个饿了么链接，点进去就可以收一个优惠券，这个优惠券自动放到与微信地址绑定的饿了么的账户里面去了。\r\n请问如何让itchat实现这个   点进去   的功能？电脑端的浏览器打开微信里面的链接识别不到相应的微信号\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/590/comments",
    "author": "cc9200",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:00:20Z",
        "body": "@cc9200 无法实现，根据描述该操作限定了在客户端完成。"
      }
    ]
  },
  {
    "number": 585,
    "title": "添加好友功能失效",
    "created_at": "2018-01-29T02:19:05Z",
    "closed_at": "2018-02-28T03:07:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/585",
    "body": "请使用`itchat.run(debug=True)`运行，并将输出粘贴在下面:\r\n```\r\nNo uins in 51 message\r\n```\r\n\r\nitchat版本为：'1.3.10'。\r\n此条函数运行后并未收到好友请求，网页版的微信好像也不能加好友了\r\nitchat.add_friend(userName=\"@65635xxxxxxxxxxxxxxxxx7cd9f\")\r\n尝试过其他参数例如\r\nitchat.add_friend(\"@65635xxxxxxxxxxxxxxxxx7cd9f\", status=2, verifyContent='hello', autoUpdate=True)\r\n\r\n均无反应 回应包为{'BaseResponse': {'Ret': -1, 'ErrMsg': '', 'RawMsg': ''}}",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/585/comments",
    "author": "MacmillanBIN",
    "comments": [
      {
        "user": "MacmillanBIN",
        "created_at": "2018-01-29T04:21:18Z",
        "body": "有的可用 有的不可用 通过群聊获取群成员username\r\n然后加好友\r\n"
      },
      {
        "user": "rockiecxh",
        "created_at": "2018-02-21T16:21:56Z",
        "body": "我收到错误消息{u'BaseResponse': {u'ErrMsg': u'', u'Ret': -1, 'RawMsg': u''}}"
      },
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:07:49Z",
        "body": "@MacmillanBIN 主动加好友现在次数限制很严重，另外，使用的UserName每次登陆会变化。"
      }
    ]
  },
  {
    "number": 583,
    "title": "无法通过微信号获取微信好友",
    "created_at": "2018-01-25T02:51:07Z",
    "closed_at": "2018-02-28T03:08:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/583",
    "body": "\r\n```\r\naim_people = itchat.search_friends(name = name)\r\n\r\n    itchat.send(r\"这是给您推荐的链接:%s\" % (sender_set[name]), toUserName = aim_people[0]['UserName'])\r\n    time.sleep(.5)\r\n```\r\n> 我只想做个发送功能，根据指定好友微信号发送特定消息\r\n> 然而改了几次都没用\r\n```\r\naim_people = itchat.search_friends(wechatAccount = name)\r\n```\r\n这样写也不行，只能根据微信昵称发送",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/583/comments",
    "author": "JunZhengLiu",
    "comments": [
      {
        "user": "muchamucha",
        "created_at": "2018-02-04T15:45:56Z",
        "body": "我也是同类问题，每一次登录，同一个用户的userName都不一样。大概是微信故意的，不让开发者获取账户的唯一ID。"
      }
    ]
  },
  {
    "number": 582,
    "title": "怎么@其他人",
    "created_at": "2018-01-21T06:12:29Z",
    "closed_at": "2018-02-28T03:08:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/582",
    "body": "version 1.3.10\r\n怎么@其他人\r\n怎么确定接受到的文本中的@有效",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/582/comments",
    "author": "Matt-V50",
    "comments": [
      {
        "user": "qhzxc0015",
        "created_at": "2018-01-23T00:25:11Z",
        "body": "同问，可以发送@name，但是没有@效果代码是u'@%s\\u2005 %'"
      },
      {
        "user": "xinruoyusixian",
        "created_at": "2018-01-25T01:31:40Z",
        "body": "编码有问题吧我用的时候加@都起作用的(@%s %s)%(toUser,msg)"
      },
      {
        "user": "Matt-V50",
        "created_at": "2018-01-26T09:27:17Z",
        "body": "@xinruoyusixian 真的？你的toUser是群内昵称吗？"
      },
      {
        "user": "ghost",
        "created_at": "2018-01-29T15:03:16Z",
        "body": "@xinruoyusixian 请问能看看源码吗？！我试了都不行啊"
      },
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:08:46Z",
        "body": "@FavorMylikes 只能形式上进行@，无法产生实际效果。"
      }
    ]
  },
  {
    "number": 581,
    "title": "多选消息后合并转发, 怎么收到并获取这个内容?",
    "created_at": "2018-01-21T03:40:24Z",
    "closed_at": "2018-02-28T03:09:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/581",
    "body": "多选消息后合并转发, 怎么收到并获取这个内容, 现在提示的是:\"该类型暂不支持,请在手机上查看\"\r\n但是我用电脑版的微信就是支持的.\r\nItChat能不能支持获取合并转发?",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/581/comments",
    "author": "gclsoft",
    "comments": [
      {
        "user": "tiseheaini",
        "created_at": "2018-01-25T19:06:53Z",
        "body": "ItChat 是基于 微信 web 的 API，微信 web不支持的消息类型是没办法实现的。\r\n好了，这个 issue 关了吧"
      }
    ]
  },
  {
    "number": 580,
    "title": "如何让自动回复的功能在后台运行？",
    "created_at": "2018-01-17T09:11:28Z",
    "closed_at": "2018-02-28T03:10:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/580",
    "body": "@itchat.msg_register(itchat.content.TEXT)\r\ndef text_reply(msg):\r\n    return msg.text\r\n\r\n在运行itchat.run()之后，就开始了监听的模式。\r\n请问如何让自动回复功能运行在子线程中，使得terminal中仍然能正常输出主线程的结果，只有当子线程被触发时才会输出自动回复的消息？\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/580/comments",
    "author": "xdongz",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:10:56Z",
        "body": "@xdongz 如下命令不会阻塞主线程\r\n```python\r\nitchat.run(blockThread=False)\r\n```"
      }
    ]
  },
  {
    "number": 579,
    "title": "微信号被封掉了",
    "created_at": "2018-01-15T05:26:11Z",
    "closed_at": "2018-02-28T03:11:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/579",
    "body": "建议加点提示",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/579/comments",
    "author": "xinruoyusixian",
    "comments": [
      {
        "user": "deepbreath",
        "created_at": "2018-01-16T06:09:44Z",
        "body": "为啥被封了"
      },
      {
        "user": "xinruoyusixian",
        "created_at": "2018-01-17T00:42:16Z",
        "body": "封掉三个号了。感觉不会再爱了。每次随机延迟3-30秒还封号，抗不过微信有机器人过滤。"
      },
      {
        "user": "hcchengithub",
        "created_at": "2018-01-20T00:33:43Z",
        "body": "1. 延迟 3 sec 已知不夠\r\n2. 你的 延迟 全不全面, 有沒有漏掉的? 每一個 send() 之前都要延遲."
      },
      {
        "user": "PinoyCao",
        "created_at": "2018-02-24T11:32:04Z",
        "body": "我的微信web也登录不上去了 好尴尬"
      },
      {
        "user": "Jam1zhu",
        "created_at": "2018-08-30T09:49:30Z",
        "body": "@xinruoyusixian 是被封号了？还是微信web登录不上了？"
      }
    ]
  },
  {
    "number": 576,
    "title": "关于hotReload的问题",
    "created_at": "2018-01-12T06:52:56Z",
    "closed_at": "2018-02-28T03:12:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/576",
    "body": "掉线后找不到联系人\r\n ```\r\nitcha.auto_login(hotReload=True)\r\ntoUser = itchat.search_friends(remarkName='test')[0]['UserName']\r\n```\r\n正常登陆后没问题，但是登陆过期后再次重新登陆在手机再次授权时，第二行会空指针，也就是search_friends结果为空。。需要把pkl删除重新扫码登陆才能恢复正常",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/576/comments",
    "author": "Thankall",
    "comments": [
      {
        "user": "hellloveyy",
        "created_at": "2018-01-19T06:12:25Z",
        "body": "我出现使用  hotReload 之后登陆自动 LOG OUT!"
      },
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:12:52Z",
        "body": "@Thankall 更新到最新版本试试，另，本来找得到吗？\r\n```bash\r\npython -m pip install itchat -U\r\n```"
      }
    ]
  },
  {
    "number": 575,
    "title": "返回二维码如何实现",
    "created_at": "2018-01-11T16:20:24Z",
    "closed_at": "2018-02-28T03:27:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/575",
    "body": "请问能不能实现将二维码返回，这样我想尝试在手机不在电脑旁边的时间让电脑把二维码发到邮箱里之类的地方远程登录。当然，如果有更好的办法也请多多指教。\r\n我认为itchat非常好，感谢littlecoder",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/575/comments",
    "author": "HarryFengYX",
    "comments": [
      {
        "user": "gwljt",
        "created_at": "2018-02-11T11:56:17Z",
        "body": "itchat/components/login.py  122行，添加发邮件 "
      },
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:27:31Z",
        "body": "@HarryFengYX 参考一下这个：\r\n```python\r\nimport threading\r\n\r\nfrom flask import Flask, make_response\r\nimport itchat\r\n\r\nqrSource = ''\r\n\r\ndef start_flask():\r\n    flaskApp = Flask('itchat')\r\n    @flaskApp.route('/')\r\n    def return_qr():\r\n        if len(qrSource) < 100:\r\n            return qrSource\r\n        else:\r\n            response = make_response(qrSource)\r\n            response.headers['Content-Type'] = 'image/jpeg'\r\n            return response\r\n    flaskApp.run()\r\nflaskThread = threading.Thread(target=start_flask)\r\nflaskThread.setDaemon(True)\r\nflaskThread.start()\r\n\r\ndef qrCallback(uuid, status, qrcode):\r\n    if status == '0':\r\n        global qrSource\r\n        qrSource = qrcode\r\n    elif status == '200':\r\n        qrSource = 'Logged in!'\r\n    elif status == '201':\r\n        qrSource = 'Confirm'\r\n\r\n@itchat.msg_register(itchat.content.TEXT)\r\ndef reply_text(msg):\r\n    return msg['Text']\r\n\r\nitchat.auto_login(True, qrCallback=qrCallback)\r\nitchat.run()\r\n```"
      },
      {
        "user": "jjuu",
        "created_at": "2018-05-27T02:09:36Z",
        "body": "解决了我的困惑，我在flask里启动一个itchat线程，等待用户扫码二维码应该就可以了实现web登陆了。"
      }
    ]
  },
  {
    "number": 573,
    "title": "请问如何获取转账消息？",
    "created_at": "2018-01-07T11:09:30Z",
    "closed_at": "2018-02-28T03:14:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/573",
    "body": "请问支持转账消息的获取吗？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/573/comments",
    "author": "starkZH",
    "comments": [
      {
        "user": "gwljt",
        "created_at": "2018-02-11T11:57:13Z",
        "body": "@starkZH 搞定了贴一下，您是说的扫描二维码转账吗？"
      },
      {
        "user": "starkZH",
        "created_at": "2018-02-11T12:05:33Z",
        "body": "是的，或者可以自动收账吗？"
      },
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:14:00Z",
        "body": "@starkZH 二维码转账是有提示的，但是建议不要做收款机器人。"
      }
    ]
  },
  {
    "number": 564,
    "title": "cannot send msg",
    "created_at": "2017-12-13T02:57:52Z",
    "closed_at": "2018-02-28T03:33:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/564",
    "body": "Recently (from last week) After scanning code to login successfully, it was always stuck there with no any progressing like generating pkl file or sending msg. Before it works normally. Any suggestion? Thanks in advance. ",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/564/comments",
    "author": "317687428",
    "comments": [
      {
        "user": "hcchengithub",
        "created_at": "2017-12-14T02:24:26Z",
        "body": "Turn on the 'debug' switch and examine messages during your tests.\r\ne.g. itchat.run(debug=True)"
      },
      {
        "user": "317687428",
        "created_at": "2017-12-18T01:14:12Z",
        "body": "@hcchengithub thank you for reply. i found that the method itchat.get_friends() didn't return any value, is it because the web wechat API was blocked? "
      },
      {
        "user": "hcchengithub",
        "created_at": "2017-12-18T14:24:09Z",
        "body": "@317687428  itchat.get_friends() works but only the name=xxxxx argument works fine and it fits only *exact* nickName. "
      },
      {
        "user": "317687428",
        "created_at": "2017-12-19T04:44:11Z",
        "body": "@hcchengithub thanks, but it works normally by logging with another account. "
      }
    ]
  },
  {
    "number": 561,
    "title": "当前登录环境异常。为了你的帐号安全，暂时不能登录web微信。你可以通过Windows微信、Mac微信或者手机客户端微信登录。",
    "created_at": "2017-12-07T07:56:32Z",
    "closed_at": "2017-12-15T09:19:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/561",
    "body": "已被禁止登陆，发消息发太多了，哈哈哈，大家注意",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/561/comments",
    "author": "zhon9",
    "comments": [
      {
        "user": "ajun2006",
        "created_at": "2017-12-11T08:38:08Z",
        "body": "为什么用QQ浏览器的微信就可以登录呢？QQ浏览器的微信是不是跟web微信用的协议不同呢？"
      },
      {
        "user": "hcchengithub",
        "created_at": "2017-12-11T13:53:38Z",
        "body": "@ajun2006 甚麼瀏覽器應該沒差, 你繼續用 IE 也是時好時壞吧? 我的理論是: 有裝了 \"Windows WeChat\" 的 PC 就有可能禁止 WeChat Web，您覺得是這樣嗎? \r\n增補: 我自己已經有答案了：很不幸，沒有裝 \"Windows WeChat\" 的 PC 也會有本問題。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-12-15T09:19:25Z",
        "body": "@zhon9 这就是被检测出使用机器人的情况，只能等解封了，短的几天，长的半年。"
      }
    ]
  },
  {
    "number": 560,
    "title": "创建群聊失败，代码和log如下",
    "created_at": "2017-12-05T02:32:43Z",
    "closed_at": "2017-12-15T09:20:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/560",
    "body": "创建群聊的方法如下\r\n```\r\ndef check_friend():\r\n    friend_list = itchat.get_friends(update=True)\r\n    for i in range(1,  int(len(friend_list) / 10 + 0.5)+1):\r\n        start, end, name = ((i - 1) * 10 + 1, i * 10 if i * 10 < len(friend_list)\r\n                            else len(friend_list), 'test%d' % i)\r\n        logging.info((start, end, name))\r\n        logging.info(json.dumps(friend_list[start: end]))\r\n        r = itchat.create_chatroom(\r\n            friend_list[start: end], topic=name)\r\n        logging.info(json.dumps(r, ensure_ascii=False))\r\n        time.sleep(random.randint(3, 10))\r\n    chatrooms = itchat.get_chatrooms(update=True)\r\n    logging.info(len(chatrooms))\r\n    pass\r\n```\r\n返回值是乱码\r\n```\r\n{\"BaseResponse\": {\"Ret\": 1, \"ErrMsg\": \"æä½å¤ªé¢ç¹ï¼è¯·ç¨ååè¯ã\", \"RawMsg\": \"æä½å¤ªé¢ç¹ï¼è¯·ç¨ååè¯ã\"}, \"Topic\": \"\", \"PYInitial\": \"\", \"QuanPin\": \"\", \"MemberCount\": 0, \"MemberList\": [], \"ChatRoomName\": \"\", \"BlackList\": \"\"}\r\n\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/560/comments",
    "author": "jaxlifu",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-12-15T09:20:43Z",
        "body": "@RainliFu 创建群聊的频率限制很严格，看具体限制，一个小时有事只能创两三个。"
      }
    ]
  },
  {
    "number": 557,
    "title": "如何发送分享、链接（Sharing）类型的消息？",
    "created_at": "2017-11-27T09:35:02Z",
    "closed_at": "2017-12-15T09:22:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/557",
    "body": "如题，发送文本、图片、文件、小视频都没有问题，但是分享类的消息如何发送？\r\n已经查到msgtype=49，但是始终不知道怎么调用，万般尝试也没有效果，求助！",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/557/comments",
    "author": "softshare",
    "comments": [
      {
        "user": "ligengdipan",
        "created_at": "2017-11-28T05:46:37Z",
        "body": "请问你那边还能用机器人吗，我现在机器人连登陆都登录不聊了，求赐教。"
      },
      {
        "user": "ctlPython",
        "created_at": "2017-11-28T05:47:22Z",
        "body": "你是被封了"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-12-15T09:22:25Z",
        "body": "@softshare 分享类消息是因为微信后台限制无法发送，目前没有解决方案。"
      },
      {
        "user": "hh-1106",
        "created_at": "2024-03-27T16:00:39Z",
        "body": "现在可以发送了吗？"
      }
    ]
  },
  {
    "number": 554,
    "title": "python2 与python3 群消息不一致",
    "created_at": "2017-11-17T05:04:58Z",
    "closed_at": "2017-12-15T09:24:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/554",
    "body": "运行环境为python2 时收到的群消息包含群名称，群成员等信息\r\n而换为python3时不包含群名称群成员等信息\r\n\r\n这是什么原因导致的？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/554/comments",
    "author": "huanglizhuo",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-12-15T09:24:38Z",
        "body": "@huanglizhuo 不是python版本导致的，是后台数据包的确存在不统一。"
      }
    ]
  },
  {
    "number": 536,
    "title": "通过get_msg总是丢消息的问题",
    "created_at": "2017-10-26T07:36:59Z",
    "closed_at": "2017-12-15T09:44:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/536",
    "body": "部分丢失消息的日志情况\r\n```\r\n[login] sync_check at :2017-10-24 22:30:09.614974,2\r\n[login.get_msg] run at : 2017-10-24 22:30:09.753840 \r\n[login.get_msg.content]: {u'Profile': {u'BitFlag': 0, u'UserName': {u'Buff': u''}, u'HeadImgUrl': u'', u'BindMobile': {u'Buff': u''}, u'Status': 0, u'Alias': u'', u'BindUin': 0, u'PersonalCard': 0, u'Signature': u'', u'Sex': 0, u'NickName': {u'Buff': u''}, u'BindEmail': {u'Buff': u''}, u'HeadImgUpdateFlag': 0}, u'SyncKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418530, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855409, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'ModContactCount': 0, u'SKey': u'', u'ContinueFlag': 0, u'BaseResponse': {u'ErrMsg': u'', u'Ret': 0}, u'AddMsgList': [], u'SyncCheckKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418530, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855409, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'AddMsgCount': 0, u'ModChatRoomMemberCount': 0, u'ModContactList': [], u'DelContactList': [], u'ModChatRoomMemberList': [], u'DelContactCount': 0} \r\n[login] run at : 2017-10-24 22:30:09.754220 \r\n[login] sync_check at :2017-10-24 22:30:13.948436,2\r\n[login.get_msg] run at : 2017-10-24 22:30:14.098848 \r\n[login.get_msg.content]: {u'Profile': {u'BitFlag': 0, u'UserName': {u'Buff': u''}, u'HeadImgUrl': u'', u'BindMobile': {u'Buff': u''}, u'Status': 0, u'Alias': u'', u'BindUin': 0, u'PersonalCard': 0, u'Signature': u'', u'Sex': 0, u'NickName': {u'Buff': u''}, u'BindEmail': {u'Buff': u''}, u'HeadImgUpdateFlag': 0}, u'SyncKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418531, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855413, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'ModContactCount': 0, u'SKey': u'', u'ContinueFlag': 0, u'BaseResponse': {u'ErrMsg': u'', u'Ret': 0}, u'AddMsgList': [], u'SyncCheckKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418531, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855413, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'AddMsgCount': 0, u'ModChatRoomMemberCount': 0, u'ModContactList': [], u'DelContactList': [], u'ModChatRoomMemberList': [], u'DelContactCount': 0} \r\n[login] run at : 2017-10-24 22:30:14.099180 \r\n[login] sync_check at :2017-10-24 22:30:34.678971,2\r\n[login.get_msg] run at : 2017-10-24 22:30:34.808880 \r\n[login.get_msg.content]: {u'Profile': {u'BitFlag': 0, u'UserName': {u'Buff': u''}, u'HeadImgUrl': u'', u'BindMobile': {u'Buff': u''}, u'Status': 0, u'Alias': u'', u'BindUin': 0, u'PersonalCard': 0, u'Signature': u'', u'Sex': 0, u'NickName': {u'Buff': u''}, u'BindEmail': {u'Buff': u''}, u'HeadImgUpdateFlag': 0}, u'SyncKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418532, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855434, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'ModContactCount': 0, u'SKey': u'', u'ContinueFlag': 0, u'BaseResponse': {u'ErrMsg': u'', u'Ret': 0}, u'AddMsgList': [], u'SyncCheckKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418532, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855434, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'AddMsgCount': 0, u'ModChatRoomMemberCount': 0, u'ModContactList': [], u'DelContactList': [], u'ModChatRoomMemberList': [], u'DelContactCount': 0} \r\n[login] run at : 2017-10-24 22:30:34.809237 \r\n[login] sync_check at :2017-10-24 22:30:39.484757,2\r\n[login.get_msg] run at : 2017-10-24 22:30:39.621262 \r\n[login.get_msg.content]: {u'Profile': {u'BitFlag': 0, u'UserName': {u'Buff': u''}, u'HeadImgUrl': u'', u'BindMobile': {u'Buff': u''}, u'Status': 0, u'Alias': u'', u'BindUin': 0, u'PersonalCard': 0, u'Signature': u'', u'Sex': 0, u'NickName': {u'Buff': u''}, u'BindEmail': {u'Buff': u''}, u'HeadImgUpdateFlag': 0}, u'SyncKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418533, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855439, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'ModContactCount': 0, u'SKey': u'', u'ContinueFlag': 0, u'BaseResponse': {u'ErrMsg': u'', u'Ret': 0}, u'AddMsgList': [], u'SyncCheckKey': {u'Count': 8, u'List': [{u'Val': 656406361, u'Key': 1}, {u'Val': 656418533, u'Key': 2}, {u'Val': 656417645, u'Key': 3}, {u'Val': 656406745, u'Key': 11}, {u'Val': 656404817, u'Key': 13}, {u'Val': 1508855439, u'Key': 201}, {u'Val': 1508840994, u'Key': 1000}, {u'Val': 1508841133, u'Key': 1001}]}, u'AddMsgCount': 0, u'ModChatRoomMemberCount': 0, u'ModContactList': [], u'DelContactList': [], u'ModChatRoomMemberList': [], u'DelContactCount': 0} \r\n```\r\n\r\n上述日志记录是在login.py中增加 输出的\r\n```python\r\ndef get_msg(self):\r\n    url = '%s/webwxsync?sid=%s&skey=%s&pass_ticket=%s' % (\r\n        self.loginInfo['url'], self.loginInfo['wxsid'],\r\n        self.loginInfo['skey'],self.loginInfo['pass_ticket'])\r\n    data = {\r\n        'BaseRequest' : self.loginInfo['BaseRequest'],\r\n        'SyncKey'     : self.loginInfo['SyncKey'],\r\n        'rr'          : ~int(time.time()), }\r\n    headers = {\r\n        'ContentType': 'application/json; charset=UTF-8',\r\n        'User-Agent' : config.USER_AGENT }\r\n    r = self.s.post(url, data=json.dumps(data), headers=headers, timeout=config.TIMEOUT)\r\n    dic = json.loads(r.content.decode('utf-8', 'replace'))\r\n    nowx =datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S.%f')\r\n    logger.info('[login.get_msg] run at : %s ' % nowx)\r\n    logger.info('[login.get_msg.content]: %s ' % (dic))\r\n ```\r\n\r\n您的itchat版本为：1.3.9\r\n\r\n其他的内容或者问题更详细的描述都可以添加在下面：\r\n\r\n使用itchat跟踪消息，大部分时间都能有效的获取消息信息，但是基本上每天都存在丢失消息的情况，上面是最近丢消息多的情况，从上面可以看出，返回了selector=2,通过get_msg获取回来的消息体中确没有任何消息（我通过手机上的消息确认，在该时间点肯定是有新消息的），不知道是什么情况，希望能给与帮助，丢消息的问题比较困扰。。\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/536/comments",
    "author": "AnickYZ",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-12-15T09:44:50Z",
        "body": "@AnickYZ 我也碰到过该情况，经过尝试也在网页版上复现了该问题。\r\n所以估计是协议本身的问题，我测试下来几乎无法碰到，目前也暂时无法修复。"
      }
    ]
  },
  {
    "number": 534,
    "title": "登录的时候出现这些问题 (python2.7 && pip 2)",
    "created_at": "2017-10-17T11:15:47Z",
    "closed_at": "2017-12-15T09:45:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/534",
    "body": "  File \"nihao.py\", line 7, in <module>\r\n    itchat.auto_login()\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/register.py\", line 36, in auto_login\r\n    loginCallback=loginCallback, exitCallback=exitCallback)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 49, in login\r\n    picDir=picDir, qrCallback=qrCallback)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 123, in get_QR\r\n    utils.print_qr(picDir)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/utils.py\", line 83, in print_qr\r\n    subprocess.call(['xdg-open', fileDir])\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 523, in call\r\n    return Popen(*popenargs, **kwargs).wait()\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 711, in __init__\r\n    errread, errwrite)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 1343, in _execute_child\r\n    raise child_exception\r\nOSError: [Errno 2] No such file or directory",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/534/comments",
    "author": "19940308cai",
    "comments": [
      {
        "user": "NullYing",
        "created_at": "2017-11-02T01:40:33Z",
        "body": "auto_login加上enableCmdQR=True参数，可以解决，不过加上之后，出现的二维码是乱的"
      },
      {
        "user": "sunxiayi",
        "created_at": "2017-11-05T20:32:39Z",
        "body": "我用windows10的ubuntu bash登录的时候也出现了这样的错误。后来用python3的IDLE的登录就可以了。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-12-15T09:45:22Z",
        "body": "需要有可以打开图片的软件才能打开图片，若没有可以使用命令行输出。"
      }
    ]
  },
  {
    "number": 530,
    "title": "消息撤回事件",
    "created_at": "2017-09-30T02:43:02Z",
    "closed_at": "2018-02-28T03:39:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/530",
    "body": "如何能捕获撤回消息事件。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/530/comments",
    "author": "JoyChou93",
    "comments": [
      {
        "user": "dan91ng",
        "created_at": "2017-09-30T07:55:00Z",
        "body": "时时入库"
      },
      {
        "user": "laohanme",
        "created_at": "2017-10-03T03:13:55Z",
        "body": "可以把信息写进log里面"
      },
      {
        "user": "williamchai",
        "created_at": "2017-10-14T00:38:42Z",
        "body": "如何知道哪些消息撤回了呢？比如一旦有某个群里的消息撤回了就发个通知"
      }
    ]
  },
  {
    "number": 525,
    "title": "UnicodeEncodeError: 'ascii' codec can't encode characters in position 31-60: ordinal not in range(128)",
    "created_at": "2017-09-28T08:52:53Z",
    "closed_at": "2018-02-28T03:42:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/525",
    "body": "测试环境:python2.7\r\n安装方法:pip install itchat\r\n测试代码：\r\n```python\r\n#coding=utf-8\r\nimport itchat, time\r\n@itchat.msg_register(itchat.content.TEXT)\r\ndef text_reply(msg):\r\n    return msg.text\r\n\r\nitchat.auto_login(True)\r\nitchat.run(debug=True)\r\n```\r\n\r\n运行时cmd输出信息：\r\n```bash\r\nGetting uuid of QR code.\r\nDownloading QR code.\r\nPlease scan the QR code to log in.\r\nPlease press confirm on your phone.\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 13, in <module>\r\n    itchat.auto_login()\r\n  File \"/Users/Tenya/Temp/python_test/ItChat/itchat/components/register.py\", line 36, in auto_login\r\n    loginCallback=loginCallback, exitCallback=exitCallback)\r\n  File \"/Users/Tenya/Temp/python_test/ItChat/itchat/components/login.py\", line 53, in login\r\n    status = self.check_login()\r\n  File \"/Users/Tenya/Temp/python_test/ItChat/itchat/components/login.py\", line 137, in check_login\r\n    if process_login_info(self, r.text):\r\n  File \"/Users/Tenya/Temp/python_test/ItChat/itchat/components/login.py\", line 172, in process_login_info\r\n    for node in xml.dom.minidom.parseString(r.text).documentElement.childNodes:\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/xml/dom/minidom.py\", line 1928, in parseString\r\n    return expatbuilder.parseString(string)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/xml/dom/expatbuilder.py\", line 940, in parseString\r\n    return builder.parseString(string)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/xml/dom/expatbuilder.py\", line 223, in parseString\r\n    parser.Parse(string, True)\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 31-60: ordinal not in range(128)\r\n```\r\n\r\n请问这个unicodeEncodeError是怎样导致的？如何解决",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/525/comments",
    "author": "nhmice",
    "comments": [
      {
        "user": "ZhangQian-Cheryl",
        "created_at": "2017-10-25T03:29:18Z",
        "body": "我的情况是这样的，新注册的账号不能登录网页版，所以扫码登录的时候会返回提示，应该是这个提示导致的unicodeEncodeError的"
      },
      {
        "user": "70kg",
        "created_at": "2017-10-26T07:09:25Z",
        "body": "注册多久的算新注册的？  我的帐号都好几个月了还是不行 @ZhangQian-Cheryl "
      },
      {
        "user": "ZhangQian-Cheryl",
        "created_at": "2017-10-26T07:19:58Z",
        "body": "@70kg  不知道诶，你可以用你的账号登录下网页版微信看看，如果网页版微信都不能登录，那itchat也是登录不了的。"
      },
      {
        "user": "yolandazcc",
        "created_at": "2017-11-06T04:36:55Z",
        "body": "我也遇到了。登陆成功后运行1~2天掉线，再次登陆就失败，报以上错误"
      },
      {
        "user": "NullYing",
        "created_at": "2017-11-12T08:47:49Z",
        "body": "itchat捕获错误信息有问题，尤其是封号信息"
      },
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T03:42:34Z",
        "body": "@nhmice 账号是否仍存在该问题？可以邮件联系我，我看一下是否能够获取登录异常的提示。"
      }
    ]
  },
  {
    "number": 517,
    "title": "可不可以将联系人和聊天信息等保存到数据库",
    "created_at": "2017-09-20T10:43:17Z",
    "closed_at": "2018-02-28T04:07:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/517",
    "body": "可不可以将联系人和聊天信息等保存到数据库",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/517/comments",
    "author": "bestfc",
    "comments": [
      {
        "user": "mapleflow",
        "created_at": "2017-09-21T06:50:13Z",
        "body": "联系人如果经常变动,没有唯一的东西, 保存的意义在哪?\r\n聊天记录可以保存起来."
      },
      {
        "user": "bestfc",
        "created_at": "2017-09-21T07:43:14Z",
        "body": "没有能确认唯一性的东西吗\r\n撇开这个不谈，如果在不修改源码的情况下保存数据库？"
      },
      {
        "user": "pengyuwei",
        "created_at": "2017-09-22T15:47:33Z",
        "body": "拿到消息保存就好了呀"
      },
      {
        "user": "jackylee1",
        "created_at": "2022-06-22T11:14:39Z",
        "body": "聊天记录是连图片也可以下载下来保存吗"
      }
    ]
  },
  {
    "number": 516,
    "title": "微信好友申请自动通过，通过关键词加群功能报错。",
    "created_at": "2017-09-20T06:09:00Z",
    "closed_at": "2018-02-28T04:10:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/516",
    "body": "刚刚启动时候好友申请，推送关键字加群，这个功能还好用。但一段时间后，添加好友不能自动通过，也不能通过关键字加群，后台报错：\r\nitchat/itchat/components/contact.py\", line 152, in update_local_chatrooms\r\n    'UserName', oldChatroom['ChatRoomOwner']).get('Uin', 0)\r\nAttributeError: 'NoneType' object has no attribute 'get'\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/516/comments",
    "author": "dockersky",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2018-02-28T04:10:14Z",
        "body": "@dockersky 微信后台回复数据出问题了，数据正常后就会正常。"
      }
    ]
  },
  {
    "number": 511,
    "title": "能否提供下载头像的功能？",
    "created_at": "2017-09-13T10:02:22Z",
    "closed_at": "2017-09-20T02:49:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/511",
    "body": "虽然能获取到头像的链接，但是因为cookie不一致，无法下载头像图片，能否提供下载头像的功能呢？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/511/comments",
    "author": "djjeng77",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T01:42:07Z",
        "body": "@djjeng77 为什么说cookie不一致，我这里用这段程序测试通过的，有没有具体的报错？\r\n\r\n```python\r\nimport itchat\r\n\r\nitchat.auto_login(True)\r\nuser = itchat.get_friends()[0]\r\nr = user.get_head_image('header.jpg')\r\nprint(r)\r\n```"
      },
      {
        "user": "djjeng77",
        "created_at": "2017-09-20T02:49:43Z",
        "body": "不好意思，是我自己没仔细看文档。我自己下载的方式错了。。。。"
      }
    ]
  },
  {
    "number": 510,
    "title": "你好，请问无法登陆web微信怎么解决？",
    "created_at": "2017-09-12T13:27:31Z",
    "closed_at": "2017-09-20T01:49:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/510",
    "body": "手机登录之后并没有被冻结帐号。\r\n当前登录环境异常。为了你的帐号安全，暂时不能登录web微信。你可以通过手机客户端或者windows微信登录。\r\n\r\n微信版本6.5.15\r\nitchat版本1.3.9\r\n\r\nYour wechat account may be LIMITED to log in WEB wechat, error info:\r\n<error><ret>1203</ret><message>当前登录环境异常。为了你的帐号安全，暂时不能登录web微信。你可以通过手机客户端或者windows微信登录。</message></error>",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/510/comments",
    "author": "zh1665",
    "comments": [
      {
        "user": "doylecnn",
        "created_at": "2017-09-14T12:32:16Z",
        "body": "同样遇到这个问题\r\n感觉开发这边没法解决……\r\n也许要先用桌面版“养”一整子小号才行……\r\n"
      },
      {
        "user": "2788",
        "created_at": "2017-09-16T22:46:02Z",
        "body": "貌似就是封了  这里封号指的是web微信,手机端是可以用的"
      },
      {
        "user": "doylecnn",
        "created_at": "2017-09-17T02:56:48Z",
        "body": "@2788 养也没用了吗？叹气……没那么多手机号去开微信小号啊……"
      },
      {
        "user": "2788",
        "created_at": "2017-09-17T16:13:39Z",
        "body": "@doylecnn  我看了相关的项目下面的issue, 到目前为止并没有解决方案,如果被封了. 没有解封的方法 不过也不用担心 手机端是能用的 web不能.   养小号哪有这么多手机号开小号啊"
      },
      {
        "user": "GitOffice",
        "created_at": "2017-09-18T00:00:11Z",
        "body": "@2788 请问封号了,那就是说itchat机器人功能就没法用了?并且要求是常登录状态?"
      },
      {
        "user": "dorispan",
        "created_at": "2017-09-18T10:51:38Z",
        "body": "新注册的账号也不能登录了？\r\n“为了你的帐号安全，新注册的微信号不能登录网页微信”\r\n没有解法吗？"
      },
      {
        "user": "2788",
        "created_at": "2017-09-18T16:02:18Z",
        "body": "@dorispan  目前没有办法,我劝你还是别折腾这个了,我现在都准备不玩这个了, 最近比较严了,很多人反应被封号, 而且前两天已经对新号进行了处理,不让新号登录web微信了,老号没有影响,但是封号的风险很大."
      },
      {
        "user": "SeekPoint",
        "created_at": "2019-07-11T02:21:46Z",
        "body": "我的是老号也是这样，而且两三个都是"
      }
    ]
  },
  {
    "number": 509,
    "title": "关于下载附件的内容",
    "created_at": "2017-09-11T10:05:00Z",
    "closed_at": "2017-09-20T02:04:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/509",
    "body": "测试过下载附件的语音，图片都没有问题。\r\n但是下载的视频是个0kb大小的文件。\r\n完全无法播放。\r\n下面是下载代码\r\npath = 'd:\\\\wx_client\\\\res_' + str(itchat.search_friends()['Uin'])\r\n        data['fileName'] = msg.fileName\r\n        isExists = os.path.exists(path)\r\n        print(isExists)\r\n        if isExists is False:\r\n            os.makedirs(path)\r\n        msg.download(path + '\\\\' + msg.fileName)",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/509/comments",
    "author": "djjeng77",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:04:56Z",
        "body": "@djjeng77 这是目前网页版的问题，网页版的视频下载接口有事就是不可用的。"
      }
    ]
  },
  {
    "number": 508,
    "title": "用户查找",
    "created_at": "2017-09-11T02:32:38Z",
    "closed_at": "2017-09-20T01:49:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/508",
    "body": "您好，\r\n请问itchat.search_friends()这个功能是从好友列表里查找某特定用户么？\r\n请问itchat是否有根据某帐号（QQ号码、手机号码）搜索用户（即已知一个手机号或者QQ号，查找是否存在用此号码注册的微信用户）、“添加好友” 的功能？谢谢\r\n\r\n您的itchat版本为：`[1.3.9]`。（可通过`python -c \"import itchat;print(itchat.__version__)\"`获取）\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/508/comments",
    "author": "nlrabbit",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T01:49:51Z",
        "body": "@nlrabbit 没法通过qq和手机号搜索，只支持搜索昵称。"
      }
    ]
  },
  {
    "number": 507,
    "title": "AttributeError: 'WeChat' object has no attribute 'newInstance'",
    "created_at": "2017-09-08T20:30:04Z",
    "closed_at": "2017-09-20T01:52:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/507",
    "body": "```\r\nimport threading\r\nimport itchat\r\n\r\nclass WeChat(threading.Thread):\r\n\r\n    def __int__(self):\r\n        threading.Thread.__init__(self)\r\n        self.newInstance = itchat.new_instance()\r\n\r\n    def run(self):\r\n        self.newInstance.auto_login(hotReload=True, statusStorageDir='newInstance.pkl')\r\n        self.newInstance.run()\r\n\r\nif __name__ == '__main__':\r\n    wx = WeChat()\r\n    wx.start() \r\n\r\nso, this is my code, the error is \r\n\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/Users/shasha/Desktop/飞天/manager/wechat.py\", line 11, in run\r\n    self.newInstance.auto_login(hotReload=True, statusStorageDir='newInstance.pkl')\r\nAttributeError: 'WeChat' object has no attribute 'newInstance'\r\n\r\nso, this is why???\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/507/comments",
    "author": "haoshasha",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T01:52:13Z",
        "body": "@haoshasha \r\n```python\r\ndef __init__(self)\r\n```"
      }
    ]
  },
  {
    "number": 505,
    "title": "频繁发送图片消息会被限制上传文件",
    "created_at": "2017-09-06T16:34:11Z",
    "closed_at": "2017-09-20T01:52:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/505",
    "body": "同时在几个群里部署图片机器人，用到一半机器人失效，用web端调试发现无法上传附件（图片），应该是腾讯发现上传接口调用频繁被ban了，会有解封期限吗？大家遇到过这个问题没有？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/505/comments",
    "author": "ms300",
    "comments": [
      {
        "user": "ximply",
        "created_at": "2017-09-12T06:27:26Z",
        "body": "这个目前无解"
      }
    ]
  },
  {
    "number": 504,
    "title": "无法获取用户固定的唯一标识",
    "created_at": "2017-09-05T09:10:27Z",
    "closed_at": "2017-09-20T01:53:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/504",
    "body": "但是无法获取用户固定的唯一标识，没办法识别用户身份，所有持久化功能都无法实现，所以.........\r\n嗯  想做的都无法实现",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/504/comments",
    "author": "hello-earth",
    "comments": [
      {
        "user": "wangke0809",
        "created_at": "2017-09-06T11:20:30Z",
        "body": "给好友设置备注，自己定义一个唯一标识怎么样？提供个思路。"
      },
      {
        "user": "hello-earth",
        "created_at": "2017-09-07T00:41:58Z",
        "body": "可以设置备注， 但是在好友数量庞大到几千人的时候，登录时无法获取全部好友数据"
      },
      {
        "user": "gmadong",
        "created_at": "2017-09-12T06:05:41Z",
        "body": "我就是改备注的 我的2000人都是全部获取的"
      }
    ]
  },
  {
    "number": 502,
    "title": "手机扫描登录后就显示log out 了，求解",
    "created_at": "2017-09-04T15:38:08Z",
    "closed_at": "2017-09-20T02:34:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/502",
    "body": "手机扫描登录以后，就提示下面的信息，然后程序就终止了。\r\n------------------------------------------------------------------------\r\nLogin successfully as \r\nStart auto replying.\r\nLOG OUT!\r\n-----------------------------------------------------------------------\r\n这是为什么啊，请大神指教\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/502/comments",
    "author": "zdyGit",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T01:54:46Z",
        "body": "@zdyGit 现在还有这个问题吗？"
      },
      {
        "user": "BibuYing",
        "created_at": "2017-09-20T02:15:00Z",
        "body": "我是删除目录里的itchat.pkl文件，就可以正常登录了"
      },
      {
        "user": "zdyGit",
        "created_at": "2017-09-20T02:19:32Z",
        "body": "后来发现取消login的参数hotReload=True,就没那个问题了@littlecodersh"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:34:42Z",
        "body": "@zdyGit 好的"
      }
    ]
  },
  {
    "number": 501,
    "title": "创建群聊删除后仍能get_chatrooms到，但成员变了完全不认识，说明变成另一个群了",
    "created_at": "2017-08-31T09:43:32Z",
    "closed_at": "2017-09-20T01:55:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/501",
    "body": "不知道是微信的bug还是Itchat的bug\r\n此外，我尝试了多次，有时isowner为0有时为1\r\n\r\n删除群成员也是有时奏效，有时没反应，没有成功删除时也没有返回任何ErrMsg信息",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/501/comments",
    "author": "Ch1nny",
    "comments": [
      {
        "user": "Ch1nny",
        "created_at": "2017-09-01T02:30:10Z",
        "body": "补充：将新群保存到通讯录后再取消保存，get_chatrooms仍将其计数，但显示群聊名字为空，群成员还在里面不变"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T01:55:48Z",
        "body": "@Ch1nny update一下新群聊。"
      }
    ]
  },
  {
    "number": 494,
    "title": "群聊中@isAt后台监听不到",
    "created_at": "2017-08-25T09:31:59Z",
    "closed_at": "2017-09-20T01:57:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/494",
    "body": "Windows在后台使用msg.isAt或msg.IsAt或msg['IsAt']   无法监听到群聊中的@的事件\r\nWindows7 x64   Python3.5.3\r\n\r\nLinux下正常",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/494/comments",
    "author": "zhaoyongtao",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T01:57:54Z",
        "body": "@zhaoyongtao 你更新一下itchat版本到1.3.9"
      },
      {
        "user": "zhaoyongtao",
        "created_at": "2017-11-21T08:05:52Z",
        "body": "我测试的在Windows下监听不到，在Linux环境下可以监听到。你可以在Linux环境跑下试试"
      }
    ]
  },
  {
    "number": 492,
    "title": "能够接入微信运动",
    "created_at": "2017-08-23T11:20:29Z",
    "closed_at": "2017-09-20T01:58:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/492",
    "body": "微信运动智能显示一周左右的步数，而且是以图表形式显示的。\r\n能够接入微信运动接口，哪怕只是获得个人的历史运动数据！",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/492/comments",
    "author": "Yiguan",
    "comments": [
      {
        "user": "mapleflow",
        "created_at": "2017-08-28T02:34:54Z",
        "body": "想多了，这种数据一般是第三方或者硬件商才提供。"
      },
      {
        "user": "ximply",
        "created_at": "2017-08-28T02:36:12Z",
        "body": "web版协议就那些，核对一下就知道哪些能做哪些不能做了"
      }
    ]
  },
  {
    "number": 489,
    "title": "信息发送过快时，图片下载丢失",
    "created_at": "2017-08-21T08:50:33Z",
    "closed_at": "2017-09-20T02:08:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/489",
    "body": "\r\n> 批量发送图片时图片无法全部保存\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/489/comments",
    "author": "selfnat",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:08:12Z",
        "body": "@selfnat 限制一下频率，过快发送还可能导致被封号。"
      }
    ]
  },
  {
    "number": 487,
    "title": "You can't get access to internet or wechat domain, so exit.",
    "created_at": "2017-08-19T16:28:51Z",
    "closed_at": "2017-09-20T02:09:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/487",
    "body": "Traceback (most recent call last):\r\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\itchat\\utils.py\", line 125, in test_connect\r\n    r = requests.get(config.BASE_URL)\r\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\requests\\api.py\", line 70, in get\r\n    return request('get', url, params=params, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\requests\\api.py\", line 56, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\requests\\sessions.py\", line 488, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\requests\\sessions.py\", line 609, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\requests\\adapters.py\", line 497, in send\r\n    raise SSLError(e, request=request)\r\nSSLError: (\"bad handshake: Error([('SSL routines', 'ssl3_get_server_certificate', 'certificate verify failed')],)\",)\r\n\r\nYou can't get access to internet or wechat domain, so exit.\r\nAn exception has occurred, use %tb to see the full traceback.\r\n\r\nSystemExit",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/487/comments",
    "author": "liangchen815",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:09:05Z",
        "body": "@liangchen815 ssl的连接问题，建议用requests获取https网站进行debug。"
      }
    ]
  },
  {
    "number": 486,
    "title": "请问可以得到群消息的撤回事件吗",
    "created_at": "2017-08-19T03:11:12Z",
    "closed_at": "2017-09-20T02:09:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/486",
    "body": "搜了issues和文档，没找到相关内容\r\n注册了@itchat.msg_register([NOTE])，但只在两个人的情况下撤销会触发该事件\r\n\r\npython: 3.5.3\r\nitchat：1.3.9",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/486/comments",
    "author": "johnsonz",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:09:59Z",
        "body": "@johnsonz 注册群聊消息。"
      }
    ]
  },
  {
    "number": 485,
    "title": "接受到的分享类消息 不全  只有一个标题",
    "created_at": "2017-08-18T14:40:34Z",
    "closed_at": "2017-09-20T02:11:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/485",
    "body": "接受到的分享类的消息不全  ，只有一个标题没连接。\r\n发送时也不支持LINK类型。\r\n是什么原因",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/485/comments",
    "author": "xiaosanok",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:11:42Z",
        "body": "@xiaosanok 因为网页版不支持发送LINK类型。\r\n完整消息在msg.content中。"
      }
    ]
  },
  {
    "number": 483,
    "title": "怎么样能主动获取公众号的文章",
    "created_at": "2017-08-18T03:59:54Z",
    "closed_at": "2017-09-20T02:12:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/483",
    "body": "怎么样能主动获取公众号的文章\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/483/comments",
    "author": "i323654",
    "comments": [
      {
        "user": "ximply",
        "created_at": "2017-08-28T02:45:03Z",
        "body": "web协议好像没有这个吧"
      },
      {
        "user": "yujiye",
        "created_at": "2017-09-13T12:37:01Z",
        "body": "web_init 返回的字典里有"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:12:36Z",
        "body": "@i323654 你可以给公众号发文字消息获取。"
      }
    ]
  },
  {
    "number": 482,
    "title": "发送视频失败",
    "created_at": "2017-08-18T01:39:57Z",
    "closed_at": "2017-09-20T02:23:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/482",
    "body": "运行下面的代码，试图将收到的文件返回给发送者：\r\n```\r\nitchat.auto_login(hotReload=True)\r\n\r\n@itchat.msg_register(itchat.content.INCOME_MSG)\r\ndef download_file_and_send_back(msg):\r\n\tif msg['Type'] in ('Picture', 'Attachment', 'Video', 'Recording'):\r\n\t\tmsg['Text'](\"./file_test/\" + msg['MsgId'] + \".\" + msg['FileName'].split('.')[-1])\r\n\t\tprefix = '@fil@'\r\n\t\tif msg['Type'] == 'Picture':\r\n\t\t\tprefix = '@img@'\r\n\t\telif msg['Type'] == 'Video':\r\n\t\t\tprefix = '@vid@'\r\n\r\n\t\tret = itchat.send(prefix + \"./file_test/\" + msg['MsgId'] + '.' + msg['FileName'].split('.')[-1], msg['FromUserName'])\r\nitchat.run(debug=True)\r\n```\r\n经测试，图片、附件均能正常发送；视频可以正常下载，但无法发送回去。\r\n输出如下：\r\n```\r\nRequest to send a video(mediaId: None) to @7a3bcdd137aeea6daed44e705135c4d95921c40b9668c61fe7349eb1f4ad5c32: ./file_test/1138930312982876925.mp4\r\nRequest to upload a video: ./file_test/1138930312982876925.mp4\r\n```\r\n\r\nitchat版本为：`1.3.9`。\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/482/comments",
    "author": "Arsenal591",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:23:04Z",
        "body": "@Arsenal591 现在网页版微信的视频接口出问题了，所以暂时没有办法。"
      }
    ]
  },
  {
    "number": 479,
    "title": "请问如果第一次扫码登陆后，然后手机微信断网，还能继续使用吗",
    "created_at": "2017-08-12T09:12:29Z",
    "closed_at": "2017-09-20T02:27:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/479",
    "body": "请问如果第一次扫码登陆后开始群发消息，然后手机微信断网，还能继续发送吗，如果此时我再扫码登录web微信会不会自动关闭了第一次的功能",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/479/comments",
    "author": "daydaystudylab",
    "comments": [
      {
        "user": "xiaoxiaoyao",
        "created_at": "2017-08-12T16:01:26Z",
        "body": "实践证明，没啥问题，发送和手机无关，只要程序开着就OK。再次扫码登录会把程序踢下去"
      },
      {
        "user": "daydaystudylab",
        "created_at": "2017-08-13T03:51:40Z",
        "body": "那就是上一次的就失效了是吧"
      },
      {
        "user": "xiaoxiaoyao",
        "created_at": "2017-08-13T06:03:13Z",
        "body": "对的 @PHPower "
      }
    ]
  },
  {
    "number": 478,
    "title": "chatroom member fetch failed",
    "created_at": "2017-08-12T02:37:42Z",
    "closed_at": "2017-09-20T02:27:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/478",
    "body": "个人对个人聊天可以收到，群里的信息只收到以下错误：\r\nchatroom member fetch failed with @0a836af4242dd9acaed1592956cbc826\r\n\r\nitchat版本： 1.3.9\r\n\r\n如何解决？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/478/comments",
    "author": "qiusugang",
    "comments": [
      {
        "user": "xufan6",
        "created_at": "2017-09-01T21:08:56Z",
        "body": "有类似情况，1.3.9。修改群名称后恢复"
      },
      {
        "user": "xin053",
        "created_at": "2017-11-03T01:30:19Z",
        "body": "遇到相同的问题，程序监听群聊的消息并返回相应的消息，程序运行一段时间后，后台输出：\r\nchatroom member fetch failed with @9c0c8581f60dea52dee23c4dbeaa843e4880f4e1142c7ed6082558120f7fc63\r\n然后程序收不到群聊的信息，只有修改群聊名之后才能继续收到，一天大概出现3次左右这样的问题，现在每次都是通过修改群聊名解决的，但是过段时间还是会出现相同问题。\r\n\r\nitchat版本: 1.3.9 群聊已收藏到通讯录"
      },
      {
        "user": "yanlee26",
        "created_at": "2019-01-09T06:14:36Z",
        "body": "`chatroom member fetch failed with @595434e02f221276e7ae845773081fbe6ae76c80981f8ff23779907892050b73`"
      },
      {
        "user": "magneter",
        "created_at": "2019-06-13T09:35:57Z",
        "body": "同样有这个问题。在看大家怎么解决"
      }
    ]
  },
  {
    "number": 466,
    "title": "获取联系人列表很慢",
    "created_at": "2017-08-04T08:43:14Z",
    "closed_at": "2017-09-20T02:36:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/466",
    "body": "登录的时候，如果联系人比较多的时候（我这边是400以上），get_contact(True) 这个调用很耗时，是微信限制了？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/466/comments",
    "author": "ximply",
    "comments": [
      {
        "user": "xiaoxiaoyao",
        "created_at": "2017-08-13T07:01:26Z",
        "body": "我这边也很慢，这是正常现象，我1230+好友 @ximply "
      },
      {
        "user": "yujiye",
        "created_at": "2017-09-01T22:31:37Z",
        "body": "\r\nget_contact和get_friends\r\n\r\n有什么区别呀"
      }
    ]
  },
  {
    "number": 465,
    "title": "我想知道，有爬取好友朋友圈文字的功能吗",
    "created_at": "2017-08-03T13:06:44Z",
    "closed_at": "2017-09-20T02:37:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/465",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/465/comments",
    "author": "unikcc",
    "comments": [
      {
        "user": "xinydev",
        "created_at": "2017-08-04T08:24:21Z",
        "body": "没有，微信网页版都看不到朋友圈"
      }
    ]
  },
  {
    "number": 464,
    "title": "如何根据手机号添加好友？",
    "created_at": "2017-08-03T08:31:16Z",
    "closed_at": "2017-09-20T02:37:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/464",
    "body": "你好，请问有没有实现根据手机号添加新的好友，或者是否可以查询手机号注册过微信",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/464/comments",
    "author": "framicone",
    "comments": [
      {
        "user": "mapleflow",
        "created_at": "2017-08-28T02:38:48Z",
        "body": "网页端肯定不可能。"
      }
    ]
  },
  {
    "number": 463,
    "title": "关于获取好友的微信号",
    "created_at": "2017-08-02T02:46:54Z",
    "closed_at": "2017-09-20T02:37:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/463",
    "body": "你好，请问现在无法获取好友微信号了吗？还是我的获取方式不对",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/463/comments",
    "author": "lotus-dgas",
    "comments": [
      {
        "user": "Pengzw",
        "created_at": "2017-08-10T01:29:16Z",
        "body": "现在 已经无法获取了"
      },
      {
        "user": "mapleflow",
        "created_at": "2017-08-28T02:39:46Z",
        "body": "不可能获取。"
      }
    ]
  },
  {
    "number": 461,
    "title": "文本信息接收不全",
    "created_at": "2017-07-31T03:11:39Z",
    "closed_at": "2017-09-20T02:39:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/461",
    "body": "itchat版本为：1.3.9\r\n1. 我想问问怎么加入群549762872\r\n2. 我想问问为什么同时来两条信息 ，会有一条信息接收不到",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/461/comments",
    "author": "ghgg2015",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:39:22Z",
        "body": "@ghgg2015 你重新加一下。\r\n接收不到消息具体是怎么测试的？"
      }
    ]
  },
  {
    "number": 458,
    "title": "许多mp4 视频下载为空，图片什么都正常",
    "created_at": "2017-07-23T09:04:07Z",
    "closed_at": "2017-09-20T02:46:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/458",
    "body": "用官方给的事列运行测试了下，好友或者群里发送的大部分mp4 视频下载为空0KB始终无法正常下载，但是图片格式的都正常。既然itchat是通过爬网页版微信封装的第三方包，我测试了下微信网页版好像是不支持查看和收发视频的，所以是不是就说明实际是无法正常获得视频的？有少数几个mp4我能正常下载下来，不清楚具体为什么。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/458/comments",
    "author": "anders830",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:46:08Z",
        "body": "@anders830 是目前视频接口的问题，网页版整个的微信接口坏了。"
      }
    ]
  },
  {
    "number": 457,
    "title": "UserName值变化的问题",
    "created_at": "2017-07-23T09:01:22Z",
    "closed_at": "2017-09-20T02:46:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/457",
    "body": "UserName, 好像是动态的，是不是无法保证持续不变，只要登录登出了就会改变？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/457/comments",
    "author": "anders830",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-07-28T02:37:49Z",
        "body": "对"
      },
      {
        "user": "old-wang-95",
        "created_at": "2017-08-05T17:01:48Z",
        "body": "是的。但NickName是不变的"
      },
      {
        "user": "bear-shen",
        "created_at": "2017-08-09T07:31:55Z",
        "body": "所以得想办法获取到微信的用户id……openid也可以……正在找办法……"
      },
      {
        "user": "anlinew",
        "created_at": "2019-01-25T07:03:13Z",
        "body": "> 所以得想办法获取到微信的用户id……openid也可以……正在找办法……\r\n\r\n有办法吗？\r\n"
      },
      {
        "user": "bear-shen",
        "created_at": "2019-01-25T07:20:38Z",
        "body": "> > 所以得想办法获取到微信的用户id……openid也可以……正在找办法……\r\n> \r\n> 有办法吗？\r\n\r\n最后我没有用itchat的方案，是用了隔壁php的vbot来做的\r\n\r\n在vbot里我现在用的解决方案是加好友的时候每个人添加一个昵称\r\n\r\n在收到添加好友请求的时候，微信会仅此一次的发送用户原始id，可以用这个id，或者直接把用户名写死成一个备注，但是用户名备注就emoji和有些无名人士比较烦，实在不行随便给个随机值了事也可以\r\n\r\n另外原始id会有一些限制……反正自己摸吧，反正用着备注之后怎么着问题都不会大"
      },
      {
        "user": "anlinew",
        "created_at": "2019-01-25T08:02:39Z",
        "body": "> > > 所以得想办法获取到微信的用户id……openid也可以……正在找办法……\r\n> > \r\n> > \r\n> > 有办法吗？\r\n> \r\n> 最后我没有用itchat的方案，是用了隔壁php的vbot来做的\r\n> \r\n> 在vbot里我现在用的解决方案是加好友的时候每个人添加一个昵称\r\n> \r\n> 在收到添加好友请求的时候，微信会仅此一次的发送用户原始id，可以用这个id，或者直接把用户名写死成一个备注，但是用户名备注就emoji和有些无名人士比较烦，实在不行随便给个随机值了事也可以\r\n> \r\n> 另外原始id会有一些限制……反正自己摸吧，反正用着备注之后怎么着问题都不会大\r\n\r\n非常感谢，我能想到的也是利用用户备注记录能够唯一标示的id了"
      }
    ]
  },
  {
    "number": 455,
    "title": "为什么下载语音mp3的音质比客户端差？",
    "created_at": "2017-07-22T14:12:58Z",
    "closed_at": "2017-09-20T02:47:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/455",
    "body": "用语音识别API发现识别率很低，然后发现itchat下载的MP3文件音质要比微信客户端差很多。这是为什么？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/455/comments",
    "author": "aishiqi",
    "comments": [
      {
        "user": "mapleflow",
        "created_at": "2017-08-28T02:40:25Z",
        "body": "压缩传输损耗。"
      },
      {
        "user": "hellohongfu",
        "created_at": "2017-09-05T09:13:30Z",
        "body": "请教一下，语音可以转发吗？你们怎么解决的啊"
      }
    ]
  },
  {
    "number": 454,
    "title": "请问表情图片下载下来为空怎么解决",
    "created_at": "2017-07-21T16:29:55Z",
    "closed_at": "2017-09-20T02:47:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/454",
    "body": "我尝试download下载聊天图片，但微信gif表情下载下来的文件是空的，请问有解决的办法吗？python 2.7。\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/454/comments",
    "author": "yehx1",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:47:54Z",
        "body": "@yehx1 大部分表情包里的东西都是有版权的，所以不允许下载。"
      }
    ]
  },
  {
    "number": 451,
    "title": "syncCheck return retcode=0, and selector=3",
    "created_at": "2017-07-17T21:41:55Z",
    "closed_at": "2017-09-20T02:48:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/451",
    "body": "我实现一个定时发布图片和文字功能，我能够看到数据成功发送，但是调用syncCheck之后，返回retcode=0, and selector=3。这个问题导致每次调用syncCheck之后都是立即返回，而不是等待25秒。请问有selector的可能值吗？或者知道什么原因吗？多谢",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/451/comments",
    "author": "tryuefang",
    "comments": [
      {
        "user": "HaoweiCh",
        "created_at": "2017-08-15T09:38:20Z",
        "body": "这个是同步检查，，执行同步操作并更新syncCheckKey就好了嘛"
      },
      {
        "user": "XuDaShu",
        "created_at": "2017-08-19T17:00:41Z",
        "body": "扫码登录失败,返回 retcode:\"1102\",selector:\"0\" 是怎么回事?"
      }
    ]
  },
  {
    "number": 449,
    "title": "How to detect \"New member added to chatroom\" event?",
    "created_at": "2017-07-17T04:33:47Z",
    "closed_at": "2017-09-20T02:56:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/449",
    "body": "I would like to send welcome message when someone joins a chatroom. And then send a friend request to him. So I try to catch the new member event by this:\r\n\r\n```\r\n@itchat.msg_register(SYSTEM, isGroupChat=True)\r\ndef text_reply(msg):\r\n    # some codes\r\n    print  msg\r\n```\r\n\r\nHowever, event cannot be detected. What parameters should be set in msg_register?",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/449/comments",
    "author": "kk3hi3123",
    "comments": [
      {
        "user": "luojian520",
        "created_at": "2017-07-21T07:56:03Z",
        "body": "maybe you can create a thread to listen chatrooms' user numbers,when it added,you can compare the users before it happened and after it happened.then you could find the person who come in the charoom just now.then you can do some thing you want."
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T02:56:41Z",
        "body": "@kk3hi3123 You may register system message like this:\r\n\r\n```python\r\n@itchat.msg_register(SYSTEM)\r\ndef _(msg):\r\n    print(msg)\r\n```\r\n\r\nThe following is the format of chatroom update system message:\r\n\r\n```python\r\n    return {\r\n        'Type'         : 'System',\r\n        'Text'         : [chatroom['UserName'] for chatroom in l],\r\n        'SystemInfo'   : 'chatrooms',\r\n        'FromUserName' : core.storageClass.userName,\r\n        'ToUserName'   : core.storageClass.userName, }\r\n```"
      }
    ]
  },
  {
    "number": 448,
    "title": "How to avoid logout",
    "created_at": "2017-07-15T05:40:10Z",
    "closed_at": "2017-07-16T02:38:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/448",
    "body": "Hello,\r\n\r\nI am trying to build an application based on itchat. This application should be always logged in wechat.\r\nIs there a way to avoid the logout after a long inactive time?\r\nOr is there a way to make an automatic login without manually scanning the QR code every time?\r\n\r\nBest regards,\r\ngiovanni",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/448/comments",
    "author": "pinootto",
    "comments": [
      {
        "user": "pinootto",
        "created_at": "2017-07-15T07:48:04Z",
        "body": "Probably I have solved this problem.\r\n\r\nI set the exitCallback in the login in a way that it will call the login again.\r\n\r\nHere is my code:\r\n\r\n```\r\ndef login_callback():\r\n    print('Login successful')\r\n\r\ndef logout_callback():\r\n    print('Logout')\r\n    itchat.auto_login(hotReload=True, loginCallback=login_callback, exitCallback=logout_callback)\r\n\r\nitchat.auto_login(hotReload=True, loginCallback=login_callback, exitCallback=logout_callback)\r\n```\r\n\r\nIs there another way to ensure to be always logged in?\r\n\r\n\r\n\r\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-07-16T02:38:19Z",
        "body": "#415 "
      },
      {
        "user": "XuDaShu",
        "created_at": "2017-08-19T17:04:25Z",
        "body": "`def majia():\r\n       print(\"Log out!\")\r\nitchat.auto_login(enableCmdQR=2,hotReload=True,exitCallback=majia)`\r\nbut i get nothing\r\n"
      }
    ]
  },
  {
    "number": 445,
    "title": "小白问题  如何传ticket参数进来",
    "created_at": "2017-07-12T02:55:32Z",
    "closed_at": "2017-07-16T02:55:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/445",
    "body": "api如下\r\n```\r\ndef add_friend(self, userName, status=2, verifyContent='', autoUpdate=True):\r\n    ''' add a friend or accept a friend\r\n        for options\r\n            - userName: 'UserName' for friend's info dict\r\n            - status:\r\n                - for adding status should be 2\r\n                - for accepting status should be 3\r\n            - ticket: greeting message\r\n            - userInfo: friend's other info for adding into local storage\r\n        it is defined in components/contact.py\r\n    '''\r\n    raise NotImplementedError()\r\n```\r\n我的调用方式如下\r\n\r\n```\r\nw.add_friend('@888888888888888')\r\n```\r\n但是这样对方只能收到一个好友请求，如果我要发一段说明 “我是谁谁谁”，是否对应 ticket 参数？应该如何传参？\r\n\r\n谢谢\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/445/comments",
    "author": "lishoujun",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-07-16T02:55:34Z",
        "body": "写在verifyContent里面。"
      },
      {
        "user": "lishoujun",
        "created_at": "2017-07-17T07:37:15Z",
        "body": "Thanks! "
      }
    ]
  },
  {
    "number": 444,
    "title": "我把代码上传到GAE(google app engine)，运行、出现下面的错误 本地都可以",
    "created_at": "2017-07-07T16:31:59Z",
    "closed_at": "2017-07-09T02:48:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/444",
    "body": "```\r\nxxxxxx@ultra-mason-127914:~/WeChat$ python demo01.py \r\nGetting uuid of QR code.\r\nDownloading QR code.\r\nTraceback (most recent call last):\r\n  File \"demo01.py\", line 80, in <module>\r\n    itchat.auto_login()\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/register.py\", line 36, in auto_login\r\n    loginCallback=loginCallback, exitCallback=exitCallback)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 45, in login\r\n    picDir=picDir, qrCallback=qrCallback)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 119, in get_QR\r\n    utils.print_qr(picDir)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/utils.py\", line 83, in print_qr\r\n    subprocess.call(['xdg-open', fileDir])\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 522, in call\r\n    return Popen(*popenargs, **kwargs).wait()\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 710, in __init__\r\n    errread, errwrite)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 1335, in _execute_child\r\n    raise child_exception\r\nOSError: [Errno 2] No such file or directory\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/444/comments",
    "author": "GhostClock",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-07-09T02:48:57Z",
        "body": "@GhostClock GAE没有安装xdg-open，你需要别的二维码开启方法。"
      },
      {
        "user": "GhostClock",
        "created_at": "2017-07-09T10:49:49Z",
        "body": "我在GAE上安装了xdg-open，然后用“启动代码编辑器”功能扫描的二维码，这样可以"
      }
    ]
  },
  {
    "number": 443,
    "title": "读取朋友圈数据失败",
    "created_at": "2017-07-06T09:18:51Z",
    "closed_at": "2017-07-16T02:55:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/443",
    "body": "[求助] 用itchat读取微信朋友信息的时候，碰到error，求圈友解答下，代码就几段\r\n\r\n```python\r\n#coding:utf-8\r\nimport itchat\r\n# 先登录\r\nitchat.login()\r\n# 获取好友列表\r\nfriends = itchat.get_friends(update=True)[0:]\r\n```\r\n\r\n但错误如何下\r\n\r\n```python\r\nimport itchat\r\n\r\nitchat.login()\r\n# 获取好友列表\r\nitchat has already logged in.\r\n\r\nfriends = itchat.get_friends(update=True)[0:]\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-23-a3bc73662132>\", line 1, in <module>\r\n    friends = itchat.get_friends(update=True)[0:]\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\itchat\\components\\contact.py\", line 306, in get_friends\r\n    self.get_contact(update=True)\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\itchat\\components\\contact.py\", line 285, in get_contact\r\n    seq, batchMemberList = _get_contact(seq)\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\itchat\\components\\contact.py\", line 269, in _get_contact\r\n    url = '%s/webwxgetcontact?r=%s&seq=%s&skey=%s' % (self.loginInfo['url'],\r\n\r\nKeyError: 'url'\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/443/comments",
    "author": "gaoren2017",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-07-09T02:53:39Z",
        "body": "@gaoren2017 显示来说是你已经登录过一遍了，完整程序就是这样吗？"
      },
      {
        "user": "advpetc",
        "created_at": "2017-07-09T14:08:04Z",
        "body": "可以使用itchat.auto_login(hotReload=True)来重复登录"
      }
    ]
  },
  {
    "number": 442,
    "title": "这个错误怎么解决呢？AttributeError: 'module' object has no attribute 'ReadTimeout'",
    "created_at": "2017-07-06T02:14:59Z",
    "closed_at": "2017-07-09T02:55:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/442",
    "body": "使用`itchat.run(debug=True)`运行，并将输出粘贴在下面:\r\n\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python2.7/threading.py\", line 763, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 263, in maintain_loop\r\n    except requests.exceptions.ReadTimeout:\r\nAttributeError: 'module' object has no attribute 'ReadTimeout'\r\n\r\nitchat版本为：\r\n>>> print(itchat.__version__)\r\n1.3.8\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/442/comments",
    "author": "lpx1520",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-07-09T02:55:37Z",
        "body": "@lpx1520 升级一下requests版本吧，目前最新的版本应该是2.18.1\r\n```bash\r\npython -m pip install requests -U\r\n```"
      }
    ]
  },
  {
    "number": 440,
    "title": "get_chatrooms 不能获取所有的群",
    "created_at": "2017-07-05T00:05:09Z",
    "closed_at": "2017-07-09T02:56:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/440",
    "body": "请使用`itchat.run(debug=True)`运行，并将输出粘贴在下面:\r\n\r\nLogin successfully as XXXX\r\n\r\nStart auto replying.\r\nNo uins in 51 message\r\n\r\n您的itchat版本为：`[1.3.8]`。\r\n\r\n其他的内容或者问题更详细的描述都可以添加在下面：\r\n\r\n使用itchat.get_chatrooms(update=True) 只能获取很少几个群，但是微信群里面有几十个群。\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/440/comments",
    "author": "huobaiyu",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-07-09T02:56:39Z",
        "body": "@huobaiyu 存进通讯录里或者在登陆后首次发生群聊天时会更新该群。\r\n这就和你换了一台手机登陆微信是一个道理。"
      },
      {
        "user": "panghupy",
        "created_at": "2019-03-12T06:35:12Z",
        "body": "> 请使用`itchat.run(debug=True)`运行，并将输出粘贴在下面:\r\n> \r\n> Login successfully as XXXX\r\n> \r\n> Start auto replying.\r\n> No uins in 51 message\r\n> \r\n> 您的itchat版本为：`[1.3.8]`。\r\n> \r\n> 其他的内容或者问题更详细的描述都可以添加在下面：\r\n> \r\n> 使用itchat.get_chatrooms(update=True) 只能获取很少几个群，但是微信群里面有几十个群。\r\n\r\n你现在问题解决了吗　能获取全部的群聊了吗"
      }
    ]
  },
  {
    "number": 428,
    "title": "按照说明下载了fields.py，为啥包含中文字符的文档还是无法上传",
    "created_at": "2017-06-27T08:59:23Z",
    "closed_at": "2017-09-20T03:01:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/428",
    "body": "您好，在上传含有中文字符的文档时，按照说明下载了fields.py文件，但是为啥还是报错啊，python版本是2.7，itchat的版本是1.3.7，谢谢！",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/428/comments",
    "author": "lily1982",
    "comments": [
      {
        "user": "cswxin",
        "created_at": "2017-07-06T06:18:47Z",
        "body": "我也一样，版本也是2.7+1.3.7"
      },
      {
        "user": "lily1982",
        "created_at": "2017-07-06T07:21:48Z",
        "body": "@littlecodersh,您好，在不？上传含有中文字符的文档时，下载了fields.py,为啥还是报错啊，python版本是2.7，itchat的版本是1.3.7，谢谢！"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-07-09T03:13:44Z",
        "body": "@lily1982 把报错内容贴一下吧。"
      },
      {
        "user": "lily1982",
        "created_at": "2017-07-10T01:51:47Z",
        "body": "@littlecodersh 报错信息如下：\r\nTraceback (most recent call last):\r\n  File \"D:\\message1.py\", line 47, in <module>\r\n    chatrooms[0].send_file(r'd:/测试.txt')\r\n  File \"C:\\Python27\\ArcGIS10.1\\lib\\site-packages\\itchat\\storage\\templates.py\", line 114, in send_file\r\n    return self.core.send_file(fileDir, self.userName, mediaId)\r\n  File \"C:\\Python27\\ArcGIS10.1\\lib\\site-packages\\itchat\\components\\messages.py\", line 366, in send_file\r\n    mediaId, toUserName, fileDir))\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xb2 in position 3: ordinal not in range(128)"
      },
      {
        "user": "lily1982",
        "created_at": "2017-08-11T07:10:15Z",
        "body": "@littlecodersh 报错信息如下：\r\nTraceback (most recent call last):\r\nFile \"D:\\message1.py\", line 47, in \r\nchatrooms[0].send_file(r'd:/测试.txt')\r\nFile \"C:\\Python27\\ArcGIS10.1\\lib\\site-packages\\itchat\\storage\\templates.py\", line 114, in send_file\r\nreturn self.core.send_file(fileDir, self.userName, mediaId)\r\nFile \"C:\\Python27\\ArcGIS10.1\\lib\\site-packages\\itchat\\components\\messages.py\", line 366, in send_file\r\nmediaId, toUserName, fileDir))"
      },
      {
        "user": "MayerYang",
        "created_at": "2017-08-17T03:05:10Z",
        "body": "编码冲突了，试一下添加如下代码：\r\nimport sys\r\nreload(sys)\r\nsys.setdefaultencoding('utf-8')"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-09-20T03:01:21Z",
        "body": "@lily1982 \r\n```python\r\nu'd:/测试.txt'\r\n```"
      }
    ]
  },
  {
    "number": 425,
    "title": "群聊消息msg['isAt']失效，始终为False",
    "created_at": "2017-06-26T02:14:35Z",
    "closed_at": "2017-06-27T07:42:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/425",
    "body": "\r\n您的itchat版本为：`1.3.7`。（可通过`python -c \"import itchat;print(itchat.__version__)\"`获取）\r\n\r\n接收到群消息，并且是@本号的消息，但msg['isAt']为False\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/425/comments",
    "author": "dustless",
    "comments": [
      {
        "user": "pengyuwei",
        "created_at": "2017-06-26T05:17:30Z",
        "body": "我碰到类似的问题，是isAt的大小写写法为IsAt，应该是最近的版本里变更过这个词的写法，我自己在调用的地方加了转换：\r\n\r\n```\r\n590     is_at = False                                                               \r\n591     if msg.has_key(\"isAt\"):                                                                                   \r\n592         is_at = msg['isAt']                                                     \r\n593     if msg.has_key(\"IsAt\"):                                                     \r\n594         is_at = msg['IsAt'] \r\n```"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:42:47Z",
        "body": "@dustless 关键词统一为大写了，可以这么用：\r\n\r\n```python\r\nmsg.isAt\r\nmsg['IsAt']\r\n```"
      }
    ]
  },
  {
    "number": 424,
    "title": "ConnectionError: ('Connection aborted.', BadStatusLine('HTTP/1.1 0 -\\r\\n',))",
    "created_at": "2017-06-25T06:24:12Z",
    "closed_at": "2017-06-27T07:44:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/424",
    "body": "\r\n```\r\nRequest to send a text message to @ac4f6af99451c5cccc0fcc92faee848da2faf92c1e3ac26d1ebe398d58d1d11a: Text: [发怒][发怒][发怒]\r\nTraceback (most recent call last):\r\n  File \"build/bdist.macosx-10.11-intel/egg/itchat/components/login.py\", line 232, in maintain_loop\r\n    i = sync_check(self)\r\n  File \"build/bdist.macosx-10.11-intel/egg/itchat/components/login.py\", line 285, in sync_check\r\n    r = self.s.get(url, params=params, headers=headers, timeout=config.TIMEOUT)\r\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 477, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 465, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 573, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/Library/Python/2.7/site-packages/requests/adapters.py\", line 415, in send\r\n    raise ConnectionError(err, request=request)\r\nConnectionError: ('Connection aborted.', BadStatusLine('HTTP/1.1 0 -\\r\\n',))\r\n\r\nRequest to send a text message to @ac4f6af99451c5cccc0fcc92faee848da2faf92c1e3ac26d1ebe398d58d1d11a: Text: [流泪]\r\n```\r\n\r\nitchat版本为：`1.3.7`。\r\n回复几个消息后就出现上面的异常，不过程序可以继续运行，可以正常回复消息。\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/424/comments",
    "author": "winneryong",
    "comments": [
      {
        "user": "pengyuwei",
        "created_at": "2017-06-25T15:16:50Z",
        "body": "我也经常出这个错误，而且出完之后，就再也不能收发消息了"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:44:14Z",
        "body": "@winneryong @pengyuwei 登陆后的操作被服务器拒绝了，网络稳定的话建议发送信息也限制一下频率。"
      },
      {
        "user": "zsdonghao",
        "created_at": "2017-06-28T21:16:03Z",
        "body": "@littlecodersh 你好～ 我遇到的情况是，当对方在打字（还没发送），我这边就会报错。  \r\n这会是什么原因造成的呢？网络环境是很快的，在macbook pro上跑的。\r\n\r\n会不会是 python3.4 的原因？\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/XXX/Documents/Projects/python-workspace/env3/lib/python3.4/site-packages/requests/packages/urllib3/connectionpool.py\", line 385, in _make_request\r\n    httplib_response = conn.getresponse(buffering=True)\r\nTypeError: getresponse() got an unexpected keyword argument 'buffering'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/haodong/Documents/Projects/python-workspace/env3/lib/python3.4/site-packages/requests/packages/urllib3/connectionpool.py\", line 578, in urlopen\r\n    chunked=chunked)\r\n  File \"/Users/haodong/Documents/Projects/python-workspace/env3/lib/python3.4/site-packages/requests/packages/urllib3/connectionpool.py\", line 387, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/http/client.py\", line 1171, in getresponse\r\n    response.begin()\r\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/http/client.py\", line 351, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/http/client.py\", line 339, in _read_status\r\n    raise BadStatusLine(line)\r\nhttp.client.BadStatusLine: HTTP/1.1 0 -\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\n...\r\n\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', BadStatusLine('HTTP/1.1 0 -\\r\\n',))\r\n```"
      }
    ]
  },
  {
    "number": 423,
    "title": "是否支持发起微信语音通话？",
    "created_at": "2017-06-24T07:25:48Z",
    "closed_at": "2017-06-27T07:44:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/423",
    "body": "目前网页版微信不支持发起语音电话，但是桌面版是支持这个功能的。不知itchat是否有发起语音的功能？这个功能可能可以用来ping一下对方那种。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/423/comments",
    "author": "sunqifs7",
    "comments": [
      {
        "user": "notedit",
        "created_at": "2017-06-24T08:35:19Z",
        "body": "web端没有的就不支持 "
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:44:28Z",
        "body": "@"
      }
    ]
  },
  {
    "number": 422,
    "title": "能不能用python实现自动登录呀？",
    "created_at": "2017-06-23T07:08:00Z",
    "closed_at": "2017-06-27T07:45:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/422",
    "body": "每次运行脚本，都需要扫描二维码才能登录，而且二维码是有时长限制，能不能实现类似post请求的方式，实现微信登录呀？我这里确实觉得微信扫描登录麻烦一点。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/422/comments",
    "author": "adustdu2015",
    "comments": [
      {
        "user": "redrum0003",
        "created_at": "2017-06-27T03:49:41Z",
        "body": "1. 有缓存登录状态的方法，具体去看说明。\r\n2. post请求不可能了，微信会弄这么弱智的方式让你就过？\r\n3. 扫码是必须的，这是由微信决定的，不是这个项目能解决的。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:45:21Z",
        "body": "@adustdu2015 缓存过一次登录状态以后就可以实现网页版类似的免扫码即可确认登陆了。"
      }
    ]
  },
  {
    "number": 421,
    "title": "发送微信表情时这里下载成功, 打开空白",
    "created_at": "2017-06-23T04:26:56Z",
    "closed_at": "2017-06-27T07:46:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/421",
    "body": "#### 发送微信表情时这里下载成功, 打开空白\r\n\r\n\r\n```\r\n\r\n@itchat.msg_register([PICTURE, RECORDING, ATTACHMENT, VIDEO])\r\ndef download_files(msg):\r\n    print msg['Text'](msg['FileName'])\r\n\r\n```\r\n`{'PostFix': '', 'BaseResponse': {'Ret': 0, 'ErrMsg': u'\\u8bf7\\u6c42\\u6210\\u529f', 'RawMsg': 'Successfully downloaded'}`\r\n打印返回下载成功 但是打开文件没内容\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/421/comments",
    "author": "kk-cwh",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:46:11Z",
        "body": "@zhangyake 由于微信版权限制原因，网页版是无法获取到大部分商店内的表情的。"
      }
    ]
  },
  {
    "number": 418,
    "title": "请问下,itchat发送图片的大小限制是多少?",
    "created_at": "2017-06-21T15:06:08Z",
    "closed_at": "2017-06-28T07:53:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/418",
    "body": "没什么错误,就是发送400K的图片失败,20k的图片正常,应该是有大小限制,有没有人知道大概是多少?",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/418/comments",
    "author": "rongwwei",
    "comments": [
      {
        "user": "jowenz",
        "created_at": "2017-06-22T01:55:14Z",
        "body": "不知道，刚学这个，官方的Q群加不了，有没有讨论的Q群或微信群"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:50:07Z",
        "body": "@rongwwei 我这里10m的图片也是可以成功的，把itchat版本号和报错给我一下吧。\r\n@jowenz 一群加满了看公告可以加二群，也一样的。"
      },
      {
        "user": "rongwwei",
        "created_at": "2017-06-28T07:53:43Z",
        "body": "好吧,今天亲测700k的图片没有问题,我那天发送失败的错误消息是请求参数错误,难道是我那天发送的消息太多了?耽误大家时间不好意思"
      }
    ]
  },
  {
    "number": 415,
    "title": "关于长时间在线",
    "created_at": "2017-06-20T09:53:24Z",
    "closed_at": "2017-06-27T07:51:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/415",
    "body": "“如果要保持本项目超长时间（数月等）在线，建议手机保持联网。”\r\n如你所说手机需要保持联网，那么如果几个月不碰手机是不是也坚持不了多久\r\n这个问题可能和itchat本身无关，不知道能否得到解答，就是想无人值守一直让机器人跑",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/415/comments",
    "author": "yhu-aa",
    "comments": [
      {
        "user": "congwang-ai",
        "created_at": "2017-06-21T07:38:57Z",
        "body": "我是做了俩机器人，互相对话，保持唤醒，掉线率还挺低的"
      },
      {
        "user": "yhu-aa",
        "created_at": "2017-06-21T08:04:50Z",
        "body": "那要两台登陆微信的手机一直开着吧，是不是要保持屏幕常亮，微信在前台？"
      },
      {
        "user": "adustdu2015",
        "created_at": "2017-06-23T07:10:38Z",
        "body": "也应该与微信的授权时长有限制，Oauth2.0的Token是有时长限制的，一段时间之后会失效。微信的授权机制还是很复杂的，所以微信规避了很多风险。"
      },
      {
        "user": "yhu-aa",
        "created_at": "2017-06-26T03:09:49Z",
        "body": "那现在有没有一个长期在线的最佳实践方案呢，两个机器人感觉有点麻烦呢"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:51:12Z",
        "body": "@yhu-aa 手机和主机都稳定在线即可，ios就从反馈上而言比安卓要稳定。"
      },
      {
        "user": "kingconan",
        "created_at": "2017-07-07T02:52:56Z",
        "body": "@littlecodersh 主机有推荐么。刚才试了一下腾讯云ubuntu上海节点，不稳定。。手机iOS一直在线"
      }
    ]
  },
  {
    "number": 414,
    "title": "SSL证书验证失败",
    "created_at": "2017-06-20T03:14:29Z",
    "closed_at": "2018-03-02T03:43:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/414",
    "body": "登录的时候就报ssl证书验证失败\r\n\r\n>>> itchat.auto_login()\r\nTraceback (most recent call last):\r\n  File \"C:\\Python34\\lib\\site-packages\\urllib3\\connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"C:\\Python34\\lib\\site-packages\\urllib3\\connectionpool.py\", line 345, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"C:\\Python34\\lib\\site-packages\\urllib3\\connectionpool.py\", line 844, in _validate_conn\r\n    conn.connect()\r\n  File \"C:\\Python34\\lib\\site-packages\\urllib3\\connection.py\", line 326, in connect\r\n    ssl_context=context)\r\n  File \"C:\\Python34\\lib\\site-packages\\urllib3\\util\\ssl_.py\", line 325, in ssl_wrap_socket\r\n    return context.wrap_socket(sock, server_hostname=server_hostname)\r\n  File \"C:\\Python34\\lib\\ssl.py\", line 365, in wrap_socket\r\n    _context=self)\r\n  File \"C:\\Python34\\lib\\ssl.py\", line 583, in __init__\r\n    self.do_handshake()\r\n  File \"C:\\Python34\\lib\\ssl.py\", line 810, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:600)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python34\\lib\\site-packages\\requests\\adapters.py\", line 440, in send\r\n    timeout=timeout\r\n  File \"C:\\Python34\\lib\\site-packages\\urllib3\\connectionpool.py\", line 630, in urlopen\r\n    raise SSLError(e)\r\nurllib3.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:600)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python34\\lib\\site-packages\\itchat\\utils.py\", line 125, in test_connect\r\n    r = requests.get(config.BASE_URL)\r\n  File \"C:\\Python34\\lib\\site-packages\\requests\\api.py\", line 72, in get\r\n    return request('get', url, params=params, **kwargs)\r\n  File \"C:\\Python34\\lib\\site-packages\\requests\\api.py\", line 58, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 502, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 612, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"C:\\Python34\\lib\\site-packages\\requests\\adapters.py\", line 514, in send\r\n    raise SSLError(e, request=request)\r\nrequests.exceptions.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:600)\r\n\r\nYou can't get access to internet or wechat domain, so exit.",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/414/comments",
    "author": "virgilliu",
    "comments": [
      {
        "user": "silencesdg",
        "created_at": "2017-06-22T18:08:26Z",
        "body": "我也有这个问题 你解决了么"
      },
      {
        "user": "virgilliu",
        "created_at": "2017-07-04T06:19:12Z",
        "body": "File \"C:\\Python34\\lib\\site-packages\\itchat\\utils.py\", line 125, in test_connect\r\nr = requests.get(config.BASE_URL)\r\n这里稍微修改一下：\r\nr = requests.get(config.BASE_URL，verify=False)\r\n\r\n还有几个类似的地方需要修改"
      },
      {
        "user": "csbs",
        "created_at": "2017-08-08T05:20:54Z",
        "body": "SSL 证书校验阶段失败\r\n直接在机器上使用\r\nrequests.get( ，certi = )  指定证书，一般是证书问题\r\n使用的证书文件一般在 xxxx/site-packages/certifi-py2.7.egg/certifi/ 这个地方"
      },
      {
        "user": "zr000",
        "created_at": "2017-10-20T07:52:04Z",
        "body": "a或者b可以解决\r\na、import ssl\r\nssl._create_default_https_context = ssl._create_unverified_context\r\nb、/etc/python/cert-verification.cfg\r\nverify=disable"
      }
    ]
  },
  {
    "number": 413,
    "title": "请教：如何向一个公众号发送文本消息",
    "created_at": "2017-06-19T05:35:52Z",
    "closed_at": "2017-06-27T07:59:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/413",
    "body": "请问\r\n1. 如何根据公众号id进行查找\r\n2. 获取到公众号后如何向其发送文本消息\r\nthanks.",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/413/comments",
    "author": "ricksu",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-06-27T07:59:56Z",
        "body": "@ricksu 可以通过名字搜索，id目前无法获取：\r\n\r\n```python\r\nmp = itchat.search_mps(name=u'你的公众号')[0]\r\nmp.send('hi')\r\n```"
      }
    ]
  },
  {
    "number": 406,
    "title": "MsgType: 43的视频下载失败",
    "created_at": "2017-06-11T17:45:28Z",
    "closed_at": "2017-09-22T01:24:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/406",
    "body": "采用说明文档里的下面代码不能下载MsgType: 43的视频\r\n\r\n```\r\n@itchat.msg_register([PICTURE, RECORDING, ATTACHMENT, VIDEO])\r\ndef download_files(msg):\r\n    msg['Text'](msg['FileName'])\r\n    return '@%s@%s' % ({'Picture': 'img', 'Video': 'vid'}.get(msg['Type'], 'fil'), msg['FileName'])\r\n```\r\n视频来源：安卓手机从相册上传的短视频",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/406/comments",
    "author": "basicworld",
    "comments": [
      {
        "user": "Albert-D",
        "created_at": "2017-06-19T15:12:16Z",
        "body": "感觉msg['Text']下载视频的方法有问题。。。"
      },
      {
        "user": "13724024780",
        "created_at": "2017-09-13T08:35:24Z",
        "body": "对，下载到的文件都是空的"
      },
      {
        "user": "qhw108",
        "created_at": "2017-09-21T12:42:20Z",
        "body": "视频文件下载是空的， 不管多大的视频，都是空的，感觉视频下载这个地方应该有问题"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-09-22T01:24:23Z",
        "body": "@basicworld 目前网页版的视频api本身不稳定，所以暂时也没有办法。"
      }
    ]
  },
  {
    "number": 405,
    "title": "请教：怎么发送 或者转发 微信公众平台文章，而不是只专文本或者链接。",
    "created_at": "2017-06-10T12:19:02Z",
    "closed_at": "2017-06-27T08:04:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/405",
    "body": "如图，谢谢！",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/405/comments",
    "author": "xtuyaowu",
    "comments": [
      {
        "user": "SolessChong",
        "created_at": "2017-06-23T18:34:30Z",
        "body": "不能转发。那种内容块，需要app的接口才行。"
      }
    ]
  },
  {
    "number": 403,
    "title": "如何@群成员",
    "created_at": "2017-06-07T09:55:14Z",
    "closed_at": "2017-06-09T02:37:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/403",
    "body": "我拼接成字符串“@XXX   ........” 这种并不会真@ 需要怎么做",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/403/comments",
    "author": "zhangweimomo",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T02:37:46Z",
        "body": "@zhangweimomo 目前网页版没法实际@成员"
      },
      {
        "user": "zany1983",
        "created_at": "2019-03-01T16:01:24Z",
        "body": "我也很想希望能@成员，而不是被动回复"
      }
    ]
  },
  {
    "number": 401,
    "title": "如何发送本地音乐文件",
    "created_at": "2017-06-07T02:17:15Z",
    "closed_at": "2017-06-25T08:15:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/401",
    "body": "我用\r\n```\r\nitchat.send(msg='@fil@{}'.format('童话.mp3'), toUserName='filehelper')\r\n```\r\n没有成功发送，也没有报错信息。\r\nps. 文本文档可以正常发送",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/401/comments",
    "author": "TAOYi92",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T02:41:11Z",
        "body": "@TAOYi92 把返回值给我一下\r\n\r\n```python\r\nr = itchat.send(msg='@fil@{}'.format('童话.mp3'), toUserName='filehelper')\r\nprint(r)\r\n```"
      },
      {
        "user": "TAOYi92",
        "created_at": "2017-06-09T03:03:01Z",
        "body": "@littlecodersh \r\n```\r\n{'BaseResponse': {'Ret': 1, 'ErrMsg': '', 'RawMsg': ''}, 'MediaId': '', 'StartPos': 0, 'CDNThumbImgHeight': 0, 'CDNThumbImgWidth': 0}\r\n```\r\n这是我的终端输出，感谢大大！"
      },
      {
        "user": "TAOYi92",
        "created_at": "2017-06-09T03:09:15Z",
        "body": "顺便附上发送成功的例子(文本类型)：\r\n```\r\nr = itchat.send(msg='@fil@{}'.format('MySiri.py'), toUserName='filehelper')\r\nprint(r)\r\n```\r\n\r\n输出如下\r\n```\r\n{'BaseResponse': {'Ret': 0, 'ErrMsg': '请求成功', 'RawMsg': '请求成功'}, 'MsgID': '1798626124023397968', 'LocalID': '14969776182885'}\r\n```"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T03:35:41Z",
        "body": "@TAOYi92 版本号是多少？\r\n```python\r\nimport itchat\r\n\r\nitchat.auto_login(True)\r\n\r\nr = itchat.send('@fil@test.mp3', 'filehelper')\r\nprint(r)\r\n\r\nitchat.run()\r\n```\r\n\r\n1.3.7，我这里用这个测试都是正常的。"
      },
      {
        "user": "TAOYi92",
        "created_at": "2017-06-09T05:10:28Z",
        "body": "@littlecodersh 我更新到1.3.7了，还是一样的问题\r\n会不会跟文件大小有关系？"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T07:01:00Z",
        "body": "@TAOYi92 我发了个10m的也没问题，你的附件有多大？"
      },
      {
        "user": "TAOYi92",
        "created_at": "2017-06-09T07:39:51Z",
        "body": "@littlecodersh 9M"
      },
      {
        "user": "TAOYi92",
        "created_at": "2017-06-25T03:22:22Z",
        "body": "@littlecodersh 发现问题了，我把文件名改成全英文就可以。所以是目前不支持中文文件名咯？嗯，看到FAQ了，问题应该是解决了"
      },
      {
        "user": "nolarunitchat",
        "created_at": "2018-07-23T06:53:50Z",
        "body": "现在中文文件是可以发了，但文件大小被限制为500KB左右了"
      }
    ]
  },
  {
    "number": 400,
    "title": "想用ItChat 发送 自定义分享链接 求接口",
    "created_at": "2017-06-06T15:45:32Z",
    "closed_at": "2017-06-09T02:42:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/400",
    "body": "如题，我看了接口中包含了 文本类型 文件类型 图片 和 表情 但是没有 分享链接类型的 请问 wxwebAPI是否有相关接口，或有实现方法？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/400/comments",
    "author": "yuk320",
    "comments": [
      {
        "user": "unliar",
        "created_at": "2017-06-07T00:55:12Z",
        "body": "你发送一个地址链接， 微信会自动识别，并且标蓝。"
      },
      {
        "user": "yuk320",
        "created_at": "2017-06-07T01:13:37Z",
        "body": "@unliar 不是简单的 链接，是类型 前端分享插件分享一个链接，MsgType=49 AppMsgType=5 含 Url Title Des 等属性的 类似卡片效果的 分享信息"
      },
      {
        "user": "unliar",
        "created_at": "2017-06-08T09:28:18Z",
        "body": "@yuk320  应该是不行的，那种分享卡片效果都是需要微信的一些配置。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T02:42:04Z",
        "body": "@yuk320 没有的"
      },
      {
        "user": "Yibangyu",
        "created_at": "2019-03-20T00:35:26Z",
        "body": "> 你发送一个地址链接， 微信会自动识别，并且标蓝。\r\n\r\n这样也不行，微信现在会自动和谐，但是直接用手机操作有事可以的。"
      }
    ]
  },
  {
    "number": 397,
    "title": "您好，请问有详细的针对小白（无编程基础）的教程或是可执行运行的程序吗？",
    "created_at": "2017-06-05T12:42:41Z",
    "closed_at": "2017-06-09T02:42:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/397",
    "body": "您好，本人只是简单的接触到python，并不是很熟悉。关于教程中的讲解发现还是不太理解，针对所提到的问题，请问有什么好的解决办法吗？个人微信自动回复 ",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/397/comments",
    "author": "lvbin8023",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-06-06T02:06:41Z",
        "body": "加群吧。"
      },
      {
        "user": "lvbin8023",
        "created_at": "2017-06-11T16:05:46Z",
        "body": "麻烦您群号发我下，一时找不到。谢谢 @tempdban "
      },
      {
        "user": "tempdban",
        "created_at": "2017-06-13T02:56:15Z",
        "body": "549762872, 205872856"
      }
    ]
  },
  {
    "number": 395,
    "title": "多线程时，发送消息报错",
    "created_at": "2017-06-05T07:42:51Z",
    "closed_at": "2017-06-27T08:05:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/395",
    "body": "```python\r\nt1=threading.Thread(itchat.run())\r\nt2=threading.Thread(sendTask())\r\nt1.start()\r\nt2.start()\r\nt2.join()  \r\n```\r\nt2中发送消息给filehelper，报错如下\r\n```\r\n  File \"D:/PycharmProjects/taobaobot/bot_xxq.py\", line 138, in <module>\r\n    t2=threading.Thread(sendTask())\r\n  File \"D:/PycharmProjects/taobaobot/bot_xxq.py\", line 115, in sendTask\r\n    itchat.send(text, toUserName=username)\r\n  File \"C:\\Python27\\lib\\site-packages\\itchat\\components\\messages.py\", line 507, in send\r\n    r = self.send_msg(msg, toUserName)\r\n  File \"C:\\Python27\\lib\\site-packages\\itchat\\components\\messages.py\", line 278, in send_msg\r\n    r = self.send_raw_msg(1, msg, toUserName)\r\n  File \"C:\\Python27\\lib\\site-packages\\itchat\\components\\messages.py\", line 259, in send_raw_msg\r\n    url = '%s/webwxsendmsg' % self.loginInfo['url']\r\nKeyError: 'url'\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/395/comments",
    "author": "ztczxwzxw",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-06-06T02:08:33Z",
        "body": "好，我可以明天看一下。\r\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T02:43:07Z",
        "body": "@ztczxwzxw 有登陆吗？"
      },
      {
        "user": "SJK132",
        "created_at": "2017-06-24T07:29:17Z",
        "body": "Threading 的用法不对啊 \r\n\r\n`\r\nt1=threading.Thread(itchat.run())\r\nt2=threading.Thread(sendTask())\r\nt1.start()\r\nt2.start()\r\nt2.join()  \r\n`\r\n>class threading.Thread(group=None, target=None, name=None, args=(),\r\n  kwargs={})\r\n\r\nThis constructor should always be called with keyword arguments. Arguments are:\r\n\r\ntarget is the callable object to be invoked by the run() method. Defaults to None, meaning nothing is called.\r\n\r\nargs is the argument tuple for the target invocation. Defaults to ()."
      }
    ]
  },
  {
    "number": 393,
    "title": "如何做成多服务，就是支持多个微信账号反复的登陆、退出操作。",
    "created_at": "2017-06-05T01:14:04Z",
    "closed_at": "2017-06-09T02:49:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/393",
    "body": "您好，不太理解 什么是用户多开。如何做成多服务，就是支持多个微信账号，指定账号反复的登陆、退出操作。还有qq群：549762872 申请了，一直没有通过麻烦通过一下谢谢。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/393/comments",
    "author": "xtuyaowu",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-06-05T01:41:33Z",
        "body": "一群满了 加二群\r\n多开，多进程都可以"
      },
      {
        "user": "xtuyaowu",
        "created_at": "2017-06-05T04:38:10Z",
        "body": "那比如怎么判断是哪个微信号 退出？或者说 登陆的时候 开启一个实例，怎么获取这个实例 然后执行其他操作？    也就是说要管理很多个微信账号                                                                                                                                                               \r\n每个用户名 = itchat.new_instance()\r\n每个用户名.auto_login(hotReload=True, statusStorageDir='具体每个人的.pkl')                                                                         每个用户名.logout()"
      },
      {
        "user": "tempdban",
        "created_at": "2017-06-06T02:09:41Z",
        "body": "就是你这个思路"
      }
    ]
  },
  {
    "number": 392,
    "title": "add_friend如何主动加好友？",
    "created_at": "2017-06-04T05:26:00Z",
    "closed_at": "2017-06-09T02:49:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/392",
    "body": "比如根据手机号搜索，谢谢！",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/392/comments",
    "author": "xtuyaowu",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-06-05T01:44:16Z",
        "body": "不能根据手机号搜索"
      }
    ]
  },
  {
    "number": 391,
    "title": "Alias 获取都为空，是不是协议修改了？",
    "created_at": "2017-06-03T04:08:25Z",
    "closed_at": "2017-06-09T02:49:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/391",
    "body": "获取alias微信号，现在获取不到了，均为空，是协议的问题吗\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/391/comments",
    "author": "tangyiming",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-06-03T04:56:39Z",
        "body": "你一连发了4个issue，先加群把，问题有点大"
      }
    ]
  },
  {
    "number": 390,
    "title": "如何获取给我发消息的人的信息",
    "created_at": "2017-06-02T13:31:56Z",
    "closed_at": "2017-06-09T02:50:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/390",
    "body": "@itchat.msg_register(itchat.content.TEXT)\r\ndef text_reply(msg):\r\n    ＃获取当前这个给我发消息的人的信息\r\n    return “”\r\n\r\n当我监听到有朋友给我发消息，怎么获取到这个朋友是谁，并且获得到他的资料",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/390/comments",
    "author": "tangyiming",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-06-03T04:40:33Z",
        "body": "得到username 再进行查找"
      }
    ]
  },
  {
    "number": 389,
    "title": "Itchat  怎么发送名片给别人，文档示例不会用",
    "created_at": "2017-06-02T13:14:07Z",
    "closed_at": "2017-06-09T02:53:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/389",
    "body": "Itchat  怎么发送名片给别人，文档示例不会用",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/389/comments",
    "author": "tangyiming",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T02:53:01Z",
        "body": "@Tangyiming 目前不行了"
      }
    ]
  },
  {
    "number": 388,
    "title": "一直在间歇性弹出二维码",
    "created_at": "2017-06-02T13:12:31Z",
    "closed_at": "2017-06-09T02:53:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/388",
    "body": "一直在间歇性弹出二维码，不知道什么原因,已经关闭脚本，退出网页登陆，还是在下载二维码\r\nitchat最新版",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/388/comments",
    "author": "tangyiming",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-06-09T02:53:28Z",
        "body": "@Tangyiming 那就是没有实际关掉"
      }
    ]
  },
  {
    "number": 384,
    "title": "使用mac terminal 生成的二维码手机识别不出",
    "created_at": "2017-05-30T03:10:09Z",
    "closed_at": "2017-06-09T02:54:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/384",
    "body": "尝试过 itchat.auto_login(enableCmdQR=2)  。 显示在terminal里面的二维码识别不出。\r\n\r\n建议在README 让 关于Mac用户的设置改成  \r\n`itchat.auto_login(enableCmdQR= -2)`\r\n\r\n希望可以采纳。谢谢\r\n\r\n=====分割线======\r\n\r\n刚刚又试了一下 有时能识别enableCmdQR=2， 有时能识别 enableCmdQR=-2。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/384/comments",
    "author": "YunyuZhang",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-06-03T04:55:51Z",
        "body": "部分系统可能字幅宽度有出入，可以通过将enableCmdQR赋值为特定的倍数进行调整：\r\n\r\n如部分的linux系统，块字符的宽度为一个字符（正常应为两字符），故赋值为2\r\n\r\n```python\r\nitchat.auto_login(enableCmdQR=2)\r\n```\r\n\r\n默认控制台背景色为暗色（黑色），若背景色为浅色（白色），可以将enableCmdQR赋值为负值：\r\n\r\n```python\r\nitchat.auto_login(enableCmdQR=-1)\r\n```\r\n\r\nreadme说的很清楚"
      }
    ]
  },
  {
    "number": 382,
    "title": "建议将deviceid，synckey，sid，skey 之类的封装可以通过API获得",
    "created_at": "2017-05-27T13:24:22Z",
    "closed_at": "2017-05-29T01:24:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/382",
    "body": "建议将deviceid，synckey，sid，skey 之类的封装可以通过API获得，这样方便对功能进行扩展",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/382/comments",
    "author": "hurricanetx",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-05-29T01:24:28Z",
        "body": "是可以获取的，在这里：\r\n\r\n```python\r\nitchat.originInstance.loginInfo\r\n```"
      }
    ]
  },
  {
    "number": 380,
    "title": "无法使用wechatAccount来getfriends",
    "created_at": "2017-05-23T08:08:19Z",
    "closed_at": "2017-05-29T01:26:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/380",
    "body": "这个代码无法使用了？\r\nitchat.search_friends(wechatAccount='littlecodersh')",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/380/comments",
    "author": "laohanme",
    "comments": [
      {
        "user": "jack6567",
        "created_at": "2017-05-25T03:24:07Z",
        "body": "同样的疑惑，获取frends以后，里面就没有wechatAccount这个key了，只能用NickName来找用户了吗？可是nickname又不是唯一的，UserName是一大串编码，微信看来是升级了，故意不让别人用"
      },
      {
        "user": "chenjian158978",
        "created_at": "2017-05-27T05:34:35Z",
        "body": "@danjx \r\n难道真是如此，玩了一下感觉没啥功能"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-29T01:26:19Z",
        "body": "@laohan97 目前的确是部分微信号后台不返回，对没有办法获取到的数据暂时也没有办法。"
      }
    ]
  },
  {
    "number": 375,
    "title": "经常会有的图片或视频下载不到 ",
    "created_at": "2017-05-18T11:00:21Z",
    "closed_at": "2017-05-29T01:31:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/375",
    "body": "经常会有的图片或视频下载不到 能获取到文件名 但下载下来的文件是空的 大小为0",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/375/comments",
    "author": "kanengo",
    "comments": [
      {
        "user": "kanengo",
        "created_at": "2017-05-18T11:01:27Z",
        "body": "时不时会有报错 requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='webpush.wx2.qq.com', port=443): Read timed out. (read timeout=30)\r\n"
      },
      {
        "user": "rikewang",
        "created_at": "2017-05-26T18:11:06Z",
        "body": "我的也是，视频下载下来是0，其他OK@tempdban"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-29T01:31:54Z",
        "body": "@kanonlee @rikewang 部分贴图（几乎所有的表情商店里的表情）可能由于版权原因无法直接下载。\r\n视频目前有时存在问题，网页版也无法获取所以暂时无法修复。"
      }
    ]
  },
  {
    "number": 374,
    "title": "get_uin怎么使用?",
    "created_at": "2017-05-18T08:42:02Z",
    "closed_at": "2017-05-29T01:32:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/374",
    "body": "get_uin怎么使用, 能不能写个demo, 拜托了",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/374/comments",
    "author": "Pengzw",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-19T03:02:42Z",
        "body": "现在基本用不了了\r\n"
      }
    ]
  },
  {
    "number": 371,
    "title": "是否有主动添加别人为好友的api？",
    "created_at": "2017-05-17T08:06:49Z",
    "closed_at": "2017-05-29T01:32:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/371",
    "body": "请问Itchat是否有主动添加别人为好友的api？\r\n目前提供的api\r\n`def add_friend(self, userName, status=2, verifyContent='', autoUpdate=True):`\r\n是否只是同意别人的加好友请求？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/371/comments",
    "author": "Stanuns",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-19T03:04:28Z",
        "body": "    def add_friend(self, userName, status=2, verifyContent='', autoUpdate=True):\r\n        ''' add a friend or accept a friend\r\n            for options\r\n                - userName: 'UserName' for friend's info dict\r\n                - status:\r\n                    - for adding status should be 2\r\n                    - for accepting status should be 3\r\n                - ticket: greeting message\r\n                - userInfo: friend's other info for adding into local storage\r\n            it is defined in components/contact.py\r\n        '''"
      },
      {
        "user": "Stanuns",
        "created_at": "2017-05-19T07:05:59Z",
        "body": "@tempdban 这个userName参数我应该从哪边取，怎么获取我所要添加人的userName呢？谢谢~"
      },
      {
        "user": "xinydev",
        "created_at": "2017-07-26T02:39:15Z",
        "body": "微信网页版只能添加群聊里的非好友，直接搜微信ID是不行的\r\n所以只能通过获取群聊成员获取userName"
      },
      {
        "user": "panghupy",
        "created_at": "2019-03-25T05:54:12Z",
        "body": "@Hsiny 请问能从群聊里获得非好友的微信号吗？？"
      }
    ]
  },
  {
    "number": 367,
    "title": "在线时间不稳定，疑与帐号相关",
    "created_at": "2017-05-15T12:10:08Z",
    "closed_at": "2017-05-29T01:32:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/367",
    "body": "版本：1.36\r\n系统：Win10 x64\r\n\r\n两个微信，一个是几年前申请的，自用，一个是新申请的，用于机器人。\r\n\r\n测试了4次，老号每次都能稳定运行15小时以上。\r\n\r\n新号测试了10几次，运行很不稳定，最短的10分钟，最长的2小时。\r\n\r\n这里的稳定是指持续在线时间，期间手机微信没有断网，没有掉线，但itchat的sync check总会在某一时刻返回1101，且固定都是1101，检查synckey，都是正常的，没有任何问题，不知是否是帐号问题导致。\r\n\r\nPS：新号使用的地址是wx2，老号是用的是wx。\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/367/comments",
    "author": "kwf2030",
    "comments": [
      {
        "user": "teli5200",
        "created_at": "2017-05-15T14:22:47Z",
        "body": "新疆的貌似就上不去"
      },
      {
        "user": "kwf2030",
        "created_at": "2017-05-16T01:07:45Z",
        "body": "@teli5200 有没有什么好的解决方案"
      },
      {
        "user": "teli5200",
        "created_at": "2017-05-16T03:22:06Z",
        "body": "我也不太清楚怎么解决啊，郁闷"
      },
      {
        "user": "tempdban",
        "created_at": "2017-05-19T03:08:05Z",
        "body": "新号绑银行卡"
      },
      {
        "user": "kwf2030",
        "created_at": "2017-05-19T04:24:39Z",
        "body": "@tempdban 还有这个区别？？我试试"
      }
    ]
  },
  {
    "number": 362,
    "title": "config.py TIMEOUT 报错",
    "created_at": "2017-05-12T04:29:25Z",
    "closed_at": "2017-05-29T01:36:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/362",
    "body": "报错信息\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 232, in maintain_loop\r\n    i = sync_check(self)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 285, in sync_check\r\n    r = self.s.get(url, params=params, headers=headers, timeout=config.TIMEOUT)\r\n  File \"/usr/lib/python2.7/dist-packages/requests/sessions.py\", line 467, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/usr/lib/python2.7/dist-packages/requests/sessions.py\", line 455, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/lib/python2.7/dist-packages/requests/sessions.py\", line 558, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/lib/python2.7/dist-packages/requests/adapters.py\", line 316, in send\r\n    timeout = TimeoutSauce(connect=timeout, read=timeout)\r\n  File \"/usr/lib/python2.7/dist-packages/urllib3/util.py\", line 116, in __init__\r\n    self._connect = self._validate_timeout(connect, 'connect')\r\n  File \"/usr/lib/python2.7/dist-packages/urllib3/util.py\", line 147, in _validate_timeout\r\n    \"int or float.\" % (name, value))\r\nValueError: Timeout value connect was (10, 30), but it must be an int or float.\r\n```\r\n\r\n您的itchat版本为：`[1.3.6]`。（可通过`python -c \"import itchat;print(itchat.__version__)\"`获取）\r\n\r\n其他的内容或者问题更详细的描述都可以添加在下面：\r\n\r\n> [您的内容]\r\n\r\n好像是urllib不能处理TIMEOUT = (10, 30) 而是只能接收int和float型的。 \r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/362/comments",
    "author": "NUPT-Pig",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-05-29T01:36:21Z",
        "body": "@NUPT-Pig 更新一下requests和urllib3"
      }
    ]
  },
  {
    "number": 361,
    "title": "接受好友请求并发送信息经常阻塞",
    "created_at": "2017-05-12T03:20:28Z",
    "closed_at": "2017-05-29T01:39:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/361",
    "body": "python版本：3.5.3\r\nitchat版本为：`1.3.6`\r\n场景：多开机器人接受大量的好友请求并回复开场白\r\n现象：多线程开了4个机器人，有一个机器人收到两三百个好友请求时阻塞了，无法通过好友请求，其他机器人正常\r\n\r\n```python\r\nFile \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 386, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 2, in raise_from\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 382, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 1198, in getresponse\r\n    response.begin()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 297, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 266, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/adapters.py\", line 423, in send\r\n    timeout=timeout\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 649, in urlopen\r\n    _stacktrace=sys.exc_info()[2])\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/util/retry.py\", line 347, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/packages/six.py\", line 685, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 386, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 2, in raise_from\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 382, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 1198, in getresponse\r\n    response.begin()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 297, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 266, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nrequests.packages.urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/itchat/components/register.py\", line 60, in configured_reply\r\n    r = replyFn(msg)\r\n  File \"/opt/tools/weixin_robot/editor_robot.py\", line 139, in add_friend\r\n    robot.add_friend(**msg['Text'])\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/itchat/components/contact.py\", line 376, in add_friend\r\n    data=json.dumps(data, ensure_ascii=False).encode('utf8', 'replace'))\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/sessions.py\", line 535, in post\r\n    return self.request('POST', url, data=data, json=json, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/sessions.py\", line 488, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/sessions.py\", line 609, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/adapters.py\", line 473, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/itchat/components/login.py\", line 232, in maintain_loop\r\n    i = sync_check(self)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/itchat/components/login.py\", line 285, in sync_check\r\n    r = self.s.get(url, params=params, headers=headers, timeout=config.TIMEOUT)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/sessions.py\", line 501, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/sessions.py\", line 488, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/sessions.py\", line 609, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/adapters.py\", line 473, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', BadStatusLine('HTTP/1.1 0 -\\r\\n',))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 386, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 2, in raise_from\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 382, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 1198, in getresponse\r\n    response.begin()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 297, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/local/python3/lib/python3.5/http/client.py\", line 258, in _read_status\r\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\r\n  File \"/usr/local/python3/lib/python3.5/socket.py\", line 576, in readinto\r\n    return self._sock.recv_into(b)\r\n  File \"/usr/local/python3/lib/python3.5/ssl.py\", line 937, in recv_into\r\n    return self.read(nbytes, buffer)\r\n  File \"/usr/local/python3/lib/python3.5/ssl.py\", line 799, in read\r\n    return self._sslobj.read(len, buffer)\r\n  File \"/usr/local/python3/lib/python3.5/ssl.py\", line 583, in read\r\n    v = self._sslobj.read(len, buffer)\r\nsocket.timeout: The read operation timed out\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/adapters.py\", line 423, in send\r\n    timeout=timeout\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 649, in urlopen\r\n    _stacktrace=sys.exc_info()[2])\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/util/retry.py\", line 347, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/packages/six.py\", line 686, in reraise\r\n    raise value\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 388, in _make_request\r\n    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\r\n  File \"/usr/local/python3/lib/python3.5/site-packages/requests/packages/urllib3/connectionpool.py\", line 308, in _raise_timeout\r\n    raise ReadTimeoutError(self, url, \"Read timed out. (read timeout=%s)\" % timeout_value)\r\nrequests.packages.urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='webpush.wx2.qq.com', port=443): Read timed out. (read timeout=30)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n```\r\n\r\n## 核心代码：\r\n\r\n```python\r\n@itchat.msg_register([TEXT])\r\ndef text_reply(msg):\r\n    global QR_MAX_TRIED_COUNT\r\n    QR_MAX_TRIED_COUNT = 0\r\n\r\n    def add_editor_qr_callback(uuid, status, qrcode):\r\n        global QR_MAX_TRIED_COUNT\r\n        if QR_MAX_TRIED_COUNT<2:\r\n            pic_file = os.path.join(os.path.split(os.path.realpath(__file__))[0], 'editor_data', msg['FromUserName'] + '.png')\r\n            with open(pic_file, 'wb') as f:\r\n                f.write(qrcode)\r\n            itchat.send('Please scan the QR code to log in.', msg['FromUserName'])\r\n            itchat.send('@img@{}'.format(pic_file), msg['FromUserName'])\r\n        elif QR_MAX_TRIED_COUNT>5 or str(status)=='408':\r\n            itchat.send('Scan timeout, Please request again', msg['FromUserName'])\r\n            //还有问题是我想账号长时间不扫描登录会阻塞，所以我直接exit，我看源代码没有退出的逻辑，这样用法有问题吗？跑的时候是正常的\r\n            exit(0)\r\n        QR_MAX_TRIED_COUNT += 1\r\n\r\n    if '机器人' in msg['Text']:\r\n        editor = ZongqunRobot(id=msg['FromUserName'], robot=itchat.new_instance())\r\n        editor.run(add_editor_qr_callback)\r\n\r\nclass ZongqunRobot(EditorRobot):\r\n    def __init__(self, id, robot):\r\n        EditorRobot.__init__(self, id, robot)\r\n\r\n        @robot.msg_register(FRIENDS)\r\n        def add_friend(msg):\r\n            robot.add_friend(**msg['Text'])\r\n            auto_reply = '''hhh'''\r\n            robot.send(auto_reply, msg['RecommendInfo']['UserName'])\r\n            data_dir = os.path.join(os.path.split(os.path.realpath(__file__))[0], 'master_data')\r\n            robot.send('@img@{}'.format(os.path.join(data_dir, choice(EditorRobot.editor_pic))), msg['RecommendInfo']['UserName'])\r\n\r\n    def run(self, qr_callback):\r\n        Dir = os.path.join(os.path.split(os.path.realpath(__file__))[0], 'editor_data')\r\n        self.robot.auto_login(hotReload=True, statusStorageDir=os.path.join(Dir, self.id + '.pkl'),\r\n                              picDir=os.path.join(Dir, self.id + '.png'), qrCallback=qr_callback)\r\n        self.robot.run(blockThread=False)\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/361/comments",
    "author": "Dkner",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-05-29T01:39:32Z",
        "body": "@Dkner 报错看是微信后台关闭了连接。\r\n可能是因为好友添加频率过高导致这一情况。"
      }
    ]
  },
  {
    "number": 360,
    "title": "代码200行,报ConnectionError: 报错的行数代码中找不到",
    "created_at": "2017-05-12T01:30:42Z",
    "closed_at": "2017-05-29T01:40:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/360",
    "body": "```python\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 232, in maintain_loop\r\n    i = sync_check(self)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/login.py\", line 285, in sync_check\r\n    r = self.s.get(url, params=params, headers=headers)\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/sessions.py\", line 501, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/sessions.py\", line 488, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/sessions.py\", line 609, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/adapters.py\", line 473, in send\r\n    raise ConnectionError(err, request=request)\r\nConnectionError: ('Connection aborted.', BadStatusLine('HTTP/1.1 0 -\\r\\n',))\r\n```\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/360/comments",
    "author": "superchaoran",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-12T01:32:22Z",
        "body": "网络问题，捕获异常重发呗"
      },
      {
        "user": "pengyuwei",
        "created_at": "2017-05-25T14:00:33Z",
        "body": "我也频繁碰到这个问题\r\n"
      }
    ]
  },
  {
    "number": 359,
    "title": "Non-blocking wechat requests",
    "created_at": "2017-05-11T17:10:10Z",
    "closed_at": "2017-05-29T01:46:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/359",
    "body": "Hi guys,\r\n\r\nThanks for making this wechat python repo. I am wondering whether there is a way to separate workers i.e.:\r\n\r\n1. To receive message and save to database, and make other callbacks.\r\n\r\n2. To send message.\r\n\r\nAppreciate your help!\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/359/comments",
    "author": "anoncodemonkey",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-12T01:26:28Z",
        "body": "start_receiving(getReceivingFnOnly=True)"
      },
      {
        "user": "anoncodemonkey",
        "created_at": "2017-05-12T09:54:54Z",
        "body": "Ok...\r\n\r\nBut how do I run both simultaneously so that I can always receive and send message independently of each other?\r\n\r\nFor example:\r\n```\r\n# This is for receiving the message\r\n@itchat.msg_register(itchat.content.TEXT)\r\ndef message_read(msg):\r\n    message_data = {\r\n        'sender': msg['FromUserName'],\r\n        'receiver': msg['ToUserName'],\r\n        'text': msg['Text'],\r\n        'created': msg['CreateTime']\r\n    }    \r\n    GLOBAL_SENDER = message_data['sender']\r\n    print message_data\r\n\r\n# This is to send a message, working independently of message_read.\r\ndef message_send():\r\n    itchat.send('Hello filehelper', toUserName='filehelper')\r\n\r\n```\r\n\r\nI would like to have both message_read and message_send that is using the same WeChat account."
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-29T01:46:27Z",
        "body": "@afeezaziz You can simply place two workers in two different thread.\r\n\r\n```python\r\nimport threading, time\r\n\r\nimport itchat\r\n\r\nMSG_LIST = []\r\n\r\n@itchat.msg_register(TEXT)\r\ndef _(msg):\r\n    MSG_LIST.append(msg)\r\n\r\ndef send_thread():\r\n    while 1:\r\n        if MSG_LIST:\r\n            msg = MSG_LIST.pop()\r\n            itchat.send(msg.text, 'filehelper')\r\n        else:\r\n            time.sleep(.1)\r\n\r\nt = threading.Thread(target=send_thread)\r\nt.setDaemon(True)\r\nt.start()\r\n\r\nitchat.auto_login(True)\r\nitchat.run()\r\n```"
      }
    ]
  },
  {
    "number": 355,
    "title": "直接选择视频发送程序获取不到（直接拍摄视频发送可以），这是微信那边的问题吗？",
    "created_at": "2017-05-09T10:11:49Z",
    "closed_at": "2017-05-29T01:50:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/355",
    "body": "选择视频或转发：msg['Text']()  返回空值\r\n直接拍摄视频：msg['Text']() 有数据",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/355/comments",
    "author": "Anlim",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-12T01:30:02Z",
        "body": "选择视频是以文件形式发过来，接收文件回调。"
      }
    ]
  },
  {
    "number": 351,
    "title": "机器人能分享指定小程序的分享页面吗？",
    "created_at": "2017-05-06T03:39:54Z",
    "closed_at": "2017-05-09T04:10:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/351",
    "body": "使用场景如下： 有人把这个机器人（就把这个机器人加小海）拉到他们的群里，然后在群里有人发送 ［  @小海 二手］然后 这个机器人就会把我的小程序里的二手主页做为分享页返回到 群里",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/351/comments",
    "author": "martin-sun",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-08T11:33:36Z",
        "body": "网页微信的分享有很多限制"
      }
    ]
  },
  {
    "number": 350,
    "title": "请问收到的图片是否可以获得下载地址？",
    "created_at": "2017-05-05T13:48:36Z",
    "closed_at": "2017-05-09T04:10:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/350",
    "body": "希望直接获得下载地址，再通过第三方平台抓取图片。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/350/comments",
    "author": "hosven",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-08T11:34:26Z",
        "body": "获取地址也不能直接用，要带cookies"
      }
    ]
  },
  {
    "number": 345,
    "title": "itchat 怎么在被人拦进群之后自动把群加入通讯录，否则群聊发过来的消息没发检测",
    "created_at": "2017-05-04T13:00:45Z",
    "closed_at": "2017-05-29T01:50:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/345",
    "body": "聊天机器人被人拉进了一个群，这个时候必须手动添加至通讯录，不然会报错，无法接受消息，有木有办法检测被人拉进群聊之后自动将该群加入通讯录。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/345/comments",
    "author": "lucasjinreal",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-05-09T04:15:30Z",
        "body": "@jinfagang 报错是指什么？\r\n这里的操作应该是在第一次收到这个群聊的消息的时候后台自动更新通讯录。"
      },
      {
        "user": "lucasjinreal",
        "created_at": "2017-05-09T04:49:20Z",
        "body": "就是在更新通讯录的时候提示value error no key of ‘Self’，我catch了一下"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-09T05:30:01Z",
        "body": "@jinfagang itchat版本是多少？"
      }
    ]
  },
  {
    "number": 343,
    "title": "Can it Analog Click？",
    "created_at": "2017-05-02T08:44:10Z",
    "closed_at": "2017-05-09T04:16:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/343",
    "body": "Can this project realize Click？\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/343/comments",
    "author": "wobuxiangtong",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-05-03T02:52:23Z",
        "body": "analong click?"
      },
      {
        "user": "wobuxiangtong",
        "created_at": "2017-05-03T03:31:41Z",
        "body": "yes"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-03T03:34:11Z",
        "body": "do you mean simulate?"
      },
      {
        "user": "wobuxiangtong",
        "created_at": "2017-05-03T03:37:37Z",
        "body": "yes, just like a browser.Whether be or not i think of too much?"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-03T03:47:53Z",
        "body": "You may try pymouse instead."
      }
    ]
  },
  {
    "number": 340,
    "title": "itchat每24小时左右会掉线",
    "created_at": "2017-04-29T11:22:46Z",
    "closed_at": "2017-05-03T03:00:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/340",
    "body": "感谢作者的贡献，这个客户端功能十分强大！\r\n\r\n有一个问题，似乎每24小时左右就会自动掉线退出，不知道是不是微信网页版的限制还是已知问题？\r\n\r\n退出时 console显示 `LOG OUT xxx`\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/340/comments",
    "author": "allenwq",
    "comments": [
      {
        "user": "andiac",
        "created_at": "2017-04-29T17:27:10Z",
        "body": "刚刚开始使用，还没遇到楼主的问题。另外，如果登录的移动设备下线，那么网页端（客户端）也会下线，这是微信的问题么？"
      },
      {
        "user": "OpenAndrew",
        "created_at": "2017-05-01T11:25:50Z",
        "body": "也越到这个问题，log out ，请问有没有办法解决？"
      },
      {
        "user": "ablueday",
        "created_at": "2017-05-01T12:56:42Z",
        "body": "@andiac  根据个人经验，手机端的微信优先级比网页端的前，所以手机可以控制网页端的上下线，如果手机版下线了，网页版会跟着下线。\r\n这是应该微信本身的设定，您可以改用浏览器来登录网页版微信，看看能否持续24小时？不过我没试过"
      },
      {
        "user": "andiac",
        "created_at": "2017-05-01T16:31:43Z",
        "body": "@ZhouYL0213 谢谢了"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-03T03:00:43Z",
        "body": "@allenwq 长时间在线的话需要保持手机微信也同时联网在线。"
      },
      {
        "user": "allenwq",
        "created_at": "2017-05-03T07:15:09Z",
        "body": "@littlecodersh 手机微信同时在线，从来没下线过。 不知道你有没有测试过这种情况？ "
      },
      {
        "user": "andiac",
        "created_at": "2017-05-04T12:33:43Z",
        "body": "用四天了，掉了一次"
      }
    ]
  },
  {
    "number": 335,
    "title": "所有的api中如何获得好友标签 或者获得所有标签",
    "created_at": "2017-04-26T11:48:39Z",
    "closed_at": "2017-05-29T01:51:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/335",
    "body": "**一般微信现在都给好友设置标签。**\r\n\r\n比如标签列表**【公司、家人、朋友、客户、小蜜、二奶、小三、竞争对手、嫖客】**\r\n公司标签内有100个Friends\r\n朋友标签内有 200个Friends\r\n二奶标签内有100个Friends\r\n\r\n\r\n---\r\n* 获得所有标签。\r\n\r\n   得到：【公司、家人、朋友、客户、小蜜、二奶、小三、竞争对手、嫖客】\r\n\r\n* 根据标签设置备注：需求\r\n\r\n     举例： 循环遍历【公司】标签，\r\n     把公司100个friends每一个Friend设置开头为 Comany_FriendNickName\r\n\r\n* 设置标签的好处在于可以分组、分批量、操作好友\r\n---\r\n\r\n\r\n目前 itchat中没有 希望 littleCoder加上 😆 感谢littleCoder伟大贡献。\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/335/comments",
    "author": "lixiaodaoaaa",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-05-08T11:37:54Z",
        "body": "您确认web微信可以给好友设置标签么"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-08T11:40:23Z",
        "body": "@tempdban   刚才试了 绝对可以😆可以设置标签 。"
      },
      {
        "user": "tempdban",
        "created_at": "2017-05-08T11:46:26Z",
        "body": "好，明天抽空搞搞"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-08T11:50:29Z",
        "body": "@tempdban \r\n问题不是设置标签。是得到标签，然后遍历该标签下所有的friend.然后设置他们的备注名称。\r\n目前是无法得到标签 ，无法更改备注。首先是获得标签，批量更改备注。\r\n比如 我可以得到标签为[公司]，然后设置所有有此标签的好友的备注为Company_sunny、 Commpany_狗蛋等等。。。\r\n\r\nfor  friend in friendsHasCompanyMark\r\n      fried.setAlias(\"company\"+firend.getNickName)"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-08T11:51:22Z",
        "body": "@tempdban \r\n批量更改备注的需求和获得标签下 friend list的需求。两个需求，看看能不能做😆。。\r\n加上就更完美了"
      },
      {
        "user": "tempdban",
        "created_at": "2017-05-08T14:21:52Z",
        "body": "我的话，只会增加查询和修改备注的接口"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-08T14:23:39Z",
        "body": "@tempdban \r\n好。两个需求\r\n1. 获得所有标签 遍历 friend 标签\r\n2.可以改备注【ok】了。。\r\n"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-08T14:24:13Z",
        "body": "@tempdban 我一直没有找到 标签的 api 。。。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-09T04:18:16Z",
        "body": "@lixiaodaoaaa 我没找到所说的操作，可以指导一下web微信要怎么操作标签吗？"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-09T09:52:02Z",
        "body": "@littlecodersh 不是操作标签，是得到一个【标签】下的所有好友，然后循环此好友设置备注。\r\n我也没有发现friend JSon数据中有关于此好友的标签。但在微信客户端中可以看到此好友属于哪个标签，比如属于Company 、客户、嫖客、二奶等。"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-09T09:54:27Z",
        "body": "@littlecodersh 可以修改备注不。。。。好友备注。标签我在网页端没有看到有标签选项估计查不到。。。但是备注可以改"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-05-09T09:55:58Z",
        "body": "itchat.set_alias 问题就又回到了 批量修改备注了。网页端没有标签选项。\r\n此问题还是属于【批量修改备注】问题。。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-05-29T01:51:57Z",
        "body": "@lixiaodaoaaa 批量的操作都需要限制频率，所以还是频率的问题。"
      },
      {
        "user": "simadad",
        "created_at": "2017-07-04T03:03:24Z",
        "body": "> 二奶标签内有100个Friends\r\n\r\n # ???\r\n@lixiaodaoaaa "
      },
      {
        "user": "zany1983",
        "created_at": "2019-03-03T08:09:56Z",
        "body": "我也特别希望基于比较批量修改备注，那样就方便太多啦。貌似目前friend的键里没有“标签”，不知道能不能增加呢？"
      },
      {
        "user": "TheThreeDog",
        "created_at": "2019-07-17T04:05:41Z",
        "body": "@littlecodersh  大佬，最近基于itchat移植一个控制台版本的微信。正好需要根据标签分类这个需求，问下目前版本中有提供相关接口了没？  看了你们之前的讨论，找了下目前微信网页版还没有标签相关的操作，只在客户端有。不知道他们现在有没有提供相关接口，"
      },
      {
        "user": "runchen0518",
        "created_at": "2021-05-04T07:05:50Z",
        "body": "哈哈，太骚了~~"
      }
    ]
  },
  {
    "number": 334,
    "title": "请问怎么更改群公告",
    "created_at": "2017-04-25T03:17:57Z",
    "closed_at": "2017-05-03T03:02:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/334",
    "body": "在api里面没有找到更改群公告的接口？请问有什么方法能够改群公告吗？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/334/comments",
    "author": "shenxin1992",
    "comments": [
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-04-26T12:54:02Z",
        "body": "没发现😆"
      },
      {
        "user": "tempdban",
        "created_at": "2017-04-29T05:15:41Z",
        "body": "web微信可以改群公告嘛"
      }
    ]
  },
  {
    "number": 331,
    "title": "send 方法返回发送的错误信息是否可行",
    "created_at": "2017-04-24T03:18:25Z",
    "closed_at": "2017-05-03T03:03:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/331",
    "body": "对方不是我好友时，发送信息应当失败，但实际上send方法返回的结构都是\r\n```\r\n{'BaseResponse': {'Ret': 0, 'ErrMsg': '请求成功', 'RawMsg': '请求成功'}, 'MsgID': '3049234289131284556', 'LocalID': '14930037275578'}\r\n```\r\n是否可行的得到更精确的信息",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/331/comments",
    "author": "lucasjinreal",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-05-03T03:03:23Z",
        "body": "@jinfagang 微信后端回传的数据就是这个，所以目前没有办法。"
      }
    ]
  },
  {
    "number": 329,
    "title": "读了很多关于 UIN的issues 但是还是未能找到易行的 获取 好友UIN的方法",
    "created_at": "2017-04-23T06:56:41Z",
    "closed_at": "2017-05-03T03:03:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/329",
    "body": "doc里说 \r\n\r\n> 如果想要通过程序获取，也可以用程序将某个好友或者群聊置顶（取消置顶）。\r\n\r\n但是通过程序 `itchat.set_pinned(“@username”, isPinned=True)`  `itchat.set_pinned(“@username”, isPinned=False)` 都没有办法获取到用户的UIN，只有在手机端点开用户的聊天页才会触发程序端的uin update\r\n\r\n请问有没有办法通过纯程序的方法来找到某个UserName的UIN？ 或者任何可以当做用户id的值？\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/329/comments",
    "author": "Meowzz95",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-04-29T05:10:19Z",
        "body": " 现在不能了"
      }
    ]
  },
  {
    "number": 328,
    "title": "群聊视频很多下载大小为0K",
    "created_at": "2017-04-21T09:50:17Z",
    "closed_at": "2017-04-22T06:34:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/328",
    "body": "不知道是什么原因？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/328/comments",
    "author": "sunsonzh",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-04-22T06:34:17Z",
        "body": "@sunsonzh 目前微信网页版的视频接口有一些不稳定，等一段时间稳定后这个情况就会好的。"
      }
    ]
  },
  {
    "number": 327,
    "title": "有时程序会异常退出",
    "created_at": "2017-04-20T06:11:05Z",
    "closed_at": "2017-04-22T06:24:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/327",
    "body": "错误提示：\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files (x86)\\JetBrains\\PyCharm 2017.1\\helpers\\pydev\\_pydevd_bundle\\pydevd_comm.py\", line 353, in _on_run\r\n    r = self.sock.recv(1024)\r\nerror: [Errno 10054]",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/327/comments",
    "author": "sunsonzh",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-04-22T06:24:52Z",
        "body": "@sunsonzh 看起来是pycharm的问题"
      }
    ]
  },
  {
    "number": 325,
    "title": "Feature request coexistence of ItChat & Web Wechat",
    "created_at": "2017-04-17T13:26:44Z",
    "closed_at": "2017-04-22T06:26:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/325",
    "body": "我看到这个实现是通过网页版接口而不是通过模拟操控网页版微信实现的 但是这样就有一个问题就是 如果run着itchat 那么电脑版wechat或者网页版就无法同时登陆\r\n\r\n有没有办法把itchat拿到的数据同时暴露到web版微信上 以实现共存？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/325/comments",
    "author": "Meowzz95",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-04-22T06:26:57Z",
        "body": "@Meowzz95 和官方web版是肯定不能共存的，至于拿到的数据怎么展示，就是一个简单的展示数据的问题了。"
      }
    ]
  },
  {
    "number": 324,
    "title": "itchat可以配合socket使用吗？",
    "created_at": "2017-04-17T09:19:57Z",
    "closed_at": "2017-04-22T06:27:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/324",
    "body": "itchat怎样才能与socket服务同时运行？\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/324/comments",
    "author": "wangzhipeng404",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-04-19T03:23:00Z",
        "body": "啊？"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-04-22T06:27:19Z",
        "body": "@wangzhipeng404 别让run阻塞线程即可"
      },
      {
        "user": "wangzhipeng404",
        "created_at": "2017-04-25T03:54:26Z",
        "body": "看了一下源码, itchat.run(blockThread=False)这样就行了，谢谢"
      }
    ]
  },
  {
    "number": 317,
    "title": "按微信账号搜索的时候，搜索结果为空",
    "created_at": "2017-04-11T06:45:43Z",
    "closed_at": "2017-04-22T06:31:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/317",
    "body": "newInstance.search_friends(wechatAccount='我的另一个微信账号')\r\n结果为空  []\r\n但是我debug发现Alias为空  ''\r\nuin字段却正确显示了微信账号",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/317/comments",
    "author": "hetykai",
    "comments": [
      {
        "user": "Huayet",
        "created_at": "2017-04-13T02:44:55Z",
        "body": "修改itchat\\storage\\中的init，把Alias替换成新的字段即可"
      }
    ]
  },
  {
    "number": 316,
    "title": "如何优雅的退出ItChat实例",
    "created_at": "2017-04-11T01:42:32Z",
    "closed_at": "2017-04-22T06:32:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/316",
    "body": "比如我需要通过代码登出网页版\r\n\r\n又或者用户长期不扫码，我想要销毁ItChat实例\r\n\r\n目前好像只能干掉线程或者进程吧",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/316/comments",
    "author": "teli5200",
    "comments": [
      {
        "user": "erdong-fe",
        "created_at": "2017-04-18T10:20:11Z",
        "body": "ctrl+c"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-04-22T06:32:04Z",
        "body": "@teli5200 \r\n```python\r\nitchat.logout()\r\n```"
      }
    ]
  },
  {
    "number": 310,
    "title": "公众号菜单可以模拟点击么？",
    "created_at": "2017-04-04T08:04:23Z",
    "closed_at": "2017-04-04T08:57:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/310",
    "body": "看了API 接口，没有这方面的接口。\r\n\r\n能否介绍下此框架的实现原理？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/310/comments",
    "author": "ouewqa",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-04-04T08:57:11Z",
        "body": "@ouewqa 不可以的，是模拟网页版微信。"
      }
    ]
  },
  {
    "number": 305,
    "title": "重复保存聊天记录",
    "created_at": "2017-03-27T08:01:43Z",
    "closed_at": "2017-03-29T02:03:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/305",
    "body": "在使用最新版本的Itchat，在监听群聊天，并将聊天记录自动保存到CSV的时候，发现时不时的会出现连续性或者间隔性重复保存。这个问题怎么解决，在哪里优化？\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/305/comments",
    "author": "ChevyWind",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-29T02:03:45Z",
        "body": "@ChevyWind 建议自行跟踪存储，简化问题的核心代码。"
      }
    ]
  },
  {
    "number": 303,
    "title": "Ubuntu环境下后台运行，输出重定义到log文件，仍有部分输出没有重定义",
    "created_at": "2017-03-26T13:20:29Z",
    "closed_at": "2017-03-29T02:07:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/303",
    "body": "在提交前，请确保您已经检查了以下内容!\r\n\r\n- [x] 您可以在浏览器中登陆微信账号，但不能使用`itchat`登陆\r\n- [x] 我已经阅读并按[文档][document] 中的指引进行了操作\r\n- [x] 您的问题没有在[issues][issues]报告，否则请在原有issue下报告\r\n- [x] 本问题确实关于`itchat`, 而不是其他项目.\r\n- [x] 如果你的问题关于稳定性，建议尝试对网络稳定性要求极低的[itchatmp][itchatmp]项目\r\n\r\n请使用`itchat.run(debug=True)`运行，并将输出粘贴在下面:\r\n\r\n```\r\n python3 itchat_learn.py >> itchat.log\r\nGetting uuid of QR code.\r\nDownloading QR code.\r\nPlease scan the QR code to log in.\r\n\r\n```\r\n\r\n您的itchat版本为：`[1.3.1]`。（可通过`python -c \"import itchat;print(itchat.__version__)\"`获取）\r\n\r\n其他的内容或者问题更详细的描述都可以添加在下面：\r\n\r\n你好，我在Ubuntu的环境下使用输出重定义的方法，将输出内容输出到itchat.log文件，但是输出仍有一部分内容没有到log文件中，而是输出在shell上（如以上），请问这样如何解决，我希望能够以后台运行的方式运行。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/303/comments",
    "author": "chixinmu",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-03-27T10:05:44Z",
        "body": "我说一个无关itchat的事，你考虑过\"标准错误输出\"么？"
      },
      {
        "user": "chixinmu",
        "created_at": "2017-03-27T15:07:08Z",
        "body": "感谢提供思路，不解为何要将获取二维码的信息定义为标准错误输出？不能定义为标准输出么？"
      }
    ]
  },
  {
    "number": 298,
    "title": "请问怎么实现定时发动消息的功能？",
    "created_at": "2017-03-24T23:38:27Z",
    "closed_at": "2017-03-25T04:31:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/298",
    "body": "如题？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/298/comments",
    "author": "djtu",
    "comments": [
      {
        "user": "zhihuaqiu",
        "created_at": "2017-03-25T03:24:54Z",
        "body": "```python\r\n#使用多线程\r\nimport _thread    \r\n\r\n_thread.start_new_thread(itchat.run, ())   #原itchat.run放到线程里\r\n_thread.start_new_thread(sendTask(), ())  #再开一个线程调用 定时任务函数 自己在函数里面写需要定时发送的消息\r\n```\r\n\r\n例：\r\n```python\r\ndef sendTask():\r\n    while True:\r\n        current_time = time.localtime(time.time())\r\n        #定时发送销售\r\n        if((current_time.tm_hour == 17) and (current_time.tm_min == 0) and (current_time.tm_sec == 0)):\r\n            replay = '销售：' + str(\"%.2f\" % db.SaleAmount())\r\n            itchat.send(replay, toUserName=\"filehelper\")\r\n        time.sleep(1)\r\n```"
      }
    ]
  },
  {
    "number": 295,
    "title": "自己如何获取自己手机发出的消息呢",
    "created_at": "2017-03-22T14:57:59Z",
    "closed_at": "2017-03-24T01:39:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/295",
    "body": "看了文档，没找到如何获取自己手机的消息，求解",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/295/comments",
    "author": "a471640241",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-24T01:39:29Z",
        "body": "@a471640241 打印一下所有消息你就能找到了。\r\n举例而言，你注册的回复文本消息的方法也会接收到自己发送的文本消息，FromUserName就是自己的。"
      }
    ]
  },
  {
    "number": 292,
    "title": "callback 增加itchat 参数，有的时候拿不到自身，这样会更灵活一些。",
    "created_at": "2017-03-22T01:57:48Z",
    "closed_at": "2017-03-22T07:56:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/292",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/292/comments",
    "author": "githubwing",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-22T07:56:30Z",
        "body": "@githubwing 为了保持接口稳定，我这里还是不增加参数了，可以通过下面的方法实现你的需求：\r\n\r\n```python\r\nfrom functools import partial\r\n\r\nimport itchat\r\n\r\ndef qrCallback(core, uuid, status, qrcode):\r\n    pass\r\n\r\nitchat.auto_login(qrCallback=partial(qrCallback, itchat))\r\n```"
      }
    ]
  },
  {
    "number": 291,
    "title": "支持mac吗？",
    "created_at": "2017-03-20T12:02:03Z",
    "closed_at": "2017-03-22T09:11:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/291",
    "body": "我在mac上安装失败啊",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/291/comments",
    "author": "zhouyangzzuzzu",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-21T01:19:31Z",
        "body": "@zhouyangzzuzzu 支持的，你把报错贴一下。"
      },
      {
        "user": "bopo",
        "created_at": "2017-03-21T01:41:45Z",
        "body": "支持，我一直mac下使用"
      }
    ]
  },
  {
    "number": 288,
    "title": "不能获取国家地区信息？",
    "created_at": "2017-03-18T12:45:05Z",
    "closed_at": "2017-03-22T07:49:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/288",
    "body": "get_friends后，联系人没有国家和地区相关的字段。但是网页版微信确实有这个信息的显示",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/288/comments",
    "author": "finalion",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-19T04:41:26Z",
        "body": "@finalion 可以用这个命令：\r\n```python\r\nimport itchat\r\nfriend = get_friends()[1]\r\nfriend = itchat.update_friend(friend['UserName'])\r\n```\r\n如果这个方法还是获取不到的话那就没有办法了。"
      }
    ]
  },
  {
    "number": 286,
    "title": "create_chatroom() 使用的问题",
    "created_at": "2017-03-17T15:55:46Z",
    "closed_at": "2017-03-19T04:42:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/286",
    "body": "博主你好，安装Itchat后测试了几个功能，现在我想新建一个群聊。\r\n想问下create_chatroom() 这个函数怎么用，mberlist这个参数，'MemberList': [{'UserName': member['UserName']} for member in memberList],这个该怎么理解呢",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/286/comments",
    "author": "zhiyinyouzhao",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-19T04:42:21Z",
        "body": "@zhiyinyouzhao 在1.3.0之后我会将这个方法能够兼容的参数增加。\r\n目前memberList是一个包含用户字典的列表。"
      }
    ]
  },
  {
    "number": 284,
    "title": "fork后就无法收到消息了",
    "created_at": "2017-03-17T01:26:18Z",
    "closed_at": "2017-03-22T09:11:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/284",
    "body": "想做成守护进程运行，fork后可以看到进程还在，但是却无法收到消息了\r\n\r\n\r\n> Thu, 16 Mar 2017 15:35:31 register.py[line:101] DEBUG itchat received an ^C and exit.\r\n> Thu, 16 Mar 2017 15:35:31 register.py[line:102] INFO Bye~\r\n\r\n\r\n\r\n> root@l7nu:~$ ps -ef|grep python\r\n> root   25790     1  0 01:20 ?        00:00:00 python robot.py\r\n> root   25795 25683  0 01:21 pts/0    00:00:00 grep --color=auto python",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/284/comments",
    "author": "pengyuwei",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-17T01:41:37Z",
        "body": "@pengyuwei 看提示是已经正常退出了，直接nohup没法完成需求吗？"
      },
      {
        "user": "tempdban",
        "created_at": "2017-03-17T11:48:50Z",
        "body": "代码贴一下，是不是把daemon设成True了\r\nPython守护进程不要用posix方式搞，有很多成熟的管理框架给你用，比如supervisor\r\n"
      },
      {
        "user": "xyzsss",
        "created_at": "2017-03-18T10:13:05Z",
        "body": "nohup不行的话，可以试试 tmux "
      }
    ]
  },
  {
    "number": 283,
    "title": "多次出现能发不能接消息情况",
    "created_at": "2017-03-16T10:11:03Z",
    "closed_at": "2017-03-17T01:42:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/283",
    "body": "情况是在11:54开始就无法接收消息，但后续检活消息仍然能正常发送，ItChat仍在运行，昨天和今天已经出现过三次\r\n\r\n运行日志：\r\n```\r\nMar 16 11:54:49 localhost docker/792cb408f386[16237]: 2017-03-16 11:54:49,919 - xiaoyi-wechatbot1 - DEBUG - get group msg\r\nMar 16 11:54:57 localhost docker/792cb408f386[16237]: 2017-03-16 11:54:57,664 - xiaoyi-wechatbot1 - DEBUG - get group msg\r\nMar 16 11:59:31 localhost docker/792cb408f386[16237]: Request to send a text message to filehelper: xiaoyi-wechatbot1: I am alive!\r\nMar 16 12:04:31 localhost docker/792cb408f386[16237]: Request to send a text message to filehelper: xiaoyi-wechatbot1: I am alive!\r\nMar 16 12:09:32 localhost docker/792cb408f386[16237]: Request to send a text message to filehelper: xiaoyi-wechatbot1: I am alive!\r\n```\r\n\r\nitchat版本为：`[1.2.29]`。\r\n\r\n经过分析怀疑是 sync_check 中 i一直等于'0'，但重启之后又无法马上复现。请问如何解决？\r\n\r\n```\r\n       while self.alive:\r\n            try:\r\n                i = sync_check(self)\r\n                if i is None:\r\n                    self.alive = False\r\n                elif i == '0':\r\n                    pass\r\n```\r\n\r\n ",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/283/comments",
    "author": "bitwater",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-17T01:42:23Z",
        "body": "@bitwater 目前微信是会存在一段时间无法收到消息，之后重新恢复的情况，稍等一段时间即可。\r\n如果关于sync_check的研究有什么进展也可以在这个issue下面我们继续讨论。"
      },
      {
        "user": "bitwater",
        "created_at": "2017-03-17T02:42:45Z",
        "body": "一直都无法恢复，接收线程完全没有响应了，但进程又还在运行，在ItChat加入了几处debug，等待线上复现情况"
      }
    ]
  },
  {
    "number": 281,
    "title": "能否发送微信图文信息？",
    "created_at": "2017-03-15T14:16:25Z",
    "closed_at": "2017-03-16T09:18:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/281",
    "body": "我发现小U管家能实现自动回复类似于公众号的图文消息，贵源码也能实现名片信息的发送。那么是不是也能实现图文消息的发送呢？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/281/comments",
    "author": "wangcheng70kg",
    "comments": [
      {
        "user": "wangcheng70kg",
        "created_at": "2017-03-15T14:18:03Z",
        "body": "或者，需要结合公众号的“分享给好友”功能一起来实现？"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-16T09:18:05Z",
        "body": "@wangcheng70kg 直接发是不能的，那个是通过其他协议完成的，非本项目的内容。\r\n结合公众号的部分你可以研究一下，不过也肯定不是通过个人号直接发送的。"
      }
    ]
  },
  {
    "number": 277,
    "title": "check_login()后，send方法失效",
    "created_at": "2017-03-13T09:46:11Z",
    "closed_at": "2017-03-16T09:24:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/277",
    "body": "经过反复试验，发现是check导致的send失效\r\n错误信息如下：\r\n```python\r\nTraceback (most recent call last):\r\n  File \"build\\bdist.win-amd64\\egg\\itchat\\components\\login.py\", line 237, in maintain_loop\r\n    msgList, contactList = self.get_msg()\r\n  File \"build\\bdist.win-amd64\\egg\\itchat\\components\\login.py\", line 303, in get_msg\r\n    dic = json.loads(r.content.decode('utf-8', 'replace'))\r\n  File \"D:\\Anaconda2\\lib\\json\\__init__.py\", line 339, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"D:\\Anaconda2\\lib\\json\\decoder.py\", line 364, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"D:\\Anaconda2\\lib\\json\\decoder.py\", line 382, in raw_decode\r\n    raise ValueError(\"No JSON object could be decoded\")\r\nValueError: No JSON object could be decoded\r\n```\r\n\r\n![Uploading RG$CTEXCG5S31N4Z9(%K_NN.png…]()\r\n\r\n代码如下\r\n```python\r\n# coding: utf-8\r\nimport itchat\r\nimport time\r\nimport logging\r\nfrom datetime import datetime\r\n\r\n\r\ndef wx_login():\r\n    itchat.auto_login(enableCmdQR=True, hotReload=True)\r\n\r\n\r\ndef check_online():\r\n    login_status = itchat.check_login()\r\n    if login_status == '200':\r\n        logging.info('login succeed!')\r\n        return True\r\n    else:\r\n        logging.info(datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\") + '------')\r\n        logging.error(login_status)\r\n        time.sleep(60)\r\n        wx_login()\r\n        return False\r\n\r\n\r\ndef send():\r\n    status = check_online()\r\n    print status\r\n    if status is True:\r\n        mp = itchat.search_mps(name= u'***')[0]\r\n        print mp[u'UserName']\r\n        info = itchat.send('3', toUserName=mp['UserName'])\r\n        print info\r\n        # itchat.logout()\r\n\r\n\r\nif __name__ == '__main__':\r\n    wx_login()\r\n    send()\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/277/comments",
    "author": "sylzd",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-03-13T16:22:47Z",
        "body": "check_login()是登录过程中调用的方法，不是做在线检查用的，auto_login中已经调用一遍了，如果你再调一遍，整个时序都会乱掉，之后返回的东西将不可预期。"
      },
      {
        "user": "sylzd",
        "created_at": "2017-03-13T16:33:17Z",
        "body": "@tempdban  这样啊 谢谢  那要通过什么来进行在线监控呢？ 我在API里没有找到其他method了"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-16T09:24:33Z",
        "body": "@sylzd auto_login的时候有exitCallback的，但要注意的是现在有些情况下是一段时间无法收到消息以后还会恢复，这种情况下是没有办法通过这个callback检测到问题的。\r\n所以如果你需要明确的检测，建议你使用itchatmp方法给机器人发消息确认其在线。"
      },
      {
        "user": "adreamteama",
        "created_at": "2018-02-07T04:40:44Z",
        "body": "可不可以使用itchat.search_friends()，如果返回数组长度为零,断定为已经退出登录。\r\n把这个地方改一下：\r\n    def search_friends(self, name=None, userName=None, remarkName=None, nickName=None,\r\n            wechatAccount=None):\r\n        with self.updateLock:\r\n            if (name or userName or remarkName or nickName or wechatAccount) is None:\r\n                if len(self.memberList) == 0:\r\n                    return {}  # maybe logout！\r\n                else:\r\n                    return copy.deepcopy(self.memberList[0]) # my own account\r\n            elif userName: # return the only userName match\r\n..\r\n..\r\n\r\n原来代码：\r\n    def search_friends(self, name=None, userName=None, remarkName=None, nickName=None,\r\n            wechatAccount=None):\r\n        with self.updateLock:\r\n            if (name or userName or remarkName or nickName or wechatAccount) is None:\r\n                    return copy.deepcopy(self.memberList[0]) # my own account\r\n            elif userName: # return the only userName match\r\n..\r\n..\r\n\r\n"
      }
    ]
  },
  {
    "number": 276,
    "title": "两个网页端登录",
    "created_at": "2017-03-12T13:09:45Z",
    "closed_at": "2017-03-16T09:25:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/276",
    "body": "现在用itchat做自动回复部署到服务器上，但是如果还想在其他web端登录聊天，itchat肯定会自动退出。有什么比较好的解决方案？能否加入自动重连机制？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/276/comments",
    "author": "finalion",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-03-12T17:06:40Z",
        "body": "改进你的设计，可以实现成另一线程专门做客户端。"
      },
      {
        "user": "finalion",
        "created_at": "2017-03-12T17:21:16Z",
        "body": "聊天想用腾讯官方的"
      },
      {
        "user": "JosephusZhou",
        "created_at": "2017-03-16T04:10:15Z",
        "body": "两个网页端登录是不可能的，一定会有一个被踢下线"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-16T09:25:46Z",
        "body": "@finalion 没有办法，就使用完网页端重新登陆itchat吧。"
      },
      {
        "user": "finalion",
        "created_at": "2017-03-16T11:51:21Z",
        "body": "我知道不能同时登录。我现在是写了一个守护进程，前端控制itchat的登录。 有个问题，不知道是怎么回事：三个sh，monitor.sh, run.sh, stop.sh.  shell中单次运行脚本，二维码图片能下载；但加入crontab任务时，就不能下载了。我已经设置了picDir的路径"
      },
      {
        "user": "finalion",
        "created_at": "2017-03-16T13:49:39Z",
        "body": "已解决，路径问题。"
      }
    ]
  },
  {
    "number": 274,
    "title": "enableCmdQR=True输出识别码缺失问题，使用enableCmdQR=2之后依然显示有错误",
    "created_at": "2017-03-12T00:53:38Z",
    "closed_at": "2017-03-21T01:21:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/274",
    "body": "本机windows上部署时，使用enableCmdQR=True输出的识别码是完整的，能够正常扫一扫登陆\r\n但部署在aws云服务器上时（redhat ubuntu均试过），输出在终端上的识别码有缺失（角落上缺了一部分）\r\n\r\n已安装pillow，securecrt会话编码utf-8\r\n这种情况可能是什么原因造成的\r\n\r\n██████████████████████████████████████           \r\n█              ████  █          ██          █      █              █\r\n█  █████  █    ██      ████    █  ██  ████  █████  █\r\n█  █      █  ██        ██      ███        ██    █  █      █  █\r\n█  █      █  ██    █    ████    █  █      ██  █  █      █  █\r\n█  █      █  ████  ███        ██    ███    ██  █      █  █\r\n█  █████  █  ██  ██      ███  █  ██  ██  █  █████  █\r\n█              █  █  █  █  █  █  █  █  █  █  █  █              █\r\n█████████  █        ███      █  █  ██  ███████████\r\n█████        ███  ███    ███    █    █      █    ███  ██\r\n██  ██    ██  █  ██  ██    █        █  ██  ██  █        ██\r\n█    █  █    ███    ████      █    ███      █  █  █  ████\r\n█      ██  █  █          ██        ███  ██        ███    ███\r\n█  ███            █████  █            ██████      █    █  █\r\n███  ████              ██          █      █        ██  █  ███\r\n█        █    █████      ██          █  ███  ███        ███\r\n████  █████  █  ██  ██    ██    ███  ███  ███  █  █\r\n██  ████  ███      █  ██        █  ████        ██        █\r\n████    ██  █        ██          █    █  █      ███  █  ███\r\n██  ██  █        █████  █  █    █  ██      ██  █  █  ███\r\n███  █    █    █    ██  █  ████      ██      █      █      █\r\n██    █          ████    ████████      █  █    ███  ███\r\n█████  ███    █████  ███    █  █  ██  ████  ███  █\r\n█  █████          █  ██    █  ██    ███        ████  ███\r\n█      █    █████    ███  █      █    ██  █        █      ██\r\n█          █  ██                        ██  █        █    ██      █\r\n█  █    ████        ██  █  ██        █  █  █    ██  █    ██\r\n██████    ██  █    ██        █  █      █    █  ██      ███\r\n███      ███  █    ██  ██  ██  █    ██████  ███      █\r\n█          █  █      ██    █████      █  ███          █    ██\r\n█████████  █  █      █              ███  █  ███    ████\r\n█              █    █  █  ██    █    ██        █  █  █      ███\r\n█  █████  █  ██    ██    ██    █    ███    ███  █  █  █\r\n█  █      █  █  █  ██  ███████    █  █  █                ██\r\n█  █      █  ███  █  ███    ██  █  ██      ██    █    ███\r\n█  █      █  ██    ██    ██        █████████    █  █  ██\r\n█  █████  ██    █    █  ███        █  █    ████        ██\r\n█              ███    █  █  ███            ██  █    ███      █",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/274/comments",
    "author": "leilei175",
    "comments": [
      {
        "user": "QuantumLiu",
        "created_at": "2017-03-12T10:29:15Z",
        "body": "Linux要enableCmdQR=2"
      },
      {
        "user": "leilei175",
        "created_at": "2017-03-15T10:04:54Z",
        "body": "使用了enableCmdQR=2依然显示有错误，我观察了一下，右下角部分显示不全。\r\n测试环境是securecrt连接到远程server上。\r\n求大神指点\r\n██████████████████████████████████████████████████████████████████████████████\r\n██              ████  ██  ██    ██████  ██████████  ██  ██████              ██\r\n██  ██████████  ████  ██████    ████████████  ██████  ████████  ██████████  ██\r\n██  ██      ██  ██      ██████      ██  ████  ██████  ██    ██  ██      ██  ██\r\n██  ██      ██  ██  ██            ██  ████    ██████        ██  ██      ██  ██\r\n██  ██      ██  ████  ██    ██████  ██  ██████    ██    ██████  ██      ██  ██\r\n██  ██████████  ██████      ████  ██  ██  ██  ██  ████  ██████  ██████████  ██\r\n██              ██  ██  ██  ██  ██  ██  ██  ██  ██  ██  ██  ██              ██\r\n████████████████████  ██      ██    ████        ██    ██    ██████████████████\r\n████████    ██    ██    ██████████  ████  ██        ████████████████    ██████\r\n████    ████  ██      ████████  ██████████    ██  ██  ██            ██    ████\r\n████  ████  ██  ██  ██      ██      ██  ████          ██        ██  ██  ██  ██\r\n████        ████  ██  ██  ██  ██████████  ██  ████████  ██      ████    ██  ██\r\n██  ██████  ██            ██████    ████    ████████████    ██    ██        ██\r\n██████████  ████    ████      ████  ██      ██    ████        ████  ██  ██████\r\n██████    ██      ██████  ████  ██  ██  ██    ██  ██  ██  ██    ██          ██\r\n██  ██████████████      ██  ████        ██  ██      ████  ██  ████        ████\r\n████████  ██            ████      ██  ████        ██  ████  ██    ████  ██  ██\r\n████      ████████    ██    ██    ████    ██████      ██  ██  ██  ██████  ████\r\n████    ██  ██  ████  ██  ████    ██        ██████  ████  ██████  ████  ██  ██\r\n██  ████  ██████      ██  ██      ██      ██    ██    ██████  ██████  ████████\r\n████  ██  ██              ████      ██████    ██        ██      ██    ████████\r\n████  ████████████      ██    ██    ████        ██          ████    ██      ██\r\n██████  ██  ██  ████  ████████    ██████  ████████  ████  ██    ██  ██████  ██\r\n████          ████    ██      ██    ████████        ██      ████  ████      ██\r\n██████    ██    ██████████      ██  ██        ██████    ██████  ████  ██  ████\r\n██        ████████  ██    ████  ██    ██      ████  ██  ██    ████    ██  ████\r\n██      ██        ██    ████  ██  ██        ██  ████      ████  ██          ██\r\n██  ████  ████████████████  ██████    ██████    ██  ██    ██  ██    ██  ██████\r\n██  ██  ██████            ████        ██    ██    ██  ██            ██  ██████\r\n██████████████████  ████    ████  ██  ██████  ██  ██  ████  ██████        ████\r\n██              ██    ██    ██    ██████████████  ████████  ██  ██      ██  ██\r\n██  ██████████  ████  ██████        ████████  ████      ██  ██████    ██  ████\r\n██  ██      ██  ██  ██  ████    ██  ██  ██  ████    ████            ████  ████\r\n██  ██      ██  ██  ████  ██████████    ████  ████████      ██  ████  ████████\r\n██  ██      ██  ████  ██    ██  ██    ██    ██  ██  ██  ██  ████            ██\r\n██  ██████████  ██████    ████  ██████  ██  ██  ██████  ██████  ██  ██      ██\r\n██              ████  ████    ████    ██████    ████  ████  ██  ████  ████  ██\r\n██████████████████████████████████████████████████████████████████████████████"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-16T09:30:38Z",
        "body": "@leilei175 把第二张图放个截图吧"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-21T01:21:07Z",
        "body": "@leilei175 5天未回复，关闭本issue"
      }
    ]
  },
  {
    "number": 273,
    "title": "断网后触发send()方法会卡住，不抛出错误。",
    "created_at": "2017-03-11T14:13:38Z",
    "closed_at": "2017-03-21T01:20:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/273",
    "body": "代码如下\r\n```\r\nimport itchat\r\nfrom requests.exceptions import ConnectionError\r\nimport traceback\r\nitchat.auto_login(enableCmdQR=2,hotReload=True)#\r\nitchat.dump_login_status()#dump\r\nwhile 1:\r\n     try:\r\n             itchat.send('a','filehelper')\r\n     except:\r\n             traceback.print_exc()\r\n     finally:\r\n            time.sleep(2.)\r\n\r\n```\r\n在网络正常时，可以正常发送：\r\n```\r\n<ItchatReturnValue: {'BaseResponse': {'RawMsg': '请求成功', 'Ret': 0, 'ErrMsg': '请求成功'}, 'MsgID': '1290911947791515278', 'LocalID': '14892411350271'}>\r\n<ItchatReturnValue: {'BaseResponse': {'RawMsg': '请求成功', 'Ret': 0, 'ErrMsg': '请求成功'}, 'MsgID': '4567269694212234529', 'LocalID': '14892411371521'}>\r\n\r\n```\r\n但是如果这时断掉网络，就会一直卡住，重新连上网后Ctrl+c 会traceback然后继续正常发送",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/273/comments",
    "author": "QuantumLiu",
    "comments": [
      {
        "user": "byemypast",
        "created_at": "2017-03-11T16:22:08Z",
        "body": "+1"
      },
      {
        "user": "tempdban",
        "created_at": "2017-03-12T17:30:21Z",
        "body": "windows？\r\n提供一下系统版本和python版本"
      },
      {
        "user": "QuantumLiu",
        "created_at": "2017-03-12T22:55:04Z",
        "body": "已知Ubuntu16，py3.5"
      },
      {
        "user": "tempdban",
        "created_at": "2017-03-13T16:25:07Z",
        "body": "断网多长时间，有没有数分钟？"
      },
      {
        "user": "QuantumLiu",
        "created_at": "2017-03-13T22:15:20Z",
        "body": "应该是没有几分钟，手动测试的"
      },
      {
        "user": "QuantumLiu",
        "created_at": "2017-03-13T22:19:22Z",
        "body": "怀疑是requests的get的timeout问题？"
      },
      {
        "user": "tempdban",
        "created_at": "2017-03-14T11:15:17Z",
        "body": "事实上就是这样。"
      },
      {
        "user": "QuantumLiu",
        "created_at": "2017-03-14T11:34:30Z",
        "body": "120\tdef test_connect(retryTime=5):\r\n121\t    for i in range(retryTime):\r\n122\t        try:\r\n123\t            r = requests.get(config.BASE_URL)\r\n所以改这里咯？"
      },
      {
        "user": "tempdban",
        "created_at": "2017-03-14T11:36:51Z",
        "body": "不是这里，这里是网络链接情况的探测\r\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-17T01:47:16Z",
        "body": "@QuantumLiu traceback报错贴一下吧。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-21T01:20:10Z",
        "body": "@QuantumLiu 6天没有回复，关闭本issue。"
      }
    ]
  },
  {
    "number": 268,
    "title": "能否提供删除好友的 API？",
    "created_at": "2017-03-08T20:05:46Z",
    "closed_at": "2017-03-10T06:02:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/268",
    "body": "我想做一个自动拉所有好友入群、发送入群邀请后自动删除好友的机器人... 不过似乎你们这里似乎目前不提供删好友的 API，请问以后可以提供吗？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/268/comments",
    "author": "physixfan",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-10T06:02:12Z",
        "body": "@physixfan 我也没法预测，只能说如果有的话我会第一时间加进去。"
      }
    ]
  },
  {
    "number": 260,
    "title": "有没有办法将个人名片或自己关注的公众号名片转发出去？",
    "created_at": "2017-03-05T16:10:30Z",
    "closed_at": "2017-03-08T02:01:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/260",
    "body": "这个是您之前的回答，我使用以下代码无法发送名片，能确定下，现在的还支持发送名片的这个功能吗？\r\n> @ganleyang @jireh-he @shqzzy @tempdban\r\n> 在最新版本中更新了发送名片的功能，示例代码如下：\r\n> \r\n> import itchat\r\n> \r\n> @itchat.msg_register(itchat.content.CARD)\r\n> def reply(msg):\r\n>     itchat.send_raw_msg(msg['MsgType'], msg['Content'], msg['FromUserName'])\r\n> \r\n> itchat.auto_login(True)\r\n> itchat.run()\r\n> 其实是很古老的做法，当时以为名片和链接分享一样被过滤了，没想到今天无意中试了一下还能用。\r\n> 另外，多提一句，和链接分享被过滤的原因一样，名片中的内容也是可以随意修改的。\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/260/comments",
    "author": "iliaokun",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-08T02:01:26Z",
        "body": "@iliaokun 不能用就是现在不行了。"
      },
      {
        "user": "iliaokun",
        "created_at": "2017-03-12T00:25:41Z",
        "body": "好的，谢谢哈~"
      }
    ]
  },
  {
    "number": 256,
    "title": "请问 itchat 下载文件，如果要自定义保存路径，需要怎么写呢？？？？",
    "created_at": "2017-03-03T02:06:47Z",
    "closed_at": "2017-03-03T09:13:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/256",
    "body": "```python\r\n@itchat.msg_register(['Picture', 'Recording', 'Attachment', 'Video'])\r\ndef download_files(msg):\r\n    msg['Text'](msg['FileName'])\r\n    itchat.send('@%s@%s'%('img' if msg['Type'] == 'Picture' else 'fil', msg['FileName']), msg['FromUserName'])\r\n    return '%s received'%msg['Type']\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/256/comments",
    "author": "djtu",
    "comments": [
      {
        "user": "fisher335",
        "created_at": "2017-03-03T08:13:26Z",
        "body": "msg['FileName']  可以填写一个相对路径，可以看一下源码，他是用file.open打开的一个filedir，所以理论上只要你能用file.open打开的路径，填写上都能发出去。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T09:13:23Z",
        "body": "```python\r\n@itchat.msg_register(['Picture', 'Recording', 'Attachment', 'Video'])\r\ndef download_files(msg):\r\n    msg['Text']('theFileDirYouWant.tmp')\r\n```"
      }
    ]
  },
  {
    "number": 255,
    "title": "收不到公众号发的消息",
    "created_at": "2017-03-03T00:45:26Z",
    "closed_at": "2017-03-03T09:14:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/255",
    "body": "请问：\r\n\r\n```python\r\n#coding=utf8\r\nimport itchat, time\r\nfrom itchat.content import *\r\n\r\n@itchat.msg_register([TEXT, MAP, CARD, NOTE, SHARING, SYSTEM])\r\ndef text_reply(msg):\r\n    print('%s: %s' % (msg['Type'], msg['Text']), msg['FromUserName'])\r\n\r\nitchat.auto_login(True)\r\nitchat.run()\r\n```\r\n\r\n好像收不到公众号发的消息，该如何修改？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/255/comments",
    "author": "guotie",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T09:14:04Z",
        "body": "@guotie \r\n```python\r\n@itchat.msg_register([TEXT, MAP, CARD, NOTE, SHARING, SYSTEM], isMpChat=True)\r\ndef text_reply(msg):\r\n    print('%s: %s' % (msg['Type'], msg['Text']), msg['FromUserName'])\r\n```"
      }
    ]
  },
  {
    "number": 254,
    "title": "示例中的名片是如何发送的，没有发现有这种信息格式啊",
    "created_at": "2017-03-02T14:00:19Z",
    "closed_at": "2017-03-03T09:14:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/254",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/254/comments",
    "author": "LZ0211",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T09:14:31Z",
        "body": "@LZ0211 CARD"
      }
    ]
  },
  {
    "number": 251,
    "title": "请问itchat能分享接受到的 小程序 分享吗？",
    "created_at": "2017-03-01T13:15:36Z",
    "closed_at": "2017-03-17T02:37:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/251",
    "body": "如题 if 机器人接受到 一个小程序sharing 分享，或者机器人自己构造 分享小程序，然后发给去。\r\n\r\n能够实现吗？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/251/comments",
    "author": "djtu",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-17T02:37:22Z",
        "body": "@djtu 没有办法，sharing的消息目前都没有转发的办法。"
      }
    ]
  },
  {
    "number": 250,
    "title": "有关Readme.md中的例子",
    "created_at": "2017-03-01T08:17:31Z",
    "closed_at": "2017-03-03T09:16:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/250",
    "body": "请问为什么我按照readme.md中的例子操作，只能返回自己发出去的信息？\r\n就是如下的代码：\r\n```python\r\n@itchat.msg_register([TEXT, MAP, CARD, NOTE, SHARING])\r\ndef text_reply(msg):\r\n    itchat.send('%s: %s' % (msg['Type'], msg['Text']), msg['FromUserName'])\r\n```\r\n谢谢！",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/250/comments",
    "author": "daigangfan",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T09:16:48Z",
        "body": "@daigangfan 因为你设置的就是返回自己发出去的消息。"
      }
    ]
  },
  {
    "number": 248,
    "title": "synccheck 和 webwxsync 无规律返回 503",
    "created_at": "2017-02-28T14:33:21Z",
    "closed_at": "2017-03-03T09:21:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/248",
    "body": "利用 itchat 挂机，发现掉线了，于是重启了服务器上的程序，结果相隔几秒钟就又掉线了。\r\n\r\n不确定是否是微信服务器不稳定还是被针对，但是手动登录网页版微信发现了如下行为：\r\n\r\n心跳包接口 `synccheck` 和获取消息 `get_msg` 采用的 `webwxsync` 接口总有几个 503 丢过来，请求列表里总有几个是红的，猜测大概是 itchat 无法正确获取登录状态和最新消息的原因。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/248/comments",
    "author": "RoyXiang",
    "comments": [
      {
        "user": "RoyXiang",
        "created_at": "2017-03-02T10:04:22Z",
        "body": "`webwxsync` 是会重试 5 次的，建议给 `synccheck` 加上这个，不然网络状况不好的时候很容易错误地将网页版登出。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T09:21:04Z",
        "body": "@RoyXiang 503的话很可能是网不好。\r\nwebwxsync和synccheck都有加重试，你可以看一下源码。\r\nsynccheck还是长连接，连续五次错误的延时后还是无法连接的话心跳也肯定不行了，所以暂时不考虑增加重试次数。"
      },
      {
        "user": "RoyXiang",
        "created_at": "2017-03-03T10:49:58Z",
        "body": "@littlecodersh 当时发生那种情况的时候 itchat 是挂在 VPS 上的，登录成功之后 itchat 立马就掉了，然后我才在本地开了个 Chrome 浏览器查看请求，所以就算是网络问题，也极有可能是微信服务器的问题。\r\n\r\n另外，代码里并没有发现 `sync_check` 有重试机制，目前是只要 `sync_check` 的返回内容不对就直接 `self.isAlive = False` 的。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T16:10:27Z",
        "body": "@RoyXiang 如果你觉得极有可能是微信服务器异常也可以。\r\nsync_check的话返回None的情况不是返回内容不对，而是返回了登出标示。"
      },
      {
        "user": "RoyXiang",
        "created_at": "2017-03-04T00:45:34Z",
        "body": "`r = self.s.get(url, params=params, headers=headers)` 这个执行完返回的 Response Header 是 503，响应内容为空，所以 `r.text` 取到的是空字符串，然后 `pm = re.search(regx, r.text)` 得到的 `pm` 自然是 `None` 了。\r\n\r\n@littlecodersh "
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-04T01:50:05Z",
        "body": "@RoyXiang 在503情况下你说的是很有道理的，我会在下个版本里面改进这个问题。\r\n我的考虑是这样的，503的返回值是服务器明确返回了内容回来而非网络连接异常，我在想是不是你的中间网络服务中间某个节点给你返回的这个值。\r\n在我维护这个项目的那么长时间内这是我第一次遇到微信返回503而非直接终止连接，而直接终止连接的话会直接抛出异常进入重试。\r\n不过加上非200返回值的重试也并没有问题，所以就加上了。"
      }
    ]
  },
  {
    "number": 246,
    "title": "auto_login执行出错",
    "created_at": "2017-02-27T13:38:32Z",
    "closed_at": "2017-03-03T09:31:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/246",
    "body": "```python\r\nimport itchat\r\nitchat.auto_login()\r\n```\r\n\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/itchat/utils.py\", line 123, in test_connect\r\n    r = requests.get(config.BASE_URL)\r\n  File \"/usr/lib/python2.7/site-packages/requests/api.py\", line 70, in get\r\n    return request('get', url, params=params, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/api.py\", line 56, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/sessions.py\", line 475, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/sessions.py\", line 596, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/requests/adapters.py\", line 497, in send\r\n    raise SSLError(e, request=request)\r\nSSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:590)\r\n\r\nYou can't get access to internet or wechat domain, so exit.\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/246/comments",
    "author": "HejiaHo",
    "comments": [
      {
        "user": "featheraaa",
        "created_at": "2017-02-28T05:39:30Z",
        "body": "这是requests的错误 你用的是哪个requests版本，我也是有类似的错误"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T09:31:45Z",
        "body": "@HejiaHo 字面意思，CERTIFICATE_VERIFY_FAILED"
      },
      {
        "user": "HejiaHo",
        "created_at": "2017-03-03T14:28:34Z",
        "body": "@littlecodersh 有什么办法解决吗？"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T16:13:32Z",
        "body": "@HejiaHo 这就是requests和urllib3的问题了，你可以自己搜一下。"
      },
      {
        "user": "l123456789jy",
        "created_at": "2017-07-12T01:58:47Z",
        "body": "`pip uninstall -y certifi`\r\n`pip install certifi==2015.04.28`\r\n\r\n即可解决  py版本2.7.9"
      },
      {
        "user": "ghostlyman",
        "created_at": "2017-07-22T16:16:40Z",
        "body": "可能是python版本内部的根证书过期，请尝试下列命令。\r\n```\r\n$ sudo pip uninstall -y certifi\r\n$ sudo pip install certifi==2015.04.28\r\n```"
      }
    ]
  },
  {
    "number": 244,
    "title": "itchat.search_friends()不返回个人用户信息",
    "created_at": "2017-02-25T06:12:33Z",
    "closed_at": "2017-03-03T09:32:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/244",
    "body": "使用`itchat.search_friends()`（不带任何参数）返回的是好友的词典，不是自己的。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/244/comments",
    "author": "georgeyjm",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-02-26T14:00:57Z",
        "body": "@yu-george 给我一下你用的itchat版本。"
      },
      {
        "user": "georgeyjm",
        "created_at": "2017-02-27T11:54:27Z",
        "body": "@littlecodersh 1.2.19"
      },
      {
        "user": "georgeyjm",
        "created_at": "2017-02-27T11:56:58Z",
        "body": "@littlecodersh 之前用，只有1个好友的时候还是好的，但是后来加了多个好友之后，就会出现这个问题，我现在即使把好友全部删光，也仍然不会返回我自己的信息。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-03T09:32:16Z",
        "body": "@yu-george 更新最新版本吧，现在已经1.2.27了。"
      }
    ]
  },
  {
    "number": 240,
    "title": "是否可以转发或发送语音呢？",
    "created_at": "2017-02-22T08:09:47Z",
    "closed_at": "2017-02-24T04:56:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/240",
    "body": "现在只能上传语音文件  和app里面直接发语音还是有很大区别的",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/240/comments",
    "author": "huigan",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-02-24T04:56:02Z",
        "body": "@huigan 不能的。"
      },
      {
        "user": "georgeyjm",
        "created_at": "2017-03-04T04:17:47Z",
        "body": "如果手机上抓一下发语音时的包有没有用？"
      }
    ]
  },
  {
    "number": 239,
    "title": "请问itchat.search_friends(wechatAccount='账号')怎么用啊？",
    "created_at": "2017-02-22T06:51:51Z",
    "closed_at": "2017-02-24T04:56:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/239",
    "body": "尝试itchat.search_friends(wechatAccount='账号')按照微信账号搜索返回空列表[]，\r\n观察了下print itchat.get_friends(update=True)的输出，\r\n好像微信HTTP就没有返回账号信息。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/239/comments",
    "author": "kmlxk",
    "comments": [
      {
        "user": "kmlxk",
        "created_at": "2017-02-22T06:54:58Z",
        "body": "另外观察到好像  itchat.get_friends(update=True)  返回的Keyword字段是微信账号的前三个字符。。。"
      },
      {
        "user": "kmlxk",
        "created_at": "2017-02-22T11:30:44Z",
        "body": "测试了下45个好友中只有20个好友的Alias字段（微信账号）有内容。。。 "
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-02-24T04:56:31Z",
        "body": "@kmlxk 的确不是所有的好友都能获取到微信账号字段。\r\n详情可以见#67"
      }
    ]
  },
  {
    "number": 238,
    "title": "重启 itchat 之后会收到重启前接收到的最后一条消息",
    "created_at": "2017-02-21T07:21:03Z",
    "closed_at": "2017-02-21T07:40:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/238",
    "body": "在退出时利用 `dump_login_status` 把登录状态保存下来，然后重新启动，采用 `auto_login(hotReload=True)` 方式登录，此时会接收到重启前收到的最后一条消息，导致同一条消息收到两次甚至两次以上。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/238/comments",
    "author": "RoyXiang",
    "comments": [
      {
        "user": "RoyXiang",
        "created_at": "2017-02-21T07:25:01Z",
        "body": "补充一下：必须是未读消息"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-02-21T07:40:24Z",
        "body": "@RoyXiang 是这样的，服务器怕你最后一条消息没收到。\r\n如果要解决这个问题，最简单的来说你可以把之前最后一条收到的消息的`NewMsgId`键值存下来，如果和新消息的一模一样那就是重复的消息。"
      }
    ]
  },
  {
    "number": 235,
    "title": "如何接收和发送群消息呢？",
    "created_at": "2017-02-18T06:09:54Z",
    "closed_at": "2017-02-20T06:35:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/235",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/235/comments",
    "author": "xiaotangyuan",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-02-19T05:18:39Z",
        "body": "```python\r\n@itchat.msg_register(TEXT, isGroupChat=True)\r\ndef text_reply(msg):\r\n    if msg['isAt']:\r\n        itchat.send(u'@%s\\u2005I received: %s' % (msg['ActualNickName'], msg['Content']), msg['FromUserName'])\r\n```"
      },
      {
        "user": "lucasjinreal",
        "created_at": "2017-03-27T14:05:37Z",
        "body": "```\r\n@itchat.msg_register(TEXT, isGroupChat=True)\r\ndef group_chat_reply(msg):\r\n    print(msg['Text'])\r\n    if msg['isAt']:\r\n        itchat.send(u'@%s\\u2005I received: %s' % (msg['ActualNickName'], msg['Content']), msg['FromUserName'])\r\n```\r\n收到群消息，不能发，咋回事啊"
      }
    ]
  },
  {
    "number": 227,
    "title": "群聊用户的微信账号(id)如何获取呢",
    "created_at": "2017-02-11T10:42:56Z",
    "closed_at": "2017-02-12T02:57:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/227",
    "body": "hi 大家好 群聊用户的微信账号(id)如何获取呢",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/227/comments",
    "author": "wwj718",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-02-12T02:57:27Z",
        "body": "@wwj718 群聊的MemberList或者消息的ActualUserName键"
      },
      {
        "user": "wwj718",
        "created_at": "2017-02-12T03:27:48Z",
        "body": "感谢回答！@littlecodersh 我想要的是能添加好友的那个id号（手机微信里添加好友），能做到吗"
      }
    ]
  },
  {
    "number": 223,
    "title": "有发送语音的接口吗？",
    "created_at": "2017-02-04T12:25:34Z",
    "closed_at": "2017-02-08T08:51:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/223",
    "body": "微信网页版好像没有发语音的途径，有什么办法可以吧 send_recording也加上呢？直接抓微信手机客户端的包？讨论一下吧",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/223/comments",
    "author": "cyhhao",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-02-08T08:51:00Z",
        "body": "@cyhhao 那就是另一个项目了，重要的是那个项目显然不适合开源的。\r\n4天了没人回我就关了这个issue了。"
      },
      {
        "user": "yunfan",
        "created_at": "2017-02-09T05:13:54Z",
        "body": "发文件似乎可以 网页版也能发文件 而且如果是图的话会自动显示 是语音会提供播放界面"
      },
      {
        "user": "cyhhao",
        "created_at": "2017-02-16T11:51:30Z",
        "body": "@yunfan 发文件的话只能当做 mp3 文件发，跟图片还是不同的。感觉还不如给微信网页版提用户反馈，推动他们加上发语音的功能比较靠谱，哈哈"
      },
      {
        "user": "allenwq",
        "created_at": "2017-04-09T16:47:56Z",
        "body": "@littlecodersh 还是蛮期待这个功能的，不知道你有没有尝试过？"
      },
      {
        "user": "wjcroom",
        "created_at": "2017-11-17T09:35:44Z",
        "body": "同期待"
      },
      {
        "user": "idejie",
        "created_at": "2017-11-20T14:58:18Z",
        "body": "期待+1"
      },
      {
        "user": "rovedream",
        "created_at": "2018-03-16T13:34:40Z",
        "body": "期待+1"
      },
      {
        "user": "giantbing",
        "created_at": "2018-05-29T07:00:22Z",
        "body": "期待+1"
      },
      {
        "user": "Changjinxing",
        "created_at": "2018-07-12T13:16:39Z",
        "body": "期待+1"
      }
    ]
  },
  {
    "number": 221,
    "title": "长时间登录会掉线的问题",
    "created_at": "2017-02-01T10:23:01Z",
    "closed_at": "2017-02-02T14:48:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/221",
    "body": "长时间登录会掉线的问题，大概登录一天左右就需要重新登录一次。都是这种情况吗？\r\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/221/comments",
    "author": "dx838",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-02-02T14:48:35Z",
        "body": "@binai 保持手机端同时在线。\r\n例如演示用机器人，一般数月才会重启。"
      }
    ]
  },
  {
    "number": 220,
    "title": "可否批量修改好友备注",
    "created_at": "2017-01-30T10:20:11Z",
    "closed_at": "2017-02-02T14:49:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/220",
    "body": "这一块需求挺大的，不知道能不能实现",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/220/comments",
    "author": "Ericxiaoshuang",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-02-02T14:49:10Z",
        "body": "@Ericxiaoshuang 就是使用更改备注的方法，但是有频率限制。"
      },
      {
        "user": "lixiaodaoaaa",
        "created_at": "2017-04-26T12:57:30Z",
        "body": "for friend in friends \r\n   friend.setAlias \r\n  ##延迟一下 再循环\r\n\r\n循环一下可以不然"
      }
    ]
  },
  {
    "number": 214,
    "title": "如何导出所有好友信息",
    "created_at": "2017-01-26T02:39:47Z",
    "closed_at": "2017-01-26T03:20:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/214",
    "body": "请问一下\r\nitchat.search_friends()能缺省搜索吗?\r\n或者有没有其他方法可以导出所有好友的信息.打算做一个群发.",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/214/comments",
    "author": "RondoChen",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-01-26T03:20:46Z",
        "body": "@RondoChen 读一下文档吧。\r\n```python\r\nitchat.get_friends()\r\n```"
      }
    ]
  },
  {
    "number": 213,
    "title": "怎么发送普通链接消息",
    "created_at": "2017-01-24T11:44:58Z",
    "closed_at": "2017-01-25T10:02:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/213",
    "body": "@itchat.msg_register(itchat.content.SHARING)\r\ndef sharing_replying(msg):\r\n   itchat.send_raw_msg(msg['MsgType'],msg['Content'],'filehelper')\r\n\r\n这样收到的是XML字符串",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/213/comments",
    "author": "auzn",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-01-25T10:02:00Z",
        "body": "@auzn 目前已经没有办法发送了。"
      }
    ]
  },
  {
    "number": 209,
    "title": "有可能实现视频通话吗",
    "created_at": "2017-01-19T05:25:50Z",
    "closed_at": "2017-01-23T10:36:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/209",
    "body": "如题",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/209/comments",
    "author": "yangxuan8282",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-01-23T10:36:51Z",
        "body": "@yangxuan8282 目前没有可能"
      }
    ]
  },
  {
    "number": 207,
    "title": "itchat.add_friend( userName = '99989000')",
    "created_at": "2017-01-13T04:03:38Z",
    "closed_at": "2017-01-13T10:05:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/207",
    "body": "这个函数返回的是错误的值？[u'ErrMsg']:u''\r\n[u'Ret']:-1\r\n['RawMsg']:u''请问这个可能是什么原因？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/207/comments",
    "author": "yyanglike",
    "comments": [
      {
        "user": "tempdban",
        "created_at": "2017-01-13T05:37:46Z",
        "body": "@yyanglike \r\n# 获取自己的用户信息，返回自己的属性字典\r\nitchat.search_friends()\r\n# 获取特定UserName的用户信息\r\nitchat.search_friends(userName='@abcdefg1234567')\r\n# 获取任何一项等于name键值的用户\r\nitchat.search_friends(name='littlecodersh')\r\n# 获取分别对应相应键值的用户\r\nitchat.search_friends(wechatAccount='littlecodersh')\r\n# 三、四项功能可以一同使用\r\nitchat.search_friends(name='LittleCoder机器人', wechatAccount='littlecodersh')\r\n\r\nreadme都不看的么？"
      },
      {
        "user": "yyanglike",
        "created_at": "2017-01-13T06:40:35Z",
        "body": "这个好像是获取本地通信录里面的信息。不是增加好友功能吧？"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-01-13T10:05:37Z",
        "body": "@yyanglike 这个api是建议你用来通过好友和加少量的群好友。"
      }
    ]
  },
  {
    "number": 204,
    "title": "itchat 有session相关的管理么？",
    "created_at": "2017-01-10T14:22:10Z",
    "closed_at": "2017-01-10T15:03:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/204",
    "body": "对当前正在聊天的users的会话管理？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/204/comments",
    "author": "RominYue",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-01-10T14:28:36Z",
        "body": "@RominYue 正在聊天的User的会话管理具体指什么？"
      },
      {
        "user": "RominYue",
        "created_at": "2017-01-10T14:58:03Z",
        "body": "哦，类似于网页session。和每一个用户的聊天会话，都可以看作是一个session。比如现在有这样一个需求。我需要判断用户是否是第一次向我发送信息，如果是第一次的话，需要做一些额外的操作。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-01-10T15:01:51Z",
        "body": "@RominYue 你可以在加好友的时候返回这些特别的操作。\r\n对话的话就是后台一条消息传过来了，传过来的消息里面没有历史消息的。"
      },
      {
        "user": "RominYue",
        "created_at": "2017-01-10T15:03:48Z",
        "body": "好的，谢谢。"
      }
    ]
  },
  {
    "number": 202,
    "title": "按照教程，自己给自己发信息无返回",
    "created_at": "2017-01-07T14:18:17Z",
    "closed_at": "2017-01-08T05:50:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/202",
    "body": "环境：Darwin, python2.7.11\r\n版本：1.2.18\r\n代码：\r\n\r\n```\r\nimport itchat\r\nfrom itchat.content import *\r\n\r\n@itchat.msg_register(TEXT)\r\ndef text_reply(msg):\r\n    return msg['Text']\r\n\r\nitchat.auto_login(enableCmdQR=2)\r\nitchat.run()\r\n```\r\n扫码成功后，自己在手机端给自己发msg，无反应",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/202/comments",
    "author": "RominYue",
    "comments": [
      {
        "user": "sunxian",
        "created_at": "2017-01-08T05:24:37Z",
        "body": "我的2.7.11也是一个情况"
      },
      {
        "user": "sunxian",
        "created_at": "2017-01-08T05:25:09Z",
        "body": "python3.6.0的版本正常"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-01-08T05:50:59Z",
        "body": "@RominYue @sunxian 有些账号的确是无法给自己发消息的。\r\n可以尝试给`filehelper`发送消息。"
      }
    ]
  },
  {
    "number": 201,
    "title": "作者 是不是忘记了点什么",
    "created_at": "2017-01-07T08:14:39Z",
    "closed_at": "2017-01-08T05:51:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/201",
    "body": "def maintain_loop():\r\n        retryCount = 0\r\n        while self.alive:\r\n            try:\r\n                i = sync_check(self)\r\n                if i is None:\r\n                    self.alive = False\r\n                elif i == '0':\r\n                    continue\r\n       ###########这里是不是应该加一个time.sleep(1)之类的，才不会掉线快\r\n                else:\r\n                    msgList, contactList = self.get_msg()\r\n                    if contactList:\r\n                        chatroomList, otherList = [], []\r\n                        for contact in contactList:\r\n                            if '@@' in contact['UserName']:\r\n                                chatroomList.append(contact)\r\n                            else:\r\n                                otherList.append(contact)\r\n                        chatroomMsg = update_local_chatrooms(self, chatroomList)\r\n                        self.msgList.put(chatroomMsg)\r\n                    if msgList:\r\n                        msgList = produce_msg(self, msgList)\r\n                        for msg in msgList: self.msgList.put(msg)\r\n                retryCount = 0\r\n                time.sleep(1)\r\n            except:\r\n                retryCount += 1\r\n                logger.debug(traceback.format_exc())\r\n                if self.receivingRetryCount < retryCount:\r\n                    self.alive = False\r\n                else:\r\n                    time.sleep(1)",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/201/comments",
    "author": "featheraaa",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-01-07T08:16:04Z",
        "body": "@featheraaa sync_check是个长连接"
      }
    ]
  },
  {
    "number": 198,
    "title": "如何获得当前登陆用户的UserName",
    "created_at": "2017-01-03T05:24:24Z",
    "closed_at": "2017-01-03T05:27:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/198",
    "body": "目前通过FromUserName获得消息的主人，但是如何判断这个User是帐号本人还是好友？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/198/comments",
    "author": "yangqi",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-01-03T05:27:56Z",
        "body": "自己的UserName在这里：\r\n```python\r\nitchat.originInstance.storageClass.userName\r\n```"
      },
      {
        "user": "yangqi",
        "created_at": "2017-01-03T21:07:51Z",
        "body": "多谢"
      }
    ]
  },
  {
    "number": 197,
    "title": "如何在群聊中被@能自动回复呢？",
    "created_at": "2017-01-01T12:47:57Z",
    "closed_at": "2017-01-03T00:37:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/197",
    "body": "作者您好，我看到您的个人号在群聊被@中也能自动回复，这个要怎么实现呢？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/197/comments",
    "author": "dingzhw",
    "comments": [
      {
        "user": "dingzhw",
        "created_at": "2017-01-02T12:26:06Z",
        "body": "仔细阅读了相关文档和消息类型解决了这个问题，再次感谢作者搭建的框架。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-01-03T00:37:15Z",
        "body": "@dingzhw 好:)"
      },
      {
        "user": "Sesshoumaru",
        "created_at": "2017-01-03T01:26:17Z",
        "body": "我的好友人数超过2500+，获取好友失败。。，有碰到类似的吗?"
      }
    ]
  },
  {
    "number": 196,
    "title": "网页登陆",
    "created_at": "2017-01-01T07:07:09Z",
    "closed_at": "2017-01-01T09:51:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/196",
    "body": "hi ～\r\n\r\n如果我想实现网页扫码登陆，应该如何做呢，在后台成成二维码传到前端就行吗",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/196/comments",
    "author": "wwj718",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2017-01-01T09:51:10Z",
        "body": "@wwj718 你看下群文件里面有个flask_qr.py，就是类似的实现。"
      },
      {
        "user": "wwj718",
        "created_at": "2017-01-01T09:56:21Z",
        "body": "@littlecodersh  感激不尽！"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-01-01T10:10:29Z",
        "body": "@wwj718 不客气的"
      },
      {
        "user": "jjuu",
        "created_at": "2018-05-27T01:57:57Z",
        "body": "在哪加群"
      }
    ]
  },
  {
    "number": 194,
    "title": "求助版主如何实现发送图片功能",
    "created_at": "2016-12-31T09:44:18Z",
    "closed_at": "2016-12-31T16:46:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/194",
    "body": "求助版主如何实现发送图片功能\r\n\r\n我自己写的机器人 发送图片一直失败失败失败，，跪求版主帮帮忙",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/194/comments",
    "author": "dakulzhan",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-12-31T16:46:13Z",
        "body": "@dakulzhan 你加qq群然后私聊我好了。"
      }
    ]
  },
  {
    "number": 192,
    "title": "群图片下载",
    "created_at": "2016-12-27T02:53:51Z",
    "closed_at": "2016-12-28T10:06:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/192",
    "body": "请问大牛，这个库能截获群图片消息吗？还有用库登录后能在线多长时间，能设置吗？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/192/comments",
    "author": "bbsdkjdx",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-12-27T09:33:48Z",
        "body": "@bbsdkjdx 可以的。可以很久，你不想保持登陆的时候使用itchat.logout()就可以了。"
      },
      {
        "user": "bbsdkjdx",
        "created_at": "2016-12-28T04:02:36Z",
        "body": "谢谢您的解答，我只是想让它一直在线，有时候掉线了，不知道是因为电脑待机导致的还是在线时间有上限导致的。如果有上限，不知道能不能设置这个上限。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-12-28T04:08:32Z",
        "body": "@bbsdkjdx 电脑待机应该是会导致这个问题的，另外，长时间待机需要主机和手机保持持续联网。\r\n是没有上限可以设置的。"
      },
      {
        "user": "bbsdkjdx",
        "created_at": "2016-12-28T04:15:28Z",
        "body": "哦，知道了，非常感谢！期待您的后续佳作！"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-12-28T10:06:42Z",
        "body": "好:)"
      }
    ]
  },
  {
    "number": 190,
    "title": "作者我想请问下如何获得群用户唯一标识？",
    "created_at": "2016-12-23T19:19:38Z",
    "closed_at": "2016-12-24T04:45:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/190",
    "body": "作者你好，我自己做了一个微信机器人的软件。。但是目前我遇到一个问题就是\r\n“如何获得群用户唯一标识”\r\n能分享下获取方式吗？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/190/comments",
    "author": "dakulzhan",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-12-24T04:45:04Z",
        "body": "@dakulzhan 你来晚了，现在已经没有办法获取了。"
      }
    ]
  },
  {
    "number": 186,
    "title": "是否支持打开必须在微信客户端打开web网页的api",
    "created_at": "2016-12-18T11:38:26Z",
    "closed_at": "2016-12-18T12:17:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/186",
    "body": "有一些网页，要求必须只能在微信客户端里打开，有这个一个api接口吗？或者相关文档？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/186/comments",
    "author": "daoiqi",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-12-18T12:17:25Z",
        "body": "@daoiqi 没有的，这已经是另一个不同的东西了。"
      }
    ]
  },
  {
    "number": 183,
    "title": "`set_pinned` 无法更新 Uin。",
    "created_at": "2016-12-17T17:36:42Z",
    "closed_at": "2016-12-18T09:46:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/183",
    "body": "尝试对于部分群组，MPS，对其执行 set_pinned 操作，无论 True 或 False 均不能触发 Uin 更新。\r\n\r\n由于 API 的不稳定性，重现效果有待证实。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/183/comments",
    "author": "blueset",
    "comments": [
      {
        "user": "blueset",
        "created_at": "2016-12-17T17:39:28Z",
        "body": "Similar to #172."
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-12-17T17:43:56Z",
        "body": "@blueset 的确是不能更新群聊或者用户的Uin。\r\n由于群聊成员的Uin也已经被微信后端屏蔽，所以set_pinned目前是完全没有获取Uin的作用了。"
      }
    ]
  },
  {
    "number": 182,
    "title": "add_member_into_chatroom请求被限制了怎么办？或者怎么避免？",
    "created_at": "2016-12-17T07:29:14Z",
    "closed_at": "2016-12-17T17:44:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/182",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/182/comments",
    "author": "leelihang",
    "comments": [
      {
        "user": "leelihang",
        "created_at": "2016-12-17T07:29:51Z",
        "body": "```json\r\n{\r\n    \"BaseResponse\": {\r\n        \"Ret\": 1205,\r\n        \"ErrMsg\": \"操作太频繁，请稍后再试。\"\r\n    },\r\n    \"MemberCount\": 0,\r\n    \"MemberList\": []\r\n}\r\n```"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-12-17T07:48:00Z",
        "body": "@leelihang 你是以什么频率加的人？"
      },
      {
        "user": "binderclip",
        "created_at": "2017-01-03T09:38:16Z",
        "body": "同被限制了，1205 这个好像解封也很快（add_member_into_chatroom 大概半小时？）。\r\n另外发消息、加好友都会被 1205，发消息解封很快。\r\n\r\n回头我查一下请求 log 分析下。"
      },
      {
        "user": "discountry",
        "created_at": "2017-02-17T03:50:12Z",
        "body": "超过100人的加一个`useInvitation=True`就好\r\n\r\n```python\r\ndef add_member_into_chatroom(self, chatroomUserName, memberList,\r\n        useInvitation=False):\r\n    ''' add members into chatroom\r\n        for adding\r\n            - you can't add yourself or member already in chatroom\r\n            - if so, no one will be added\r\n            - if member will over 40 after adding, invitation must be used\r\n            - strict-limited frequency\r\n        for options\r\n            - chatroomUserName: 'UserName' key of chatroom info dict\r\n            - memberList: list of members' info dict\r\n            - useInvitation: if invitation is not required, set this to use\r\n        it is defined in components/contact.py\r\n    '''\r\n    raise NotImplementedError()\r\n```"
      },
      {
        "user": "binderclip",
        "created_at": "2017-02-24T09:46:44Z",
        "body": "@discountry 这个是调用太频繁导致的，和 `useInvitation` 没关系。另外好像超过 40 个人就要用 `useInvitation=True`"
      },
      {
        "user": "discountry",
        "created_at": "2017-02-24T10:02:58Z",
        "body": "@binderclip soga, 我之前也出了类似的错误，加上以后就没报错了……"
      },
      {
        "user": "binderclip",
        "created_at": "2017-02-24T10:10:08Z",
        "body": "@discountry 哈哈哈，这个解除限制比较快，应该是后来再调用的时候已经解除了。"
      },
      {
        "user": "ajing2",
        "created_at": "2017-06-12T13:28:28Z",
        "body": "1205这个限制可以破吗？"
      },
      {
        "user": "ajing2",
        "created_at": "2017-06-14T05:48:13Z",
        "body": "解封是微信自动解封吗"
      },
      {
        "user": "ajing2",
        "created_at": "2017-06-14T05:48:26Z",
        "body": "-1 这样的返回码是什么鬼\r\n"
      },
      {
        "user": "ajing2",
        "created_at": "2017-06-14T05:51:41Z",
        "body": "{u'MsgID': u'0', u'LocalID': u'14974192870260', u'BaseResponse': {u'ErrMsg': u'', u'Ret': -1, 'RawMsg': u''}}"
      },
      {
        "user": "heiliuer",
        "created_at": "2018-07-05T11:45:26Z",
        "body": "这个接口不能用了"
      },
      {
        "user": "aigc-boys",
        "created_at": "2018-07-08T07:59:34Z",
        "body": "@leelihang @littlecodersh @binderclip @discountry @ajing2 ，请问add_member_into_chatroom这个接口还能用嘛，我的代码没有报错，但是一直没有发送群邀请。谢谢。\r\nitchat.add_member_into_chatroom(get_group_id(u'深度学习与机器学习-小分队'), \r\n                                        [{'UserName': msg['FromUserName']}], useInvitation=True)\r\n\r\ndef get_group_id(group_name):\r\n    group_list = itchat.search_chatrooms(name=group_name)\r\n    return group_list[0]['UserName']"
      }
    ]
  },
  {
    "number": 174,
    "title": "如何获得群成员列表",
    "created_at": "2016-12-03T22:40:10Z",
    "closed_at": "2016-12-04T10:29:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/174",
    "body": "如何获取一个群的所有成员列表",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/174/comments",
    "author": "featheraaa",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-12-04T04:23:12Z",
        "body": "@featheraaa 在MemberList这个键里面。\r\n如果获取到的MemberList里面是空的，说明这个群初始化的时候没有带用户，可以用这个命令让后台更新：\r\n```python\r\ndetailedChatroom = itchat.update_chatroom('@@abcdef123456', detailedMember=True)\r\n```"
      },
      {
        "user": "featheraaa",
        "created_at": "2016-12-04T09:56:49Z",
        "body": "@littlecodersh  感谢你在itchat作出的奉献"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-12-04T10:29:23Z",
        "body": ":)"
      }
    ]
  },
  {
    "number": 172,
    "title": "可以通过MsgType为51的消息获取wxid，但问题是如何用web版触发51信息",
    "created_at": "2016-12-02T06:53:16Z",
    "closed_at": "2016-12-04T06:07:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/172",
    "body": "目前观察到的`MsgType`为51，并且`StatusNotifyCode in [2, 4]`的消息里，能获取username和wxid的对应。\r\n\r\n但问题是web上目前没有观察到可以主动触发51信息的方式。\r\n\r\n在手机上任意点开一个聊天，就能触发51信息，但在web上点开任何聊天都无效。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/172/comments",
    "author": "Morriaty-The-Murderer",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-12-03T04:31:17Z",
        "body": "@Morriaty-The-Murderer 可以设置置顶，或者你也可以试试别的操作。\r\n运行的时候把debug打开就可以看到log：\r\n```python\r\nitchat.run(debug=True)\r\n```"
      },
      {
        "user": "Morriaty-The-Murderer",
        "created_at": "2016-12-05T01:43:58Z",
        "body": "web上的置顶并不会触发任何消息啊。"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-12-05T02:27:42Z",
        "body": "@Morriaty-The-Murderer 发现了，是我这里搞错了。\r\n你试试别的操作。"
      }
    ]
  },
  {
    "number": 169,
    "title": "获取用户微信号",
    "created_at": "2016-11-28T06:26:32Z",
    "closed_at": "2016-11-29T01:45:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/169",
    "body": "Hi，有可能在得知用户的userName情况下，获取用户微信号吗",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/169/comments",
    "author": "wwj718",
    "comments": [
      {
        "user": "wwj718",
        "created_at": "2016-11-28T06:30:02Z",
        "body": "我看到 'Alias' 参数中，只有部分包含好友微信号，大多为空"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-11-28T07:14:50Z",
        "body": "@wwj718 你试试这个，我也不确定能不能获取：\r\n```python\r\nitchat.update_friend(userName)\r\n```"
      },
      {
        "user": "wwj718",
        "created_at": "2016-11-28T08:16:53Z",
        "body": "@littlecodersh  好的 感谢~"
      },
      {
        "user": "wwj718",
        "created_at": "2016-11-29T01:46:02Z",
        "body": "@littlecodersh 似乎无法获取"
      },
      {
        "user": "liwen-tj",
        "created_at": "2018-06-20T10:54:32Z",
        "body": "猜测get_friends返回的username是wechat id进行hash后的结果"
      },
      {
        "user": "R1310328554",
        "created_at": "2024-04-20T09:59:21Z",
        "body": "为什么要进行hash？  "
      }
    ]
  },
  {
    "number": 166,
    "title": "微信模拟器安装教程",
    "created_at": "2016-11-26T15:55:32Z",
    "closed_at": "2016-11-27T04:10:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/166",
    "body": "谁有微信模拟器安装教程，我用genymotion，能出现登录界面，登录后就退出了。\r\n大家谁有能够成功的，介绍下",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/166/comments",
    "author": "nmweizi",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-11-27T04:10:12Z",
        "body": "@nmweizi 你可以在交流群里面问问。"
      }
    ]
  },
  {
    "number": 163,
    "title": "异常 Connection aborted",
    "created_at": "2016-11-25T06:13:32Z",
    "closed_at": "2016-11-27T05:26:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/163",
    "body": "挂了之后每隔一段时间(几个小时)就会出现如下错误并退出。按经验是只有发送消息的时候才出错，错误来自itchat.send，若没收到消息不会报错。检查发送的string `reply`没有发现问题。有什么可能的原因导致这个错误呢？\r\n\r\n``` \r\n Traceback (most recent call last):\r\n  File \"main.py\", line 229, in <module>\r\n    itchat.run()\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/register.py\", line 78, in run\r\n    while self.alive: self.configured_reply()\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/register.py\", line 51, in configured_reply\r\n    r = replyFn(msg)\r\n  File \"main.py\", line 28, in reply_text\r\n    itchat.send(reply, msg['FromUserName'])\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/messages.py\", line 370, in send\r\n    r = self.send_msg(msg, toUserName)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/messages.py\", line 225, in send_msg\r\n    r = self.send_raw_msg(1, msg, toUserName)\r\n  File \"/usr/local/lib/python2.7/dist-packages/itchat/components/messages.py\", line 221, in send_raw_msg\r\n    data=json.dumps(payloads, ensure_ascii=False).encode('utf8'))\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/sessions.py\", line 535, in post\r\n    return self.request('POST', url, data=data, json=json, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/sessions.py\", line 488, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/sessions.py\", line 609, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/requests/adapters.py\", line 473, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/163/comments",
    "author": "qinst64",
    "comments": [
      {
        "user": "nmweizi",
        "created_at": "2016-11-25T06:18:43Z",
        "body": "有同样的问题和现象"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-11-25T06:19:45Z",
        "body": "@qing6010 手机保持在线吗？"
      },
      {
        "user": "qinst64",
        "created_at": "2016-11-25T06:23:54Z",
        "body": "可能有不在线情况，这个不能100%肯定。但是之前手机有强制kill掉微信一段时间，然后再打开微信，发现机器人会自己自动回复。感觉若是这个原因，除非很长时间不登录？我可以测试下"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-11-25T06:26:20Z",
        "body": "@qing6010 保持手机在线可能是一个解决方案，如果保持在线后依旧存在该问题的，我们可以再讨论。微信后台是会检测登陆网页版微信所用的手机端是否在线，若不在线会拒绝连接。"
      },
      {
        "user": "qinst64",
        "created_at": "2016-11-26T06:33:22Z",
        "body": "@littlecodersh 确保手机在线后一天都没有断，大概就是这个原因。界面上catch这个error并提示就更好。可关了"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-11-27T05:26:45Z",
        "body": "@qing6010 好的"
      }
    ]
  },
  {
    "number": 162,
    "title": "微信群成员的NickName是唯一的吗？",
    "created_at": "2016-11-24T02:29:08Z",
    "closed_at": "2016-11-25T14:08:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/162",
    "body": "你好，谢谢开发 itchat 。想问一下微信群成员的Nickname是唯一的吗？\r\n\r\n预备做个微信小机器人，设定某些成员发给机器人信息时作特别处理。群成员的Nickname会不会重复？",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/162/comments",
    "author": "john916zhang",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-11-24T05:36:29Z",
        "body": "@anderson916 不是的，NickName就是用户的名称。\r\n群成员的NickName也可能出现重复。"
      }
    ]
  },
  {
    "number": 156,
    "title": "可否自动将群聊保存到通讯录",
    "created_at": "2016-11-16T23:50:35Z",
    "closed_at": "2016-11-25T14:10:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/156",
    "body": "你好，\r\n\r\n设想做一个群聊机器人。用户将机器人加到群里后，可否自动将群聊保存到通讯录？这样使用 get chatrooms 才可以获取到信息。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/156/comments",
    "author": "john916zhang",
    "comments": [
      {
        "user": "john916zhang",
        "created_at": "2016-11-17T00:55:41Z",
        "body": "另外就是收到群聊邀请，可否自动接受从而加入群聊。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-11-25T14:10:22Z",
        "body": "@anderson916 在收到第一条消息时会自动保存到通讯录。\r\n群聊邀请没有办法通过程序接受。"
      }
    ]
  },
  {
    "number": 153,
    "title": "请问有使用ItChat后被微信封号的情况么？",
    "created_at": "2016-11-16T02:26:10Z",
    "closed_at": "2016-11-16T06:37:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/153",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/153/comments",
    "author": "spacelan",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-11-16T04:58:25Z",
        "body": "@spacelan 我挂了很久的演示机器人，几千好友也没有出现问题。\n"
      },
      {
        "user": "spacelan",
        "created_at": "2016-11-16T05:03:31Z",
        "body": "那你的演示机器人会频繁地发送消息么？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-11-16T05:33:41Z",
        "body": "@spacelan 会有机器人互刷。\n我这里能保证正常使用的情况下不会出现封号。\n如果不加延时持续高频率发送信息或者加群好友，那只能祈祷没有被后台检测到了。\n"
      },
      {
        "user": "flypigarmy",
        "created_at": "2017-08-05T01:39:15Z",
        "body": "15-30分钟一条消息，第二天被封了"
      },
      {
        "user": "spacelan",
        "created_at": "2017-08-05T07:37:26Z",
        "body": "@flypigarmy 请问是禁止登录网页版微信么？"
      }
    ]
  },
  {
    "number": 148,
    "title": "这个微信其实是调的微信网页版接口对吧 有什么办法可以保持长时间的登录吗",
    "created_at": "2016-11-08T08:59:42Z",
    "closed_at": "2016-11-10T08:00:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/148",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/148/comments",
    "author": "alittleyellow",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-11-08T09:04:59Z",
        "body": "@weijinlu92 是的\n保持登陆手机在线并联网，然后服务器网络稳定就可以了。\n测试用机器人就是这样保持长时间在线的。\n"
      }
    ]
  },
  {
    "number": 147,
    "title": "注册note 邀请成员进入后,print msg 报错",
    "created_at": "2016-11-07T17:00:31Z",
    "closed_at": "2016-11-08T09:05:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/147",
    "body": "代码:\r\n```\r\n@itchat.msg_register(NOTE)\r\ndef text_reply(msg):\r\n    print (msg)\r\n```\r\n在群内邀请成员后就报错了,提示如下,不知道是不是不应该用print查看msg内容,如果不应该用print 来查看msg内容,那我应该怎么查看邀请信息的内容?\r\n\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"E:\\Python27\\lib\\site-packages\\itchat\\client.py\", line 267, in maintain_loop\r\n    msgList, contactList = self.__get_msg()\r\n  File \"E:\\Python27\\lib\\site-packages\\itchat\\client.py\", line 308, in __get_msg\r\n    r = self.s.post(url, data = json.dumps(payloads), headers = headers)\r\n  File \"E:\\Python27\\lib\\site-packages\\requests\\sessions.py\", line 522, in post\r\n    return self.request('POST', url, data=data, json=json, **kwargs)\r\n  File \"E:\\Python27\\lib\\site-packages\\requests\\sessions.py\", line 475, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"E:\\Python27\\lib\\site-packages\\requests\\sessions.py\", line 596, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"E:\\Python27\\lib\\site-packages\\requests\\adapters.py\", line 473, in send\r\n    raise ConnectionError(err, request=request)\r\nConnectionError: ('Connection aborted.', BadStatusLine(\"''\",))\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 50, in <module>\r\n    itchat.auto_login(True)\r\n  File \"E:\\Python27\\lib\\site-packages\\itchat\\__init__.py\", line 121, in run\r\n    time.sleep(.3)\r\n```",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/147/comments",
    "author": "issmile",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-11-08T01:48:46Z",
        "body": "@issmile 看报错来说是获取消息失败，连接中断。\n打印的话用repr。\n\n``` python\nprint(repr(msg))\n```\n"
      }
    ]
  },
  {
    "number": 144,
    "title": "群的'UserName' 是什么?群内成员的uin 如何获取?",
    "created_at": "2016-11-06T15:57:45Z",
    "closed_at": "2016-11-08T09:05:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/144",
    "body": "如题,因为要输入数据库做唯一的标识,所以需要群号,和用户的uin\r\n1. 获取群列表以后有个群的'UserName' 看起来像个hash值?是什么hash?可以替代群号?感觉这个像群名字的hash,群改名字后还能根据这个hash找到这个吗?我看别人做机器人的时候用的是群号标识的群,看这个列表里大概是'ChatRoomId',这个要怎么获取?\r\n2. 群内成员也好像是只有'UserName',这个uin该如何获取?'KeyWord'又是什么?请大神解答\r\n3. 如何注册群内XX成员邀请了XX人的Handler?",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/144/comments",
    "author": "issmile",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-11-07T12:28:01Z",
        "body": "@issmile \n1. 如果用ChatRoomId的话你可以itchat.get_chatrooms()，打印出来看一下\n2. UserName不是uin，这个值每次登陆都会变的\n3. 用Note注册\n"
      }
    ]
  },
  {
    "number": 113,
    "title": "如何判断是否已经退出登录",
    "created_at": "2016-10-22T04:21:13Z",
    "closed_at": "2016-10-24T02:29:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/113",
    "body": "如题，如何判断网页登录是否退出？我看进程还在，就是自动回复没有用了\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/113/comments",
    "author": "codebean",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-22T13:52:36Z",
        "body": "@codebean 一般是不会出现进程还在自动回复没有用的情况的。\n你的使用环境中扫码手机是否保持了联网以及网络连接是否稳定？\n关于判断是否登出，你可以另开一个线程给特定的账号发送消息。\n"
      }
    ]
  },
  {
    "number": 110,
    "title": "No JSON object could be decoded 用户IPhone 登录客户端，提示错误。",
    "created_at": "2016-10-21T08:20:55Z",
    "closed_at": "2016-10-22T13:53:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/110",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/110/comments",
    "author": "kh13",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-21T09:36:18Z",
        "body": "@kh13 是哪里报的这个错？\n"
      }
    ]
  },
  {
    "number": 108,
    "title": "怎么获取每个好友唯一的标识",
    "created_at": "2016-10-21T07:31:12Z",
    "closed_at": "2016-10-22T13:53:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/108",
    "body": "在运行中发觉，每次重新登录或者重新启动程序。获取好友的ActualUserName都不一样。有什么属性可以永远都标识同一个好友吗\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/108/comments",
    "author": "kh13",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-21T13:45:23Z",
        "body": "@kh13 今天更新了版本，你可以把github上的最新版本下载到本地。\n在1.1.16中，群聊会后台自动更新群成员的Uin，这个值是多次登陆都不变的。\n"
      }
    ]
  },
  {
    "number": 107,
    "title": "连续发送消息会发不出消息",
    "created_at": "2016-10-20T15:18:42Z",
    "closed_at": "2016-10-21T13:45:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/107",
    "body": "在运行一段时间之后，ItChat有时候会发送不出消息。\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/107/comments",
    "author": "kh13",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-20T15:19:57Z",
        "body": "已在QQ群中进行过交流，通过控制过快的发送的频率可以解决该问题。\n"
      }
    ]
  },
  {
    "number": 101,
    "title": "如何获得群里的群友的头像的图片具体binary数据？",
    "created_at": "2016-10-16T20:31:54Z",
    "closed_at": "2016-10-18T02:42:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/101",
    "body": "比如获得：\n\n``` python\n\"HeadImgUrl\": \"/cgi-bin/mmwebwx-bin/webwxgetheadimg?seq=642242818&sername=@@21ec4b514edf3e7cb867e0512fb85f3a5e6deb657f4e8573d656bcd4558e3594&skey=\",\n```\n\n但如何获得头像呢？ 前面的域名应该是用什么？\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/101/comments",
    "author": "9cat",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-17T00:38:47Z",
        "body": "@9cat 我更新了一个版本1.1.13，加入了get_head_img方法：\r\n\r\n``` python\r\nget_head_img(userName=None, chatroomUserName=None, picDir=None):\r\n```\r\n\r\n如果你想要获取群聊的头像，仅设置chatroomUserName\r\n如果你想要获取朋友的头像，仅设置userName\r\n如果你想要获取群聊用户的头像，两个值都设置\r\n\r\n另，如果不设置picDir，将会返回binary数据\r\n"
      },
      {
        "user": "wwj718",
        "created_at": "2017-01-13T02:43:26Z",
        "body": "@littlecodersh 请教问题来啦\r\n\r\npicDir填写目录的话好像会报错，如果写文件路径，似乎改名为imgPath更合适\r\n"
      },
      {
        "user": "soulmachine",
        "created_at": "2017-02-02T11:56:50Z",
        "body": "@littlecodersh 貌似这个回答有点过时了，现在`get_head_img()`不设置`picDir`的话返回的不是`io.BytesIO()`对象，而是`io.BytesIO().getValue()`后的bytes"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-02-02T14:45:39Z",
        "body": "@soulmachine 多谢，已更新！"
      }
    ]
  },
  {
    "number": 100,
    "title": "可否将源代码中的if-elif换成case",
    "created_at": "2016-10-16T16:51:10Z",
    "closed_at": "2016-10-20T14:01:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/100",
    "body": "能否把源代码里，if-elif换成case, 便于扩展选项？\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/100/comments",
    "author": "medmin",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-16T23:21:21Z",
        "body": "@medmin 具体来说要怎么换case？\n"
      },
      {
        "user": "tempdban",
        "created_at": "2016-10-17T03:00:11Z",
        "body": "@medmin python并没有原生的switch-case语句块。如果用字典模拟switch-case的话，分支一多，会使你痛不欲生的。\n"
      },
      {
        "user": "medmin",
        "created_at": "2016-10-17T12:16:21Z",
        "body": "不好意思，我的python学的比较水。我本意是换成case-switch，这样不用那么多if-elif-elif-elif了。\n你这个repo的商用价值其实挺大，但那时，客户可能就需要实现多个关键词回复，比如十几、二十多个关键词，目前源码里的方式就不那么“优雅”。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-10-17T12:35:46Z",
        "body": "@medmin 可以尝试用一下tempdban说的字典，字典的值里是可以放方法的\n如果感觉解决不了的话也可以具体的描述一下需求，我给你一个大致的演示代码\n"
      },
      {
        "user": "medmin",
        "created_at": "2016-10-17T12:42:40Z",
        "body": "好的，感谢！我学得水，先自己折腾一下吧。\n"
      },
      {
        "user": "tempdban",
        "created_at": "2016-10-18T02:38:26Z",
        "body": "@medmin 昨天也有个人说要商用，大家为什么都要想着钱呢？\n想必每一次web微信协议修改，repo主都是很痛苦的。但是\nrepo主付出了这么多心血，你们一所谓的“商用”，微信想必会大面积封杀，心血全废。\n其实微信公众号已经能满足大部分的需求了，您可以考虑使用repo主的公众号项目。\n这只是我的一家之言，不代表repo主的想法。\n望您高抬贵手。\n"
      }
    ]
  },
  {
    "number": 98,
    "title": "requests.exceptions.SSLError: EOF occurred in violation of protocol (_ssl.c:590)",
    "created_at": "2016-10-16T04:22:53Z",
    "closed_at": "2016-10-16T11:52:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/98",
    "body": "我的一个程序，是利用itchat来不断发消息的。每次开始后，大约经过几十分钟后，就会出现如下错误：\n\n```\nUnhandled exception in thread started by <function do at 0x10e84b140>\nTraceback (most recent call last):\n  File \"./test.py\", line 90, in do\n    sendIMEI(currentIMEI, mpUserName)\n  File \"./test.py\", line 54, in sendIMEI\n    itchat.send(msg=text.decode(\"utf-8\"), toUserName=UserName)\n  File \"/Library/Python/2.7/site-packages/itchat/__init__.py\", line 67, in send\n    return __client.send_msg(msg, toUserName)\n  File \"/Library/Python/2.7/site-packages/itchat/client.py\", line 445, in send_msg\n    r = self.s.post(url, data = json.dumps(payloads, ensure_ascii = False).encode('utf8'), headers = headers)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 522, in post\n    return self.request('POST', url, data=data, json=json, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 475, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 596, in send\n    r = adapter.send(request, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/adapters.py\", line 497, in send\n    raise SSLError(e, request=request)\nrequests.exceptions.SSLError: EOF occurred in violation of protocol (_ssl.c:590)\n```\n\n不知道是什么原因呢？\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/98/comments",
    "author": "shishirui",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-16T04:28:50Z",
        "body": "@shishirui 这是ssl的问题。\n你的python版本是多少？版本过低可能出现这个问题。\n如果版本没有问题，可以在send语录外面catch这个exception。\n"
      },
      {
        "user": "shishirui",
        "created_at": "2016-10-16T04:48:43Z",
        "body": "@littlecodersh 我用的是Python 2.7.10，我这就加上catch试试。\n"
      },
      {
        "user": "shishirui",
        "created_at": "2016-10-16T11:52:14Z",
        "body": "已经好了，谢谢。\n"
      }
    ]
  },
  {
    "number": 96,
    "title": "itchat可以通过搜索公众号，对公众号添加关注吗",
    "created_at": "2016-10-11T01:26:43Z",
    "closed_at": "2016-10-17T00:39:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/96",
    "body": "如题。我看更多的是关于消息和聊天的。里面也有个添加朋友的方法，公众号不知道是否可以添加关注呢？？？？\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/96/comments",
    "author": "dingwa990",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-13T11:29:42Z",
        "body": "@dingwa990 可以呀，可以通过名片添加关注。\n\n``` python\nimport itchat\n\n@itchat.msg_register(itchat.content.CARD)\ndef print_cd(msg):\n    r = itchat.add_friend(msg['RecommendInfo']['UserName'], 1)\n\nitchat.auto_login(True)\nitchat.run()\n```\n"
      },
      {
        "user": "dingwa990",
        "created_at": "2016-10-14T02:11:29Z",
        "body": "名片只能几个或少量可以。批量的公众号的话还是通过搜索出来关注。\n另外请问，SyncCheck返回：window.synccheck={retcode:\"1101\",selector:\"0\"}，retcode有几种意思？1101表示什么？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-10-14T02:30:20Z",
        "body": "@dingwa990 目前网页版微信没有办法搜索公众号，所以就没有办法了。\n1101一般来说就是手机端退出了登陆。\n"
      },
      {
        "user": "dingwa990",
        "created_at": "2016-10-14T02:34:54Z",
        "body": "@littlecodersh 手机端没退出哦，刚刚登录的还。\n"
      },
      {
        "user": "dingwa990",
        "created_at": "2016-10-14T02:38:49Z",
        "body": "哦，对了，刚才调试。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-10-14T02:49:54Z",
        "body": "@dingwa990 ？\n"
      },
      {
        "user": "dingwa990",
        "created_at": "2016-10-14T02:56:13Z",
        "body": "SyncCheck请求时候，为什么经常报：“基础连接已关闭，连接被意外关闭” 呢？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-10-14T03:00:38Z",
        "body": "@dingwa990 因为你网络环境不好吧\n"
      },
      {
        "user": "dingwa990",
        "created_at": "2016-10-14T03:50:45Z",
        "body": "梭嘎，好了。好像是和网络有关系，我吧无线关了。\n"
      }
    ]
  },
  {
    "number": 94,
    "title": "如何保存语音进指定目录？",
    "created_at": "2016-10-07T07:39:52Z",
    "closed_at": "2016-10-07T09:13:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/94",
    "body": "各位好，\n\n想请教一下如何把语音文件保存进指定目录？\n\n看了下文档的handler章节部分，以及源码（hclient.py），是只能把语音文件保存在python脚本的运行目录中吗？还是可以自定义呢？\n\nRegards,\nJackson.\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/94/comments",
    "author": "huming2207",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-07T08:26:55Z",
        "body": "@huming2207 用这个命令：\n\n``` python\nmsg['Text'](theDirYouWantWithFileName)\n```\n\n源码的话在client.py的318行：\n\n``` python\nwith open(voiceDir, 'wb') as f: f.write(tempStorage.getvalue())\n```\n"
      },
      {
        "user": "huming2207",
        "created_at": "2016-10-07T08:49:03Z",
        "body": "@littlecodersh 哦哦这回明白了\n不是很熟Python所以之前有点没懂哈哈\n\n谢谢了！\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-10-07T09:13:35Z",
        "body": "@huming2207 没事，有不懂的都可以提Issue，我会尽快回复的。\n"
      },
      {
        "user": "ioflows",
        "created_at": "2016-11-25T08:43:41Z",
        "body": "想请教一下原始语音的保存格式和编码，保存为MP3/WAV/OGG/AMR这些格式在Ubuntu下均支持播放，但是如果将保存后的文件直接拿去做语音识别，均会报无法识别文件的错误（猜测可能缺少部分头文件信息），通过pydub读取再重新转成wav，虽然不报错，但是识别结果基本不靠谱，故想请教一下解决方案，感谢！"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-11-25T14:22:38Z",
        "body": "@scjiaer 看文件头是个id3的metadata，我目前也没有找到转换的方法。"
      },
      {
        "user": "ioflows",
        "created_at": "2016-11-25T15:01:59Z",
        "body": "@littlecodersh 多谢，如有新的进展还望不吝分享:)"
      }
    ]
  },
  {
    "number": 90,
    "title": "报错：远程主机强迫关闭了一个现有的连接",
    "created_at": "2016-10-02T11:39:35Z",
    "closed_at": "2016-10-08T01:10:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/90",
    "body": "远程主机强迫关闭了一个现有的连接 10054\n你的主机中的软件中止了一个已建立的连接 10053\n有时会遇到这样的报错，不知道为啥\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/90/comments",
    "author": "tangjicheng",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-10-03T10:40:48Z",
        "body": "@tangjicheng 应该是网络环境不稳定\n"
      },
      {
        "user": "tangjicheng",
        "created_at": "2016-10-04T01:07:47Z",
        "body": "是不是因为我发送的数量过多，微信的服务器就强制关闭了，有没有这种可能？那遇到这种情况还能补救吗？或者我一发现异常，我就再重试，再发？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-10-04T02:07:58Z",
        "body": "@tangjicheng 我觉得不太可能。\n\n如果超过了设定的频率会提示发送失败。\n如果是总数的话，我的机器人上千联系人带群聊一次登录会发一个月的信息，应该不可能会被强制关闭。\n\n另，你那里有没有稳定重现服务器强制关闭的方法？\n"
      }
    ]
  },
  {
    "number": 86,
    "title": "请问关键词自动回复该怎么设置呢",
    "created_at": "2016-09-26T11:13:47Z",
    "closed_at": "2016-09-27T00:32:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/86",
    "body": "请问关键词自动回复该怎么设置呢 比如存一个文档里  格式为   “关键词  | 回复内容”   代码该怎么写呢   本人刚接触  不甚感激！\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/86/comments",
    "author": "liuguangsai",
    "comments": [
      {
        "user": "xufangda",
        "created_at": "2016-09-26T15:45:36Z",
        "body": "ItChat_robot.py那个文件里，有一段叫代码\n\n``` python\nif “pic” in msg['text']:\n     itchat.send('内容')\n```\n\npic就是你的关键词，内容就是你的内容。这样就可以按关键词回复。\n\n你这文档和代码都不看，作者估计很无语。\n"
      },
      {
        "user": "liuguangsai",
        "created_at": "2016-09-27T00:27:40Z",
        "body": "@xufangda 非常感谢  我也很想多看下相关文档和代码介绍的  但是没找到这块   谢谢你的解答！\n"
      }
    ]
  },
  {
    "number": 82,
    "title": "自动加好友的功能必须要开启加好友验证才会处理，而且经常会停掉不响应加好友申请",
    "created_at": "2016-09-21T10:45:41Z",
    "closed_at": "2016-09-29T13:50:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/82",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/82/comments",
    "author": "yangyunxiao",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-09-21T11:09:09Z",
        "body": "@yangyunxiao 不开启好友验证不就直接加上了吗？\n停掉的时候自动回复还可以运行吗？\n"
      },
      {
        "user": "yangyunxiao",
        "created_at": "2016-09-21T12:17:00Z",
        "body": "不开启好友验证的话  没响应    停掉之后其他的消息没影响的   研究了好久你的代码还是没看出来问题啊\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-09-23T05:52:27Z",
        "body": "@yangyunxiao 没响应具体指什么？你可以尝试把通过好友的命令的返回值调出来看一下返回值里面的错误信息是什么。\n"
      },
      {
        "user": "kael777",
        "created_at": "2016-09-27T13:21:11Z",
        "body": "好友加不上，add_friend的返回值打印出来是{u'BaseResponse': {u'ErrMsg': u'', u'Ret': 1}}\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-09-27T13:33:07Z",
        "body": "@kael777 你尝试更新一下1.1.7\n"
      },
      {
        "user": "9cat",
        "created_at": "2017-01-21T08:47:40Z",
        "body": "这个问题解决了吗？ 我在版本1.2.18用以下代码， 不开验证， 还是无法反过来加对方。\r\n\r\n```\r\n@itchat.msg_register('Friends')\r\ndef add_friend(msg):\r\n\titchat.add_friend(**msg['Text']) # 该操作会自动将新好友的消息录入，不需要重载通讯录\r\n\titchat.send_msg('感谢您添加xxxxx号', msg['RecommendInfo']['UserName'])\r\n```\r\n\r\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-01-23T11:50:03Z",
        "body": "@9cat 不开验证的话是不行的，这是通过好友验证的方式。"
      }
    ]
  },
  {
    "number": 79,
    "title": "在获取图片的时候， 如何能获得图片文件 ？",
    "created_at": "2016-09-16T04:20:02Z",
    "closed_at": "2016-09-16T07:33:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/79",
    "body": "在获取图片的时候， 如何能获得图片文件 ？\n就如何下载到相应的图片呢？\n\n图片消息\n\n``` python\nMsgType: 3\nFromUserName: 发送方ID\nToUserName: 接收方ID\nMsgId: 用于获取图片\nContent:\n    <msg>\n        <img length=\"6503\" hdlength=\"0\" />\n        <commenturl></commenturl>\n    </msg>\n```\n\n获得msgid ， 接下来如何获得图片文件本身呢？\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/79/comments",
    "author": "9cat",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-09-16T07:26:28Z",
        "body": "@9cat 像示例程序里面一样操作就可以了。\n\n``` python\n@itchat.msg_register(['Picture', 'Recording', 'Attachment', 'Video'])\ndef download_files(msg):\n    msg['Text'](msg['FileName'])\n```\n"
      },
      {
        "user": "9cat",
        "created_at": "2016-09-17T06:38:22Z",
        "body": "感谢， 发觉真有点晕。 DOC下面写的附件部分很清楚的列着，竟然没看到。 感谢耐心回复 。\n"
      }
    ]
  },
  {
    "number": 78,
    "title": "有可能在群里面清除指定ID 的人出群吗？",
    "created_at": "2016-09-14T18:17:41Z",
    "closed_at": "2016-09-16T07:33:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/78",
    "body": "有可能在群里面清除指定ID 的人出群吗？\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/78/comments",
    "author": "9cat",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-09-16T07:32:21Z",
        "body": "@9cat ID指的是什么？\n不过无论指的是什么，都可以通过获取get_batch_contract获取详细的用户信息\n然后通过用户信息调用delete_member_from_chatroom删除\n"
      }
    ]
  },
  {
    "number": 71,
    "title": "系统监控脚本示例",
    "created_at": "2016-08-25T08:16:43Z",
    "closed_at": "2016-08-30T08:09:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/71",
    "body": "@RondoChen 在Issue 1中提出\n## 需求\n\n现在我用python做了一个系统监控脚本\n简单说就是每隔1分钟查一次数据库，然后把新增的内容发动出去\n目前是简单地用一个while循环去查表然后用send发出去，可以说是单向的\n现在想完善一下，想脚本能：\n- 同时进行几个不同的监控方法\n- 接收on 和 off的指令去对不同的监控功能进行启停\n\n估计是要类似例子上面用上函数修饰符，不知道作者能不能给一点建议。\n## 程序功能\n- 存在三个模式且可增加：normal, special, off\n- 对应每10， 5秒回复及不回复\n- 通过与文件传输助手交互完成设置\n- 交互命令为`Set mode as normal`\n- 支持py2, py3\n## 示例程序\n\n``` python\nimport re, time, threading\n\nimport itchat\n\ndef function_producer(modeName):\n    pauseTime = {'normal'  : 10,\n        'special' : 5, }.get(modeName, 5)\n    def _function_producer():\n        if modeName != 'off':\n            itchat.send('Reply of %s.' % modeName, 'filehelper')\n        time.sleep(pauseTime)\n    return _function_producer\nFUNCTION_DICT = {\n    'off'     : function_producer('off'),\n    'normal'  : function_producer('normal'),\n    'special' : function_producer('special'), }\nKEY_WORD_REGEX = re.compile('Set mode as (\\S+)')\nMODE_FLAG = 'off'\ndef monitor_reply():\n    while 1: FUNCTION_DICT[MODE_FLAG]()\n\n@itchat.msg_register('Text')\ndef monitor_interact(msg):\n    if not (msg['ToUserName'] == 'filehelper' and\n        KEY_WORD_REGEX.match(msg['Text'])): return\n    global MODE_FLAG\n    modeFlag = KEY_WORD_REGEX.findall(msg['Text'])[0]\n    MODE_FLAG = modeFlag if modeFlag in FUNCTION_DICT.keys() else 'off'\n    itchat.send('Mode is set as %s.' % MODE_FLAG, 'filehelper')\n\nitchat.auto_login(True)\n\nmonitorThread = threading.Thread(target=monitor_reply)\nmonitorThread.setDaemon(True)\nmonitorThread.start()\n\nitchat.run()\n```\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/71/comments",
    "author": "littlecodersh",
    "comments": [
      {
        "user": "RondoChen",
        "created_at": "2016-08-25T08:48:34Z",
        "body": "太厉害了，好迅速的回复。我先好好研究一下，谢谢。\n"
      },
      {
        "user": "5368",
        "created_at": "2016-08-28T12:59:37Z",
        "body": "这个功能挺不错的\n"
      },
      {
        "user": "RondoChen",
        "created_at": "2016-12-02T02:09:33Z",
        "body": "在楼主的启发下，断断续续地花了一段时间研究多线程，并且重构了整个监控脚本。现在功能实现了，上来道谢一下。"
      }
    ]
  },
  {
    "number": 69,
    "title": "求问add_member_into_chatroom怎么用？",
    "created_at": "2016-08-24T10:10:21Z",
    "closed_at": "2016-08-25T06:57:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/69",
    "body": "想实现发送“群”就拉人到指定群的功能，这个版本看到有add_member_into_chatroom和delete_member_from_chatroom的函数。但是要的两个变量是chatRoomName和，memberList\n\n我尝试写入了一个群的名字，把一个人的ID `@xxxxxxxxxxxxxxxxxx` 做成list（即[`@xxxxxxxxxxxxxxx`]），这两个值传入，报错\n\n看了下源代码，memberList里的member要有UserName属性，那我如何从发来消息的msg里，也就是msg['FromUserName']来转化成这个memberList呢？另外chatRoomName是单纯的在客户端看见那个群名字吗？\n\n最后我看着保持在线这个问题上，作者建议是定时向自动回复的公众号发消息，既然如此，给公众号也来一个List保存在storage里吧，其实我已经自己添加了这个功能，不过如果作者添加的话，我也就不用每个版本更新都手动去改了\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/69/comments",
    "author": "tylor-e",
    "comments": [
      {
        "user": "tylor-e",
        "created_at": "2016-08-24T10:31:34Z",
        "body": "增加publicList的作用是判断消息是否来自于公众号。因为我弄了自动回复机器人，公众号再一自动回复，就会出现双方互相伤害的悲惨场面，于是我加了个判断是否是公众号的判断\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-25T06:53:53Z",
        "body": "@tylor-e 有两个方法：\n1. 使用`get_friends(userName=msg['FromUserName'])`\n2. 直接构造一个`{'UserName': msg['FromUserName']}`其实也可以\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-25T06:57:13Z",
        "body": "@tylor-e 近期比较忙，估计没有时间更新公众号部分，要等忙完更新了。\n公众号更新的问题我留着Issue #66 ，更新完在那里做回复再关闭。\n"
      },
      {
        "user": "tylor-e",
        "created_at": "2016-08-25T10:13:32Z",
        "body": "@littlecodersh 对于邀请进群，chatRoomUserName应该怎么弄？直接是群的名字吗？我试了一下没有反应，是不是这个命令只能新建群而不能邀请进现有群？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-25T10:51:27Z",
        "body": "@tylor-e 是群的UserName\n"
      },
      {
        "user": "tylor-e",
        "created_at": "2016-08-25T12:04:23Z",
        "body": "@littlecodersh 试了还是不行，邀请入群并没有反应\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-25T12:10:33Z",
        "body": "@tylor-e 你看一下用手机能邀请他人入群吗？多次尝试后可能会导致一段时间内特定功能被屏蔽。\n如果可以的话给我看下具体的程序吧。\n另，被邀请入群的人不能包含群内已有的人以及本人。\n你也可以打印一下源码中http请求的返回值，看下是什么问题。\n"
      },
      {
        "user": "tylor-e",
        "created_at": "2016-08-25T13:12:45Z",
        "body": "@littlecodersh 代码用得很简单，就一句\n\n``` python\nitchat.add_member_into_chatroom(p.getGroupID('游玩派'),[{'UserName':msg['FromUserName']}])\n```\n\n其中的p.getGroupID是这样的\n\n``` python\n#获取群ID\ndef getGroupID(GroupName):\n    groupList = itchat.__client.storageClass.chatroomList\n    for m in groupList:\n        if (GroupName == m['NickName']):\n            return m['UserName']\n    return False\n```\n\n测试的这个号也符合被邀请的条件\n最后返回值print出来如下：\n\n```\n{\n    'BaseResponse': {\n        'Ret': -23,\n        'ErrMsg': ''\n    },\n    'MemberCount': 1,\n    'MemberList': [\n        {\n            'Uin': 0,\n            'RemarkPYInitial': '',\n            'NickName': 'Zen',\n            'RemarkPYQuanPin': '',\n            'UserName': '@026b6f5360a8ee456e1a0bd8e9efaf39',\n            'MemberStatus': 0,\n            'PYInitial': '',\n            'KeyWord': '',\n            'DisplayName': '',\n            'AttrStatus': 0,\n            'PYQuanPin': ''\n        }\n    ]\n}\n```\n"
      },
      {
        "user": "tylor-e",
        "created_at": "2016-08-25T13:13:56Z",
        "body": "如果群人数大于100是不是就不能这么邀请了？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-25T13:17:24Z",
        "body": "@tylor-e 我记得大于一定人数没法扫码进群，你尝试一下网页版微信可以邀请吗？\n"
      },
      {
        "user": "tylor-e",
        "created_at": "2016-08-25T13:26:34Z",
        "body": "@littlecodersh 试了下，确实是到100人的限制问题，看来没办法自动加人了\n"
      },
      {
        "user": "282144757",
        "created_at": "2018-05-17T07:04:40Z",
        "body": "现在itchat.add_member_into_chatroom这个函数不能用了吗？\r\n我打印出来的返回值是：\r\n{'BaseResponse': {'Ret': 1, 'ErrMsg': '', 'RawMsg': ''}, 'MemberCount': 0, 'MemberList': []}\r\n"
      },
      {
        "user": "alexwang2013",
        "created_at": "2018-06-29T11:53:15Z",
        "body": "@littlecodersh \r\n在使用itchat.add_member_into_chatroom的时候，出现了如下的问题。\r\n{u'MemberCount': 0, u'MemberList': [], u'BaseResponse': {u'ErrMsg': u'', u'Ret': 1, 'RawMsg': u''}}\r\n\r\n这个怎么处理呢？"
      },
      {
        "user": "KuanHsiaoKuo",
        "created_at": "2018-09-12T07:38:56Z",
        "body": "我现在也遇到这个问题，返回的结果报错：\r\n`<ItchatReturnValue: {'BaseResponse': {'Ret': 1, 'ErrMsg': '', 'RawMsg': ''}, 'MemberCount': 0, 'MemberList': []}>`\r\n请问现在网页版拉人的接口失效了吗\r\n\r\n@littlecodersh"
      },
      {
        "user": "james-pb-git",
        "created_at": "2018-12-06T13:54:48Z",
        "body": "@littlecodersh \r\n同问\r\nitchat.add_member_into_chatroom(chatroom_username, [friends[1]])\r\n返回\r\n<ItchatReturnValue: {'BaseResponse': {'Ret': 1, 'ErrMsg': '', 'RawMsg': ''}, 'MemberCount': 0, 'MemberList': []}>\r\n是否已关闭了拉人API?"
      }
    ]
  },
  {
    "number": 68,
    "title": "新关注，无法主动发送图片",
    "created_at": "2016-08-23T10:44:37Z",
    "closed_at": "2016-08-25T07:00:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/68",
    "body": "代码如下\n\n``` python\n    @itchat.msg_register('Friends')\n    def add_friend(msg):\n        itchat.add_friend(**msg['Text']);\n        itchat.get_contract();\n        # return '@img@test.gif';\n        itchat.send_image('@img@test.gif' ,  msg['RecommendInfo']['UserName']);\n```\n\n无论用 `send_image`  还是 `return '@img@test.gif'`都不行，求教\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/68/comments",
    "author": "codebean",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-08-25T07:00:13Z",
        "body": "@codebean 发送图片的命令用错了，可以尝试这两个命令：\n1. `itchat.send('@img@test.gif')`\n2. `itchat.send_image('test.gif')`\n"
      },
      {
        "user": "codebean",
        "created_at": "2016-08-25T11:00:43Z",
        "body": "tks\n"
      }
    ]
  },
  {
    "number": 64,
    "title": "ID每次都会变，能否通过ID找出联系人的备注或昵称？",
    "created_at": "2016-08-12T13:59:55Z",
    "closed_at": "2016-08-13T13:11:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/64",
    "body": "如题。。。\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/64/comments",
    "author": "hadwinfu",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-08-12T15:20:47Z",
        "body": "@PythonFu itchat.get_friends(userName = theUserNameYouHave)\n"
      }
    ]
  },
  {
    "number": 62,
    "title": "短时间关闭程序后重连功能的文档",
    "created_at": "2016-08-09T09:43:29Z",
    "closed_at": "2016-08-11T08:31:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/62",
    "body": "短时间关闭程序后重连功能的文档建议的第一种用法，貌似应对改为下面的样子为宜，无论之前有无登录存档，均应当进入主循环。不知道我是否理解得正确。\n\n``` python\nimport itchat\n\nif not itchat.load_login_status():\n    itchat.auto_login()\n    itchat.dump_login_status()\n    print('Config stored')\n\n@itchat.msg_register('Text')\n    def simple_reply(msg):\n        print(msg['Text'])\n\n itchat.run()\n itchat.dump_login_status()\n```\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/62/comments",
    "author": "brothertian",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-08-09T09:55:44Z",
        "body": "@brothertian \n你说的也有道理\n我当时想那个是为了演示短期重连使用的，把其余不需要的功能都删掉了\n所以我当时写出来的演示程序是首次运行存储配置，再次运行演示可以短期重连\n"
      }
    ]
  },
  {
    "number": 61,
    "title": "请问如何把微信群内某个人踢出",
    "created_at": "2016-08-09T05:15:26Z",
    "closed_at": "2016-08-09T05:15:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/61",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/61/comments",
    "author": "xxiyj",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-08-09T08:29:05Z",
        "body": "@xxiyj itchat.delete_member_from_chatroom\n"
      }
    ]
  },
  {
    "number": 60,
    "title": "是否应该兼容空格为@分隔符的群聊信息",
    "created_at": "2016-08-08T05:22:03Z",
    "closed_at": "2016-08-09T08:25:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/60",
    "body": "群聊的时候，若@联系人，text和content属性的内容均包含了@信息，建议能够把text属性过滤为不包含@内容的，同时可以增加一个atContract属性，把@的联系人信息作为list存储(考虑@在文字前、中、后，以及多个@混合)，这样程序能够更好的处理文字逻辑.\n另，还有一个问题，某些微信版本发出的@联系人，系统不能正确识别，isAt为False，怀疑不同版本微信的默认分隔符不一样.\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/60/comments",
    "author": "brothertian",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-08-08T05:56:36Z",
        "body": "@brothertian \n我个人认为过滤掉@信息没有必要。\n1. 放进模块并非实现需求的唯一方法，这一操作在模块外处理也极为简单\n2. 造成部分信息的缺失，如`第一部分的参与者：@111，第二部分的参与者：@222，第三部分的参与者@333”`，过滤掉后信息会严重缺失\n3. 过滤也是一定的处理开销，特别是在群聊消息本身就较多的情况下\n所以，我并不建议过滤掉@信息\n另，Content键中的值是原始信息，Text键中的值是去除群聊都有的头部分的消息，并不重复\n\n@联系人的信息存储这个需求过于小众，考虑相关处理开销，不会放进模块\n如果有相关需求，可以自行修改\n\n手动输入@联系人名的话，在我测试过的各客户端微信中本就不会被识别成@消息，建议充分测试后再提交相关bug\n"
      },
      {
        "user": "brothertian",
        "created_at": "2016-08-08T06:51:23Z",
        "body": "@littlecodersh 感谢答复，@联系人名的问题，检测下来是这样的，某些版本微信在某些时候(不是每次，没找到规律)发送的@联系人，分隔符不是\\u2005，而是空格，因此将client.py的__produce_group_chat函数msg['isAt']           = u'@%s\\u2005'改为(u'@%s\\u2005'或者 u'@%s ')就可以识别啦，不知道有没有什么副作用。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-08T09:04:40Z",
        "body": "@brothertian 可以提供空格的微信版本吗？\n这样修改会导致大量的误识别，如果能确定空格的微信版本，我们可以讨论一下这里怎么修改。\n"
      },
      {
        "user": "brothertian",
        "created_at": "2016-08-08T13:03:07Z",
        "body": "@littlecodersh 之前有问题的微信版本为6.3.16，安卓系统，未找到规律，有时候发出的正常，有时候发出的为空格，而且有问题的信息复制后粘贴也同样有问题。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-08T13:07:10Z",
        "body": "@brothertian 未能复现问题，读取为空格的消息在别的机器上是否能显示系统的@提示？\n"
      },
      {
        "user": "brothertian",
        "created_at": "2016-08-08T13:11:31Z",
        "body": "@littlecodersh  其它机器未显示有人@我的提示.\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-08T14:23:16Z",
        "body": "@brothertian 所以我认为itchat这里也不应当显示为有人@我，你觉得呢？\n"
      },
      {
        "user": "brothertian",
        "created_at": "2016-08-09T08:02:32Z",
        "body": "@littlecodersh 对，我也这么认为，只是不清楚是否微信的bug还是什么其它原因，毕竟从使用者角度来看，他发出的@信息未得到相应的反馈，会产生疑惑。\n看来这个问题也需要在模块外做二次检测比较合适。\n"
      }
    ]
  },
  {
    "number": 57,
    "title": "能一直保持在线状态吗",
    "created_at": "2016-08-08T04:03:23Z",
    "closed_at": "2016-08-08T05:21:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/57",
    "body": "",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/57/comments",
    "author": "yangyunxiao",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-08-08T04:42:10Z",
        "body": "@yangyunxiao 能，如果需要长时间保持登陆的话建议与某个可以自动回复的公众号交互，否则会因为长时间没有消息被微信后台清理。\n"
      },
      {
        "user": "KennethYeah",
        "created_at": "2016-08-09T06:21:21Z",
        "body": "@littlecodersh 一般大约多长时间不通讯会被清理\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-09T08:27:56Z",
        "body": "@KennethYeah 目前没有找到具体的规律，大致在12h左右\n"
      },
      {
        "user": "tylor-e",
        "created_at": "2016-08-18T12:50:15Z",
        "body": "难怪我总觉得挂一段时间就掉线了\n"
      }
    ]
  },
  {
    "number": 55,
    "title": "怎样主动给特定联系人发送消息？",
    "created_at": "2016-08-01T09:34:14Z",
    "closed_at": "2016-08-02T08:45:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/55",
    "body": "看了文档 基本都是被动的接收消息 并回复，怎么主动给别人发送消息呢？ send对象中怎么给username值？\n我尝试用itchat.get_frineds(),但是返回值不知道怎么处理。\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/55/comments",
    "author": "KennethYeah",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-08-01T10:17:52Z",
        "body": "@KennethYeah send的话传入目标用户的UserName，返回值你可以花时间阅读一下，这个没有什么技巧。\n"
      },
      {
        "user": "hillerliao",
        "created_at": "2016-08-03T00:18:52Z",
        "body": "@KennethYeah 解决了吗？我也很想实现主动发送消息的功能，无从下手。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-03T01:32:43Z",
        "body": "@hillerliao 试试这个\n\n``` python\nimport itchat, time, threading\n\n@itchat.msg_register('Text')\ndef text_reply(msg):\n    print(msg['Text'])\n\ndef send_notification(nickName):\n    memberList = itchat.get_friends(nickName = nickName)\n    # if not full match, you may use this\n    # memberList = filter(lambda m: nickName in m['NickName'], itchat.get_contract()[1:])\n    for member in memberList:\n        itchat.send('Now the time is: ' + time.strftime(\n            '%y%m%d-%H%M%S', time.localtime()), member['UserName'])\n        time.sleep(.5)\n    time.sleep(3)\n\nitchat.auto_login(True)\n\npositiveSendingThread = threading.Thread(target=send_notification,\n    args=('nickNameYouWant',))\npositiveSendingThread.setDaemon(True)\npositiveSendingThread.start()\n\nitchat.run()\n```\n"
      },
      {
        "user": "KennethYeah",
        "created_at": "2016-08-05T01:48:04Z",
        "body": "@hillerliao 我通过另外的途径解决的\n这里添加一个userlist 记录通讯用户名称，然后用户发送一个join给软件端，软件就把用户名记录下来。\n主程序中另开一个线程，定时像这个列表中的所有用户发送消息。\n"
      },
      {
        "user": "KennethYeah",
        "created_at": "2016-08-05T02:30:20Z",
        "body": "@littlecodersh 其实主要问题就是怎么知道这个确切的nickname，我想最好是能读用户的通讯录，然后返回通讯录里面每人的详细信息 比如微信名，微信号，昵称等。有了这些名称，使用itchat.send 语句就没有问题了。\n还有就是：\n for member in memberList:\n        itchat.send('Now the time is: ' + time.strftime('%y%m%d-%H%M%S', time.localtime()), member['UserName'])\n        time.sleep(.5)\n每次send后不加一个延时 好像容易漏发消息。我每次给两个用户发送两条消息，不加延时 就会出现接收不到消息的情况。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-05T02:41:47Z",
        "body": "@KennethYeah \r\n通过以下命令可以获得完整的所有通讯录：\r\n\r\n``` python\r\nitchat.get_contract()\r\n```\r\n\r\n如果需要获取某一个特定用户的信息，可以使用这个命令：\r\n\r\n``` python\r\nitchat.search_friends(name = None, userName = None, remarkName = None, nickName = None, wechatAccount = None)\r\n```\r\n\r\n以上两个命令获取的用户信息包括微信名、微信号和昵称，对应键值分别为：NickName, Alias以及RemarkName\r\n延时的话的确是这样，不加延时会因为调用太频繁而失败\r\n"
      },
      {
        "user": "hillerliao",
        "created_at": "2016-08-05T05:04:16Z",
        "body": "@KennethYeah  我好想错过啥，你的回复删掉了代码？\n"
      },
      {
        "user": "hillerliao",
        "created_at": "2016-08-06T06:15:25Z",
        "body": "@littlecodersh  `itchat.get_contract()` 无法获取通讯录里的群？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-06T08:58:11Z",
        "body": "@hillerliao 用get_chatrooms 吧\n"
      },
      {
        "user": "hillerliao",
        "created_at": "2016-08-07T01:05:53Z",
        "body": "@littlecodersh 微信群ID似乎是一窜加密后的字符串，每次重新登录都不一样。\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-08-07T01:29:45Z",
        "body": "@hillerliao 是的，和UserName类似\n"
      },
      {
        "user": "simpleowen",
        "created_at": "2017-03-23T10:23:45Z",
        "body": "@littlecodersh \r\n\r\n\r\n\r\nitchat.get_friends 函数不带以下参数吧\r\n\r\n> (name = None, userName = None, remarkName = None, nickName = None, wechatAccount = None)\r\n\r\n源码片段：\r\n\r\n```\r\ndef get_contact(self, update=False):\r\n    if not update:\r\n        return utils.contact_deep_copy(self, self.chatroomList)\r\n    def _get_contact(seq=0):\r\n        url = '%s/webwxgetcontact?r=%s&seq=%s&skey=%s' % (self.loginInfo['url'],\r\n            int(time.time()), seq, self.loginInfo['skey'])\r\n        headers = {\r\n            'ContentType': 'application/json; charset=UTF-8',\r\n            'User-Agent' : config.USER_AGENT, }\r\n```"
      },
      {
        "user": "littlecodersh",
        "created_at": "2017-03-24T01:36:54Z",
        "body": "@simpleowen 是的，我的笔误，是`search_friends`"
      }
    ]
  },
  {
    "number": 52,
    "title": "centos 6.5命令行下，输出二维码直接退出",
    "created_at": "2016-07-29T07:15:48Z",
    "closed_at": "2016-07-31T03:08:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/52",
    "body": "一下两种都试了\n1. itchat.auto_login( False , 'itchati.pkl', True )\n2. itchat.auto_login( False , 'itchati.pkl', 2 )\n\n输出内容：\n\nFailed to get QR Code, please restart the program\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/52/comments",
    "author": "codebean",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-07-29T07:22:36Z",
        "body": "@codebean 是否有安装pillow?\n\n``` bash\npip install pillow\n```\n"
      }
    ]
  },
  {
    "number": 51,
    "title": "发送图片问题",
    "created_at": "2016-07-28T14:33:38Z",
    "closed_at": "2016-07-29T06:33:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/51",
    "body": "对方回复一个文案，机器人能不能发送一张指定的图片？我这边一直么有实现，求教\n\n``` python\nimport time\nimport itchat\n\ndef simple_reply():\n    @itchat.msg_register\n    def simple_reply(msg):\n        if msg.get('Type', '') == 'Text':\n            return 'I received: %s'%msg.get('Content', '')\n    itchat.run()\n\ndef complex_reply():\n    @itchat.msg_register(['Text','Picture', 'Map', 'Card', 'Note', 'Sharing'])\n    def text_reply(msg):\n        if msg['Text'] == 'q':\n            print itchat.send('@img@%s'%u'test.jpg');\n        else:\n            itchat.send('%s: %s'%(msg['Type'], msg['Text']), msg['FromUserName'])\n\n    # @itchat.msg_register(['Picture', 'Recording', 'Attachment', 'Video'])\n    # def download_files(msg):\n    #     # fileDir = '%s%s'%(msg['Type'], int(time.time()))\n    #     # msg['Text'](fileDir)\n    #     fileDir = 'Picture1469703926'\n    #     itchat.send('%s received'%msg['Type'], msg['FromUserName'])\n    #     itchat.send('@%s@%s'%('img' if msg['Type'] == 'Picture' else 'fil', fileDir), msg['FromUserName'])\n\n    @itchat.msg_register('Friends')\n    def add_friend(msg):\n        itchat.add_friend(**msg['Text'])\n        itchat.get_contract()\n        itchat.send('Nice to meet you!', msg['RecommendInfo']['UserName'])\n\n    @itchat.msg_register('Text', isGroupChat = True)\n    def text_reply(msg):\n        if msg['isAt']:\n            itchat.send(u'@%s\\u2005I received: %s'%(msg['ActualNickName'], msg['Content']), msg['FromUserName'])\n\n    itchat.run()\n\nif __name__ == '__main__':\n    itchat.auto_login()\n    # simple_reply()\n    complex_reply()\n```\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/51/comments",
    "author": "codebean",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-07-28T15:12:37Z",
        "body": "@codebean \n这里给出示例程序：\n- 当前目录下有picture_1.jpg - picture_5.jpg五张图\n- 分别对应关键字First Picture - Forth Picture 和 其余所有没有匹配的东西\n\n``` python\nimport itchat\n\n@itchat.msg_register('Text')\ndef get_pic(msg):\n    return '@img@' + {\n        'First Picture'  : 'picture_1.jpg',\n        'Second Picture' : 'picture_2.jpg',\n        'Third Picture'  : 'picture_3.jpg',\n        'Forth Picture'  : 'picture_4.jpg',\n        }.get(msg['Text'], 'picture_5.jpg')\n\nitchat.auto_login(True)\nitchat.run()\n```\n"
      }
    ]
  },
  {
    "number": 21,
    "title": "有没有处理红包消息或者转账消息的功能呢？",
    "created_at": "2016-06-17T03:45:43Z",
    "closed_at": "2016-06-20T07:43:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/21",
    "body": "如题。感谢这个项目，解决了我很多问题。\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/21/comments",
    "author": "pcloth",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-06-17T03:56:27Z",
        "body": "@pcloth 您好，关于这个问题：\n具体而言分三层功能，开源项目只能提供第一层\n- 提示有红包和转账\n- 获取具体的金额\n- 收取红包\n"
      },
      {
        "user": "1265858594",
        "created_at": "2016-06-17T05:07:06Z",
        "body": "对webwx来说只有第一项能实现\n第二三项目前webwx 还不支持\n@littlecodersh 对 webwx 还不支持的功能，怎么能实现呢？在手机上开外挂？\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-06-17T05:12:37Z",
        "body": "@1265858594 思路而言，通过反编译安卓源码进一步分析协议是可以实现的。\n目前已经有商业项目这样做，不过这部分可以预见不适合开源，所以如果感兴趣需要自己研究了。\n但实际上可以通过一些别的方法达到这个功能，比如手机端的抢红包插件（已有开源项目），将抢到的红包的信息传输到服务器即可。\n还有一个没有验证的想法，实际上java版微信、智能手表上的微信等，交互的协议都可以分析，可能会有意想不到的收获。\n"
      },
      {
        "user": "pcloth",
        "created_at": "2016-06-20T07:00:17Z",
        "body": "有第一项功能已经够用了：提示有红包和转账。\n那么我该怎么操作呢？\n@littlecodersh \n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-06-20T07:26:27Z",
        "body": "@pcloth 测试代码见下：\n\n``` python\n#coding=utf8\nimport itchat\n\n@itchat.msg_register('Note')\ndef get_note(msg):\n    if any(s in msg['Text'] for s in (u'红包', u'转账')):\n        print(msg['Text'])\n    else:\n        print('Other note: %s'%msg['Text'])\n\nitchat.auto_login()\nitchat.run()\n```\n\n输出为：\n\n``` bash\nXXX向你转账1.00元。如需收钱，请点此升级至最新版本\n收到红包，请在手机上查看\n```\n"
      },
      {
        "user": "pcloth",
        "created_at": "2016-06-20T07:38:09Z",
        "body": "太感谢了！ @littlecodersh \n"
      },
      {
        "user": "gwljt",
        "created_at": "2018-02-11T11:25:25Z",
        "body": "微信通过扫描二维码进行转账，怎么取得到账到消息通知？我试了所有消息类型都不成功呀 @littlecodersh "
      }
    ]
  },
  {
    "number": 10,
    "title": "MsgType Unknown: 43",
    "created_at": "2016-05-19T07:12:04Z",
    "closed_at": "2016-05-22T07:16:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/10",
    "body": "这是什么消息类型？\n'''\nMsgType Unknown: 43\n{'ActualNickName': u'\\u7a0b\\u80d6\\u5988', u'AppInfo': {u'Type': 0, u'AppID': u''}, u'ImgWidth': 216, u'FromUserName': u'@@d2f5917f3b6d1f0a117e0567327bd2eef68f10d21a2e73bdfa9985e8bebb752c', u'PlayLength': 30, u'ImgStatus': 1, u'RecommendInfo': {u'UserName': u'', u'Province': u'', u'City': u'', u'Scene': 0, u'QQNum': 0, u'Content': u'', u'Alias': u'', u'OpCode': 0, u'Signature': u'', u'Ticket': u'', u'Sex': 0, u'NickName': u'', u'AttrStatus': 0, u'VerifyFlag': 0}, u'Content': u'&lt;?xml version=\"1.0\"?&gt;<br/>&lt;msg&gt;<br/>\\t&lt;videomsg aeskey=\"34306334343638626661666339613136\" cdnthumbaeskey=\"34306334343638626661666339613136\" cdnvideourl=\"30690201000462306002010002042ebfb30202032df02a0204a9e0c2dc0204573d6171043e617570766964656f5f663939646430356439393631373737335f313436333633383936355f313432323435313930353136336361373361653533363031390201000201000400\" cdnthumburl=\"30690201000462306002010002042ebfb30202032df02a0204a9e0c2dc0204573d6171043e617570766964656f5f663939646430356439393631373737335f313436333633383936355f313432323435313930353136336361373361653533363031390201000201000400\" length=\"3874273\" playlength=\"30\" cdnthumblength=\"14622\" cdnthumbwidth=\"216\" cdnthumbheight=\"288\" fromusername=\"wxid_2vbandig705a22\" md5=\"6d774c9d0b4063b0b10afe0329415230\" /&gt;<br/>&lt;/msg&gt;<br/>', u'MsgType': 43, u'ImgHeight': 288, u'StatusNotifyUserName': u'', u'StatusNotifyCode': 0, u'NewMsgId': 5493764242847474377, u'Status': 3, u'VoiceLength': 0, u'MediaId': u'', u'MsgId': u'5493764242847474377', u'ToUserName': u'@962bf97e86593c5addb1195a770cc9d5651cdbffc811301dce661a63dbb8505a', u'ForwardFlag': 0, u'FileName': u'', u'Url': u'', u'HasProductId': 0, u'FileSize': u'', u'AppMsgType': 0, 'ActualUserName': u'@8a77ec2e0bdfd17cfbd8aa90185f7dec3cd7ae797e4dc1b9b932686829b6bed5', u'Ticket': u'', u'CreateTime': 1463640438, u'SubMsgType': 0}\n'''\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/10/comments",
    "author": "hillerliao",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-05-19T07:23:28Z",
        "body": "@hillerliao 我记得视频请求会触发43。\n"
      }
    ]
  },
  {
    "number": 7,
    "title": "如何主动给已经存在的群主动发送消息",
    "created_at": "2016-05-09T02:00:37Z",
    "closed_at": "2016-05-18T11:12:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/7",
    "body": "@littlecodersh 我新建了一个issue，测试了确实每一次登录群的id都会改变\n",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/7/comments",
    "author": "xzjs",
    "comments": [
      {
        "user": "littlecodersh",
        "created_at": "2016-05-09T02:03:29Z",
        "body": "@xzjs 我再写个获取群名列表的方法出来好了，你稍等一下\n"
      },
      {
        "user": "littlecodersh",
        "created_at": "2016-05-09T02:56:48Z",
        "body": "@xzjs 我更新好了，新增了get_chatrooms方法，你可以更新一下试试看\n\n``` bash\npip install --upgrade itchat\n```\n"
      }
    ]
  },
  {
    "number": 640,
    "title": "添加表情包到微信？",
    "created_at": "2018-04-19T06:02:39Z",
    "closed_at": "2023-02-06T08:56:06Z",
    "labels": [
      "help wanted"
    ],
    "url": "https://github.com/littlecodersh/ItChat/issues/640",
    "body": "如果能够实现自动添加一系列gif或者图片到微信表情包那就太好了。",
    "comments_url": "https://api.github.com/repos/littlecodersh/ItChat/issues/640/comments",
    "author": "foreverlms",
    "comments": [
      {
        "user": "chyroc",
        "created_at": "2018-06-06T05:17:38Z",
        "body": "如果是发送表情的功能，还可以考虑；添加表情包到微信，微信客户端也没这功能吧。"
      },
      {
        "user": "foreverlms",
        "created_at": "2018-06-15T07:39:46Z",
        "body": "@Chyroc 是的，微信客户端都没有这功能，平时添加表情图片都得一张张得来。“发送表情图片”这个功能也很不错了！:smiley:"
      },
      {
        "user": "120318",
        "created_at": "2018-07-25T15:24:48Z",
        "body": "请问下，微信有添加表情的web或者什么的api么？"
      },
      {
        "user": "foreverlms",
        "created_at": "2018-07-25T15:36:37Z",
        "body": "@GDoom 没有吧\r\n"
      }
    ]
  }
]