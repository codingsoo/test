[
  {
    "number": 5071,
    "title": "[Question]: Êï∞ÊçÆÈõÜÂú®embedding Ëß£ÊûêÁöÑËøáÁ®ã‰∏≠Ôºå‰∏∫‰ªÄ‰πàÂè™Ë∞ÉÁî®‰∫ÜCPUÔºåÊ≤°ÊúâË∞ÉÁî®GPUËµÑÊ∫ê",
    "created_at": "2025-02-18T06:16:44Z",
    "closed_at": "2025-02-18T15:33:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/5071",
    "body": "### Describe your problem\n\nÊï∞ÊçÆÈõÜÂú®embedding Ëß£ÊûêÁöÑËøáÁ®ã‰∏≠Ôºå‰∏∫‰ªÄ‰πàÂè™Ë∞ÉÁî®‰∫ÜCPUÔºåÊ≤°ÊúâË∞ÉÁî®GPUËµÑÊ∫ê\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/5071/comments",
    "author": "brookejiang",
    "comments": [
      {
        "user": "tristanwqy",
        "created_at": "2025-02-18T06:52:42Z",
        "body": "docker compose Áî®Â∏¶ gpu ÂêéÁºÄÁöÑ yaml ÂêØÂä®"
      },
      {
        "user": "JinHai-CN",
        "created_at": "2025-02-18T15:33:08Z",
        "body": "Yes, you may check docker/docker-compose-gpu.yml.\n\nPS: We intend to create an international community, so we encourage using English for communication.\n"
      },
      {
        "user": "brookejiang",
        "created_at": "2025-02-19T00:54:24Z",
        "body": "> Yes, you may check docker/docker-compose-gpu.yml.\n> \n> PS: We intend to create an international community, so we encourage using English for communication.\n\nOKÔºåThanks"
      }
    ]
  },
  {
    "number": 5041,
    "title": "[Question]: Why the usage of gpu is so huge after runinf this server even though don't use the parsing and chating part ?",
    "created_at": "2025-02-17T09:41:39Z",
    "closed_at": "2025-02-18T05:26:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/5041",
    "body": "### Describe your problem\n\nThe server occupy 70% of gpu which is 30GB! Even I don't use parse of llmÔºÅ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/5041/comments",
    "author": "Rama-19",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2025-02-18T02:08:33Z",
        "body": "For now, the onnxruntime has memory issue."
      }
    ]
  },
  {
    "number": 4920,
    "title": "[Question]: The first account I created when finish installation is not a superuser.",
    "created_at": "2025-02-12T14:32:47Z",
    "closed_at": "2025-02-18T02:48:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4920",
    "body": "### Describe your problem\n\nThe first account I created when finish installation is not a superuser.I changed 'is superuser' to '1' in database,do not works.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4920/comments",
    "author": "beatmaus",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2025-02-13T05:54:06Z",
        "body": "Super user is not supported yet."
      }
    ]
  },
  {
    "number": 4919,
    "title": "[Question]: RAPTOR failure: Invalid API-key provided",
    "created_at": "2025-02-12T14:08:42Z",
    "closed_at": "2025-02-14T03:24:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4919",
    "body": "### Describe your problem\n\n2025-02-12 22:00:51 ragflow-server  |   File \"/ragflow/rag/svr/task_executor.py\", line 406, in run_raptor\n2025-02-12 22:00:51 ragflow-server  |     chunks = raptor(chunks, row[\"parser_config\"][\"raptor\"][\"random_seed\"], callback)\n2025-02-12 22:00:51 ragflow-server  |   File \"/ragflow/rag/raptor.py\", line 134, in __call__\n2025-02-12 22:00:51 ragflow-server  |     raise th.result()\n2025-02-12 22:00:51 ragflow-server  |   File \"/ragflow/rag/raptor.py\", line 82, in summarize\n2025-02-12 22:00:51 ragflow-server  |     cnt = self._chat(\"You're a helpful assistant.\",\n2025-02-12 22:00:51 ragflow-server  |   File \"/ragflow/rag/raptor.py\", line 43, in _chat\n2025-02-12 22:00:51 ragflow-server  |     raise Exception(response)\n2025-02-12 22:00:51 ragflow-server  | Exception: **ERROR**: \n2025-02-12 22:00:51 ragflow-server  | **ERROR**: Invalid API-key provided.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4919/comments",
    "author": "yanzhangyanyan",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2025-02-13T05:52:46Z",
        "body": "RAPTOR will use the default LLM which is setup during system setting."
      },
      {
        "user": "yanzhangyanyan",
        "created_at": "2025-02-13T16:24:43Z",
        "body": "tks! I had fixed it! "
      }
    ]
  },
  {
    "number": 4835,
    "title": "[Question]: RAGFlow server exception.",
    "created_at": "2025-02-10T05:53:28Z",
    "closed_at": "2025-02-13T02:51:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4835",
    "body": "### Describe your problem\n\nÈÉ®ÁΩ≤0.16.0ÁâàÊú¨ÂêéÔºåËøõÂÖ•Á≥ªÁªüÔºå‰∏ä‰º†pptxÊñá‰ª∂ÂêéÔºåÈ°µÈù¢ÊèêÁ§∫ÁΩëÂÖ≥Ë∂ÖÊó∂ÔºåÊ£ÄÊü•ÂèëÁé∞ÂêéÁ´ØÁöÑragflow_serverÊúçÂä°ÊåÇ‰∫ÜÔºå‰ΩÜÊòØ‰ªélog‰∏äÊ≤°ÁúãÂà∞‰ªª‰ΩïÂºÇÂ∏∏‰ø°ÊÅØÔºåÊÑüËßâÂ∞±ÂÉèÊòØÁ™ÅÁÑ∂ÊåÇ‰∫ÜÔºåÂè¶Ôºåtask_executorÊúçÂä°ËøòÂú®",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4835/comments",
    "author": "sdemon915gh",
    "comments": [
      {
        "user": "Cjansuo",
        "created_at": "2025-02-10T06:01:11Z",
        "body": "ÊÇ®Â•ΩÔºåÊàëÊÉ≥ÈóÆ‰∏ãÊÇ®ÈÉ®ÁΩ≤0.16.0ÁâàÊú¨ÁöÑragflowÁöÑÊó∂ÂÄô ËøôÂùóÁöÑÈóÆÈ¢òÈÅáÂà∞‰∫ÜÊ≤°Ôºü\nPS F:\\ragflow-main\\ragflow> docker compose -f docker/docker-compose.yml up -d\ntime=\"2025-02-10T13:42:22+08:00\" level=warning msg=\"The \\\"HF_ENDPOINT\\\" variable is not set. Defaulting to a blank string.\"\ntime=\"2025-02-10T13:42:22+08:00\" level=warning msg=\"The \\\"MACOS\\\" variable is not set. Defaulting to a blank string.\"\n[+] Running 3/5\n ‚úî Container ragflow-minio   Running                                                                               0.0s\n ‚úî Container ragflow-mysql   Healthy                                                                               3.5s\n ‚úî Container ragflow-redis   Running                                                                               0.0s\n - Container ragflow-es-01   Starting                                                                              0.5s\n - Container ragflow-server  Starting                                                                              0.0s\nError response from daemon: Ports are not available: exposing port TCP 0.0.0.0:1200 -> 127.0.0.1:0: listen tcp 0.0.0.0:1200: bind: An attempt was made to access a socket in a way forbidden by its access permissions. "
      },
      {
        "user": "sdemon915gh",
        "created_at": "2025-02-10T08:21:06Z",
        "body": "> ÊÇ®Â•ΩÔºåÊàëÊÉ≥ÈóÆ‰∏ãÊÇ®ÈÉ®ÁΩ≤0.16.0ÁâàÊú¨ÁöÑragflowÁöÑÊó∂ÂÄô ËøôÂùóÁöÑÈóÆÈ¢òÈÅáÂà∞‰∫ÜÊ≤°Ôºü PS F:\\ragflow-main\\ragflow> docker compose -f docker/docker-compose.yml up -d time=\"2025-02-10T13:42:22+08:00\" level=warning msg=\"The \"HF_ENDPOINT\" variable is not set. Defaulting to a blank string.\" time=\"2025-02-10T13:42:22+08:00\" level=warning msg=\"The \"MACOS\" variable is not set. Defaulting to a blank string.\" [+] Running 3/5 ‚úî Container ragflow-minio Running 0.0s ‚úî Container ragflow-mysql Healthy 3.5s ‚úî Container ragflow-redis Running 0.0s\n> \n> * Container ragflow-es-01   Starting                                                                              0.5s\n> * Container ragflow-server  Starting                                                                              0.0s\n>   Error response from daemon: Ports are not available: exposing port TCP 0.0.0.0:1200 -> 127.0.0.1:0: listen tcp 0.0.0.0:1200: bind: An attempt was made to access a socket in a way forbidden by its access permissions.\n\nÊ≤°ÊúâÔºåÊàëÊòØÁî®Ê∫êÁ†ÅÊñπÂºèÈÉ®ÁΩ≤ÁöÑ"
      },
      {
        "user": "JinHai-CN",
        "created_at": "2025-02-10T11:45:51Z",
        "body": "`Error response from daemon: Ports are not available: exposing port TCP 0.0.0.0:1200 -> 127.0.0.1:0: listen tcp 0.0.0.0:1200: bind: An attempt was made to access a socket in a way forbidden by its access permissions.`\n\nAny reason lead to such error?"
      },
      {
        "user": "sdemon915gh",
        "created_at": "2025-02-13T02:51:02Z",
        "body": "ÁªèËøácoreÊñá‰ª∂ÂÆö‰ΩçÂêéÔºåÂéüÂõ†ÊòØpptxËß£ÊûêÊó∂‰ΩøÁî®Aspose.slidesÂ∫ìÔºåËøô‰∏™Â∫ì‰ΩøÁî®.netcore3.1ÔºåËÄå.netcore3.1ÂÆòÊñπ‰ªÖÊîØÊåÅopenssl1.1.xÔºå‰∏çÊîØÊåÅopenssl3ÔºåËÄåÊàëÁöÑÁ≥ªÁªüÔºàubuntu22Ôºâ‰∏älibsslÊòØ3.0.2ÔºåÊâÄ‰ª•ÂØºËá¥dlopenÊó∂ÂºÇÂ∏∏‰ªéËÄåragflow_server.pyËÑöÊú¨ÈÄÄÂá∫ÔºåÁõÆÂâçÁöÑËß£ÂÜ≥ÊñπÂºèÊòØÂçïÁã¨ÂÆâË£Ölibssl1.1ÁâàÊú¨ÔºåÂú®ragflowÂêØÂä®ÂâçËøõÂÖ•ËôöÊãüÁéØÂ¢ÉÊó∂ÈÄöËøáexport LD_LIBRARY_PATHÂºïÁî®1.1ÁöÑopensslÂ∫ì"
      }
    ]
  },
  {
    "number": 4773,
    "title": "[Question]: Errors: index_not_found_exception",
    "created_at": "2025-02-07T11:27:21Z",
    "closed_at": "2025-02-10T05:50:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4773",
    "body": "### Describe your problem\n\nÈÉ®ÁΩ≤0.16.0ÁâàÊú¨ÂêéÔºåËøõÂÖ•Á≥ªÁªüÔºåËÆøÈóÆÂÖ∂‰ªñÂõ¢ÈòüÊàêÂëòÂõ¢ÈòüÂÖ±‰∫´ÁöÑÁü•ËØÜÂ∫ìÔºåÂêéÁ´ØÂ∑•Á®ãÊä•ÈîôÔºö\n2025-02-07 19:09:40,359 ERROR    3068893 NotFoundError(404, 'index_not_found_exception', 'no such index [ragflow_6eb2d121d4a411ef9d9f5bf738005914]', ragflow_6eb2d121d4a411ef9d9f5bf738005914, index_or_alias)\nTraceback (most recent call last):\n  File \"/root/ragflow/api/apps/kb_app.py\", line 305, in knowledge_graph\n    sres = settings.retrievaler.search(req, search.index_name(kb.tenant_id), [kb_id])\n  File \"<@beartype(rag.nlp.search.Dealer.search) at 0x7f609c26bc70>\", line 95, in search\n  File \"/root/ragflow/rag/nlp/search.py\", line 95, in search\n    res = self.dataStore.search(src, [], filters, [], orderBy, offset, limit, idx_names, kb_ids)\n  File \"/root/ragflow/rag/utils/es_conn.py\", line 256, in search\n    raise e\n  File \"/root/ragflow/rag/utils/es_conn.py\", line 242, in search\n    res = self.es.search(index=indexNames,\n  File \"/root/ragflow/.venv/lib/python3.10/site-packages/elasticsearch/_sync/client/utils.py\", line 446, in wrapped\n    return api(*args, **kwargs)\n  File \"/root/ragflow/.venv/lib/python3.10/site-packages/elasticsearch/_sync/client/__init__.py\", line 3836, in search\n    return self.perform_request(  # type: ignore[return-value]\n  File \"/root/ragflow/.venv/lib/python3.10/site-packages/elasticsearch/_sync/client/_base.py\", line 320, in perform_request\n    raise HTTP_EXCEPTIONS.get(meta.status, ApiError)(\nelasticsearch.NotFoundError: NotFoundError(404, 'index_not_found_exception', 'no such index [ragflow_6eb2d121d4a411ef9d9f5bf738005914]', ragflow_6eb2d121d4a411ef9d9f5bf738005914, index_or_alias)",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4773/comments",
    "author": "sdemon915gh",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2025-02-08T02:22:22Z",
        "body": "It's probably caused by empty knowledge bases.\nIs there any parsed chunks in this KB?"
      }
    ]
  },
  {
    "number": 4596,
    "title": "[Question]:  when im uploading a 80mb pdf file .  online ragflow demo website  upload file fail.",
    "created_at": "2025-01-23T03:18:24Z",
    "closed_at": "2025-01-24T06:12:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4596",
    "body": "### Describe your problem\n\nred pop up side window: \n```\nnetwork anomaly\nThere is an abnormality in your network and you cannot connect to the server.\n```\n\nAnd i tried to write a py script to divide the pdf files  , tested script works ok on divide files:\n\n<details>\n<summary>üìù code below</summary>\n\n```py\nfrom PyPDF2 import PdfReader, PdfWriter\nimport os\nimport math\nimport argparse\nimport sys\n\ndef get_pdf_size_per_page(pdf_path):\n    \"\"\"Get average size per page of PDF (KB)\"\"\"\n    file_size = os.path.getsize(pdf_path) / 1024  # Convert to KB\n    reader = PdfReader(pdf_path)\n    total_pages = len(reader.pages)\n    return file_size / total_pages\n\ndef split_pdf_by_size(input_path, size_limit_kb=1900):\n    \"\"\"\n    Split PDF file based on size limit\n    \n    Parameters:\n    input_path: Input PDF file path\n    size_limit_kb: Size limit for each output file (KB)\n    \"\"\"\n    # Get absolute path\n    input_path = os.path.abspath(input_path)\n    \n    # Get directory and filename\n    dir_path = os.path.dirname(input_path)\n    base_name = os.path.splitext(os.path.basename(input_path))[0]\n    \n    # Create output directory\n    output_dir = os.path.join(dir_path, f\"{base_name}_parts\")\n    os.makedirs(output_dir, exist_ok=True)\n    \n    # Check if file exists\n    if not os.path.exists(input_path):\n        print(f\"Error: File does not exist - {input_path}\")\n        sys.exit(1)\n    \n    try:\n        # Create PDF reader\n        reader = PdfReader(input_path)\n        total_pages = len(reader.pages)\n        \n        # Calculate average page size\n        avg_page_size = get_pdf_size_per_page(input_path)\n        \n        # Calculate pages per file\n        pages_per_file = math.floor(size_limit_kb / avg_page_size)\n        if pages_per_file < 1:\n            pages_per_file = 1\n        \n        # Calculate number of files needed\n        num_files = math.ceil(total_pages / pages_per_file)\n        \n        print(f\"\\nInput file: {input_path}\")\n        print(f\"Output directory: {output_dir}\")\n        print(f\"Total pages: {total_pages}\")\n        print(f\"Average size per page: {avg_page_size:.2f}KB\")\n        print(f\"Pages per file: {pages_per_file}\")\n        print(f\"Will split into {num_files} files\\n\")\n        print(\"-\" * 50)\n        \n        # Start splitting\n        for i in range(num_files):\n            writer = PdfWriter()\n            start_page = i * pages_per_file\n            end_page = min((i + 1) * pages_per_file, total_pages)\n            \n            # Add pages to new file\n            for page_num in range(start_page, end_page):\n                writer.add_page(reader.pages[page_num])\n            \n            # Generate output filename\n            output_path = os.path.join(output_dir, f\"{base_name}_part{i+1}.pdf\")\n            \n            # Save file\n            with open(output_path, 'wb') as output_file:\n                writer.write(output_file)\n            \n            # Get actual file size\n            actual_size = os.path.getsize(output_path) / 1024\n            print(f\"Created: {output_path}\")\n            print(f\"Pages: {start_page+1}-{end_page}\")\n            print(f\"Actual size: {actual_size:.2f}KB\")\n            print(\"-\" * 50)\n            \n    except Exception as e:\n        print(f\"Error: Problem processing PDF - {str(e)}\")\n        sys.exit(1)\n\ndef main():\n    # Create command line argument parser\n    parser = argparse.ArgumentParser(description='Split PDF file based on size limit')\n    parser.add_argument('input_pdf', help='Path to input PDF file')\n    parser.add_argument('--size', type=int, default=1900,\n                      help='Size limit for each output file (KB), default 1900KB')\n    \n    # Parse command line arguments\n    args = parser.parse_args()\n    \n    # Execute PDF splitting\n    split_pdf_by_size(args.input_pdf, args.size)\n\n# Code functionality:\n# 1. This is a PDF file splitting tool\n# 2. Splits PDF file into multiple smaller files based on specified size limit (default 1900KB)\n# 3. Main features:\n#    - Calculates total pages and average page size of original PDF\n#    - Calculates pages per file based on size limit\n#    - Splits and saves as multiple PDF files sequentially\n#    - Maintains original PDF page order\n#    - Outputs splitting information (filename, page range, actual size etc)\n# 4. Usage:\n#    python divide_pdf.py input.pdf [--size SIZE_KB]\n\nif __name__ == \"__main__\":\n    main()\n```\n\n\n</details>",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4596/comments",
    "author": "johnwick67943532",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2025-01-24T03:23:07Z",
        "body": "Demo site dose not support uploading file larger than 10M."
      }
    ]
  },
  {
    "number": 4542,
    "title": "[Question]: manually pull the ES reference configuration file",
    "created_at": "2025-01-20T06:46:00Z",
    "closed_at": "2025-01-20T14:49:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4542",
    "body": "### Describe your problem\n\nWhen I use docker to start container ,i didn't find the ES . And when i manually pull the ES ,i don't know whick file should i to choose, the docker-compose-base.yml  or the service_conf.yaml.template ? ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4542/comments",
    "author": "xuyunlong123",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2025-01-20T14:49:20Z",
        "body": "Study ES log (at container console) to find why ES exits abnormally.\nYou don't need to pull ES image explicitly. `docker compose up` will do that for you."
      }
    ]
  },
  {
    "number": 4530,
    "title": "[Question]:How to set up log level to debug",
    "created_at": "2025-01-18T19:44:11Z",
    "closed_at": "2025-01-20T07:01:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4530",
    "body": "### Describe your problem\n\nHi, \nAs I asked in #4476 , can you please clarify:\nIs it possible to set ragflow log level to DEBUG globally?\nAs it is written in .env file, I uncommented the row:\n`# LOG_LEVELS=ragflow.es_conn=DEBUG`\n\nand got the following (and only following) in the ragflow log:\n\n\n`ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}`\n\nNo any other DEBUG messages. Everything is still at INFO level.\n\nCan you please explain what I need to change in .env file, to see debug messages?\n\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4530/comments",
    "author": "senovr",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2025-01-20T02:40:18Z",
        "body": "`LOG_LEVELS=root=DEBUG`"
      }
    ]
  },
  {
    "number": 4514,
    "title": "[Question]: Have trouble configuring Ragflow on mac",
    "created_at": "2025-01-16T18:34:10Z",
    "closed_at": "2025-02-11T01:38:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4514",
    "body": "### Describe your problem\n\n2025-01-17 02:28:11 2025-01-17 02:28:11,913 WARNING  658 /ragflow/.venv/lib/python3.10/site-packages/polars/_cpu_check.py:259: RuntimeWarning: Missing required CPU features.\n2025-01-17 02:28:11 \n2025-01-17 02:28:11 The following required CPU features were not detected:\n2025-01-17 02:28:11     avx, avx2, fma, bmi1, bmi2, lzcnt, movbe\n2025-01-17 02:28:11 Continuing to use this version of Polars on this processor will likely result in a crash.\n2025-01-17 02:28:11 Install the `polars-lts-cpu` package instead of `polars` to run Polars with better compatibility.\n2025-01-17 02:28:11 \n2025-01-17 02:28:11 Hint: If you are on an Apple ARM machine (e.g. M1) this is likely due to running Python under Rosetta.\n2025-01-17 02:28:11 It is recommended to install a native version of Python that does not run under Rosetta x86-64 emulation.\n2025-01-17 02:28:11 \n2025-01-17 02:28:11 If you believe this warning to be a false positive, you can set the `POLARS_SKIP_CPU_CHECK` environment variable to bypass this check.\n\nI have installed polars-lts-cpu and set POLARS_SKIP_CPU_CHECK but still get this waring. cpu is m2",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4514/comments",
    "author": "Anqunan",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2025-01-17T08:22:05Z",
        "body": "@Anqunan Please update the code to the latest. This issue should be gone."
      },
      {
        "user": "yuzhichang",
        "created_at": "2025-02-11T01:38:44Z",
        "body": "Later code has replaced `polars` with `polars-lts-cpu`."
      }
    ]
  },
  {
    "number": 4360,
    "title": "[Question]:graphRAG consume too much memory",
    "created_at": "2025-01-06T07:36:40Z",
    "closed_at": "2025-01-07T06:45:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4360",
    "body": "### Describe your problem\n\nÈóÆÈ¢ò1.\r\nÊàëÁöÑÊòØubuntu22ÁöÑÁâ©ÁêÜÊú∫Ôºå32G RAMÔºå200G ROMÔºå4060ti GPU„ÄÇÈÉ®ÁΩ≤ÁöÑÊñπÊ≥ïÊòØÈÄâÊã©‰∫ÜslimÁöÑÈïúÂÉèÔºå‰ªéelasticsearchÂàáÊç¢Âà∞‰∫ÜinifinityÔºåÊãâÂèñÈïúÂÉèÂ§ßÁ∫¶3G„ÄÇËÄåÂêéÂØπ‰∏Ä‰∏™14MÂ∑¶Âè≥ÁöÑpdfËøõË°åËß£ÊûêÔºåËß£ÊûêÊñπÊ≥ïÊòØgraphRAGÔºå‰ΩøÁî®htopÂëΩ‰ª§Êü•ÁúãcpuÂíåÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµÔºåËÇâÁúºÂèØËßÅÁöÑÂ¢ûÈ´òÔºåÂ¢ûÂ§ßÂà∞31GÁöÑÊó∂ÂÄôÂç°Ê≠ªÔºåÂè™ËÉΩÈáçÂêØËÆæÂ§á„ÄÇÂ¶Ç‰ΩïÈÅøÂÖçÂÜÖÂ≠òÂç†Áî®Â§™È´òÁöÑÊÉÖÂÜµÔºåÊúâÁõ∏ÂÖ≥ÈÖçÁΩÆÂêóÔºü\r\n\r\nÈóÆÈ¢ò2.\r\nÂú®ËÆæÂ§áÊú¨Âú∞ÁôªÂΩï80Á´ØÂè£ËÆøÈóÆÊòØÊ≠£Â∏∏ÁöÑÔºå‰ΩÜÂêå‰∏ÄÂ±ÄÂüüÁΩëÁöÑÂè¶‰∏ÄÂè∞ÁîµËÑëËøúÁ®ãÁôªÂΩïÊó∂‰ºöÂç°Ê≠ªÔºå‰∏çÁü•ÈÅì‰ªÄ‰πàÂéüÂõ†„ÄÇ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4360/comments",
    "author": "zhjygit",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2025-01-06T09:18:03Z",
        "body": "We intend to create an international community, so we encourage using English for communication.\r\n\r\n1. Yes, we are improving the GraphRAG. Stay tuned.\r\n2. Maybe the firewall forbids the accessing."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2025-01-07T01:49:08Z",
        "body": "Which process has the most RAM occupancy?"
      }
    ]
  },
  {
    "number": 4246,
    "title": "[Question]: place for tutorials for beginners",
    "created_at": "2024-12-26T09:19:48Z",
    "closed_at": "2024-12-28T08:23:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4246",
    "body": "### Describe your problem\n\nHi there,\r\n\r\nI hope I didn't miss anything, but are there any step-by-step tutorials available (e.g., on YouTube) that demonstrate how to achieve specific use cases with ragflow?\r\n\r\nFor example, you have an excellent blog post about using GraphRag to analyze relationships in the Game of Thrones dataset. It would be incredibly helpful if you could provide more detailed instructions, such as:\r\n\r\nTake these files.\r\nUpload them.\r\nChoose these entities (and explain why, as well as any alternative entities that can be extracted/used). ...\r\nAdditionally, I would like to upvote for the feature of reconstructing multiple documents with GraphRag. Imagine having a codebase with folders and files, and wanting to better understand which files do what and how they are inter-related. This seems like a great use case.\r\n\r\nThank you!\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4246/comments",
    "author": "senovr",
    "comments": [
      {
        "user": "writinwaters",
        "created_at": "2024-12-27T03:19:19Z",
        "body": "Hi @senovr \r\n\r\nThanks for the suggestions. Agreed that our step-by-step tutorials are still on the thin side. We are currently refactoring our docs for agents, and the GraphRAG tutorial is also on our to-do list. Should be ready in the first half of January. \r\n\r\nAlso, GraphRAG appears as a chunk method in knowledge base configurations. For the time being, you may want to try our demo.ragflow.io, making sure you choose the right entity type.\r\n\r\nCheers."
      }
    ]
  },
  {
    "number": 4234,
    "title": "[Question]: How to increase the length of the RAGFlow agent response",
    "created_at": "2024-12-26T04:09:50Z",
    "closed_at": "2024-12-26T04:16:39Z",
    "labels": [
      "duplicate",
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4234",
    "body": "### Describe your problem\n\nHow to increase the length of the RAGFlow agent response.\r\nWhen running the agent, the answer is truncated. How can I turn off the maximum number of tokens to enable a chat-like interaction?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4234/comments",
    "author": "biaz555",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-12-26T04:16:39Z",
        "body": "duplicated with #4235 "
      }
    ]
  },
  {
    "number": 4205,
    "title": "[Question]: WS in entrypoint.sh cannot accelerate file processing",
    "created_at": "2024-12-24T05:43:15Z",
    "closed_at": "2024-12-27T01:35:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4205",
    "body": "### Describe your problem\n\nI compared ws of 1 and 5, the deepdoc model is not running concurrently and the processing time for the same file is longer with ws set to 5. It is not normal. Is it because there is some shared resource in the code that causes the context switch to take longer?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4205/comments",
    "author": "hehemagic",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2024-12-24T07:23:13Z",
        "body": "Both OCR and embedding consume 10+ CPU. It's normal that enlarging WS makes the whole procedure slower."
      }
    ]
  },
  {
    "number": 4148,
    "title": "[Question]: printEnvironment.sh: line 33: free: command not found",
    "created_at": "2024-12-20T06:17:41Z",
    "closed_at": "2024-12-20T06:24:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4148",
    "body": "### Describe your problem\n\nprintEnvironment.sh: line 33: free: command not found  \r\n while used it  on maces M1 ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4148/comments",
    "author": "yangboz",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-12-20T06:24:00Z",
        "body": "This scripts is removed, you can check the latest version source code."
      },
      {
        "user": "yangboz",
        "created_at": "2024-12-20T06:44:59Z",
        "body": " recommend \"top -l 1 -s 0 | grep PhysMem\". "
      }
    ]
  },
  {
    "number": 4041,
    "title": "[Question]: question about embedding",
    "created_at": "2024-12-15T08:19:50Z",
    "closed_at": "2024-12-17T08:00:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4041",
    "body": "### Describe your problem\n\nI am looking for where and how the embedding results are stored and retrieved in the backend. \r\nCould anyone help? Many thanksÔºÅ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4041/comments",
    "author": "nevergone123",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-12-16T01:40:34Z",
        "body": "It's all by Infinity or Elasticsearch, which depends on the data engine you choose."
      }
    ]
  },
  {
    "number": 4019,
    "title": "[Question]:  dependency failed to start: container ragflow-mysql is unhealthy",
    "created_at": "2024-12-13T03:47:48Z",
    "closed_at": "2024-12-17T12:18:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4019",
    "body": "### Describe your problem\n\ndocker logs ragflow-mysql:\r\n2024-12-13 11:42:50+08:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.39-1.el9 started.\r\n2024-12-13 11:42:51+08:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\r\n2024-12-13 11:42:51+08:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.39-1.el9 started.\r\n2024-12-13 11:42:51+08:00 [Note] [Entrypoint]: Initializing database files\r\n2024-12-13T03:42:51.180174Z 0 [Warning] [MY-011068] [Server] The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead.\r\n2024-12-13T03:42:51.180247Z 0 [Warning] [MY-010918] [Server] 'default_authentication_plugin' is deprecated and will be removed in a future release. Please use authentication_policy instead.\r\n2024-12-13T03:42:51.180262Z 0 [System] [MY-013169] [Server] /usr/sbin/mysqld (mysqld 8.0.39) initializing of server in progress as process 80\r\n2024-12-13T03:42:51.181440Z 0 [ERROR] [MY-010457] [Server] --initialize specified but the data directory has files in it. Aborting.\r\n2024-12-13T03:42:51.181445Z 0 [ERROR] [MY-013236] [Server] The designated data directory /var/lib/mysql/ is unusable. You can remove all files that the server added to it.\r\n2024-12-13T03:42:51.181488Z 0 [ERROR] [MY-010119] [Server] Aborting\r\n2024-12-13T03:42:51.181587Z 0 [System] [MY-010910] [Server] /usr/sbin/mysqld: Shutdown complete (mysqld 8.0.39)  MySQL Community Server - GPL.\r\n\r\nÊàëÂ∑≤ÁªèÂ∞Ümysql_dataÂç∑Âà†Èô§ÂêéÈáçÂª∫‰æùÁÑ∂‰øù‰∏äËø∞ÈîôËØØ„ÄÇ\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4019/comments",
    "author": "singleshot1830",
    "comments": [
      {
        "user": "realxmtx",
        "created_at": "2024-12-13T05:26:07Z",
        "body": "I have a similar problem with ragflow-mysql. I really wish if we can provide a docker-compose file using postgresql instead of mysql."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-12-13T10:21:35Z",
        "body": "This is probably caused by OS.\r\nIs it MAC? \r\nYou could change Mysql to mariadb."
      },
      {
        "user": "realxmtx",
        "created_at": "2024-12-13T11:00:22Z",
        "body": "> This is probably caused by OS. Is it MAC? You could change Mysql to mariadb.\r\n\r\nI use ubuntu, not MACOS. I switch to mariadb and the problem persists:\r\n\r\n> 2024-12-13 18:53:36+08:00 [Note] [Entrypoint]: Entrypoint script for MariaDB Server 1:11.6.2+maria~ubu2404 started.\r\n> 2024-12-13 18:53:36+08:00 [Warn] [Entrypoint]: /sys/fs/cgroup///memory.pressure not writable, functionality unavailable to MariaDB\r\n> 2024-12-13 18:53:36+08:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\r\n> 2024-12-13 18:53:36+08:00 [Note] [Entrypoint]: Entrypoint script for MariaDB Server 1:11.6.2+maria~ubu2404 started.\r\n> 2024-12-13 18:53:36+08:00 [Note] [Entrypoint]: Initializing database files\r\n> 2024-12-13 18:53:36 0 [Warning] mariadbd: io_uring_queue_init() failed with errno 2\r\n> 2024-12-13 18:53:36 0 [Warning] InnoDB: liburing disabled: falling back to innodb_use_native_aio=OFF\r\n> 2024-12-13 18:53:36 0 [Warning] 'default-authentication-plugin' is MySQL 5.6 / 5.7 compatible option. To be implemented in later versions.\r\n> 2024-12-13 18:53:37+08:00 [Note] [Entrypoint]: Database files initialized\r\n> 2024-12-13 18:53:37+08:00 [Note] [Entrypoint]: Starting temporary server\r\n> 2024-12-13 18:53:37+08:00 [Note] [Entrypoint]: Waiting for server startup\r\n> 2024-12-13 18:53:37 0 [Note] Starting MariaDB 11.6.2-MariaDB-ubu2404 source revision d8dad8c3b54cd09fefce7bc3b9749f427eed9709 server_uid 72+4ASMvYxproTQgRqIDplDA1XA= as process 98\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: Compressed tables use zlib 1.3\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: Number of transaction pools: 1\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: Using AVX512 instructions\r\n> 2024-12-13 18:53:37 0 [Warning] mariadbd: io_uring_queue_init() failed with errno 0\r\n> 2024-12-13 18:53:37 0 [Warning] InnoDB: liburing disabled: falling back to innodb_use_native_aio=OFF\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: Initializing buffer pool, total size = 128.000MiB, chunk size = 2.000MiB\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: Completed initialization of buffer pool\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: File system buffers for log disabled (block size=512 bytes)\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: End of log at LSN=47763\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: Opened 3 undo tablespaces\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: 128 rollback segments in 3 undo tablespaces are active.\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: Setting file './ibtmp1' size to 12.000MiB. Physically writing the file full; Please wait ...\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: File './ibtmp1' size is now 12.000MiB.\r\n> 2024-12-13 18:53:37 0 [Note] InnoDB: log sequence number 47763; transaction id 14\r\n> 2024-12-13 18:53:37 0 [Note] Plugin 'FEEDBACK' is disabled.\r\n> 2024-12-13 18:53:37 0 [Note] Plugin 'wsrep-provider' is disabled.\r\n> 2024-12-13 18:53:37 0 [Warning] 'default-authentication-plugin' is MySQL 5.6 / 5.7 compatible option. To be implemented in later versions.\r\n> 2024-12-13 18:53:38 0 [Note] mariadbd: Event Scheduler: Loaded 0 events\r\n> 2024-12-13 18:53:38 0 [ERROR] mariadbd: Can't create/write to file '/data/application/init.sql' (Errcode: 13 \"Permission denied\")\r\n> 2024-12-13 18:53:38 0 [ERROR] Aborting\r\n> 2024-12-13 18:54:09+08:00 [ERROR] [Entrypoint]: Unable to start server.\r\n\r\nAbove problem also exists when I use mysql."
      },
      {
        "user": "Snify89",
        "created_at": "2024-12-13T14:27:53Z",
        "body": "It's a migration problem I think. The MySQL container has issues because there is already data. "
      },
      {
        "user": "singleshot1830",
        "created_at": "2024-12-17T12:18:15Z",
        "body": "Oh, I figured out what was going on. Turns out my hard drive was completely full, which was causing the issue.\r\n\r\n\r\n"
      },
      {
        "user": "jiasu-hezhip",
        "created_at": "2024-12-30T06:16:52Z",
        "body": "docker-compose down -v\r\nuse this instruction and restart "
      }
    ]
  },
  {
    "number": 4017,
    "title": "[Question]: layout mode law, size chunks missconception",
    "created_at": "2024-12-12T23:59:00Z",
    "closed_at": "2025-01-06T01:00:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/4017",
    "body": "### Describe your problem\n\nI have read several articles arround chunking methods for law documents. In addition I have visit different specoaliced embbeding modelos \r\n\r\nArticles always speak arround long embbedings and embbedings models has more a more context capacity.\r\n\r\nMuy expiments goed in the same direction , longs chunks improve the results\r\n\r\nBut when I use ragflow law layout, It always create small chunks about a pararagth.\r\n\r\nWhat is ny blind?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/4017/comments",
    "author": "devMls",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-12-13T01:47:20Z",
        "body": "If there's not much chunks say, 1K number of chunks, probably, the bigger the chunk is the better the answer is.\r\n\r\nIf there's much chunks say, 10K number of chunks, much more chunks will be retrieved, it's realy hard to distinguish which chunk is more relevant to quesition that we need to sent to LLM, if we have long chunks."
      }
    ]
  },
  {
    "number": 3916,
    "title": "[Question]: How to trace chunks to name of document?",
    "created_at": "2024-12-07T12:15:46Z",
    "closed_at": "2024-12-14T10:18:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3916",
    "body": "### Describe your problem\r\n\r\nI know that ragflow not include metadata yet.\r\nBut I have a recurring problem and I need a advise to fear it.\r\n\r\nI haver several documents with the same information but with corrections\r\n\r\nLaw 1 of 2013 with max allowed values about a component\r\nrevision of 2019 with other values\r\nrevision of 2023 with other values\r\n\r\nI want the latest values but LLLM doesn't know what chunk is \"most modern\" and he tell me that:\r\n\r\n```\r\na informaci√≥n sobre el margen de tolerancia aplicable a un abono con amino√°cidos es inconsistente en la base de conocimiento proporcionada. Hay varias entradas con diferentes valores:\r\n\r\nEntrada 1: Indica un 15% del valor declarado del contenido en cualquier elemento nutriente principal, con un m√°ximo en valor absoluto de: N total 0,9; N org√°nico 0,4; P2O5 0,9; K2O 0,9. Tambi√©n menciona una tolerancia para el total de amino√°cidos libres: 10% del valor declarado (m√°ximo 1% en valor absoluto si el valor declarado es 10%, o 10% del valor declarado si es menor a 10%). Para cada amino√°cido libre declarado en el aminograma, la tolerancia es del 25% del valor declarado .\r\n\r\nEntrada 2: Menciona un 20% del valor declarado del contenido en cualquier elemento nutriente principal, con un m√°ximo en valor absoluto de: N total 1,1; P2O5 1,1; K2O 1,1. Para el total de amino√°cidos libres, indica 10% del valor declarado con un m√°ximo del 3% en valor absoluto si el valor declarado es 10%, o 10% del valor declarado si es menor a 10%. Para cada amino√°cido libre declarado en el aminograma, la tolerancia es del 25% del valor declarado ##5 ##1.\r\n\r\nEntrada 3: Indica un 10% del valor declarado del contenido en cualquier elemento nutriente principal, con un m√°ximo en valor absoluto de: N total 0,9; N org√°nico y en otras formas 0,5; P2O5 0,9; K2O 0,9. Si contiene m√°s de un nutriente principal, la tolerancia es del 15% del valor declarado, con m√°ximos de 1,1 para N total, 0,5 para N org√°nico, y 1,1 para P2O5 y K2O. Para el total de amino√°cidos libres, indica 10% del valor declarado con un m√°ximo del 3% en valor absoluto si el valor declarado es 10%, o 10% del valor declarado si es menor a 10%. Para cada amino√°cido libre declarado en el aminograma, la tolerancia es del 25% del valor declarado.\r\n\r\nEs crucial determinar qu√© fuente es la correcta o si se debe aplicar una interpretaci√≥n considerando las diferentes regulaciones o versiones. Sin m√°s informaci√≥n, no es posible determinar con certeza cu√°l es el margen de tolerancia aplicable.\r\n```\r\n\r\nis a good answer, each entry is for one law. but he doesn't know what law is the each one. when I ask he tell me that he don't know. How can associate each chunks with their document? maybe with autowords manually?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3916/comments",
    "author": "devMls",
    "comments": [
      {
        "user": "devMls",
        "created_at": "2024-12-07T13:09:15Z",
        "body": "maybe generate a option of add a tail (or payload) of each chunk, by document, in the ingest options"
      },
      {
        "user": "Snify89",
        "created_at": "2024-12-07T14:01:39Z",
        "body": "A good balanced way is to improve/add timestamps in general. The parser could extract all found \"dates\" and store them and sort by the newest date to enhance relevancy (and cluster by due date, creation date,etc). I think this can improve the accuracy further and is a way to handle revisions, etc."
      },
      {
        "user": "devMls",
        "created_at": "2024-12-08T21:39:55Z",
        "body": "I open a pull request to manage this :) #3690 "
      }
    ]
  },
  {
    "number": 3884,
    "title": "[Question]: poetry install Failed to install pyicu on windows. I went to the anaconda website to search and found no windows version of the package, how do you all run on windows?",
    "created_at": "2024-12-05T10:27:47Z",
    "closed_at": "2024-12-10T08:58:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3884",
    "body": "### Describe your problem\n\npoetry install Failed to install pyicu on windows. I went to the anaconda website to search and found no windows version of the package, how do you all run on windows?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3884/comments",
    "author": "kuschzzp",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-12-05T13:04:34Z",
        "body": "Try to use docker or WSL/WSL2"
      }
    ]
  },
  {
    "number": 3871,
    "title": "[Question]: KeyError('knowledge_graph_kwd')",
    "created_at": "2024-12-05T03:53:47Z",
    "closed_at": "2024-12-17T09:48:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3871",
    "body": "### Describe your problem\n\ndefault use ES, but code with infinity. mapping.json and infinity_mapping.json \r\n`{\r\n  \"settings\": {\r\n    \"index\": {\r\n      \"number_of_shards\": 2,\r\n      \"number_of_replicas\": 0,\r\n      \"refresh_interval\": \"1000ms\"\r\n    },\r\n    \"similarity\": {\r\n      \"scripted_sim\": {\r\n        \"type\": \"scripted\",\r\n        \"script\": {\r\n          \"source\": \"double idf = Math.log(1+(field.docCount-term.docFreq+0.5)/(term.docFreq + 0.5))/Math.log(1+((field.docCount-0.5)/1.5)); return query.boost * idf * Math.min(doc.freq, 1);\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"mappings\": {\r\n    \"properties\": {\r\n      \"lat_lon\": {\r\n        \"type\": \"geo_point\",\r\n        \"store\": \"true\"\r\n      }\r\n    },\r\n    \"date_detection\": \"true\",\r\n    \"dynamic_templates\": [\r\n      {\r\n        \"int\": {\r\n          \"match\": \"*_int\",\r\n          \"mapping\": {\r\n            \"type\": \"integer\",\r\n            \"store\": \"true\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"ulong\": {\r\n          \"match\": \"*_ulong\",\r\n          \"mapping\": {\r\n            \"type\": \"unsigned_long\",\r\n            \"store\": \"true\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"long\": {\r\n          \"match\": \"*_long\",\r\n          \"mapping\": {\r\n            \"type\": \"long\",\r\n            \"store\": \"true\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"short\": {\r\n          \"match\": \"*_short\",\r\n          \"mapping\": {\r\n            \"type\": \"short\",\r\n            \"store\": \"true\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"numeric\": {\r\n          \"match\": \"*_flt\",\r\n          \"mapping\": {\r\n            \"type\": \"float\",\r\n            \"store\": true\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"tks\": {\r\n          \"match\": \"*_tks\",\r\n          \"mapping\": {\r\n            \"type\": \"text\",\r\n            \"similarity\": \"scripted_sim\",\r\n            \"analyzer\": \"whitespace\",\r\n            \"store\": true\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"ltks\": {\r\n          \"match\": \"*_ltks\",\r\n          \"mapping\": {\r\n            \"type\": \"text\",\r\n            \"analyzer\": \"whitespace\",\r\n            \"store\": true\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"kwd\": {\r\n          \"match_pattern\": \"regex\",\r\n          \"match\": \"^(.*_(kwd|id|ids|uid|uids)|uid)$\",\r\n          \"mapping\": {\r\n            \"type\": \"keyword\",\r\n            \"similarity\": \"boolean\",\r\n            \"store\": true\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dt\": {\r\n          \"match_pattern\": \"regex\",\r\n          \"match\": \"^.*(_dt|_time|_at)$\",\r\n          \"mapping\": {\r\n            \"type\": \"date\",\r\n            \"format\": \"yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||yyyy-MM-dd_HH:mm:ss\",\r\n            \"store\": true\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"nested\": {\r\n          \"match\": \"*_nst\",\r\n          \"mapping\": {\r\n            \"type\": \"nested\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"object\": {\r\n          \"match\": \"*_obj\",\r\n          \"mapping\": {\r\n            \"type\": \"object\",\r\n            \"dynamic\": \"true\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"string\": {\r\n          \"match\": \"*_(with_weight|list)$\",\r\n          \"mapping\": {\r\n            \"type\": \"text\",\r\n            \"index\": \"false\",\r\n            \"store\": true\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"string\": {\r\n          \"match\": \"*_fea\",\r\n          \"mapping\": {\r\n            \"type\": \"rank_feature\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dense_vector\": {\r\n          \"match\": \"*_512_vec\",\r\n          \"mapping\": {\r\n            \"type\": \"dense_vector\",\r\n            \"index\": true,\r\n            \"similarity\": \"cosine\",\r\n            \"dims\": 512\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dense_vector\": {\r\n          \"match\": \"*_768_vec\",\r\n          \"mapping\": {\r\n            \"type\": \"dense_vector\",\r\n            \"index\": true,\r\n            \"similarity\": \"cosine\",\r\n            \"dims\": 768\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dense_vector\": {\r\n          \"match\": \"*_1024_vec\",\r\n          \"mapping\": {\r\n            \"type\": \"dense_vector\",\r\n            \"index\": true,\r\n            \"similarity\": \"cosine\",\r\n            \"dims\": 1024\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dense_vector\": {\r\n          \"match\": \"*_1536_vec\",\r\n          \"mapping\": {\r\n            \"type\": \"dense_vector\",\r\n            \"index\": true,\r\n            \"similarity\": \"cosine\",\r\n            \"dims\": 1536\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"binary\": {\r\n          \"match\": \"*_bin\",\r\n          \"mapping\": {\r\n            \"type\": \"binary\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}`\r\n\r\n`{\r\n\t\"id\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"doc_id\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"kb_id\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"create_time\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"create_timestamp_flt\": {\"type\": \"float\", \"default\": 0.0},\r\n\t\"img_id\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"docnm_kwd\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"title_tks\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"title_sm_tks\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"name_kwd\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"important_kwd\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"important_tks\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"content_with_weight\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"content_ltks\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"content_sm_ltks\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"page_num_list\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"top_list\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"position_list\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"weight_int\": {\"type\": \"integer\", \"default\": 0},\r\n\t\"weight_flt\": {\"type\": \"float\", \"default\": 0.0},\r\n\t\"rank_int\": {\"type\": \"integer\", \"default\": 0},\r\n\t\"available_int\": {\"type\": \"integer\", \"default\": 1},\r\n\t\"knowledge_graph_kwd\": {\"type\": \"varchar\", \"default\": \"\"},\r\n\t\"entities_kwd\": {\"type\": \"varchar\", \"default\": \"\"}\r\n}\r\n`\r\n\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3871/comments",
    "author": "sxj1204",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2024-12-17T09:48:09Z",
        "body": "#3858 should have fixed this."
      }
    ]
  },
  {
    "number": 3806,
    "title": "[Question]: Analyzer on es",
    "created_at": "2024-12-02T09:55:04Z",
    "closed_at": "2024-12-05T09:13:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3806",
    "body": "### Describe your problem\n\nI would like to know why es uses whitespace analyzer when analysing documents, instead of analyzer such as ik, which can parse Chinese.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3806/comments",
    "author": "guijuzhejiang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-12-03T01:15:46Z",
        "body": "We tokenize Chinese outside of ES. And also, we can assign term weight to terms while querying."
      },
      {
        "user": "guijuzhejiang",
        "created_at": "2024-12-03T01:28:54Z",
        "body": "@KevinHuSh Yes, I see in term_weight.py what are doing with split words outside of es and attaching weights to them. Not saying this is bad, just wondering why don't just use the existing Chinese analyzer in es, after all, it's simpler. Is it because split words outside es can arbitrarily modify the split word dictionary (huqie.txt)"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-12-04T03:07:30Z",
        "body": "The tokenization procedure of indexing and querying with term weight should be consistant.\r\nSo, both outside or both inside.\r\nOtherwise, what you mention about huqie is another reason that we can manipulate tokenizer freely."
      },
      {
        "user": "guijuzhejiang",
        "created_at": "2024-12-05T09:13:52Z",
        "body": "Thanks."
      }
    ]
  },
  {
    "number": 3734,
    "title": "[Question]: v0.14.0 docker infiniflow/infinity not install",
    "created_at": "2024-11-29T02:08:59Z",
    "closed_at": "2024-11-29T02:49:53Z",
    "labels": [
      "bug",
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3734",
    "body": "### Describe your problem\n\nThe `docker-compose-base.yml` indlude the docker `infiniflow/infinity`.\r\nBut there is no the docker after running `docker compose -f docker-compose-gpu.yml ps -a`.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3734/comments",
    "author": "ruur",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-11-29T02:49:48Z",
        "body": "Fixed by #3736"
      }
    ]
  },
  {
    "number": 3716,
    "title": "[Question]: report_status got exception Traceback (most recent call last):   File \"/data/ragflow/rag/svr/task_executor.py\", line 473, in report_status     LAG_TASKS = int(group_info[\"lag\"])",
    "created_at": "2024-11-28T07:24:59Z",
    "closed_at": "2024-12-13T09:20:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3716",
    "body": "### Describe your problem\n\nreport_status got exception\r\nTraceback (most recent call last):\r\n  File \"/data/ragflow/rag/svr/task_executor.py\", line 473, in report_status\r\n    LAG_TASKS = int(group_info[\"lag\"])\r\nÊãâÂèñ‰∫Ü0.14ÁöÑÁâàÊú¨ÔºåÁî®ÁöÑÊ∫êÁ†ÅÂêØÂä®ÔºåÊâßË°åÂà∞ÊúÄÂêé‰∏ÄÊ≠•bash docker/launch_backend_service.shÁöÑÊó∂ÂÄôÂá∫Áé∞‰∫ÜËøô‰∏™ÈîôËØØ„ÄÇËØ∑ÈóÆÊòØ‰ªÄ‰πàÈóÆÈ¢ò„ÄÇ\r\n![Uploading ÂæÆ‰ø°Êà™Âõæ_20241128152444.png‚Ä¶]()\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3716/comments",
    "author": "kin1n",
    "comments": [
      {
        "user": "kin1n",
        "created_at": "2024-11-28T07:39:33Z",
        "body": " ERROR    1028041 report_status got exception\r\nTraceback (most recent call last):\r\n  File \"/data/ragflow/rag/svr/task_executor.py\", line 473, in report_status\r\n    LAG_TASKS = int(group_info[\"lag\"])\r\n                    ~~~~~~~~~~^^^^^^^\r\nKeyError: 'lag'\r\n"
      },
      {
        "user": "yuzhichang",
        "created_at": "2024-12-13T09:20:48Z",
        "body": "Duplicated with #3545 "
      }
    ]
  },
  {
    "number": 3693,
    "title": "[Question]: One Chunk only limit?",
    "created_at": "2024-11-27T10:51:09Z",
    "closed_at": "2024-11-28T12:53:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3693",
    "body": "### Describe your problem\n\nI have a (fairly large) document, which has been chunked in one piece.\r\nWhen using this (only) one chunk in the chat - the chunk is truncated (I can see it in the lightbulb symbol).\r\nIs this one chunk really truncated (or just visually limited/truncated)? \r\n\r\nAre there any settings/limits for the one chunk template (Output size/lenght?!) \r\nI tried to increase the max token when adding ollama but no luck/success.\r\n\r\nThank you in advance for answering my question(s) :)",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3693/comments",
    "author": "Snify89",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-28T05:23:09Z",
        "body": "Every LLM has context window size. So, that's why we need to chunk a file into pieces.\r\nI guess the  chunk token size exceed the content length limitation of the chosen LLM."
      },
      {
        "user": "Snify89",
        "created_at": "2024-11-28T12:53:56Z",
        "body": "> Every LLM has context window size. So, that's why we need to chunk a file into pieces. I guess the chunk token size exceed the content length limitation of the chosen LLM.\r\n\r\nThank you for the response/answer. \r\nI will look further into it and let you know, if there are still any issues."
      }
    ]
  },
  {
    "number": 3553,
    "title": "[Question]: I set embedding  config get error ",
    "created_at": "2024-11-21T06:43:02Z",
    "closed_at": "2024-12-03T02:16:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3553",
    "body": "### Describe your problem\n\nTraceback (most recent call last):\r\n  File \"/ragflow/.venv/lib/python3.12/site-packages/flask/app.py\", line 880, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n         ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/.venv/lib/python3.12/site-packages/flask/app.py\", line 865, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/.venv/lib/python3.12/site-packages/flask_login/utils.py\", line 290, in decorated_view\r\n    return current_app.ensure_sync(func)(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/api/utils/api_utils.py\", line 171, in decorated_function\r\n    return func(*_args, **_kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/api/apps/llm_app.py\", line 213, in add_llm\r\n    mdl = EmbeddingModel[factory](\r\n          ~~~~~~~~~~~~~~^^^^^^^^^\r\nKeyError: 'VolcEngine'",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3553/comments",
    "author": "cp19861214",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-11-21T10:39:19Z",
        "body": "The embedding model of VolcEngine is missed in code."
      }
    ]
  },
  {
    "number": 3533,
    "title": "[Question]: Raptors always make mistakes",
    "created_at": "2024-11-20T10:40:05Z",
    "closed_at": "2024-12-03T02:47:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3533",
    "body": "### Describe your problem\n\nStart to do RAPTOR (Recursive Abstractive Processing for Tree-Organized Retrieval).\r\nTask has been received.\r\n[ERROR]Method rag.raptor.RecursiveAbstractiveProcessing4TreeOrganizedRetrieval.__call__() parameter chunks=[('XXXXXXXXX...]))] violates type hint tuple[str, numpy.ndarray], as list [('XXXXXXXXX...]))] not instance of tuple",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3533/comments",
    "author": "waiking1970",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-21T01:57:14Z",
        "body": "Fixed."
      }
    ]
  },
  {
    "number": 3519,
    "title": "[Question]: Unable to Import RAGFlow Module",
    "created_at": "2024-11-20T07:27:37Z",
    "closed_at": "2024-11-20T13:18:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3519",
    "body": "### Describe your problem\n\n**Title:** Unable to install `ragflow` via pip\r\n\r\n**Description:**\r\nI am trying to install the `ragflow` package using pip but it is not working as expected. The official documentation does not provide any specific instructions for installation.\r\n\r\n**Steps to Reproduce:**\r\n\r\n1. I ran the following command in my terminal:\r\n   ```\r\n   pip install ragflow\r\n   ```\r\n\r\n2. However, I received the following error message:\r\n   ```\r\n   [Insert the exact error message you received here]\r\n   ```\r\n\r\n3. I have also tried updating pip and installing in a virtual environment, but the issue persists.\r\n\r\n**Expected Behavior:**\r\nThe `ragflow` package should be installed successfully without errors.\r\n\r\n**Actual Behavior:**\r\nThe installation fails with an error message (see above).",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3519/comments",
    "author": "944613709",
    "comments": [
      {
        "user": "yingfeng",
        "created_at": "2024-11-20T13:18:24Z",
        "body": "There does not exist a ragflow package such that you can `pip install ragflow` \r\nThere's only a client sdk `pip install ragflow-sdk`"
      }
    ]
  },
  {
    "number": 3505,
    "title": "[Question]: ModuleNotFoundError: No module named 'torch'",
    "created_at": "2024-11-20T01:35:42Z",
    "closed_at": "2024-11-20T09:18:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3505",
    "body": "### Describe your problem\n\nWhich image includes torch? slim docker image",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3505/comments",
    "author": "KyleWang-Hunter",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-20T03:42:22Z",
        "body": "Slim version will not use torch.\r\n"
      }
    ]
  },
  {
    "number": 3404,
    "title": "[Question]: How to solve the problem of logging in multiple accounts at the same time?",
    "created_at": "2024-11-14T09:14:43Z",
    "closed_at": "2024-11-19T03:15:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3404",
    "body": "### Describe your problem\n\nYou can only log in to one account at a time",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3404/comments",
    "author": "liguoyu666",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-15T01:21:44Z",
        "body": "It's designed in this way for security reason."
      }
    ]
  },
  {
    "number": 3398,
    "title": "[Question]: raptor issue",
    "created_at": "2024-11-14T06:36:32Z",
    "closed_at": "2024-11-15T00:41:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3398",
    "body": "### Describe your problem\n\nÁ¶ªÁ∫øÈÉ®ÁΩ≤v0.13.0Ôºå‰ΩøÁî®raptorÊÄªÁªìÊó∂ÔºåÂá∫Áé∞\"Connectionerror\" object has no attribute \"f_lineno\"",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3398/comments",
    "author": "DankerMu",
    "comments": [
      {
        "user": "Sail64",
        "created_at": "2024-11-14T06:57:28Z",
        "body": "ËøôÁßçÈîôËØØÔºåË¶ÅÊ£ÄÊü•‰∏Ä‰∏ã‰Ω†ÁöÑÂ§ßËØ≠Ë®ÄÊ®°ÂûãÁöÑÈÖçÁΩÆÊòØÂê¶Ê≠£Á°Æ„ÄÇ"
      },
      {
        "user": "DankerMu",
        "created_at": "2024-11-14T09:39:49Z",
        "body": "> ËøôÁßçÈîôËØØÔºåË¶ÅÊ£ÄÊü•‰∏Ä‰∏ã‰Ω†ÁöÑÂ§ßËØ≠Ë®ÄÊ®°ÂûãÁöÑÈÖçÁΩÆÊòØÂê¶Ê≠£Á°Æ„ÄÇ\r\n\r\nËøôÊòØÂú®Áü•ËØÜÂ∫ìËÆæÁΩÆÊó∂ÔºåÂ§ÑÁêÜÊñáÊ°£Âá∫Áé∞ÁöÑÈîôËØØÔºåÊõ¥Ê®°ÂûãÊ≤°ÂÖ≥Á≥ªÂêß"
      },
      {
        "user": "DankerMu",
        "created_at": "2024-11-15T00:41:00Z",
        "body": "> ËøôÁßçÈîôËØØÔºåË¶ÅÊ£ÄÊü•‰∏Ä‰∏ã‰Ω†ÁöÑÂ§ßËØ≠Ë®ÄÊ®°ÂûãÁöÑÈÖçÁΩÆÊòØÂê¶Ê≠£Á°Æ„ÄÇ\r\n\r\nÁ°ÆÂÆûÊòØÁ≥ªÁªüÊ®°ÂûãÊ≤°ÈÖçÁΩÆÂ•Ω"
      }
    ]
  },
  {
    "number": 3389,
    "title": "[Question]: Which types of documents are suitable for using the Knowledge Graph chunking method?",
    "created_at": "2024-11-13T10:49:26Z",
    "closed_at": "2024-11-28T06:32:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3389",
    "body": "### Describe your problem\n\nI have a technical documentation website about SDK usage. \r\n\r\nThe documents include feature introduction documents, API documents, concepts and terminology, error codes, etc. Among them, API documents account for about half of the total volume. \r\n\r\nWhich types of documents are suitable for using the Knowledge Graph chunking method? Because obviously, if all are used with the Knowledge Graph chunking method, it will be very slow and consume a lot of LLM tokens. However, if the API documents, which account for nearly half of the total volume, do not use the Knowledge Graph chunking method, it will be difficult to associate them with the feature documents, leading to \"hallucinations\" when generating example code in the final answers.\r\n\r\nI hope to have some usage suggestions or best practice guidance.\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3389/comments",
    "author": "Match-Yang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-14T04:02:20Z",
        "body": "I don't think KG is a good choise.\r\nCould you make an example why API instructions can't associate with feature documents, and why human being can related them?"
      }
    ]
  },
  {
    "number": 3387,
    "title": "[Question]: how elastic search got used? and in the rag folder, how naive.py, qa.py different ? ",
    "created_at": "2024-11-13T09:28:03Z",
    "closed_at": "2024-11-14T03:54:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3387",
    "body": "### Describe your problem\n\nas title\r\n1:how elastic search got used?\r\n2:how naive.py, qa.py different ?\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3387/comments",
    "author": "bzr1",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-14T03:50:05Z",
        "body": "Elasticsearch is used for full text search.\r\n`naive.py` and `qa.py` are two different chunk methods.\r\n - `naive.py` basicly apply token number as a chunking condition.\r\n - `qa.py`  is for Q&A fromated raw data, and only Q indexed.\r\n"
      },
      {
        "user": "bzr1",
        "created_at": "2024-11-14T03:51:58Z",
        "body": "> Elasticsearch is used for full text search. `naive.py` and `qa.py` are two different chunk methods.\r\n> \r\n> * `naive.py` basicly apply token number as a chunking condition.\r\n> * `qa.py`  is for Q&A fromated raw data, and only Q indexed.\r\n\r\nthank you so much"
      }
    ]
  },
  {
    "number": 3366,
    "title": "[Question]: How to Share Chat",
    "created_at": "2024-11-13T00:59:40Z",
    "closed_at": "2024-11-14T01:46:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3366",
    "body": "### Describe your problem\n\nHow to share chat with others without logging in for conversation",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3366/comments",
    "author": "xmgcode",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-14T01:46:36Z",
        "body": "Duplicated issue #3365"
      }
    ]
  },
  {
    "number": 3317,
    "title": "[Question]: How to use GPU to run OCR model",
    "created_at": "2024-11-10T03:52:22Z",
    "closed_at": "2024-11-11T04:39:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3317",
    "body": "### Describe your problem\n\nÂ¶ÇÈ¢òÔºåËØ∑Êïô",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3317/comments",
    "author": "fg2501",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-11T02:10:49Z",
        "body": "OCR dose not support GPU. It uses onnx for inference."
      },
      {
        "user": "fg2501",
        "created_at": "2024-11-11T02:40:33Z",
        "body": "> OCR dose not support GPU. It uses onnx for inference.\r\n\r\nÊàëÂê¨ËØ¥Êúâ‰∫∫ÂÖàÂç∏ËΩΩ‰∫ÜonnxÔºåÁÑ∂ÂêéÂÜçÂÆâË£Ö‰∫ÜonnxÁöÑGPUÁâàÊú¨ÔºåÈÄöËøáËøôÊ†∑ÔºåÂÆûÁé∞gpuËøêË°åÔºå‰ΩÜÊòØÊàë‰∏çÁü•ÈÅìÂÖ∑‰ΩìÊòØÊÄé‰πàÂÅöÂà∞ÁöÑÔºåÊâÄ‰ª•ÊàëÊù•ËøôÈáåËØ¢ÈóÆ„ÄÇ"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-11T04:00:23Z",
        "body": "GPU onnx is not stable and dose not accelerate it by my experiments."
      },
      {
        "user": "fg2501",
        "created_at": "2024-11-11T04:39:50Z",
        "body": "> GPU onnx ‰∏çÁ®≥ÂÆöÔºåÊàëÁöÑÂÆûÈ™å‰πüÊ≤°ÊúâÂä†ÈÄüÊïàÊûú„ÄÇ\r\n\r\nÂ•ΩÂêßÔºåÈÇ£Â∞±ÁÆó‰∫Ü„ÄÇ"
      }
    ]
  },
  {
    "number": 3292,
    "title": "[Question]:The chat model that uses the QWEN2-VL-INST instruct response structure does not include the \"relationship_strength\" question. What models are you using?",
    "created_at": "2024-11-08T06:46:04Z",
    "closed_at": "2024-11-11T07:18:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3292",
    "body": "### Describe your problem\r\n\r\n[Question]:The chat model that uses the QWEN2-VL-INST instruct response structure does not include the \"relationship_strength\" question. What models are you using?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3292/comments",
    "author": "fengyunweia",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-11T01:50:07Z",
        "body": "The knowledge graph extraction primarily depends on the ability of LLM. I suggest it should no less than 70B parameters."
      },
      {
        "user": "fengyunweia",
        "created_at": "2024-11-11T02:45:32Z",
        "body": "> The knowledge graph extraction primarily depends on the ability of LLM. I suggest it should no less than 70B parameters.\r\n\r\nFor small files, I used the MiniCPM-3-4B model to convert the format, and the results were very good."
      }
    ]
  },
  {
    "number": 3270,
    "title": "[Question]Do you have a test file or template for the knowledge_graph parsing method that I can use to verify if it is correct?",
    "created_at": "2024-11-07T11:11:17Z",
    "closed_at": "2024-11-11T07:18:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3270",
    "body": "### Describe your problem\r\n\r\nDo you have a test file or template for the knowledge_graph parsing method that I can use to verify if it is correct?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3270/comments",
    "author": "fengyunweia",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-08T01:45:13Z",
        "body": "I'm not sure how to determine a knowledge graph extracted is right or wrong. Do you have some clue about this?"
      },
      {
        "user": "fengyunweia",
        "created_at": "2024-11-08T03:02:03Z",
        "body": "Base: Based on the test document in GRAPH_EXTRACTION_PROMPT\r\n1: Verify that the value returned by your graph_extractor: 166 matches the case in GRAPH_EXTRACTION_PROMPT\r\n2: Verify that the value returned by index.py: 89 contains \"link or edges\"\r\n3: Check your vector database for \"knowledge_graph_kwd\": \"graph\" \"knowledge_graph_kwd\": \"mind_map\"\r\nCheck if the corresponding data is correct."
      }
    ]
  },
  {
    "number": 3237,
    "title": "[Question]: what is the difference between chat and search?",
    "created_at": "2024-11-06T09:24:52Z",
    "closed_at": "2024-11-07T02:15:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3237",
    "body": "### Describe your problem\r\n\r\ndoes search block just use embeded model while chat block LLM?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3237/comments",
    "author": "eleganterRyan",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-07T02:10:56Z",
        "body": "Chat is supposed to directly answer your question.\r\nSearch is for users to determine what kind of information they want  which is more precise and trustable. That's why Google is still there and we use it every day."
      },
      {
        "user": "eleganterRyan",
        "created_at": "2024-11-07T02:15:10Z",
        "body": "> Chat is supposed to directly answer your question. Search is for users to determine what kind of information they want which is more precise and trustable. That's why Google is still there and we use it every day.\r\n\r\nthx  4 your reply"
      }
    ]
  },
  {
    "number": 3148,
    "title": "[Question]: How to obtain detailed backend logsÔºü",
    "created_at": "2024-11-01T07:52:23Z",
    "closed_at": "2024-11-04T02:27:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3148",
    "body": "### Describe your problem\n\n# I have started ragflow from the source code\r\n- `docker logs -f ragflow-server` cannot meet the logging requirements. I need to obtain logs of front-end operations on the webpage, including logs from conversations and more details on file parsing. I hope to distinguish between the details of the conversation and the file. I use `Olama` as an API service provider\r\n- I used xinference as rerank provider. I saw the effect of rerank in the `test retrieval` of the knowledge base. Does this part also have background logs?\r\n- I hope that in the question, there is a more detailed check method for the situation that the documents cannot be retrieved, such as viewing the slice of the hits\r\n- Is there a more detailed document for viewing logs?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3148/comments",
    "author": "SiDaiJie",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2024-11-02T03:43:55Z",
        "body": "There are multiple log files under `docker/ragflow-logs`, each for a dedicated internal package.\r\nWe'll merge all into one log file in future, maybe v0.15.\r\n"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-11-04T01:32:04Z",
        "body": "All the logs are in ragflow/logs."
      },
      {
        "user": "SiDaiJie",
        "created_at": "2024-11-04T02:44:03Z",
        "body": "thanksÔºåi find it"
      }
    ]
  },
  {
    "number": 3095,
    "title": "[Question]: Chat assistant not retrieving any chunks",
    "created_at": "2024-10-29T14:38:01Z",
    "closed_at": "2024-10-30T13:10:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3095",
    "body": "### Describe your problem\r\n\r\nI have added a document to a new KB and chucked it using the 'General' method. When I do retrieval testing on the KB, it retrieves the correct chucks. I have also created a chat assistant on my knowledge base, when I ask the same question as I did during retrieval testing it returns no results. I have tried all different types of configuration on the assistant but it doesn't seem to work. Is there any way I can see what the query the assistant is sending?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3095/comments",
    "author": "rplescia",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-10-30T01:58:42Z",
        "body": "I think it's the thing about LLM lack of capability to under stand the relevance between your question and the retrievals.\r\nThere's a lamp up on the assistant output. You could click it to see the prompt send to LLM."
      },
      {
        "user": "rplescia",
        "created_at": "2024-10-30T11:54:37Z",
        "body": "I see, thank you very much. "
      }
    ]
  },
  {
    "number": 3093,
    "title": "[Question]: Secure authentication login support?",
    "created_at": "2024-10-29T13:18:13Z",
    "closed_at": "2024-10-30T06:44:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3093",
    "body": "### Describe your problem\n\nRight now, the registration form allows anybody who has access to the tool to register. I would like to know if there is a way to use secure authentication methods that limit the registration to certain type of emails (allowing certain @domain.xxx) or third party methods such as google, microsoft or github authentication.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3093/comments",
    "author": "albert-queralto",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-10-30T01:54:58Z",
        "body": "All these kind of features are easy to implement as long as a slight alteration of front end code.\r\nGithub authentication is supported. But you need to alter the front end code to show that button."
      },
      {
        "user": "albert-queralto",
        "created_at": "2024-10-30T06:44:22Z",
        "body": "Thank you very much for your reply."
      }
    ]
  },
  {
    "number": 3029,
    "title": "[Question]: ragflow-mysql cannot be start: ls: cannot access '/docker-entrypoint-initdb.d/': Operation not permitted",
    "created_at": "2024-10-26T11:16:55Z",
    "closed_at": "2024-11-08T04:41:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/3029",
    "body": "### Describe your problem\n\nWhen I did `docker-compose --file docker-compose.yml up -d`Ôºåcontainer ragflow-mysql report an Error. I use `docker logs -f ragflow-server` to check the log, find the following error:\r\n```\r\n2024-10-26 19:11:58+08:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.39-1.el9 started.\r\n2024-10-26 19:11:58+08:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'\r\n2024-10-26 19:11:58+08:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.39-1.el9 started.\r\nls: cannot access '/docker-entrypoint-initdb.d/': Operation not permitted\r\n```\r\n\r\nI try to config the volumes, and add `privileged: true`, all of this doesn't work.\r\nAnyone know how to fix this problem?\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/3029/comments",
    "author": "jingshenghang",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2024-10-27T06:35:52Z",
        "body": "Looks like an env issue.\r\nWhat's the OS?\r\nDid you change some code or configuration?\r\nTry run mysql via `sudo docker run` and see what happen."
      },
      {
        "user": "yuzhichang",
        "created_at": "2024-11-08T04:41:06Z",
        "body": "Close due to no response from the author in 2 weeks."
      }
    ]
  },
  {
    "number": 2862,
    "title": "[Question]: How's the password encrypted in login api?",
    "created_at": "2024-10-16T03:56:45Z",
    "closed_at": "2024-10-16T06:30:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2862",
    "body": "### Describe your problem\n\nHello, i want to  login with my backend, but the password was encrypted by front, is there any way to encrypt the origin password in my program?\r\nthanks!",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2862/comments",
    "author": "tttmck",
    "comments": [
      {
        "user": "tttmck",
        "created_at": "2024-10-16T06:30:12Z",
        "body": "I've solved it"
      },
      {
        "user": "liuxukang",
        "created_at": "2025-02-19T10:34:25Z",
        "body": "‰Ω†Â•ΩÔºåÊàë‰πüÊÉ≥Áî®Ëá™Â∑±ÁöÑ‰∏úË•øÂä†ËøõÂéªÔºå‰ΩÜÊòØ‰øÆÊîπ‰ªñdocker‰∏≠ÁöÑÈïúÂÉè‰∏≠ÁöÑÊñá‰ª∂ÂêéÔºåËøòÊòØ‰∏çËµ∑‰ΩúÁî®Ôºå‰πüÂ∞±ÊòØ‰øÆÊîπÁöÑÂÜÖÂÆπ‰∏ç‰ºöÁîüÊïàÔºåÂç≥‰æøÊòØÊîπ‰∏™Ê†áÈ¢ò‰πü‰∏ç‰ºöÁîüÊïàÔºåÊòØÂõ†‰∏∫ÈúÄË¶ÅÈáçÊñ∞ÁºñËØëÂêó"
      },
      {
        "user": "tttmck",
        "created_at": "2025-02-19T10:48:37Z",
        "body": "> ‰Ω†Â•ΩÔºåÊàë‰πüÊÉ≥Áî®Ëá™Â∑±ÁöÑ‰∏úË•øÂä†ËøõÂéªÔºå‰ΩÜÊòØ‰øÆÊîπ‰ªñdocker‰∏≠ÁöÑÈïúÂÉè‰∏≠ÁöÑÊñá‰ª∂ÂêéÔºåËøòÊòØ‰∏çËµ∑‰ΩúÁî®Ôºå‰πüÂ∞±ÊòØ‰øÆÊîπÁöÑÂÜÖÂÆπ‰∏ç‰ºöÁîüÊïàÔºåÂç≥‰æøÊòØÊîπ‰∏™Ê†áÈ¢ò‰πü‰∏ç‰ºöÁîüÊïàÔºåÊòØÂõ†‰∏∫ÈúÄË¶ÅÈáçÊñ∞ÁºñËØëÂêó\n\n‰Ω†Â¶ÇÊûúÊîπÁöÑÊòØÂâçÁ´ØÁöÑËØùÔºåÊàë‰∏çÂ§™Ê∏ÖÊ•ö„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÊîπÁöÑÊòØÂêéÁ´Ø‰ª£Á†ÅÔºåÈúÄË¶ÅÈáçÂêØÂÆπÂô®Êâç‰ºöÁîüÊïà„ÄÇ"
      },
      {
        "user": "liuxukang",
        "created_at": "2025-02-19T11:02:13Z",
        "body": "Â∞±Ë∑ü‰Ω†ÁöÑÈúÄÊ±Ç‰∏ÄÊ†∑Âë¢ÔºåÂéªÊéâÂä†ÂØÜÂ∞±Áî®ÁôªÈôÜÊó∂ÁöÑÂØÜÁ†Å‰Ωú‰∏∫Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂØÜÁ†ÅÔºåËØ•‰øÆÊîπÂì™‰∏™Êñá‰ª∂Âë¢ÔºåË∞¢Ë∞¢"
      }
    ]
  },
  {
    "number": 2852,
    "title": "[Question]: What does func \"single team per user\" mean?",
    "created_at": "2024-10-15T09:57:16Z",
    "closed_at": "2024-10-16T03:11:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2852",
    "body": "### Describe your problem\n\nI found a line in \"ROADMAP 2024 #1821\" that says: Supports single team per user.\r\nWhat does func \"single team per user\" mean?\r\nDoes this mean that Team feature will be supported in the new v0.13.0 release? Functions such as those mentioned by #2530 and #2742.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2852/comments",
    "author": "cyhasuka",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-10-16T01:29:06Z",
        "body": "One user can create on team, and KB can be shared between team members."
      },
      {
        "user": "cyhasuka",
        "created_at": "2024-10-16T01:34:55Z",
        "body": "> One user can create on team, and KB can be shared between team members.\r\n\r\nCan the creator (or administrator) make changes to user permissions? For example, some members of the Team have R&W permissions to the KB, others only have read-only permissions."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-10-16T02:03:28Z",
        "body": "There's no administrator."
      },
      {
        "user": "Said-Apollo",
        "created_at": "2024-10-16T10:56:48Z",
        "body": "@KevinHuSh  Is there a reason as to why no admin will be added? \r\nFrom an enterprise perspective, it would be great if there is a super-admin user, which can then create multiple different teams. In each team, it might be useful to assign a member to either \"Member\", who can just chat or upload files directly to the chat or \"Admin\", which can also upload files directly to the knowledge base"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-10-17T01:40:43Z",
        "body": "Just not developed yet."
      }
    ]
  },
  {
    "number": 2810,
    "title": "[Question]: ËØ∑ÈóÆÊÄé‰πàÂú®0.0.0.0‰∏äÊâìÂºÄËÄå‰∏çÊòØ127.0.0.1",
    "created_at": "2024-10-11T10:00:34Z",
    "closed_at": "2024-10-11T16:57:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2810",
    "body": "### Describe your problem\n\nÊÄé‰πàÂú®0.0.0.0‰∏äÊâìÂºÄËÄå‰∏çÊòØ127.0.0.1",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2810/comments",
    "author": "changqingla",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-10-11T16:59:07Z",
        "body": "> ### Describe your problem\n> \n> ÊÄé‰πàÂú®0.0.0.0‰∏äÊâìÂºÄËÄå‰∏çÊòØ127.0.0.1\n\nWhy do you want to listen on 127.0.0.1?"
      }
    ]
  },
  {
    "number": 2797,
    "title": "[Question]: How to use ragflow in feishu robot",
    "created_at": "2024-10-11T02:24:20Z",
    "closed_at": "2024-10-12T07:02:33Z",
    "labels": [
      "question",
      "Feature"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2797",
    "body": "### Describe your problem\n\nI found function that feishu_callback, which is used to register and login with feishu, but how to use it, and no user guide about that.\r\nI want to know whether ragflow can be used in feishu robot or not, and how to use, thank you very much",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2797/comments",
    "author": "ly0303521",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-10-12T02:18:16Z",
        "body": "This is from a contributor."
      },
      {
        "user": "ly0303521",
        "created_at": "2024-10-12T07:02:33Z",
        "body": "@KevinHuSh OK, thanks for reply, I found we can use feishu api and ragflow to do it"
      }
    ]
  },
  {
    "number": 2704,
    "title": "[Question]: Access to whisper-large-v3 from groq and question about personalized components on the agent flow.",
    "created_at": "2024-10-01T14:44:17Z",
    "closed_at": "2024-10-02T12:36:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2704",
    "body": "### Describe your problem\n\nIm looking for some initial guidance on the process of adding custom components to the Agents flow editor, as this would open up many possibilities for personalizing the interactions on it. It would be great if the flow could integrate access to Python scripts.\r\n\r\nAdditionally, I'd like to know if it's possible to update the models that can be used from Groq, especially Whisper-large-v3\r\n\r\nThank you for your work on this project.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2704/comments",
    "author": "Palvr",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-10-02T11:48:39Z",
        "body": "All the components are in agent/component/.  Specify paramter and function _run in component."
      },
      {
        "user": "Palvr",
        "created_at": "2024-10-02T12:36:44Z",
        "body": "Thank you for your answer, ill try to implement a basic function step."
      }
    ]
  },
  {
    "number": 2684,
    "title": "[Question]: Set Xinference as default system LLM or disable local embedding model",
    "created_at": "2024-09-30T04:52:58Z",
    "closed_at": "2024-10-08T08:38:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2684",
    "body": "### Describe your problem\n\nHi, thank you for the awesome project.\r\n\r\nI would like to setup a default model which hosted by Xinference for all users, so that new user does not need to configure the system LLM.\r\nIs it able to disable local embedding/rerank model like 'BAAI/bge-large-zh-v1.5' which is quite resource consuming and sometimes makes application crash. ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2684/comments",
    "author": "yufeng97",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-30T10:06:10Z",
        "body": "Pull the latest dev-slim version of docker image which deprecated inside-inference.\r\nOr, set the envirement variable: LIGHTEN=1\r\n\r\nWhat about setting LLM in conf/service_conf.ymal for gloable usage?"
      },
      {
        "user": "yufeng97",
        "created_at": "2024-10-01T03:42:39Z",
        "body": "> Pull the latest dev-slim version of docker image which deprecated inside-inference. Or, set the envirement variable: LIGHTEN=1\r\n> \r\n> What about setting LLM in conf/service_conf.ymal for gloable usage?\r\n\r\nThanks, I will have a try."
      }
    ]
  },
  {
    "number": 2612,
    "title": "[Question]:  When I chat with Agent, error: LookupError('Model(deepseek-chat) not authorized')",
    "created_at": "2024-09-26T12:29:40Z",
    "closed_at": "2024-09-26T13:32:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2612",
    "body": "### Describe your problem\n\nfactory: 'Tongyi-Qianwen' ËÆæÁΩÆÈÄö‰πâÂçÉÈóÆÔºå‰ΩÜÊòØagentÈóÆÁ≠îÁöÑÊó∂ÂÄôÊä•ÈîôËØ¥LookupError('Model(deepseek-chat) not authorized')",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2612/comments",
    "author": "LillyChen",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-09-26T13:06:24Z",
        "body": "From the error message, it seems 'deepseek-chat' is used in your agent. You may change the LLM of your agent to 'Qianwen'.\r\n"
      },
      {
        "user": "LillyChen",
        "created_at": "2024-09-26T13:14:32Z",
        "body": "I found the problem. Thank you!"
      }
    ]
  },
  {
    "number": 2572,
    "title": "[Question]: Do we have a version range or recommended version for postgres?",
    "created_at": "2024-09-25T01:49:00Z",
    "closed_at": "2024-09-27T02:52:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2572",
    "body": "### Describe your problem\n\nDo we have a version range or recommended version for postgres?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2572/comments",
    "author": "KevinLiangX",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-25T11:12:15Z",
        "body": "No clue yet."
      },
      {
        "user": "KevinLiangX",
        "created_at": "2024-09-27T02:49:44Z",
        "body": "HiÔºå It‚Äòs ok for  PostgreSQL 10.12 (Debian 10.12-2.pgdg90+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 6.3.0-18+deb9u1) 6.3.0 20170516, 64-bit "
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-27T03:53:23Z",
        "body": "> HiÔºå It‚Äòs ok for PostgreSQL 10.12 (Debian 10.12-2.pgdg90+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 6.3.0-18+deb9u1) 6.3.0 20170516, 64-bit\r\n\r\nThanks a lot!!!"
      }
    ]
  },
  {
    "number": 2519,
    "title": "[Question]: ",
    "created_at": "2024-09-20T08:36:41Z",
    "closed_at": "2024-09-23T02:12:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2519",
    "body": "### Describe your problem\r\n\r\nenv:\r\n\r\nOperating system: Ubuntu 24.04 (Kernel version: 6.8.0-44-generic)\r\nCPU Type: x86_64\r\nMemory: 62Gi\r\nDocker Version: 24.0.7,\r\nPython Version: 3.11.4\r\n\r\nafter repeating  same question to complete the same dialog, same  conversation it will throws  following error:\r\n\r\n**ERROR**: Dealer._add_filters() missing 1 required positional \r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2519/comments",
    "author": "yangboz",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-20T10:05:49Z",
        "body": "Fail to reproduce it.\r\nI guess your code version is not consistant with branch main."
      },
      {
        "user": "yangboz",
        "created_at": "2024-09-23T06:46:25Z",
        "body": "\r\n\r\n\r\n> Fail to reproduce it. I guess your code version is not consistant with branch main.\r\n\r\nCurrent Repo: ragflow\r\nCommit Id: 80163c0"
      }
    ]
  },
  {
    "number": 2501,
    "title": "[Question]: Fail to run: docker build -t infiniflow/ragflow:dev .",
    "created_at": "2024-09-19T12:34:32Z",
    "closed_at": "2024-10-09T12:39:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2501",
    "body": "### Describe your problem\n\nËøêË°ådocker build -t infiniflow/ragflow:dev .Êó∂ÔºåÂá∫Áé∞ERROR [internal] load metadata for docker.io/infiniflow/ragflow-base:v2.0 ÔºåÂçïÁã¨ËøêË°ådocker pull infiniflow/ragflow-base:v2.0,ÊàêÂäüÂêéÔºåÊÄªÊòØÂá∫Áé∞Â§öÂ§ÑÈîôËØØ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2501/comments",
    "author": "xxz196801",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-20T02:44:39Z",
        "body": "Could you paste the error message?"
      },
      {
        "user": "xxz196801",
        "created_at": "2024-09-20T08:15:41Z",
        "body": "ÂçïÁã¨ÂÆâË£Ö/infiniflow/ragflow-base:v2.0ÂêéÔºåÂÜçÊâßË°åÂëΩ‰ª§docker build -t infiniflow/ragflow:dev .ËøòÊòØÂãâÂº∫ÂèØ‰ª•ÁöÑ"
      }
    ]
  },
  {
    "number": 2468,
    "title": "[Question]: ERROR: Knowledge bases use different embedding models",
    "created_at": "2024-09-17T21:16:16Z",
    "closed_at": "2024-09-18T12:20:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2468",
    "body": "### Describe your problem\n\nHello, \r\ni updated from 0.10.0 to 0.11.0 and now encounter a weird error that hasnt happened before. In Chat or Agent it is working fine but as soon  i use the api i get the following response from the llm:\r\n{'data': {'answer': 'ERROR: Knowledge bases use different embedding models.', 'reference': []}, 'retcode': 0, 'retmsg': 'success'}\r\nThis is in the payload:\r\n payload = {\r\n            \"conversation_id\": conversation_id,\r\n            \"messages\": [{\"role\": \"user\", \"content\": message_content}],\r\n            \"stream\": False\r\n        }\r\ni deleted all except one knowledge bases and i use snowflake-arctic-embed-l as embedding modell via ollama.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2468/comments",
    "author": "DennLie",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-18T00:57:19Z",
        "body": "This means the conversation_id is related to several knowledge bases which apply different embedding models."
      },
      {
        "user": "DennLie",
        "created_at": "2024-09-18T12:20:09Z",
        "body": "Ok thx for the help. I found the error in my code."
      }
    ]
  },
  {
    "number": 2441,
    "title": "[Question]: Agentic RAG is not widely known.",
    "created_at": "2024-09-14T09:18:46Z",
    "closed_at": "2024-09-14T09:37:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2441",
    "body": "### Describe your problem\n\nI would recommend using \"agent\" instead of \"Agentic RAG\" as the latter is not widely known. How do you think?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2441/comments",
    "author": "toronan",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-14T09:37:12Z",
        "body": "Well done!"
      }
    ]
  },
  {
    "number": 2404,
    "title": "[Question]: Planned Integration with Ragflow in Infinity 0.4",
    "created_at": "2024-09-12T20:01:50Z",
    "closed_at": "2024-10-21T11:43:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2404",
    "body": "### Describe your problem\n\nIt is anticipated that Infinity 0.4 will include integration with Ragflow. Could you provide clarification on how this integration will be implemented? Will Elasticsearch be replaced outright, or will users have the flexibility to choose their preferred search engine?\r\n\r\nAdditionally, for those already using an alternative search engine (e.g., Typesense), will there be support for integrating existing solutions? My goal is to experiment with various databases and search methods to identify the most suitable option for our use case.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2404/comments",
    "author": "Said-Apollo",
    "comments": [
      {
        "user": "yingfeng",
        "created_at": "2024-09-13T02:03:00Z",
        "body": "Infinity will be used an alternative at first. And Elasticsearch will still exist while user could choose which one to use. For some advanced features such as tensor based reranking which is required by some future features, ES based RAGFlow wouldn't provide due to being lack of those functionalities.\r\nRegarding to other search engines, it does not satisfy the requirements, we won't integrate.\r\nFor example, typesense is an in-memory solution, it does not support \"WAND\" for full text search, the hybrid search functionality is much weaker,...,etc.   Other search engines also have similar problems.  RAGFlow aim's to guarantee the eventual effectiveness of RAG, it's not an LLMOps platform, so we'll only integrate the ones that deserve to be integrated, not the ones that are likely to be used"
      }
    ]
  },
  {
    "number": 2379,
    "title": "[Question]: Requirement confliction caused by \"yfinance\"",
    "created_at": "2024-09-12T01:59:57Z",
    "closed_at": "2024-09-28T10:04:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2379",
    "body": "### Describe your problem\r\n\r\nWhen I `pip install -r requirement.txt`, I got the following prompt. If I comment the line 103 `yfinance=0.2.43`, will it affect something?\r\n\r\n```\r\nERROR: Cannot install -r requirements.txt (line 103), -r requirements.txt (line 56) and -r requirements.txt (line 95) because these package versions have conflicting dependencies.\r\n\r\nThe conflict is caused by:\r\n    pandas 2.2.2 depends on pytz>=2020.1\r\n    volcengine 1.0.146 depends on pytz==2020.5\r\n    yfinance 0.2.43 depends on pytz>=2022.5\r\n```",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2379/comments",
    "author": "blizzardwj",
    "comments": [
      {
        "user": "yimisiyang",
        "created_at": "2024-09-12T02:41:09Z",
        "body": "I encountered the same problemÔºÅÔºÅÔºÅÔºÅhelp help"
      },
      {
        "user": "mingSummer",
        "created_at": "2024-09-12T06:33:29Z",
        "body": "> ### Describe your problem\r\n> When I `pip install -r requirement.txt`, I got the following prompt. If I comment the line 103 `yfinance=0.2.43`, will it affect something?\r\n> \r\n> ```\r\n> ERROR: Cannot install -r requirements.txt (line 103), -r requirements.txt (line 56) and -r requirements.txt (line 95) because these package versions have conflicting dependencies.\r\n> \r\n> The conflict is caused by:\r\n>     pandas 2.2.2 depends on pytz>=2020.1\r\n>     volcengine 1.0.146 depends on pytz==2020.5\r\n>     yfinance 0.2.43 depends on pytz>=2022.5\r\n> ```\r\n\r\nYou can comment out this dependency, as yfinance is a Python open-source tool that uses Yahoo‚Äôs public API to access financial data. You may not use this dependency."
      },
      {
        "user": "yuzhichang",
        "created_at": "2024-09-28T10:04:12Z",
        "body": "We've replaced pip with poetry. Poetry is much better on dependency management and download speed."
      }
    ]
  },
  {
    "number": 2353,
    "title": "[Question]:  dev docker image question ",
    "created_at": "2024-09-10T10:29:41Z",
    "closed_at": "2024-09-28T08:38:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2353",
    "body": "### Describe your problem\n\nHello \r\n     Which code branch is this image(swr.cn-north-4.myhuaweicloud.com/infiniflow/ragflow:dev) from?  it always stuck to upload document by v0.10.0, if i run the application with code ,which branch i can use?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2353/comments",
    "author": "KevinLiangX",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-12T07:53:26Z",
        "body": "The branch of code is 'main'."
      }
    ]
  },
  {
    "number": 2304,
    "title": "[Question]: How to make the Python file in the API effective after modifying it. thank you",
    "created_at": "2024-09-09T00:41:21Z",
    "closed_at": "2024-09-10T04:31:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2304",
    "body": "### Describe your problem\n\nHow to make the Python file in the API effective after modifying it. thank you",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2304/comments",
    "author": "szfly888",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-09T01:55:54Z",
        "body": "Modify it in docker container and kill the ragflow_server.py which will restart itself later.\r\nOne way or another, you need to restart ragflow server."
      },
      {
        "user": "szfly888",
        "created_at": "2024-09-09T09:11:52Z",
        "body": "thank you so much"
      }
    ]
  },
  {
    "number": 2295,
    "title": "[Question]: Can I download only the basic file, not the model file, and directly connect to openai or other apis?",
    "created_at": "2024-09-06T16:27:57Z",
    "closed_at": "2024-09-29T09:32:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2295",
    "body": "### Describe your problem\n\nCan I download only the basic file, not the model file? Directly connect to openai or other apis, so that the amount of downloaded data is much smaller, and then run it in docker?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2295/comments",
    "author": "BigworldNebula",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-09-06T16:32:44Z",
        "body": "We're shrinking the RAGFlow docker image size by removing some python modules and the built-in models. This will be done before next release."
      },
      {
        "user": "BigworldNebula",
        "created_at": "2024-09-06T16:37:57Z",
        "body": "> We're shrinking the RAGFlow docker image size by removing some python modules and the built-in models. This will be done before next release.\r\n\r\nThanks for your reply and contribution to rag technology. By the way, when is the next release expected to be released and what size will the reduced docker image be?"
      },
      {
        "user": "JinHai-CN",
        "created_at": "2024-09-06T17:42:15Z",
        "body": "> > We're shrinking the RAGFlow docker image size by removing some python modules and the built-in models. This will be done before next release.\r\n> \r\n> Thanks for your reply and contribution to rag technology. By the way, when is the next release expected to be released and what size will the reduced docker image be?\r\n\r\n1. Before Oct.\r\n2. Still under evaluation."
      }
    ]
  },
  {
    "number": 2261,
    "title": "[Question]: Could you please teach me how to conduct question answering based on tables, which may involve filtering and summarizing calculations of table data?",
    "created_at": "2024-09-05T03:22:55Z",
    "closed_at": "2024-09-14T07:09:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2261",
    "body": "### Describe your problem\r\n\r\nFor example, if the table has three columns: Year, Quarter, and Revenue, when asked about the revenue for a specific year, it involves obtaining all data for that year and then summing it up. How can this be done? Does RAG support such operations, and are there any future plans?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2261/comments",
    "author": "tulei2006",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-05T11:49:36Z",
        "body": "RAG do not support well.\r\nI recommand you to use DB Assistant in agent."
      }
    ]
  },
  {
    "number": 2216,
    "title": "[Question]: If the '.' in folder name and rename the folder name will issue error: The extension of file can't be changed",
    "created_at": "2024-09-03T07:07:30Z",
    "closed_at": "2024-09-06T08:51:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2216",
    "body": "### Describe your problem\n\nÂèØËÉΩÊñá‰ª∂ÂíåÊñá‰ª∂Â§πÁöÑÈôêÂà∂ÊêûÊ∑∑‰∫ÜÔºåÊñá‰ª∂ÁöÑÂêéÁºÄË°®Á§∫Êñá‰ª∂Á±ªÂûãÔºåÈôêÂà∂ÊîπÂä®Ôºå‰ΩÜÊòØÂÅáÂ¶ÇÊñá‰ª∂Â§πÂêçÁß∞‰∏≠Â∏¶ÁÇπ.   ‰øÆÊîπ.‰πãÂêéÁöÑÂÜÖÂÆπÂ§±Ë¥•Ôºå‰πüËÆ§‰∏∫‰øÆÊîπÊñá‰ª∂Á±ªÂûã‰∫Ü",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2216/comments",
    "author": "mi-zy",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-03T08:32:09Z",
        "body": "Pull dev version of docker image."
      }
    ]
  },
  {
    "number": 2208,
    "title": "[Question]: How to make huqie.txt files for other languages",
    "created_at": "2024-09-03T03:24:05Z",
    "closed_at": "2024-09-10T01:17:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2208",
    "body": "### Describe your problem\r\n\r\nHow to make huqie.txt files, or is there a download address for huqie.txt files in other languages?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2208/comments",
    "author": "guijuzhejiang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-03T07:22:46Z",
        "body": "This is for Chinese tokenization.\r\nOther language you mean...?"
      },
      {
        "user": "guijuzhejiang",
        "created_at": "2024-09-05T04:35:29Z",
        "body": "Yes, for other small languages languages, e.g. Korean, Japanese, etc. I was able to find the word document, but the numbers in the middle that I don't know how to write. For example, in ‚ÄòÂ∑¶Áßª 17 nr‚Äô, how to count the number 17 in the middle? Or is there a link to a similar file in another language?"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-06T08:32:07Z",
        "body": "The number in the middle represents the degree of frequency it exists in a text corpus.\r\nThe bigger it is, the more popular the term is, the less informative it is."
      },
      {
        "user": "guijuzhejiang",
        "created_at": "2024-09-10T01:17:32Z",
        "body": "Thanks for the reply, I see, the middle number represents the word frequency which is related to the data corpus."
      }
    ]
  },
  {
    "number": 2205,
    "title": "[Question]: why the master repo has no graphrag in v.0.10.0?",
    "created_at": "2024-09-03T02:28:28Z",
    "closed_at": "2024-09-06T08:51:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2205",
    "body": "### Describe your problem\n\nhow can I use the graphrag in the v.0.10.0?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2205/comments",
    "author": "riou-chen",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-03T07:23:38Z",
        "body": "Create a new Knowledge base, and choose knowledge graph as parsing method."
      }
    ]
  },
  {
    "number": 2187,
    "title": "[Question]: Excel file how to set the segmentation tokens number correctly",
    "created_at": "2024-09-01T11:10:37Z",
    "closed_at": "2024-09-10T01:18:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2187",
    "body": "### Describe your problem\n\nWhen I enter an excel file into the knowledge base, no matter how many Tokens numbers are set in the configuration, the split result is the same, and each block has a lot of content, even I seted the number of block Token=16, the content of each block that is split is also very long. How to set the segmentation block correctly?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2187/comments",
    "author": "guijuzhejiang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-02T01:42:17Z",
        "body": "Excel being splited by token number is inappropriate, which will destroy the semantic.\r\nEvery chunk is composed of a row in Execl with columns such as: coloumnA: A1; coloumnB: B1; ..."
      },
      {
        "user": "guijuzhejiang",
        "created_at": "2024-09-02T03:35:20Z",
        "body": "@KevinHuSh Thanks for your reply, Agree with you. I've tested it, and it seems like the content of a sheet is divided into a chunk. But some sheets have too much content and are also split into multiple chunks. Am I understanding this correctly? What are the rules for splitting one sheet into multiple chunks?"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-03T02:35:38Z",
        "body": "After spliting a table into rows, it will merge rows into chunk by 'chunk token number'. But row is still the minimum unit to merge."
      },
      {
        "user": "guijuzhejiang",
        "created_at": "2024-09-06T01:42:33Z",
        "body": "Viewed the excel to html code, which the chunk_rows parameter is a fixed value of 256, meaning that an excel sheet if the number of rows is less than 256, the entire sheet as a chunk, the number of rows is greater than 256, it will be 256 rows divided into a chunk."
      },
      {
        "user": "guijuzhejiang",
        "created_at": "2024-09-06T08:21:34Z",
        "body": "Add: Sorry I didn't specify the parsing method at the beginning, the parsing method I'm using is general, the parsing method you said may be table"
      }
    ]
  },
  {
    "number": 2181,
    "title": "[Question]: any Dockerfile.arm for CN ?",
    "created_at": "2024-08-31T09:29:00Z",
    "closed_at": "2024-09-06T10:34:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2181",
    "body": "### Describe your problem\n\nyou know in CN ,  to speedup the docker build process  with the file of  dockerfile.arm\r\n\r\nor the solution ? thanks.  ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2181/comments",
    "author": "yangboz",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-09-02T01:55:35Z",
        "body": "No clue."
      }
    ]
  },
  {
    "number": 2145,
    "title": "[Question]: Why the model doesnt detect the mathematics equations",
    "created_at": "2024-08-28T11:23:03Z",
    "closed_at": "2024-08-29T07:59:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2145",
    "body": "### Describe your problem\n\nWhen parsing my file the mathematics equations doesn't get detected !",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2145/comments",
    "author": "Schorakbi",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-29T07:59:48Z",
        "body": "Equations are treated as images now."
      }
    ]
  },
  {
    "number": 2043,
    "title": "[Question]: AssertionError: 5aaf96aa5fc311ef8e3c401a58bf4f84 empty task! when trying to parse data",
    "created_at": "2024-08-21T14:39:23Z",
    "closed_at": "2024-10-21T11:41:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2043",
    "body": "### Describe your problem\r\n\r\nI have in total 5 knowledgebases. When uploading the documents to the first 4, everything worked perfectly fine. However, when uploading documents for the last knowledge base, suddenly nothing works anymore (at least not the parsing). Looking closer, I noticed the following warning.\r\n`Traceback (most recent call last):\r\n  File \"/home/said/ragflow-test/rag/svr/task_executor.py\", line 375, in <module>\r\n    main()\r\n  File \"/home/said/ragflow-test/rag/svr/task_executor.py\", line 294, in main\r\n    rows = collect()\r\n           ^^^^^^^^^\r\n  File \"/home/said/ragflow-test/rag/svr/task_executor.py\", line 117, in collect\r\n    assert tasks, \"{} empty task!\".format(msg[\"id\"])\r\n           ^^^^^\r\nAssertionError: 5aaf96aa5fc311ef8e3c401a58bf4f84 empty task!\r\n[WARNING] Load term.freq FAIL!\r\n[WARNING] [2024-08-21 16:08:56,563] [synonym.__init__] [line:40]: Realtime synonym is disabled, since no redis connection.\r\n`\r\n\r\nThis issue was already mentioned in issues #1108  #1846 and #1091 . However, there is no clear way on how to fix that error or why it even occurs in the first place\r\n\r\nI deleted the last knowledgebase again, as well as the docker container and the respective images. However, nothing really works.\r\n\r\nHere my entrypoint.sh file, which calls the task_executor (it was slightly changed) a few weeks ago)\r\n`# Set the Python path\r\nexport PYTHONPATH=/home/said/ragflow-test\r\n\r\nSet the Python executable\r\nPY=/home/said/anaconda3/envs/ragflow/bin/python\r\n\r\nFallback to system Python if the specific Python is not found\r\nif ! command -v $PY &> /dev/null; then\r\n  PY=python3\r\nfi\r\n\r\nDefault worker count to 1 if not set or invalid\r\nif [[ -z \"$WS\" || $WS -lt 1 ]]; then\r\n  WS=1\r\nfi\r\n\r\nDefine the task executor function\r\nfunction task_exe(){\r\n    while true; do\r\n        $PY rag/svr/task_executor.py\r\n        # Optional: Add a small sleep to prevent tight loop in case of persistent failure\r\n        sleep 1\r\n    done\r\n}\r\n\r\nTrap SIGINT and SIGTERM to properly terminate background jobs\r\ntrap 'kill $(jobs -p)' SIGINT SIGTERM\r\n\r\nStart the task executors in the background\r\nfor ((i=0; i<WS; i++)); do\r\n  task_exe &\r\ndone\r\n\r\nStart the main server process\r\nwhile true; do\r\n    $PY api/ragflow_server.py\r\n    # Optional: Add a small sleep to prevent tight loop in case of persistent failure\r\n    sleep 1\r\ndone\r\n\r\n Wait for all background jobs to finish\r\nwait`",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2043/comments",
    "author": "Said-Apollo",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-22T01:45:05Z",
        "body": "A record of task will be in redis and mysql at the same time.\r\nIf a task from redis does not exist in mysql, it will assert.\r\nIt's usually caused by redo parsing or restarting of the system, and could be ignored at most of the time."
      },
      {
        "user": "JinHai-CN",
        "created_at": "2024-08-26T06:16:58Z",
        "body": "Fixed by #2094"
      }
    ]
  },
  {
    "number": 2027,
    "title": "[Question]: the max token of  raptor",
    "created_at": "2024-08-21T01:42:36Z",
    "closed_at": "2024-08-22T02:07:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2027",
    "body": "### Describe your problem\n\nwhat is the relation of the max token of raptor and the token of chunk? if the max token of raptor should be multiple of the token of chunk?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2027/comments",
    "author": "HaoGuo98",
    "comments": [
      {
        "user": "HaoGuo98",
        "created_at": "2024-08-21T02:11:28Z",
        "body": "and what's suitable chunk size? 1024?\r\n"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-22T02:05:28Z",
        "body": "Max token of RAPTOR means the summary of a cluster should be in that maxium length.\r\n1024 of chunk size is a reasonable choice."
      },
      {
        "user": "HaoGuo98",
        "created_at": "2024-08-22T02:07:25Z",
        "body": "thanks"
      }
    ]
  },
  {
    "number": 2024,
    "title": "[Question]: {\"data\":null,\"retcode\":100,\"retmsg\":\"<NotFound '404: Not Found'>\"}",
    "created_at": "2024-08-20T12:27:49Z",
    "closed_at": "2024-08-22T02:06:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2024",
    "body": "### Describe your problem\n\nI am running the application from docker container. Getting this when I enter the address in the browser.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2024/comments",
    "author": "Shehjad-Ishan",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-21T00:52:14Z",
        "body": "Try not to use port after IP."
      }
    ]
  },
  {
    "number": 2008,
    "title": "[Question]: about Integrating LlamaParse",
    "created_at": "2024-08-19T13:45:01Z",
    "closed_at": "2024-11-17T13:37:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/2008",
    "body": "### Describe your problem\n\nHey Team,\r\n\r\nHope you're all doing great!\r\n\r\nI've been thinking about our current setup and noticed that parsing on our local deployment is pretty slow with just CPU. I was wondering if we've ever considered integrating LlamaParse? I've read that it‚Äôs supposed to be much faster and could really help speed things up for us.\r\n\r\nWould love to hear your thoughts on this.\r\n\r\nThanks a bunch!",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/2008/comments",
    "author": "tanchangde",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-20T01:16:48Z",
        "body": "I guess that LlamaParse calls remote services, so it's not literally local parsing."
      },
      {
        "user": "tanchangde",
        "created_at": "2024-08-20T12:04:43Z",
        "body": "Indeed, that's the case. My more fundamental need is to be able to leverage third-party computational power for processing, rather than being confined to local hardware resources."
      },
      {
        "user": "yingfeng",
        "created_at": "2024-08-21T11:03:51Z",
        "body": "For local deployment, you could try to enlarge the number of task executors to accelearte the document parsing.  By default there's only single worker which is slow for parsing tasks."
      }
    ]
  },
  {
    "number": 1993,
    "title": "[Question]: Hot-reloading not working?",
    "created_at": "2024-08-19T03:16:14Z",
    "closed_at": "2024-09-28T09:17:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1993",
    "body": "### Describe your problem\r\n\r\nI use Ragflow as base framework to develop my web app. I mounted web/src through docker-compose.yml and checked that whenever code changes are made, they're updated in container in real-time. However, I can't see hot-reloading in web page, unless I rebuilt the image or restart the container.\r\n\r\nI also tried moving npm start from Dockerfile to entrypoint.sh and replacing \"npm run build\" with \"npm start\", it doesn't work.\r\n\r\nFrom my understanding, hot-reloading should be an automatic feature in React\r\n\r\nAny help? Thanks!",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1993/comments",
    "author": "400yk",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-19T05:11:34Z",
        "body": "After code modification, run \"\"npm run build\"\" to make it work."
      },
      {
        "user": "400yk",
        "created_at": "2024-08-21T13:00:03Z",
        "body": "> After code modification, run \"\"npm run build\"\" to make it work.\r\n\r\nalthough still not hot-reloading, but better than rebuilding the image. Thanks!"
      }
    ]
  },
  {
    "number": 1990,
    "title": "[Question]: I want to pull the new version, how to ensure that the current data is not lost.",
    "created_at": "2024-08-18T14:32:30Z",
    "closed_at": "2024-09-09T05:10:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1990",
    "body": "### Describe your problem\n\nFirst of all, thank you very much. I love your project and have followed it since the beginning. I see that the new version has been updated a lot, I want to try, but I already have a lot of local data, can I directly pull the new project to retain the original data? Or it's already mounted in a local directory",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1990/comments",
    "author": "robertshuai",
    "comments": [
      {
        "user": "apulache",
        "created_at": "2024-08-18T15:59:33Z",
        "body": "Hello, here some recommendations:\r\n\r\n- First, make a backup copy of your current ragflow setup including your data\r\n- I recommend that you use the latest release v0.9.0 it is more stable that current dev version (i.e. in current dev version using Cohere break the Chat pages for all Knowledge Base that use Cohere LLMs)\r\n- Edit your /docker/.env file and change the line from RAGFLOW_VERSION=dev to RAGFLOW_VERSION=v0.9.0\r\n- Restart ragflow and  the new docker image for v0.9.0 will be pull, run and connect to your current Docker volumes\r\n- If roll back is needed then change back to your previous value RAGFLOW_VERSION and restart ragflow\r\n- If the update works then delete previos ragflow image to save almost 19GB\r\nI've tested this procedure myself and it works.\r\nHope it helps."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-19T01:34:14Z",
        "body": "Theoretically, you're not gona loss any data by upgrading system.\r\nIn term of data security, just backup the docker volumes."
      }
    ]
  },
  {
    "number": 1976,
    "title": "[Question]: Encounter error when add 01.ai API",
    "created_at": "2024-08-16T03:03:52Z",
    "closed_at": "2024-09-09T05:08:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1976",
    "body": "### Describe your problem\n\n8Êúà15Êó•Êôö8ÁÇπÔºådockerË£ÖÂÖ•ragflowÂêéÔºåËøêË°åÊó∂Ôºå01‰∏áÁâ©Êé•ÂÖ•apiÈîôËØØÔºå‰∏çÁü•ÊòØÂê¶Â∑≤Áªè‰øÆÂ§çÔºü",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1976/comments",
    "author": "xxz196801",
    "comments": [
      {
        "user": "hangters",
        "created_at": "2024-08-16T03:39:34Z",
        "body": "hi @xxz196801  thanks for mention that , will fix it soon"
      },
      {
        "user": "hangters",
        "created_at": "2024-08-16T03:41:29Z",
        "body": "It seems that there are both Chinese and English API interfaces. Moving forward, the English version of the API interface will be used."
      }
    ]
  },
  {
    "number": 1930,
    "title": "[Question]: How do I save my data when I plan to update the docker image and move the ragflow project?",
    "created_at": "2024-08-13T08:35:46Z",
    "closed_at": "2024-08-16T01:09:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1930",
    "body": "### Describe your problem\n\nHi, last week I tried to put the ragflow project on my PC and tried using it. I felt good and I want to move it to my server. I notice that the dokcer image version is not the latest. So, How can I save my existing data, and change the docker image, and move the ragflow project to the server computer? Thanks a lot.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1930/comments",
    "author": "fmk54330502",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-14T00:47:02Z",
        "body": "The docker container didn't hold  any data.\r\nIf you want to migrate data, you could search about migrating docker volumes which held all the data."
      },
      {
        "user": "fmk54330502",
        "created_at": "2024-08-15T03:02:42Z",
        "body": "> The docker container didn't hold any data. If you want to migrate data, you could search about migrating docker volumes which held all the data.\r\n\r\nThanks very much. I found the volumes."
      }
    ]
  },
  {
    "number": 1922,
    "title": "[Question]: why MySQL container keeps reporting errors",
    "created_at": "2024-08-13T02:45:31Z",
    "closed_at": "2024-09-09T05:23:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1922",
    "body": "### Describe your problem\n\nI followed the user manual to pull the image and executed docker compose -f docker-compose-CN.yml up -d, but the MySQL image keeps reporting the error: '[Note] Access denied for user 'root'@'172.21.0.6' (using password: YES)'\". My code version is v0.9.0",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1922/comments",
    "author": "ThierryHenry1994",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-14T01:14:52Z",
        "body": "Check docker/.env and conf/service_conf.yml. The password in both file should be the same."
      },
      {
        "user": "ThierryHenry1994",
        "created_at": "2024-08-14T09:14:40Z",
        "body": "> Check docker/.env and conf/service_conf.yml. The password in both file should be the same.\r\n\r\nYes.I have checked password in two config files, but not work yet.The password used default value.This phenomenon occurs when I execute docker compose after I pull down the image, even if I change the password."
      }
    ]
  },
  {
    "number": 1915,
    "title": "[Question]: I am not able to find \"term.freq\" file in the github repo can you send the link of that file so i can download the \"term.freq\" file ",
    "created_at": "2024-08-12T09:44:20Z",
    "closed_at": "2024-08-13T02:30:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1915",
    "body": "### Describe your problem\r\n\r\nfnm = os.path.join(get_project_base_directory(), \"rag/res\")\r\nself.ne, self.df = {}, {}\r\ntry:\r\n    self.ne = json.load(open(os.path.join(fnm, \"ner.json\"), \"r\"))\r\nexcept Exception as e:\r\n    print(\"[WARNING] Load ner.json FAIL!\")\r\ntry:\r\n    **self.df = load_dict(os.path.join(fnm, \"term.freq\"))**\r\nexcept Exception as e:\r\n    print(\"[WARNING] Load term.freq FAIL!\")",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1915/comments",
    "author": "narendra-bluebash",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-13T02:30:59Z",
        "body": "Ignore that warning log. It is highly related to your application domain, we do not provide this.\r\n\r\nterm.freq is a file composed of 2 columns(term\\tfrequency) that split by TAB. It is used as a suppliment feature to calculate term weight which is strongly depends on specific domain, say, it is very different from medical to manufacture."
      },
      {
        "user": "narendra-bluebash",
        "created_at": "2024-08-13T12:28:20Z",
        "body": "can you provide some example of \r\nterm.freq file composed of 2 columns(term\\tfrequency) that split by TAB."
      }
    ]
  },
  {
    "number": 1850,
    "title": "does mysql in docker-compose-base.yaml allow  remote connection as default?",
    "created_at": "2024-08-07T09:52:54Z",
    "closed_at": "2024-08-08T04:43:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1850",
    "body": "### Describe your problem\r\n\r\nif so , after running docker compose -f docker-compose-base.yaml up -d , try to run ragflow_server.py for local development, then it throws as following:\r\n\r\n\r\n~~~\r\nTraceback (most recent call last):\r\n  File \"/Users/yangboz/git/dangkang/flaskrestx/ragflow_server.py\", line 63, in <module>\r\n    init_web_db()\r\n  File \"/Users/yangboz/anaconda3/envs/ragflow/lib/python3.11/site-packages/peewee.py\", line 3127, in inner\r\n\r\n....\r\n\r\npeewee.OperationalError: (2003, \"Can't connect to MySQL server on 'mysql' ([Errno 8] nodename nor servname provided, or not known)\")\r\n~~~\r\n\r\n\r\nany idea ? thanks.\r\n\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1850/comments",
    "author": "yangboz",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-08T04:43:17Z",
        "body": "Check the conf/service_conf.ymal.\r\nMake sure all the hosts there are accessible,"
      }
    ]
  },
  {
    "number": 1847,
    "title": "[Question]: How to set up network proxy for ragflow docker in order to access models such as Gemini?",
    "created_at": "2024-08-07T08:25:27Z",
    "closed_at": "2024-08-09T10:34:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1847",
    "body": "### Describe your problem\n\nI have already set up VPN on my machine (Linux). However, after using docker-compose up -d or set up proxy environment in docker-compose.yml, it doesn't work for docker. I have try this same method on my windows laptop and it can successfully set up proxy for docker. Is there any difference on these two platform? And how could I set up network proxy for ragflow docker in order to access models such as Gemini?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1847/comments",
    "author": "Lycnkd",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-08T04:57:10Z",
        "body": "No clue yet.\r\nTry 'Clash'"
      },
      {
        "user": "Lycnkd",
        "created_at": "2024-08-12T04:42:08Z",
        "body": "I have already started clash and then use docker compose to start RAGflow and all the database dockers but that does not work."
      }
    ]
  },
  {
    "number": 1815,
    "title": "[Question]: Why knn instead of ann",
    "created_at": "2024-08-05T12:20:54Z",
    "closed_at": "2024-08-08T05:02:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1815",
    "body": "### Describe your problem\n\nI noticed that ES is currently using KNN, but I see that it now supports the ANN algorithm. If you don't mind, could you please share the reasons for not using ANN? Thank you!",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1815/comments",
    "author": "Ishiki-Iroha",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-06T01:37:20Z",
        "body": "KNN is more computationally expensive and more accurate which is a prerequisite to adapt ANN which is less accurate in my point of view.\r\nOnly if KNN is good enough, then, we consider more efficient way to do it."
      }
    ]
  },
  {
    "number": 1799,
    "title": "[Question]:  Why mysql container is not standing up using docker compose",
    "created_at": "2024-08-03T08:39:26Z",
    "closed_at": "2024-11-28T07:46:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1799",
    "body": " \r\nHi, I am starting the project using docker compose, all services are working but mysql container is not running. I use  Macbook m1\r\n\r\n` ‚úò Container ragflow-mysql                                                                                                                                Error0.0s \r\n ! mysql The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested   0.0s \r\n ‚úî Container ragflow-server                                                                                                                               Created0.1s \r\n ! ragflow The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested 0.0s \r\ndependency failed to start: container ragflow-mysql is unhealth`\r\n\r\nMysql Logs:\r\n`2024-08-03 11:33:59 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:33:59 fatal error: newosproc\r\n2024-08-03 11:33:59 \r\n2024-08-03 11:33:59 runtime stack:\r\n2024-08-03 11:33:59 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:33:59 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:33:59 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:33:59 runtime.main.func1()\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:33:59 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:33:59 runtime.mstart()\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:33:59 \r\n2024-08-03 11:33:59 goroutine 1 [running]:\r\n2024-08-03 11:33:59 runtime.systemstack_switch()\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:33:59 runtime.main()\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:33:59 runtime.goexit()\r\n2024-08-03 11:33:59     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:00 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:00 fatal error: newosproc\r\n2024-08-03 11:34:00 \r\n2024-08-03 11:34:00 runtime stack:\r\n2024-08-03 11:34:00 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:00 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:00 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:00 runtime.main.func1()\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:00 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:00 runtime.mstart()\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:00 \r\n2024-08-03 11:34:00 goroutine 1 [running]:\r\n2024-08-03 11:34:00 runtime.systemstack_switch()\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:00 runtime.main()\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:00 runtime.goexit()\r\n2024-08-03 11:34:00     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:01 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:01 fatal error: newosproc\r\n2024-08-03 11:34:01 \r\n2024-08-03 11:34:01 runtime stack:\r\n2024-08-03 11:34:01 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:01 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:01 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:01 runtime.main.func1()\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:01 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:01 runtime.mstart()\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:01 \r\n2024-08-03 11:34:01 goroutine 1 [running]:\r\n2024-08-03 11:34:01 runtime.systemstack_switch()\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:01 runtime.main()\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:01 runtime.goexit()\r\n2024-08-03 11:34:01     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:02 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:02 fatal error: newosproc\r\n2024-08-03 11:34:02 \r\n2024-08-03 11:34:02 runtime stack:\r\n2024-08-03 11:34:02 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:02 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:02 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:02 runtime.main.func1()\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:02 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:02 runtime.mstart()\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:02 \r\n2024-08-03 11:34:02 goroutine 1 [running]:\r\n2024-08-03 11:34:02 runtime.systemstack_switch()\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:02 runtime.main()\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:02 runtime.goexit()\r\n2024-08-03 11:34:02     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:06 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:06 fatal error: newosproc\r\n2024-08-03 11:34:06 \r\n2024-08-03 11:34:06 runtime stack:\r\n2024-08-03 11:34:06 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:06 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:06 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:06 runtime.main.func1()\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:06 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:06 runtime.mstart()\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:06 \r\n2024-08-03 11:34:06 goroutine 1 [running]:\r\n2024-08-03 11:34:06 runtime.systemstack_switch()\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:06 runtime.main()\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:06 runtime.goexit()\r\n2024-08-03 11:34:06     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:08 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:08 fatal error: newosproc\r\n2024-08-03 11:34:08 \r\n2024-08-03 11:34:08 runtime stack:\r\n2024-08-03 11:34:08 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:08 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:08 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:08 runtime.main.func1()\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:08 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:08 runtime.mstart()\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:08 \r\n2024-08-03 11:34:08 goroutine 1 [running]:\r\n2024-08-03 11:34:08 runtime.systemstack_switch()\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:08 runtime.main()\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:08 runtime.goexit()\r\n2024-08-03 11:34:08     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:13 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:13 fatal error: newosproc\r\n2024-08-03 11:34:13 \r\n2024-08-03 11:34:13 runtime stack:\r\n2024-08-03 11:34:13 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:13 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:13 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:13 runtime.main.func1()\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:13 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:13 runtime.mstart()\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:13 \r\n2024-08-03 11:34:13 goroutine 1 [running]:\r\n2024-08-03 11:34:13 runtime.systemstack_switch()\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:13 runtime.main()\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:13 runtime.goexit()\r\n2024-08-03 11:34:13     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:20 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:20 fatal error: newosproc\r\n2024-08-03 11:34:20 \r\n2024-08-03 11:34:20 runtime stack:\r\n2024-08-03 11:34:20 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:20 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:20 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:20 runtime.main.func1()\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:20 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:20 runtime.mstart()\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:20 \r\n2024-08-03 11:34:20 goroutine 1 [running]:\r\n2024-08-03 11:34:20 runtime.systemstack_switch()\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:20 runtime.main()\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:20 runtime.goexit()\r\n2024-08-03 11:34:20     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:34:34 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:34:34 fatal error: newosproc\r\n2024-08-03 11:34:34 \r\n2024-08-03 11:34:34 runtime stack:\r\n2024-08-03 11:34:34 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:34:34 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:34:34 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:34:34 runtime.main.func1()\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:34:34 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:34:34 runtime.mstart()\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:34:34 \r\n2024-08-03 11:34:34 goroutine 1 [running]:\r\n2024-08-03 11:34:34 runtime.systemstack_switch()\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:34:34 runtime.main()\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:34:34 runtime.goexit()\r\n2024-08-03 11:34:34     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:35:00 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:35:00 fatal error: newosproc\r\n2024-08-03 11:35:00 \r\n2024-08-03 11:35:00 runtime stack:\r\n2024-08-03 11:35:00 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:35:00 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:35:00 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:35:00 runtime.main.func1()\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:35:00 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:35:00 runtime.mstart()\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:35:00 \r\n2024-08-03 11:35:00 goroutine 1 [running]:\r\n2024-08-03 11:35:00 runtime.systemstack_switch()\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:35:00 runtime.main()\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:35:00 runtime.goexit()\r\n2024-08-03 11:35:00     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:35:52 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:35:52 fatal error: newosproc\r\n2024-08-03 11:35:52 \r\n2024-08-03 11:35:52 runtime stack:\r\n2024-08-03 11:35:52 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:35:52 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:35:52 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:35:52 runtime.main.func1()\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:35:52 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:35:52 runtime.mstart()\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:35:52 \r\n2024-08-03 11:35:52 goroutine 1 [running]:\r\n2024-08-03 11:35:52 runtime.systemstack_switch()\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:35:52 runtime.main()\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:35:52 runtime.goexit()\r\n2024-08-03 11:35:52     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n2024-08-03 11:36:52 runtime: failed to create new OS thread (have 2 already; errno=22)\r\n2024-08-03 11:36:52 fatal error: newosproc\r\n2024-08-03 11:36:52 \r\n2024-08-03 11:36:52 runtime stack:\r\n2024-08-03 11:36:52 runtime.throw(0x524da0, 0x9)\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/panic.go:527 +0x90\r\n2024-08-03 11:36:52 runtime.newosproc(0xc820034000, 0xc820043fc0)\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\n2024-08-03 11:36:52 runtime.newm(0x555ce8, 0x0)\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\n2024-08-03 11:36:52 runtime.main.func1()\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/proc.go:48 +0x2c\r\n2024-08-03 11:36:52 runtime.systemstack(0x5c4300)\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\n2024-08-03 11:36:52 runtime.mstart()\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/proc1.go:674\r\n2024-08-03 11:36:52 \r\n2024-08-03 11:36:52 goroutine 1 [running]:\r\n2024-08-03 11:36:52 runtime.systemstack_switch()\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002e770 sp=0xc82002e768\r\n2024-08-03 11:36:52 runtime.main()\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002e7c0 sp=0xc82002e770\r\n2024-08-03 11:36:52 runtime.goexit()\r\n2024-08-03 11:36:52     /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002e7c8 sp=0xc82002e7c0\r\n`",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1799/comments",
    "author": "tanerozel",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-06T02:29:29Z",
        "body": "Is it on MACOS.  Change it to mariaDB, and set MACOS=1 in docker/.env"
      },
      {
        "user": "tanerozel",
        "created_at": "2024-08-08T07:21:15Z",
        "body": "@KevinHuSh \r\nI tried it before and it didn't work, and now I tried it again and it didn't work.\r\nWhy can't we find a radical solution to this? This problem is experienced by many people.\r\nCan we use postgresql instead of mysql?"
      },
      {
        "user": "yuzhichang",
        "created_at": "2024-11-28T07:46:32Z",
        "body": "Newer version use `mysql:8.0.39` which is available on `linux/amd64`, `linux/arm64`.\r\n`mysql:5.7` `linux/arm64` image is unavailable."
      }
    ]
  },
  {
    "number": 1773,
    "title": "API token only for chatting?",
    "created_at": "2024-08-01T09:50:48Z",
    "closed_at": "2024-08-02T02:12:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1773",
    "body": "### Describe your problem\n\ndoes  token generated  from assistant UI is only for chatting  or  for all APIs?\r\n\r\nthanks.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1773/comments",
    "author": "yangboz",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-02T02:12:33Z",
        "body": "Not for all the APIs."
      },
      {
        "user": "yangboz",
        "created_at": "2024-08-02T02:20:27Z",
        "body": "> Not for all the APIs.\r\n\r\nhow about token for  other APIs? "
      }
    ]
  },
  {
    "number": 1772,
    "title": "[Question]: dependency failed to start: container ragflow-mysql is unhealthy   [Warning] Failed to set up SSL because of the following SSL library error: TLS version is invalid",
    "created_at": "2024-08-01T09:43:31Z",
    "closed_at": "2024-11-28T07:39:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1772",
    "body": "### Describe your problem\n\ndocker compose -f docker-compose-CN.yml up -d  run error: :(\r\n\r\n\r\n(base) [root@UEVLBAIDU01 docker]# docker compose -f docker-compose-CN.yml up -d\r\nWARN[0000] The \"MACOS\" variable is not set. Defaulting to a blank string. \r\n[+] Running 6/6\r\n ‚úî Network docker_ragflow    Created                                                                                                                                                       0.6s \r\n ‚úî Container ragflow-redis   Started                                                                                                                                                       2.4s \r\n ‚úî Container ragflow-es-01   Healthy                                                                                                                                                      57.0s \r\n ‚úò Container ragflow-mysql   Error                                                                                                                                                        35.0s \r\n ‚úî Container ragflow-minio   Started                                                                                                                                                       2.3s \r\n ‚úî Container ragflow-server  Created                                                                                                                                                       0.1s \r\ndependency failed to start: container ragflow-mysql is unhealthy\r\n(base) [root@UEVLBAIDU01 docker]# docker logs ragflow-mysql\r\n2024-08-01T09:39:55.701533Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\r\n2024-08-01T09:39:55.716396Z 0 [Note] mysqld (mysqld 5.7.18) starting as process 1 ...\r\n2024-08-01T09:39:55.745019Z 0 [Note] InnoDB: PUNCH HOLE support available\r\n2024-08-01T09:39:55.745059Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins\r\n2024-08-01T09:39:55.745062Z 0 [Note] InnoDB: Uses event mutexes\r\n2024-08-01T09:39:55.745064Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier\r\n2024-08-01T09:39:55.745066Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.3\r\n2024-08-01T09:39:55.745067Z 0 [Note] InnoDB: Using Linux native AIO\r\n2024-08-01T09:39:55.745581Z 0 [Note] InnoDB: Number of pools: 1\r\n2024-08-01T09:39:55.745683Z 0 [Note] InnoDB: Using CPU crc32 instructions\r\n2024-08-01T09:39:55.772639Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M\r\n2024-08-01T09:39:55.799219Z 0 [Note] InnoDB: Completed initialization of buffer pool\r\n2024-08-01T09:39:55.808232Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().\r\n2024-08-01T09:39:55.834347Z 0 [Note] InnoDB: Highest supported file format is Barracuda.\r\n2024-08-01T09:39:55.866599Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables\r\n2024-08-01T09:39:55.866682Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\r\n2024-08-01T09:39:55.906603Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.\r\n2024-08-01T09:39:55.907240Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.\r\n2024-08-01T09:39:55.907251Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.\r\n2024-08-01T09:39:55.907522Z 0 [Note] InnoDB: Waiting for purge to start\r\n2024-08-01T09:39:55.958316Z 0 [Note] InnoDB: 5.7.18 started; log sequence number 12139872\r\n2024-08-01T09:39:55.958638Z 0 [Note] Plugin 'FEDERATED' is disabled.\r\n2024-08-01T09:39:55.960120Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool\r\n2024-08-01T09:39:55.972714Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.\r\n2024-08-01T09:39:55.972753Z 0 [Warning] Failed to set up SSL because of the following SSL library error: TLS version is invalid\r\n2024-08-01T09:39:55.980490Z 0 [Note] InnoDB: Buffer pool(s) load completed at 240801 17:39:55\r\n2024-08-01T09:39:55.982178Z 0 [Note] Server hostname (bind-address): '*'; port: 3306\r\n2024-08-01T09:39:55.982267Z 0 [Note] IPv6 is available.\r\n2024-08-01T09:39:55.982279Z 0 [Note]   - '::' resolves to '::';\r\n2024-08-01T09:39:55.982322Z 0 [Note] Server socket created on IP: '::'.\r\n2024-08-01T09:39:55.995476Z 0 [Warning] 'user' entry 'root@localhost' ignored in --skip-name-resolve mode.\r\n2024-08-01T09:39:55.995530Z 0 [Warning] 'user' entry 'mysql.sys@localhost' ignored in --skip-name-resolve mode.\r\n2024-08-01T09:39:55.995958Z 0 [Warning] 'db' entry 'sys mysql.sys@localhost' ignored in --skip-name-resolve mode.\r\n2024-08-01T09:39:55.996350Z 0 [Warning] 'proxies_priv' entry '@ root@localhost' ignored in --skip-name-resolve mode.\r\n2024-08-01T09:39:56.010904Z 0 [Warning] 'tables_priv' entry 'sys_config mysql.sys@localhost' ignored in --skip-name-resolve mode.\r\n2024-08-01T09:39:56.065776Z 0 [Note] Event Scheduler: Loaded 0 events\r\n2024-08-01T09:39:56.065984Z 0 [Note] Execution of init_file '/data/application/init.sql' started.\r\n2024-08-01T09:39:56.067364Z 0 [Note] Execution of init_file '/data/application/init.sql' ended.\r\n2024-08-01T09:39:56.067438Z 0 [Note] mysqld: ready for connections.\r\nVersion: '5.7.18'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server (GPL)\r\n2024-08-01T09:39:56.067450Z 0 [Note] Executing 'SELECT * FROM INFORMATION_SCHEMA.TABLES;' to get a list of tables using the deprecated partition engine. You may use the startup option '--disable-partition-engine-check' to skip this check. \r\n2024-08-01T09:39:56.067451Z 0 [Note] Beginning of list of non-natively partitioned tables\r\n2024-08-01T09:39:56.138471Z 0 [Note] End of list of non-natively partitioned tables",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1772/comments",
    "author": "alanOO7",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-02T02:13:55Z",
        "body": "Are you using MAC?\r\nIf you are, change mysql to mariaDB and set MACOS=1 in docker/.env"
      },
      {
        "user": "alanOO7",
        "created_at": "2024-08-03T02:36:00Z",
        "body": "> Are you using MAC? If you are, change mysql to mariaDB and set MACOS=1 in docker/.env\r\n\r\ni am using oracle linux 9,"
      },
      {
        "user": "tanerozel",
        "created_at": "2024-08-03T08:42:50Z",
        "body": "I have the same problem on my macbook m1."
      },
      {
        "user": "yuzhichang",
        "created_at": "2024-11-28T07:39:39Z",
        "body": "docker-compose-CN.yml has been deleted in main. Please use newer release."
      }
    ]
  },
  {
    "number": 1764,
    "title": "[Question]: delete the document in the knowlege base",
    "created_at": "2024-08-01T03:09:21Z",
    "closed_at": "2024-08-09T10:32:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1764",
    "body": "### Describe your problem\n\nwhen i delete a document in the knowledge baseÔºåthe data in the mysql and es can also be deletedÔºü",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1764/comments",
    "author": "zhanghaiqiangshigezhu",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-02T02:23:08Z",
        "body": "Yes."
      }
    ]
  },
  {
    "number": 1754,
    "title": "[Question]: In the Windows platform, launching the project through source code will result in an error",
    "created_at": "2024-07-31T06:53:40Z",
    "closed_at": "2024-08-02T02:25:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1754",
    "body": "### Describe your problem\n\nThis is one of the errors, and the other error is that it cannot load a certain file, which does not exist in the 'rag/res' directory\r\n```log\r\n[WARNING] [2024-07-31 14:22:56,156] [synonym.__init__] [line:36]: Missing synonym.json\r\n[WARNING] [2024-07-31 14:22:56,156] [synonym.__init__] [line:40]: Realtime synonym is disabled, since no redis connection.\r\n[WARNING] [2024-07-31 14:22:56,156] [synonym.__init__] [line:43]: Fail to load synonym\r\nTraceback (most recent call last):\r\n  File \"<frozen importlib._bootstrap>\", line 1176, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1147, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 690, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 940, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n  File \"C:\\Applications\\Projects\\ragflow\\api\\apps\\__init__.py\", line 96, in <module>\r\n    client_urls_prefix = [\r\n                         ^\r\n  File \"C:\\Applications\\Projects\\ragflow\\api\\apps\\__init__.py\", line 97, in <listcomp>\r\n    register_page(path)\r\n  File \"C:\\Applications\\Projects\\ragflow\\api\\apps\\__init__.py\", line 83, in register_page\r\n    spec.loader.exec_module(page)\r\n  File \"C:\\Applications\\Projects\\ragflow\\api\\apps\\api_app.py\", line 27, in <module>\r\n    from api.db.services.dialog_service import DialogService, chat\r\n  File \"C:\\Applications\\Projects\\ragflow\\api\\db\\services\\dialog_service.py\", line 25, in <module>\r\n    from rag.app.resume import forbidden_select_fields4resume\r\n  File \"C:\\Applications\\Projects\\ragflow\\rag\\app\\resume.py\", line 23, in <module>\r\n    from deepdoc.parser.resume import step_one, step_two\r\n  File \"C:\\Applications\\Projects\\ragflow\\deepdoc\\parser\\resume\\step_two.py\", line 17, in <module>\r\n    from deepdoc.parser.resume.entities import degrees, schools, corporations\r\n  File \"C:\\Applications\\Projects\\ragflow\\deepdoc\\parser\\resume\\entities\\schools.py\", line 20, in <module>\r\n    GOOD_SCH = json.load(open(os.path.join(current_file_path, \"res\\good_sch.json\"), \"r\"))\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Applications\\miniconda3\\envs\\ragflow\\Lib\\json\\__init__.py\", line 293, in load\r\n    return loads(fp.read(),\r\n                 ^^^^^^^^^\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0xad in position 5: illegal multibyte sequence\r\n```",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1754/comments",
    "author": "Lxx-c",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-08-01T01:09:11Z",
        "body": "It seems Windows change the file encoding automatically."
      },
      {
        "user": "yzztin",
        "created_at": "2024-08-07T07:03:17Z",
        "body": "> It seems Windows change the file encoding automatically.\r\n\r\n@Lxx-c \r\n\r\nSet the windows environment variables:\r\n```\r\nPYTHONUTF8\r\n1\r\n```\r\nthen restart Pycharm"
      }
    ]
  },
  {
    "number": 1699,
    "title": "[Question]: When I use RAPTOR, I get some summary chunks when retrieval. How can I get the original chunks of this summary?",
    "created_at": "2024-07-25T03:30:11Z",
    "closed_at": "2024-07-25T06:16:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1699",
    "body": "### Describe your problem\n\nWhen I use RAPTOR, I get some summary chunks when retrieval. How can I get the original chunks of this summary?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1699/comments",
    "author": "wanyuks",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-25T06:16:28Z",
        "body": "I'm afraid there's no way other than disabling RAPTOR."
      }
    ]
  },
  {
    "number": 1695,
    "title": "[Question]: When parsing a excel file, there is a internal server error",
    "created_at": "2024-07-25T02:54:56Z",
    "closed_at": "2024-08-01T01:32:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1695",
    "body": "### Describe your problem\n\n When parsing a excel file, there is a internal server error\r\n[ERROR]Internal server error: File is not a zip file",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1695/comments",
    "author": "amdongyang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-25T03:10:06Z",
        "body": "Could you attach the file?"
      }
    ]
  },
  {
    "number": 1638,
    "title": "[Question]:  how to get the sequence no and page no of chunks",
    "created_at": "2024-07-22T09:17:44Z",
    "closed_at": "2024-08-01T01:34:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1638",
    "body": "### Describe your problem\n\n\r\nWhere do we get the sequence and page no of each chunk in the source document? We didn't find the points in the code and information in the chunk.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1638/comments",
    "author": "erikguo",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-23T01:12:03Z",
        "body": "They are all in ES.\r\nUse the chunk id to get info from ES."
      }
    ]
  },
  {
    "number": 1622,
    "title": "[Question]: ERROR: cannot access local variable 'rerank_mdl' where it is not associated with a value",
    "created_at": "2024-07-20T09:56:47Z",
    "closed_at": "2024-07-22T01:56:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1622",
    "body": "### Describe your problem\n\nnow in demo ragflow when first time login and adjsuting knowledge base as well as llm models, the chatbot was working well.. however, i tried it today it wasn't working well at all.. everytime it gives me this error ERROR: cannot access local variable 'rerank_mdl' where it is not associated with a value.. Also in graph workflow sometimes it works and othertimes it gives me two errors one of which is Connection error and the other is an api error",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1622/comments",
    "author": "cotaa956",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-22T01:56:34Z",
        "body": "fixed."
      }
    ]
  },
  {
    "number": 1606,
    "title": "[Question]: ocr gpu",
    "created_at": "2024-07-19T06:33:02Z",
    "closed_at": "2024-09-28T09:29:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1606",
    "body": "### Describe your problem\r\n\r\ndeepdoc/vision/ocr.py load_modeÁ¨¨72-76Ë°åÔºåonnxruntime sessionÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö\r\nif False and ort.get_device() == \"GPU\":\r\n        sess = ort.InferenceSession(\r\n            model_file_path,\r\n            options=options,\r\n            providers=['CUDAExecutionProvider'])\r\nÂ¶ÇÊûúË£ÖÁöÑÊòØonnxruntime gpuÁâàÊú¨ÁöÑÔºåËøôÊ†∑ÊòØ‰∏çÊòØ‰∏ç‰ºöÁî®GPUÊâßË°åÔºü",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1606/comments",
    "author": "adzhua",
    "comments": [
      {
        "user": "yuzhichang",
        "created_at": "2024-09-28T09:29:47Z",
        "body": "Our experience is that onnxruntime-gpu has obvious memory leaking bug.\r\nSo we've deleted onnxruntime-gpu from python dependencies."
      }
    ]
  },
  {
    "number": 1599,
    "title": "[Question]: AzureOpenAI error when loading embedding model",
    "created_at": "2024-07-18T12:44:34Z",
    "closed_at": "2024-10-21T11:39:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1599",
    "body": "### Describe your problem\r\n\r\nHi, I already have deployed some models and the ada and larg3 embedding models, however, when entering the API-key and endpoint, I'm receiving an error message that the encoding method was not implemented. As far as I know support was added by issue #1512 .\r\nUpon closer insection I saw in the embedding_model.py that there is no encode method for the azure openai class, or was that added somewhere else?\r\n\r\nHere the azure class directly inherits from Base\r\n`class AzureEmbed(Base):\r\n    def __init__(self, key, model_name, **kwargs):\r\n        self.client = AzureOpenAI(api_key=key, azure_endpoint=kwargs[\"base_url\"], api_version=\"2024-02-01\")\r\n        self.model_name = model_name`\r\n\r\n\r\nAnd here the Base\r\n`class Base(ABC):\r\n    def __init__(self, key, model_name):\r\n        pass\r\n\r\n    def encode(self, texts: list, batch_size=32):\r\n        raise NotImplementedError(\"Please implement encode method!\")\r\n\r\n    def encode_queries(self, text: str):\r\n        raise NotImplementedError(\"Please implement encode method!\")`",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1599/comments",
    "author": "Said-Apollo",
    "comments": [
      {
        "user": "mapa17",
        "created_at": "2024-07-18T12:55:05Z",
        "body": "Looks to me like its derived from the wrong base class. Could try to derive it from `OpenAIEmbed`. Unfortunately, i dont have an dev env to try it."
      },
      {
        "user": "mapa17",
        "created_at": "2024-07-18T15:28:27Z",
        "body": "I can confirm that changing the base class to `OpenAIEmbed` works. I am able to use my azure deployed endpoinds with them. As an additional note the name of the endpoints must be:\r\n- `azure-text-embedding-3-large`\r\n- `azure-gpt-35-turbo`\r\n\r\nand similar, so `azure-` followed by the model type."
      }
    ]
  },
  {
    "number": 1563,
    "title": "[Question]: Why is the token count fixed at 128 when using the Ollama embedding model, instead of being based on the text content?",
    "created_at": "2024-07-17T05:53:35Z",
    "closed_at": "2024-07-18T03:54:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1563",
    "body": "### Describe your problem\n\nWhy is the token count fixed at 128 when using the Ollama embedding model, instead of being based on the text content?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1563/comments",
    "author": "hwzhuhao",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-18T03:46:11Z",
        "body": "It's just a mockup data since ollama doesn't return the count."
      },
      {
        "user": "hwzhuhao",
        "created_at": "2024-07-18T03:54:07Z",
        "body": "thanksÔºåi try it and get the same result."
      }
    ]
  },
  {
    "number": 1552,
    "title": "[Question]: SUM: **ERROR**: Access denied, please make sure your account is in good standing.",
    "created_at": "2024-07-17T01:04:15Z",
    "closed_at": "2024-07-17T01:11:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1552",
    "body": "### Describe your problem\n\nSUM: **ERROR**: Access denied, please make sure your account is in good standing.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1552/comments",
    "author": "shichunshan",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-17T01:11:43Z",
        "body": "LLM is out of quota. Please set it in system settings."
      }
    ]
  },
  {
    "number": 1539,
    "title": "[Question]: The ragflow mysql container keeps restarting",
    "created_at": "2024-07-16T09:20:23Z",
    "closed_at": "2024-07-17T01:34:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1539",
    "body": "### Describe your problem\n\n1.Using Mac\r\n2.$ docker compose -f docker-compose-base.yml up -d \r\n3.Ragflow-redis and ragflow-es-01 are up, but ragflow-mysql and ragflow-minio are not up. Ragflow-minio reports an exporting port TCP 0.0.0.0:9001->0.0.0.0:0: listen TCP 0.0.0.0:9001: bind: address already in use\r\n\r\nragflow-mysql logÔºö\r\nruntime: failed to create new OS thread (have 2 already; errno=22)\r\nfatal error: newosproc\r\nruntime stack:\r\nruntime.throw(0x524da0, 0x9)\r\n        /usr/local/go/src/runtime/panic.go:527 +0x90\r\nruntime.newosproc(0xc820030000, 0xc82003ffc0)\r\n        /usr/local/go/src/runtime/os1_linux.go:150 +0x1ab\r\nruntime.newm(0x555ce8, 0x0)\r\n        /usr/local/go/src/runtime/proc1.go:1105 +0x130\r\nruntime.main.func1()\r\n        /usr/local/go/src/runtime/proc.go:48 +0x2c\r\nruntime.systemstack(0x5c4300)\r\n        /usr/local/go/src/runtime/asm_amd64.s:262 +0x79\r\nruntime.mstart()\r\n        /usr/local/go/src/runtime/proc1.go:674\r\ngoroutine 1 [running]:\r\nruntime.systemstack_switch()\r\n        /usr/local/go/src/runtime/asm_amd64.s:216 fp=0xc82002a770 sp=0xc82002a768\r\nruntime.main()\r\n        /usr/local/go/src/runtime/proc.go:49 +0x62 fp=0xc82002a7c0 sp=0xc82002a770\r\nruntime.goexit()\r\n        /usr/local/go/src/runtime/asm_amd64.s:1696 +0x1 fp=0xc82002a7c8 sp=0xc82002a7c0\r\nruntime: failed to create new OS thread (have 2 already; errno=22)\r\nfatal error: newosproc",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1539/comments",
    "author": "metasavvy",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-17T01:34:13Z",
        "body": "Change mysql to mariaDB and set MACOS=1 in docker/.env"
      }
    ]
  },
  {
    "number": 1524,
    "title": "Set Max Token for Generation Using Graph functionality",
    "created_at": "2024-07-15T21:37:56Z",
    "closed_at": "2024-07-17T01:39:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1524",
    "body": "### Describe your problem\n\nHow can I allow for more tokens when generating a response for example when using GPT-4o using the graph flow functionality?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1524/comments",
    "author": "rhudock",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-16T00:58:21Z",
        "body": "Disable max_token in 'Generate' settings, otherwise, optimize prompt."
      }
    ]
  },
  {
    "number": 1505,
    "title": "[Question]: Why is the demo website so much better than my own docekr deployment?",
    "created_at": "2024-07-15T02:51:54Z",
    "closed_at": "2024-07-16T01:21:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1505",
    "body": "### Describe your problem\n\ndemo.ragflow.io",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1505/comments",
    "author": "seetimee",
    "comments": [
      {
        "user": "seetimee",
        "created_at": "2024-07-15T02:52:24Z",
        "body": "both are the same parameters"
      },
      {
        "user": "seetimee",
        "created_at": "2024-07-15T06:33:59Z",
        "body": "I found it's because the layout recognize function,the docker local model will miss some information after ocr."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-16T01:21:38Z",
        "body": "Models for demo site are fine-tuned with private data."
      }
    ]
  },
  {
    "number": 1484,
    "title": "[Question]: Dialog ERROR when deployed using Xinference: An error occurred during streaming",
    "created_at": "2024-07-12T05:56:05Z",
    "closed_at": "2024-07-15T01:43:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1484",
    "body": "### Describe your problem\n\n[Question]: Dialog ERROR when deployed using Xinference: An error occurred during streaming",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1484/comments",
    "author": "xujingsen521",
    "comments": [
      {
        "user": "xujingsen521",
        "created_at": "2024-07-12T05:56:30Z",
        "body": "assistant: ERROR: An error occurred during streaming\r\n\r\n"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-12T06:44:11Z",
        "body": "Have look at log of xinference. May it help!"
      }
    ]
  },
  {
    "number": 1479,
    "title": "[Question]: what elastic search is used for?",
    "created_at": "2024-07-12T03:50:11Z",
    "closed_at": "2024-07-12T06:46:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1479",
    "body": "### Describe your problem\n\nËØ∑ÈóÆ‰Ω†‰ª¨‰ΩøÁî®elastic search ‰ΩøÁî®Êù•Â≠òÂÇ®‰ªÄ‰πàÊï∞ÊçÆÁöÑÔºü",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1479/comments",
    "author": "SuperCB",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-07-12T06:45:57Z",
        "body": "text and embedding"
      }
    ]
  },
  {
    "number": 1478,
    "title": "[Question]: ragflow-mysql keep waiting status",
    "created_at": "2024-07-12T03:27:28Z",
    "closed_at": "2024-07-15T01:43:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1478",
    "body": "### Describe your problem\n\nwhen i check the logs , it shows\r\nragflow-mysql  |  rosetta error: unhandled auxillary vector type 28\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1478/comments",
    "author": "fancygeek",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-12T06:52:05Z",
        "body": "Is it on MAC OS?\r\nIf so, change  it to mariaDB and set MACOS=1 in docker/.env"
      },
      {
        "user": "fancygeek",
        "created_at": "2024-07-12T07:19:44Z",
        "body": "> Is it on MAC OS? If so, change it to mariaDB and set MACOS=1 in docker/.env\r\n\r\nI tried this, mysql container works, but same error go to ragflow-server container"
      },
      {
        "user": "fancygeek",
        "created_at": "2024-07-12T08:09:29Z",
        "body": "Seems it's a system issue in old MACOS version, after i upgrade to Sonoma, it works, Thanks for the help"
      }
    ]
  },
  {
    "number": 1463,
    "title": "[Question]: ",
    "created_at": "2024-07-11T07:06:26Z",
    "closed_at": "2024-07-12T06:46:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1463",
    "body": "### ÈóÆÈ¢òÊèèËø∞\r\n\r\nÂú® macOS ‰∏ä‰ΩøÁî® Docker Âíå Docker Compose ÂêØÂä® MySQL ÂÆπÂô®Êó∂ÔºåÂá∫Áé∞ `chown: invalid user: 'mysql:mysql'` ÈîôËØØ„ÄÇ\r\n\r\n### ÁéØÂ¢É\r\n\r\n- **Êìç‰ΩúÁ≥ªÁªü**: macOS\r\n- **Docker ÁâàÊú¨**: [ËØ∑Êèê‰æõÂÖ∑‰ΩìÁâàÊú¨]\r\n- **Docker Compose ÁâàÊú¨**: [ËØ∑Êèê‰æõÂÖ∑‰ΩìÁâàÊú¨]\r\n- **MySQL ÈïúÂÉèÁâàÊú¨**: mysql:5.7.18\r\n\r\n### ÈîôËØØÊó•Âøó\r\n\r\n```plaintext\r\n2024-07-11 14:50:05 chown: invalid user: 'mysql:mysql'\r\n2024-07-11 14:50:12 chown: invalid user: 'mysql:mysql'\r\n```\r\n\r\n### Docker Compose ÈÖçÁΩÆ\r\n\r\n```yaml\r\nversion: '3.1'\r\n\r\nservices:\r\n  mysql:\r\n    image: mysql:5.7.18\r\n    container_name: ragflow-mysql\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=${MYSQL_PASSWORD}\r\n      - TZ=${TIMEZONE}\r\n    command:\r\n      --max_connections=1000\r\n      --character-set-server=utf8mb4\r\n      --collation-server=utf8mb4_general_ci\r\n      --default-authentication-plugin=mysql_native_password\r\n      --tls_version=\"TLSv1.2,TLSv1.3\"\r\n      --init-file /data/application/init.sql\r\n    ports:\r\n      - ${MYSQL_PORT}:3306\r\n    volumes:\r\n      - mysql_data:/var/lib/mysql\r\n      - ./init.sql:/data/application/init.sql\r\n    networks:\r\n      - ragflow\r\n    healthcheck:\r\n      test: [\"CMD\", \"mysqladmin\", \"ping\", \"-uroot\", \"-p${MYSQL_PASSWORD}\"]\r\n      interval: 10s\r\n      timeout: 10s\r\n      retries: 3\r\n    restart: always\r\n\r\nvolumes:\r\n  mysql_data:\r\n    driver: local\r\n\r\nnetworks:\r\n  ragflow:\r\n    driver: bridge\r\n```\r\n\r\n### ÊéíÊü•Ê≠•È™§\r\n\r\n1. **Á°ÆËÆ§ MySQL ÈïúÂÉè‰∏≠ÁöÑÁî®Êà∑ÂíåÁªÑ**:\r\n    - ËøêË°å `docker run -it --rm mysql:5.7.18 /bin/bash`„ÄÇ\r\n    - Ê£ÄÊü•ÊòØÂê¶Â≠òÂú® `mysql` Áî®Êà∑ÂíåÁªÑÔºö\r\n      ```sh\r\n      cat /etc/passwd | grep mysql\r\n      ```\r\n\r\n2. **ÊâãÂä®ÂàõÂª∫ MySQL Áî®Êà∑ÂíåÁªÑ**:\r\n    - Â¶ÇÊûúÊ≤°Êúâ `mysql` Áî®Êà∑ÂíåÁªÑÔºåÂú®ÂÆπÂô®ÂÜÖÊâãÂä®ÂàõÂª∫Ôºö\r\n      ```sh\r\n      groupadd -r mysql && useradd -r -g mysql mysql\r\n      ```\r\n\r\n3. **Ê£ÄÊü•Êï∞ÊçÆÂç∑ÊùÉÈôê**:\r\n    - Á°Æ‰øùÊï∞ÊçÆÂç∑ÁöÑÊùÉÈôêÊ≠£Á°ÆÔºåÂú®‰∏ªÊú∫Á≥ªÁªü‰∏äÊõ¥ÊîπÂç∑ÁöÑÊùÉÈôêÔºö\r\n      ```sh\r\n      docker run --rm -v ragflow-mysql:/var/lib/mysql busybox chown -R 999:999 /var/lib/mysql\r\n      ```\r\n\r\n4. **Êõ¥Êñ∞ Docker Compose Êñá‰ª∂**:\r\n    - Á°Æ‰øù `docker-compose.yml` Êñá‰ª∂‰∏≠Ê≤°ÊúâÊâãÂä®ÊåáÂÆöÁî®Êà∑ÊàñÁªÑ„ÄÇ\r\n\r\n5. **ÈáçÂêØ Docker Compose**:\r\n    - Á°Æ‰øùÊâÄÊúâÈÖçÁΩÆÂíåÊùÉÈôêÈÉΩÊ≠£Á°ÆÂêéÔºåÈáçÂêØ Docker Compose ÁéØÂ¢ÉÔºö\r\n      ```sh\r\n      docker-compose down\r\n      docker-compose up -d\r\n      ```\r\n\r\n6. **Ê£ÄÊü•ÂÆπÂô®Êó•Âøó**:\r\n    - Êü•Áúã MySQL ÂÆπÂô®ÁöÑÊó•ÂøóÔºåÁ°ÆËÆ§ÊòØÂê¶ÊúâÂÖ∂‰ªñÈîôËØØ‰ø°ÊÅØÔºö\r\n      ```sh\r\n      docker logs ragflow-mysql\r\n      ```\r\n\r\n### È¢ÑÊúüË°å‰∏∫\r\n\r\nMySQL ÂÆπÂô®Â∫îÊ≠£Â∏∏ÂêØÂä®ÔºåÂπ∂‰∏îÊ≤°Êúâ `chown: invalid user: 'mysql:mysql'` ÈîôËØØ„ÄÇ\r\n\r\n### ÂÆûÈôÖË°å‰∏∫\r\n\r\nÂêØÂä® MySQL ÂÆπÂô®Êó∂ÔºåÂá∫Áé∞ `chown: invalid user: 'mysql:mysql'` ÈîôËØØ„ÄÇ\r\n\r\n### ÂÖ∂‰ªñ‰ø°ÊÅØ\r\n\r\nÂú®ÊâßË°å `docker run --rm mysql:5.7.18 cat /etc/passwd | grep mysql` ÂëΩ‰ª§Êó∂ÔºåÊ≤°ÊúâËæìÂá∫„ÄÇËøôË°®ÊòéÂú® MySQL 5.7.18 ÂÆπÂô®ÂÜÖÊ≤°ÊúâÂàõÂª∫ `mysql` Áî®Êà∑„ÄÇ\r\n\r\n### ËØ∑Ê±ÇÁöÑÂ∏ÆÂä©\r\n\r\nÈúÄË¶ÅÂ∏ÆÂä©Á°ÆËÆ§ MySQL ÂÆòÊñπÈïúÂÉè‰∏≠ÁöÑÁî®Êà∑ÂíåÁªÑÈÖçÁΩÆÔºåÂπ∂Ëß£ÂÜ≥ `chown: invalid user: 'mysql:mysql'` ÈîôËØØÔºå‰Ωø MySQL ÂÆπÂô®ËÉΩÂ§üÊ≠£Â∏∏ÂêØÂä®„ÄÇ\r\n\r\n\r\n**ÁõÆÂâçÊç¢Âà∞‰∫Ü mysqlÊúÄÊñ∞ÁâàÊú¨ÁöÑÈïúÂÉèÊó†ÈóÆÈ¢ò**\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1463/comments",
    "author": "wilac-pv",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-12T02:12:59Z",
        "body": "Please use mariaDB in stead of Mysql on MAC. \r\nAnd set MACOS=1 in docker/.env"
      }
    ]
  },
  {
    "number": 1417,
    "title": "[Question]: The contents of the deepdoc folder",
    "created_at": "2024-07-08T08:27:05Z",
    "closed_at": "2024-07-09T08:13:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1417",
    "body": "### Describe your problem\n\nI have tried both `t_ocr.py` and `t_recognizer.py` files, it seems that `t_ocr.py` only recognizes text, which leads to misidentification of content in other formats.\r\nIs there a way to integrate the recognition methods from `t_recognizer.py` to perform more comprehensive OCR?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1417/comments",
    "author": "DiaQusNet",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-09T01:04:14Z",
        "body": "Have a look at rag/app/. They're all about the integration."
      },
      {
        "user": "DiaQusNet",
        "created_at": "2024-07-09T08:13:15Z",
        "body": "Thanks, that will help."
      }
    ]
  },
  {
    "number": 1404,
    "title": "[Question]: How to prevent re-download of models",
    "created_at": "2024-07-07T10:17:37Z",
    "closed_at": "2024-07-08T04:12:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1404",
    "body": "### Describe your problem\n\nI am building the model locally and every time after I finish building from source and I first docker compose up, the models such as OCR models will need to be re-downloaded.\r\n\r\nMay I ask if there is a way to prevent re-downloading of the model after I change the code and build and docker compose up from there? Thks a lot! Will really appreciate if you could give some detailed guidance on that.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1404/comments",
    "author": "PROGRAMMERHAO",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-08T04:12:15Z",
        "body": "You could change dockerfile a bit. Download all the  model and add them to /root/.ragflow/, like :\r\nADD ./ragflow/bge-large-zh-v1.5  /root/.ragflow/bge-large-zh-v1.5\r\n"
      }
    ]
  },
  {
    "number": 1394,
    "title": "Accessing remotely ",
    "created_at": "2024-07-05T11:33:41Z",
    "closed_at": "2024-07-08T04:45:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1394",
    "body": "### Describe your problem\n\nIf I want to run on my server and access remotely, which changes and where should I make? Thank you ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1394/comments",
    "author": "legaltextai",
    "comments": [
      {
        "user": "ralienpp",
        "created_at": "2024-07-05T13:42:28Z",
        "body": "Put it behind a reverse-proxy, like `caddy` and forward port 80 and 443 from your router to the computer where caddy is running."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-08T04:45:53Z",
        "body": "What you need is only a accessible IP."
      }
    ]
  },
  {
    "number": 1383,
    "title": "[Question]: Bypassing/purging problematic tasks ?",
    "created_at": "2024-07-05T01:21:54Z",
    "closed_at": "2024-08-23T08:59:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1383",
    "body": "### Describe your problem\n\nA problematic task (how it's generated is unknown) is clogging up all other new tasks dispatched including non-PDF ones. The problematic task is nowhere to be found to be canceled in the WebUI. Currently the backend is giving out such errors constantly:\r\n```\r\nragflow-server  | [WARNING] Load term.freq FAIL!\r\nragflow-server  | Traceback (most recent call last):\r\nragflow-server  |   File \"/ragflow/rag/svr/task_executor.py\", line 375, in <module>\r\nragflow-server  |     main()\r\nragflow-server  |   File \"/ragflow/rag/svr/task_executor.py\", line 294, in main\r\nragflow-server  |     rows = collect()\r\nragflow-server  |   File \"/ragflow/rag/svr/task_executor.py\", line 117, in collect\r\nragflow-server  |     assert tasks, \"{} empty task!\".format(msg[\"id\"])\r\nragflow-server  | AssertionError: 2077fa703a6311efbc6f0242ac120006 empty task!\r\nragflow-mysql   | 2024-07-05T01:08:14.129120Z 28 [Note] Aborted connection 28 to db: 'rag_flow' user: 'root' host: '172.19.0.6' (Got an error reading communication packets)\r\n```\r\n`docker compose down` then `docker compose up` doesn't resolve the issue.\r\n\r\nIs there a way to manually remove this problematic task? Additionally, is there a mechanism for task purging/canceling on error internally ?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1383/comments",
    "author": "Randname666",
    "comments": [
      {
        "user": "guoyuhao2330",
        "created_at": "2024-07-05T02:13:55Z",
        "body": "This problem is due to the fact that you have generated dirty data as a result of multiple reboots, however it does not affect the operation,you can ignore this problem."
      },
      {
        "user": "Randname666",
        "created_at": "2024-07-05T08:42:52Z",
        "body": "> This problem is due to the fact that you have generated dirty data as a result of multiple reboots, however it does not affect the operation,you can ignore this problem.\r\n\r\nBut unfortunately, that one problematic task is clogging up all other new tasks dispatched. It simply goes away by waiting?\r\n\r\nI ended up purging all the volumes of docker used by RagFlow. That fixed the issue, but of course with that, all the documents are gone which is definitely not a thing to perform if there are already a lot of documents processed in it."
      },
      {
        "user": "Sephieroth",
        "created_at": "2024-08-30T08:36:59Z",
        "body": "I have the same problem. \r\n\r\nI solve the problem by deleting data in Redis Finally.\r\n\r\n`import redis\r\nr = redis.Redis(host=\"0.0.0.0\",port=6379,password='infini_rag_flow')\r\nkeys = r.keys('*') # keys are [b\"rag_flow_svr_queue\"]\r\nobj = r.delete('rag_flow_svr_queue')\r\n` \r\n\r\nAfter deleting the data, the parsing process works well.\r\n"
      }
    ]
  },
  {
    "number": 1375,
    "title": "[Question]: The order of the bounding box",
    "created_at": "2024-07-04T08:01:26Z",
    "closed_at": "2024-07-05T06:35:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1375",
    "body": "### Describe your problem\n\nFor single-column documents, it can be understood that the bboxes output by the `Recognizer` are arranged from top to bottom. However, for complex PDFs such as those with dual columns, what rules do the bboxes follow for their ordering?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1375/comments",
    "author": "DiaQusNet",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-05T06:35:41Z",
        "body": " Prioritize by the x value, followed by the y value in sorting."
      }
    ]
  },
  {
    "number": 1357,
    "title": "[Question]: Is there a way to solely utilize the document parsing functionality?",
    "created_at": "2024-07-03T09:18:09Z",
    "closed_at": "2024-07-07T07:10:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1357",
    "body": "### Describe your problem\r\n\r\nI would like to leverage the document parsing module in the RAGflow technology, but there isn't much detailed description of this part in the project. Is there a project specifically dedicated to implementing this aspect?\r\nTo replace such as RecursiveCharacterTextSplitter in Langchain",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1357/comments",
    "author": "ZhichengQian1",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-04T01:31:27Z",
        "body": "Please refer to rag/app/*.py."
      },
      {
        "user": "ZhichengQian1",
        "created_at": "2024-07-04T01:46:50Z",
        "body": "Thank you for your reply!\r\n"
      }
    ]
  },
  {
    "number": 1334,
    "title": "[Question]: can not run by introduction",
    "created_at": "2024-07-01T09:53:36Z",
    "closed_at": "2024-07-03T01:29:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1334",
    "body": "### Describe your problem\n\n![Uploading ‰ºÅ‰∏öÂæÆ‰ø°Êà™Âõæ_20240701175053.png‚Ä¶]()\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1334/comments",
    "author": "shipengcheng1",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-02T01:25:41Z",
        "body": "Sorry, your uploaded image can't been download. Check the link please."
      }
    ]
  },
  {
    "number": 1330,
    "title": "[Question]: After deploy ragflow on local, when i do retrieval testing, it always pose a network error.",
    "created_at": "2024-07-01T06:55:13Z",
    "closed_at": "2024-07-03T01:33:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1330",
    "body": "### Describe your problem\n\nAfter deploy ragflow on local, when i do retrieval testing, it always pose a network error.\r\n\r\n**ConnectionError('<urllib3.connection.HTTPConnection object at 0x7f583d2be3e0>: Failed to establish a new connection: [Errno 111] Connection refused', errors=(ConnectionError('<urllib3.connection.HTTPConnection object at 0x7f599a61e6e0>: Failed to establish a new connection: [Errno 111] Connection refused', errors=(NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f599a61e6e0>: Failed to establish a new connection: [Errno 111] Connection refused'),)), ConnectionError('<urllib3.connection.HTTPConnection object at 0x7f583f4d6590>: Failed to establish a new connection: [Errno 111] Connection refused', errors=(NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f583f4d6590>: Failed to establish a new connection: [Errno 111] Connection refused'),)), ConnectionError('<urllib3.connection.HTTPConnection object at 0x7f583f4d52a0>: Failed to establish a new connection: [Errno 111] Connection refused', errors=(NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f583f4d52a0>: Failed to establish a new connection: [Errno 111] Connection refused'),))))**",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1330/comments",
    "author": "amdongyang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-02T01:30:35Z",
        "body": "It can't access ES, Mysql or Minio. Please check all the hosts parts in conf/service_conf.yaml."
      }
    ]
  },
  {
    "number": 1326,
    "title": "[Question]: as a local project, Does it`s runtime depend on GPU ?  ",
    "created_at": "2024-07-01T03:32:22Z",
    "closed_at": "2024-07-04T12:29:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1326",
    "body": "### Describe your problem\n\nas a local project, Does it`s runtime depend on GPU source?   I saw in the readme that it needs CPU >= 4 cores RAM >= 16 GB ,  but it also needs cuda to launch the service ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1326/comments",
    "author": "qinlg",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-02T01:37:32Z",
        "body": "No, it does not. But GPU will accelerate embedding procedure when parsing file or retrieving chunks."
      }
    ]
  },
  {
    "number": 1223,
    "title": "About answer truncation",
    "created_at": "2024-06-20T03:08:03Z",
    "closed_at": "2024-06-20T07:56:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1223",
    "body": "### Describe your problem\n\nI did not see the processing after the answer was truncated, and I could not reproduce the phenomenon of truncation, does anyone know[Question]: ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1223/comments",
    "author": "ywang-wy",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-20T07:56:33Z",
        "body": "In rag/llm/chat_model.py"
      }
    ]
  },
  {
    "number": 1193,
    "title": "[Question]: Can RAGFlow be deployed locally?",
    "created_at": "2024-06-17T11:28:39Z",
    "closed_at": "2024-06-18T01:02:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1193",
    "body": "### Describe your problem\n\n‰ΩøÁî®bash entrypoint.sh‰πãÂêéÔºåÁî®ÁöÑÊòØT4GPU ,ÊÑüËßâÁâπÂà´ÊÖ¢ÔºåÁ¶ªÁ∫øÈÉ®ÁΩ≤ÁöÑÊó∂ÂÄôÔºå\r\n            embd_mdl = LLMBundle(r[\"tenant_id\"], LLMType.EMBEDDING, llm_name=r[\"embd_id\"], lang=r[\"language\"])ËøôË°å‰ª£Á†ÅÂíå\r\npaddle layouts: 0.1166270489920862Ëøô‰∏™Êó•Âøó‰πãÈó¥Èó¥ÈöîÂ∑Æ‰∏çÂ§ö10ÂàÜÈíü„ÄÇ‰∏çÁü•ÈÅìÊòØÂì™‰∏ÄÊ≠•Âç†Áî®‰∫ÜÊó∂Èó¥„ÄÇ\r\nÊàëÊü•Áúãnvidia-smi‰πãÂêéÔºåÂèëÁé∞ÊúâÂêØÂä®ÁöÑËøõÁ®ãÂ•ΩÂÉèÊúâ‰ΩøÁî®GPUÔºå‰ΩÜÂ∞±ÁÆó‰∏ç‰ΩøÁî®GPUÔºåÈÄüÂ∫¶‰πü‰∏ç‰ºöÊúâ10ÂàÜÈíüÂ∑¶Âè≥Âêß",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1193/comments",
    "author": "DAAworld",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-06-17T14:09:17Z",
        "body": "We intend to create an international community, so we encourage using English for discussion. Thank you."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-18T01:02:42Z",
        "body": "It's probably downloading embedding model.\r\nGPU can only accelerate embedding procedure. And you need to change docker-compose..yaml a little bit."
      },
      {
        "user": "DAAworld",
        "created_at": "2024-06-18T02:24:42Z",
        "body": "> It's probably downloading embedding model. GPU can only accelerate embedding procedure. And you need to change docker-compose..yaml a little bit.\r\n\r\nThat's a complete offline state. I feel that it is time to ask the external network timeout, but I don't know which part of the code."
      }
    ]
  },
  {
    "number": 1189,
    "title": "dependency conflict[Question]: ",
    "created_at": "2024-06-17T09:37:59Z",
    "closed_at": "2024-09-28T10:01:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1189",
    "body": "### Describe your problem\n\nWhen I run the `pip install -r requirements.txt` command I get an errorÔºö\r\n```bash\r\nERROR: Cannot install -r requirements.txt (line 139), -r requirements.txt (line 77) and pytz==2024.1 because these package versions have conflicting dependencies.\r\n\r\nThe conflict is caused by:\r\n    The user requested pytz==2024.1\r\n    pandas 2.2.1 depends on pytz>=2020.1\r\n    volcengine 1.0.141 depends on pytz==2020.5\r\n\r\nTo fix this you could try to:\r\n1. loosen the range of package versions you've specified\r\n2. remove package versions to allow pip attempt to solve the dependency conflict\r\n``` ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1189/comments",
    "author": "Old-Lane",
    "comments": [
      {
        "user": "aopstudio",
        "created_at": "2024-06-17T10:05:17Z",
        "body": "You can delete `pytz==2024.1` in requirements.txt. It will be automatically installed by other dependencies."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-18T01:06:24Z",
        "body": "We have refined the requirements.txt. What about the latest one?"
      },
      {
        "user": "Old-Lane",
        "created_at": "2024-06-18T01:52:21Z",
        "body": "> You can delete `pytz==2024.1` in requirements.txt. It will be automatically installed by other dependencies.\r\n\r\nThanks, no errors have been reported since then"
      },
      {
        "user": "Old-Lane",
        "created_at": "2024-06-18T01:55:21Z",
        "body": "> We have refined the requirements.txt. What about the latest one?\r\n\r\nThis doesn't work, it's still the same error."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-19T00:51:17Z",
        "body": "pytz==2024.1 deleted."
      },
      {
        "user": "TeslaZY",
        "created_at": "2024-06-24T04:21:31Z",
        "body": "ÊúÄÊñ∞ÁöÑmainÂàÜÊîØÔºåÂÆâË£Ö‰æùËµñÊä•Èîô„ÄÇ\r\nINFO: pip is looking at multiple versions of volcengine to determine which version is compatible with other requirements. This could take a while.\r\nERROR: Cannot install -r requirements.txt (line 138), -r requirements.txt (line 52) and pycryptodome==3.20.0 because these package versions have conflicting dependencies.\r\n\r\nThe conflict is caused by:\r\n    The user requested pycryptodome==3.20.0\r\n    minio 7.2.4 depends on pycryptodome\r\n    volcengine 1.0.141 depends on pycryptodome==3.9.9\r\nÈúÄË¶Å‰øÆÊîπvolcengineÁöÑ‰æùËµñÁâàÊú¨ËøòÊòØ‰øÆÊîπpycryptodomeÁöÑÁâàÊú¨„ÄÇ\r\n\r\n\r\n\r\n\r\n> We have refined the requirements.txt. What about the latest one?\r\n\r\n"
      },
      {
        "user": "yuzhichang",
        "created_at": "2024-09-28T10:01:54Z",
        "body": "We've replaced pip with poetry."
      }
    ]
  },
  {
    "number": 1181,
    "title": "[Question]: File is not a zip file.",
    "created_at": "2024-06-17T03:45:33Z",
    "closed_at": "2024-06-18T01:19:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1181",
    "body": "### Describe your problem\n\n---\r\n[INFO] [2024-06-17 03:37:34,889] [_internal._log] [line:96]: 172.22.0.6 - - [17/Jun/2024 03:37:34] \"GET /v1/document/list?kb_id=009fba942c5811efb7c90242ac160006&page=1&page_size=10 HTTP/1.1\" 200 -\r\nTraceback (most recent call last):\r\n  File \"/ragflow/rag/svr/task_executor.py\", line 146, in build\r\n    cks = chunker.chunk(row[\"name\"], binary=binary, from_page=row[\"from_page\"],\r\n  File \"/ragflow/rag/app/naive.py\", line 139, in chunk\r\n    sections = [(l, \"\") for l in excel_parser.html(binary) if l]\r\n  File \"/ragflow/deepdoc/parser/excel_parser.py\", line 26, in html\r\n    wb = load_workbook(BytesIO(fnm))\r\n  File \"/usr/local/lib/python3.10/dist-packages/openpyxl/reader/excel.py\", line 344, in load_workbook\r\n    reader = ExcelReader(filename, read_only, keep_vba,\r\n  File \"/usr/local/lib/python3.10/dist-packages/openpyxl/reader/excel.py\", line 123, in __init__\r\n    self.archive = _validate_archive(fn)\r\n  File \"/usr/local/lib/python3.10/dist-packages/openpyxl/reader/excel.py\", line 95, in _validate_archive\r\n    archive = ZipFile(filename, 'r')\r\n  File \"/usr/lib/python3.10/zipfile.py\", line 1269, in __init__\r\n    self._RealGetContents()\r\n  File \"/usr/lib/python3.10/zipfile.py\", line 1336, in _RealGetContents\r\n    raise BadZipFile(\"File is not a zip file\")\r\nzipfile.BadZipFile: File is not a zip file\r\n---",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1181/comments",
    "author": "water-2022",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-18T01:19:22Z",
        "body": "Please use EXCEL to open it and 'save as' it again before uploading.\r\nIt  seems our open source excel component can't read it probably because of version issure."
      },
      {
        "user": "water-2022",
        "created_at": "2024-06-20T03:27:11Z",
        "body": "> Please use EXCEL to open it and 'save as' it again before uploading. It seems our open source excel component can't read it probably because of version issure.\r\n\r\nI have tried many times, but I still encounter the same error. I don't understand. When I open this file using WPS, there is no issue. I have tried using other XLXS files several times, but the error persists. The files also open correctly in WPS."
      }
    ]
  },
  {
    "number": 1171,
    "title": "[Question]: Layout Detection is not happening when running in Local",
    "created_at": "2024-06-15T14:01:38Z",
    "closed_at": "2024-07-18T01:09:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1171",
    "body": "### Describe your problem\n\nHi Team,\r\nI tried both versions your demo.ragflow and tried running at local as well. by trying with exact same embeddings same chunking method and each and every other settings were same. the result i got was different so the only change i saw was that on demo.ragflow when i activate layout detection it was working fine but in my local whether i activate layout detection or not it was not detecting the layout. can you help me identifying what might be the issue?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1171/comments",
    "author": "AJAYSINGH1512",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-06-16T14:20:04Z",
        "body": "Models used in demo are different from and better than opensouce models."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-17T00:29:06Z",
        "body": "If you want to change the configuration of parsing after uploading, you need to change it file by file, do you?"
      },
      {
        "user": "AJAYSINGH1512",
        "created_at": "2024-06-30T09:40:27Z",
        "body": "@KevinHuSh currently it seems that way only"
      },
      {
        "user": "AJAYSINGH1512",
        "created_at": "2024-06-30T09:41:15Z",
        "body": "@JinHai-CN are they trained on the same base model or they are completely different models?\r\n"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-18T01:09:25Z",
        "body": "Same model but different data."
      }
    ]
  },
  {
    "number": 1170,
    "title": "[Question]: docker compose failed!",
    "created_at": "2024-06-15T10:03:48Z",
    "closed_at": "2024-06-28T03:35:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1170",
    "body": "### Describe your problem\n\n(ragflow) [root@master docker]# docker compose -f docker-compose-CN.yml up -d\r\n[+] Running 9/11\r\n ‚†º es01 [‚£ø‚£ø‚£ø‚£ø‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø] Pulling                                                                                                                                                                           9110.5s \r\n   ‚úî 9e61d8b90935 Pull complete                                                                                                                                                                          83.5s \r\n   ‚úî b72403a59eb9 Pull complete                                                                                                                                                                          85.0s \r\n   ‚úî 9fe4457bccf6 Pull complete                                                                                                                                                                          85.0s \r\n   ‚úî 89732bc75041 Pull complete                                                                                                                                                                          85.1s \r\n   ‚†¶ 7d1b8a7d0cf6 Downloading                                                                                                                                                                          9091.6s \r\n   ‚úî 5f0c732baa5d Download complete                                                                                                                                                                      57.7s \r\n   ‚úî df9f9c79894f Download complete                                                                                                                                                                      65.2s \r\n   ‚úî 4cfe26a355c8 Download complete                                                                                                                                                                      73.2s \r\n   ‚úî 4d9c5e900237 Download complete                                                                                                                                                                      81.7s \r\n   ‚úî bc9c1e3bbcf8 Download complete                                                                                                                                                                      87.9s \r\nreceived unexpected HTTP status: 504 Gateway Time-out",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1170/comments",
    "author": "water-2022",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-06-15T13:53:06Z",
        "body": "Check your network environment."
      },
      {
        "user": "adzhua",
        "created_at": "2024-06-18T08:52:19Z",
        "body": "Encountered the same issue."
      }
    ]
  },
  {
    "number": 1146,
    "title": "[Question]: Team workspace",
    "created_at": "2024-06-13T16:15:55Z",
    "closed_at": "2024-06-14T01:09:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1146",
    "body": "Hello, I have noticed that the functionality of the team workspace is currently not implemented. There is a button, but it does not respond when clicked. Will your team consider implementing this feature in the future?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1146/comments",
    "author": "YangXuepei",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-14T01:09:03Z",
        "body": "Of course, but this would not be open sourced."
      },
      {
        "user": "wangtao19871205",
        "created_at": "2024-06-14T06:41:27Z",
        "body": "Â¶Ç‰ΩïÂêëÂõ¢ÈòüÊ∑ªÂä†ÂÖ∂‰ªñ‰∫∫ÔºåÊàëÊÉ≥ÊääÁü•ËØÜÂ∫ìÂÖ±‰∫´ÁªôÂÖ∂‰ªñÂõ¢ÈòüÊàêÂëòÔºåÁõÆÂâçÊòØ‰∏çÊòØÊ≤°ÊúâËøô‰∏™ÂäüËÉΩ"
      },
      {
        "user": "YangXuepei",
        "created_at": "2024-06-16T14:54:26Z",
        "body": "> Â¶Ç‰ΩïÂêëÂõ¢ÈòüÊ∑ªÂä†ÂÖ∂‰ªñ‰∫∫ÔºåÊàëÊÉ≥ÊääÁü•ËØÜÂ∫ìÂÖ±‰∫´ÁªôÂÖ∂‰ªñÂõ¢ÈòüÊàêÂëòÔºåÁõÆÂâçÊòØ‰∏çÊòØÊ≤°ÊúâËøô‰∏™ÂäüËÉΩ\r\n\r\nLook like so."
      },
      {
        "user": "CamusGao",
        "created_at": "2024-06-17T05:44:28Z",
        "body": "> > Â¶Ç‰ΩïÂêëÂõ¢ÈòüÊ∑ªÂä†ÂÖ∂‰ªñ‰∫∫ÔºåÊàëÊÉ≥ÊääÁü•ËØÜÂ∫ìÂÖ±‰∫´ÁªôÂÖ∂‰ªñÂõ¢ÈòüÊàêÂëòÔºåÁõÆÂâçÊòØ‰∏çÊòØÊ≤°ÊúâËøô‰∏™ÂäüËÉΩ\r\n> \r\n> Look like so.\r\n\r\n@wangtao19871205 \r\n> > Â¶Ç‰ΩïÂêëÂõ¢ÈòüÊ∑ªÂä†ÂÖ∂‰ªñ‰∫∫ÔºåÊàëÊÉ≥ÊääÁü•ËØÜÂ∫ìÂÖ±‰∫´ÁªôÂÖ∂‰ªñÂõ¢ÈòüÊàêÂëòÔºåÁõÆÂâçÊòØ‰∏çÊòØÊ≤°ÊúâËøô‰∏™ÂäüËÉΩ\r\n> \r\n> Look like so.\r\n\r\nset your kdb permission to team and\r\n```sql\r\ninsert into user_tenant (id,create_time,create_date,update_time,update_date,user_id,tenant_id,`role`,invited_by,status)\r\nvalues (replace(uuid(),\"-\",\"\"),unix_timestamp() * 1000,now(),unix_timestamp() * 1000,now(),'your_team_member_id','your_tenant_id','owner','your_id','1')\r\n``` \r\nthen your team member could see your kdb. but doesn't work for dialog"
      },
      {
        "user": "ZKeeer",
        "created_at": "2024-09-06T09:36:12Z",
        "body": "> Of course, but this would not be open sourced.\r\n\r\n@KevinHuSh When do you expect to be ready? I really want to be your first paying customer."
      }
    ]
  },
  {
    "number": 1116,
    "title": "[Question]: How to use web data?",
    "created_at": "2024-06-11T09:39:53Z",
    "closed_at": "2024-06-16T15:41:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1116",
    "body": "### Describe your problem\n\nFor html web pages, how to process into the knowledge baseÔºü",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1116/comments",
    "author": "Haitons",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-12T02:04:51Z",
        "body": "'Naive'  parsing method support html file."
      }
    ]
  },
  {
    "number": 1100,
    "title": "[Question]:  How to access other oauthÔºü",
    "created_at": "2024-06-08T08:09:44Z",
    "closed_at": "2024-06-11T00:45:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1100",
    "body": "### Describe your problem\n\nI need to access enterprise oauth2, but I am not familiar with the umi and don‚Äôt know where to modify it.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1100/comments",
    "author": "Dpuntu",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-11T00:45:38Z",
        "body": "For the front end, you just need to put a link on the page of sign-in.\r\nFor the backend, you can search github/feishu in the entire project. \r\nThese places need to be taken care of."
      }
    ]
  },
  {
    "number": 1094,
    "title": "[Question]: Change RAGFLOW_VERSION to dev in docker/.env if you're using latest codeÔºå Can't connect to ES cluster",
    "created_at": "2024-06-07T06:33:59Z",
    "closed_at": "2024-06-07T07:11:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1094",
    "body": "### Describe your problem\n\nTraceback (most recent call last):\r\n  File \"/ragflow/rag/svr/task_executor.py\", line 28, in <module>\r\n    from api.db.services.file2document_service import File2DocumentService\r\n  File \"/ragflow/api/db/services/__init__.py\", line 18, in <module>\r\n    from .user_service import UserService\r\n  File \"/ragflow/api/db/services/user_service.py\", line 22, in <module>\r\n    from api.db.db_models import DB, UserTenant\r\n  File \"/ragflow/api/db/db_models.py\", line 32, in <module>\r\n    from api.settings import DATABASE, stat_logger, SECRET_KEY\r\n  File \"/ragflow/api/settings.py\", line 35, in <module>\r\n    from rag.utils.es_conn import ELASTICSEARCH\r\n  File \"/ragflow/rag/utils/es_conn.py\", line 460, in <module>\r\n    ELASTICSEARCH = ESConnection()\r\n  File \"/ragflow/rag/utils/__init__.py\", line 12, in _singleton\r\n    instances[key] = cls(*args, **kw)\r\n  File \"/ragflow/rag/utils/es_conn.py\", line 24, in __init__\r\n    raise Exception(\"Can't connect to ES cluster\")\r\nException: Can't connect to ES cluster",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1094/comments",
    "author": "yuanpneg",
    "comments": [
      {
        "user": "Albedoww",
        "created_at": "2024-06-07T15:14:25Z",
        "body": "i have the same question too"
      },
      {
        "user": "HaoGuo98",
        "created_at": "2024-06-11T09:50:04Z",
        "body": "i have the same question too"
      },
      {
        "user": "wd-freehand",
        "created_at": "2024-06-12T07:03:18Z",
        "body": "‰øÆÊîπes_conn.py ÔºåÂä†‰∏äÈâ¥ÊùÉ     basic_auth=(settings.ES[\"username\"], settings.ES[\"password\"]) if \"username\" in settings.ES and \"password\" in settings.ES else None,"
      },
      {
        "user": "HaoGuo98",
        "created_at": "2024-06-12T07:35:25Z",
        "body": "i fix it by change /.env  ragflow-version from latest to dev."
      },
      {
        "user": "fire717",
        "created_at": "2024-06-12T09:48:24Z",
        "body": "> ‰øÆÊîπes_conn.py ÔºåÂä†‰∏äÈâ¥ÊùÉ basic_auth=(settings.ES[\"username\"], settings.ES[\"password\"]) if \"username\" in settings.ES and \"password\" in settings.ES else None,\r\n\r\nÊñ∞ÁâàÊú¨Ëá™Â∏¶Â∞±ÊúâËøôÂè•„ÄÇ\r\n\r\nÊàëÊòØË∑ëdevÊ≤°ÈóÆÈ¢òÔºå‰ΩÜÊòØËß£ÊûêÂæàÊÖ¢‰∏îÊä•Èîôindex failÔºåÁÑ∂ÂêéÊÉ≥Â∞ùËØïÂõ∫ÂÆöÁâàÊú¨ÔºåËØï‰∫Ü0.7.0Âíå0.6.0ÈÉΩÊòØException: Can't connect to ES cluster\r\n"
      },
      {
        "user": "fire717",
        "created_at": "2024-06-12T10:55:06Z",
        "body": "> > ‰øÆÊîπes_conn.py ÔºåÂä†‰∏äÈâ¥ÊùÉ basic_auth=(settings.ES[\"username\"], settings.ES[\"password\"]) if \"username\" in settings.ES and \"password\" in settings.ES else None,\r\n> \r\n> Êñ∞ÁâàÊú¨Ëá™Â∏¶Â∞±ÊúâËøôÂè•„ÄÇ\r\n> \r\n> ÊàëÊòØË∑ëdevÊ≤°ÈóÆÈ¢òÔºå‰ΩÜÊòØËß£ÊûêÂæàÊÖ¢‰∏îÊä•Èîôindex failÔºåÁÑ∂ÂêéÊÉ≥Â∞ùËØïÂõ∫ÂÆöÁâàÊú¨ÔºåËØï‰∫Ü0.7.0Âíå0.6.0ÈÉΩÊòØException: Can't connect to ES cluster\r\n\r\nÊûúÁÑ∂ÂàáÊç¢ÁâàÊú¨Ôºå‰πüË¶ÅÂàáÊç¢Áõ∏Â∫î‰ª£Á†ÅÔºå‰∏çÊòØÁõ¥Êé•ÊãâdockerÂ∞±Ë°å‰∫ÜÔºåÊç¢‰∫ÜÂØπ‰∫éÁâàÊú¨ÁöÑ‰ª£Á†ÅÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ"
      },
      {
        "user": "yangboz",
        "created_at": "2024-07-03T02:52:43Z",
        "body": "> > > ‰øÆÊîπes_conn.py ÔºåÂä†‰∏äÈâ¥ÊùÉ basic_auth=(settings.ES[\"username\"], settings.ES[\"password\"]) if \"username\" in settings.ES and \"password\" in settings.ES else None,\r\n> > \r\n> > \r\n> > Êñ∞ÁâàÊú¨Ëá™Â∏¶Â∞±ÊúâËøôÂè•„ÄÇ\r\n> > ÊàëÊòØË∑ëdevÊ≤°ÈóÆÈ¢òÔºå‰ΩÜÊòØËß£ÊûêÂæàÊÖ¢‰∏îÊä•Èîôindex failÔºåÁÑ∂ÂêéÊÉ≥Â∞ùËØïÂõ∫ÂÆöÁâàÊú¨ÔºåËØï‰∫Ü0.7.0Âíå0.6.0ÈÉΩÊòØException: Can't connect to ES cluster\r\n> \r\n> ÊûúÁÑ∂ÂàáÊç¢ÁâàÊú¨Ôºå‰πüË¶ÅÂàáÊç¢Áõ∏Â∫î‰ª£Á†ÅÔºå‰∏çÊòØÁõ¥Êé•ÊãâdockerÂ∞±Ë°å‰∫ÜÔºåÊç¢‰∫ÜÂØπ‰∫éÁâàÊú¨ÁöÑ‰ª£Á†ÅÂ∞±ÂèØ‰ª•‰∫Ü\r\nÊàëËøôÊòØÂú®ÂÜÖÈÉ®ÊµãËØïÊúçÂä°Âô®ÈÖçÁΩÆ‰∫Ü0.7.0ÁâàÊú¨ÁöÑ‰∏ÄÂ•ó‰ª£Á†ÅÔºåÊúÄÂêéËøêË°ådocker compose  ÊúçÂä°ÂêéÔºåÊîπÂèòÊú¨Âú∞ESÁöÑËøûÊé•‰∏ªÊú∫IP‰ª£Á†ÅÔºåÊâçËøûÊé•ÊàêÂäüÔºå"
      },
      {
        "user": "1148330040",
        "created_at": "2024-07-11T09:20:51Z",
        "body": "> > > > ‰øÆÊîπes_conn.py ÔºåÂä†‰∏äÈâ¥ÊùÉ basic_auth=(settings.ES[\"username\"], settings.ES[\"password\"]) if \"username\" in settings.ES and \"password\" in settings.ES else None,\r\n> > > \r\n> > > \r\n> > > Êñ∞ÁâàÊú¨Ëá™Â∏¶Â∞±ÊúâËøôÂè•„ÄÇ\r\n> > > ÊàëÊòØË∑ëdevÊ≤°ÈóÆÈ¢òÔºå‰ΩÜÊòØËß£ÊûêÂæàÊÖ¢‰∏îÊä•Èîôindex failÔºåÁÑ∂ÂêéÊÉ≥Â∞ùËØïÂõ∫ÂÆöÁâàÊú¨ÔºåËØï‰∫Ü0.7.0Âíå0.6.0ÈÉΩÊòØException: Can't connect to ES cluster\r\n> > \r\n> > \r\n> > ÊûúÁÑ∂ÂàáÊç¢ÁâàÊú¨Ôºå‰πüË¶ÅÂàáÊç¢Áõ∏Â∫î‰ª£Á†ÅÔºå‰∏çÊòØÁõ¥Êé•ÊãâdockerÂ∞±Ë°å‰∫ÜÔºåÊç¢‰∫ÜÂØπ‰∫éÁâàÊú¨ÁöÑ‰ª£Á†ÅÂ∞±ÂèØ‰ª•‰∫Ü\r\n> > ÊàëËøôÊòØÂú®ÂÜÖÈÉ®ÊµãËØïÊúçÂä°Âô®ÈÖçÁΩÆ‰∫Ü0.7.0ÁâàÊú¨ÁöÑ‰∏ÄÂ•ó‰ª£Á†ÅÔºåÊúÄÂêéËøêË°ådocker compose  ÊúçÂä°ÂêéÔºåÊîπÂèòÊú¨Âú∞ESÁöÑËøûÊé•‰∏ªÊú∫IP‰ª£Á†ÅÔºåÊâçËøûÊé•ÊàêÂäüÔºå\r\n\r\nËÄÅÂì•ÊÄé‰πàÊï¥ÁöÑÔºüÊàëÁúã‰∫Ü‰ª£Á†ÅÈáåÈù¢ÁöÑRAGFLOW_VERSIONÈÉΩÂ∑≤ÁªèÊòØdevÁâàÊú¨‰∫ÜÔºåÁõ¥Êé•compaseÁöÑdocker-compose-base.ymlÔºåËøòÊòØÂá∫Áé∞Êó†Ê≥ïËøûÊé•es clusterÁöÑÈóÆÈ¢ò..."
      }
    ]
  },
  {
    "number": 1077,
    "title": "[Question]: Model(qwen-plus) not authorized",
    "created_at": "2024-06-06T06:59:06Z",
    "closed_at": "2024-06-07T01:26:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1077",
    "body": "### Describe your problem\n\n‰∏∫‰ªÄ‰πàÊèêÁ§∫Ëøô‰∏™ÈîôËØØÔºüÊòéÊòéAPIkeyÂ∑≤ÁªèÈÖçÁΩÆ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1077/comments",
    "author": "JianSphere",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-07T01:26:52Z",
        "body": "Select the model in system setting or dialog setting that's available."
      }
    ]
  },
  {
    "number": 1040,
    "title": "[Question]: ERROR: Account abnormal. Please ensure it's on good standing. ",
    "created_at": "2024-06-03T09:43:22Z",
    "closed_at": "2024-07-18T01:31:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1040",
    "body": "### Describe your problem\n\nIn tag 0.7.0 , when i ask a question,  ERROR: Account abnormal. Please ensure it's on good standing. \r\nbut  when i callback to tag 0.6.0, all is well.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1040/comments",
    "author": "wzikang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-04T01:26:09Z",
        "body": "In version 0.7.0, the default embedding changed a bit, I'm afraid you need to redo parsing your documents using a valid embedding model."
      },
      {
        "user": "Romanzhang2024",
        "created_at": "2024-06-07T10:57:48Z",
        "body": "\r\nThe LLM factory is ali:Tongyi-Qianwen, is there a problem with this LLM ? dont support?"
      },
      {
        "user": "Romanzhang2024",
        "created_at": "2024-06-12T02:44:44Z",
        "body": "\r\n11/5000\r\nHope to solve the problem as soon as possible, thank you"
      },
      {
        "user": "cauwulixuan",
        "created_at": "2024-06-26T01:59:18Z",
        "body": "meet the same issue. any solutions? cannot connect to 'dashscope.aliyuncs.com'"
      },
      {
        "user": "raholly",
        "created_at": "2024-07-08T02:05:53Z",
        "body": "Tongyi-Qianwen, same issue."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-18T01:31:01Z",
        "body": "Go to system setting > Model Providers > set a valid key of your selected models."
      }
    ]
  },
  {
    "number": 1032,
    "title": "[Question]: How can I chat with the single document?",
    "created_at": "2024-06-03T01:43:39Z",
    "closed_at": "2024-07-18T01:33:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1032",
    "body": "### Describe your problem\n\nIs there a way to chat with the single document?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1032/comments",
    "author": "fan1jun",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-04T01:30:56Z",
        "body": "Use 'One' as the parsing method."
      },
      {
        "user": "fan1jun",
        "created_at": "2024-06-05T05:18:46Z",
        "body": "Do you mean I build a knowledge base with just only one document?"
      },
      {
        "user": "Seaver-Zhu",
        "created_at": "2024-07-17T09:15:08Z",
        "body": "> Do you mean I build a knowledge base with just only one document?\r\n\r\nyou can try it."
      }
    ]
  },
  {
    "number": 1029,
    "title": "How should we deal with the error problem of Redis?[Question]: ",
    "created_at": "2024-06-02T04:22:23Z",
    "closed_at": "2024-06-03T00:32:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1029",
    "body": "### Describe your problem\n\nWhen I upgraded from v0.4 to v0.7, Redis appeared.Error no such key,And the chat reports an error ERROR: BadRequestError (400,'search _ phase _ execution _ exception', 'failed to create query: field [q_1536_vec] does not exist in the mapping')",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1029/comments",
    "author": "lovewaves",
    "comments": [
      {
        "user": "xxz196801",
        "created_at": "2024-06-02T23:44:02Z",
        "body": "Êàë‰πüÂá∫Áé∞ÂêåÊ†∑ÈóÆÈ¢òÔºå‰∏çËøáÂú®6.0Â∞±Âá∫Áé∞RedisÊòæÁ§∫Error:\r\nno such key‰∏çÁü•ÈÅìÂ¶Ç‰ΩïËß£ÂÜ≥\r\n"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-06-03T00:32:48Z",
        "body": "Redis is used for task schedule, no such key is not a big deal if parsing works well.\r\nFor q_1536_vec, I'm afraid you need to redo parsing. The embedding model for parsing and chating is not the same model."
      },
      {
        "user": "xxz196801",
        "created_at": "2024-06-03T01:00:40Z",
        "body": "Ë∞¢Ë∞¢ÊÇ®ÁöÑÂõûÂ§çÔºåÊàëÁöÑÈóÆÈ¢òËß£ÂÜ≥‰∫ÜÔºÅ\r\n"
      }
    ]
  },
  {
    "number": 1028,
    "title": "[Question]: cannot start ragflow-server",
    "created_at": "2024-06-01T10:58:13Z",
    "closed_at": "2024-06-01T11:05:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1028",
    "body": "### Describe your problem\n\n(base) yumu@QLing:/mnt/d/QLing/llm_app/ragflow/docker$ sudo docker-compose -f docker-compose-CN.yml up -d\r\nWARN[0000] The \"ELASTIC_PASSWORD\" variable is not set. Defaulting to a blank string.\r\n[+] Building 0.0s (0/0)                                                                                  docker:default\r\n[+] Running 4/5\r\n ‚úî Container ragflow-redis   Running                                                                               0.0s\r\n ‚úî Container ragflow-mysql   Healthy                                                                               0.0s\r\n ‚úî Container ragflow-es-01   Healthy                                                                               0.0s\r\n ‚úî Container ragflow-minio   Running                                                                               0.0s\r\n ‚†∏ Container ragflow-server  Starting                                                                              1.3s\r\nError response from daemon: driver failed programming external connectivity on endpoint ragflow-server (d57d3bb0e3c77e349c26a4bc999be00cd66d916c0666f47b6733377c698aa95f): Error starting userland proxy: listen tcp4 0.0.0.0:443: bind: address already in use\r\n(base) yumu@QLing:/mnt/d/QLing/llm_app/ragflow/docker$ sudo lsof -i:443\r\n(base) yumu@QLing:/mnt/d/QLing/llm_app/ragflow/docker$",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1028/comments",
    "author": "QQR1",
    "comments": [
      {
        "user": "QQR1",
        "created_at": "2024-06-01T11:05:12Z",
        "body": "Ëß£ÂÜ≥‰∫ÜÔºåÁî®ÁöÑwslÔºåÊòØwindowsÁ≥ªÁªüÂç†Áî®‰∫Ü443Á´ØÂè£"
      },
      {
        "user": "ysf-gd",
        "created_at": "2024-07-31T07:26:25Z",
        "body": "ÊÉ≥ÈóÆ‰∏Ä‰∏ãwslÊòØ‰∏çÊòØÈô§‰∫ÜÂÆâË£ÖdockerÂ≠êÁ≥ªÁªüËøòË¶ÅÂÆâË£ÖunbuntunÂ≠êÁ≥ªÁªüÂëÄÔºüÊàëËøõÂÖ•dockerÁ≥ªÁªü‰πãÂêéÔºåËøêË°åchmod +x ./entrypoint.shÂíådocker compose up -dÊòæÁ§∫Ê≤°Êúâdocker-compose"
      }
    ]
  },
  {
    "number": 1012,
    "title": "[Question]: How to improve the parallelism of file parsing?",
    "created_at": "2024-05-31T08:12:12Z",
    "closed_at": "2024-06-03T02:13:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/1012",
    "body": "### Describe your problem\n\nI found that when I am processing multiple files at the same time, the parsing block is serial. \r\nAfter checking the server.py file, I found that the number of workers is only 1, and the parameters are not exposed in the configuration file.\r\n Is there any other way to improve the efficiency of parsing documents besides improving workers",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/1012/comments",
    "author": "liweiyang2023",
    "comments": [
      {
        "user": "CamusGao",
        "created_at": "2024-06-02T09:08:36Z",
        "body": "just see entrypoint.sh in docker folder and there is a variable WS. You could pass this variable to docker by using -e or writing into docker-compose.yml if you're using docker."
      },
      {
        "user": "liweiyang2023",
        "created_at": "2024-06-03T02:13:39Z",
        "body": "> just see entrypoint.sh in docker folder and there is a variable WS. You could pass this variable to docker by using -e or writing into docker-compose.yml if you're using docker.Âè™ÈúÄÂú® docker Êñá‰ª∂Â§π‰∏≠ÁúãÂà∞ entrypoint.shÔºåÂ∞±‰ºöÊúâ‰∏Ä‰∏™ÂèòÈáè WS„ÄÇÂ¶ÇÊûú‰ΩøÁî®ÁöÑÊòØ dockerÔºåÂàôÂèØ‰ª•‰ΩøÁî® -e ÊàñÂÜôÂÖ• docker-compose.yml Â∞ÜÊ≠§ÂèòÈáè‰º†ÈÄíÁªô docker„ÄÇ\r\n\r\nThank you for your answer! I have successfully improved the parsing using your method"
      }
    ]
  },
  {
    "number": 993,
    "title": "[Question]: the ragflow cna not fix jpg file?",
    "created_at": "2024-05-30T06:52:32Z",
    "closed_at": "2024-05-31T00:53:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/993",
    "body": "### Describe your problem\n\n[Question]: the ragflow cna not fix jpg file?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/993/comments",
    "author": "sanwei111",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-31T00:53:46Z",
        "body": "It can extract text info from a jpeg file."
      }
    ]
  },
  {
    "number": 990,
    "title": "[Question]: after run the naive.py, i can get several lines? but where is the table result?",
    "created_at": "2024-05-30T06:02:16Z",
    "closed_at": "2024-05-31T01:05:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/990",
    "body": "### Describe your problem\n\nafter run the naive.py, i can get several lines? but where is the table result?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/990/comments",
    "author": "sanwei111",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-31T01:05:39Z",
        "body": "Tables are formated in HTML."
      }
    ]
  },
  {
    "number": 989,
    "title": "[Question]: could you plz help me explain following codeÔºü",
    "created_at": "2024-05-30T05:40:34Z",
    "closed_at": "2024-05-31T01:09:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/989",
    "body": "### Describe your problem\n\nin pdf_parser.py,\r\n# merge chars in the same rect\r\n        recognize_sort_x_result = Recognizer.sort_X_firstly(chars, self.mean_width[pagenum - 1] // 4)\r\n        for c in recognize_sort_x_result:  # Ëøô‰∏™ÂáΩÊï∞Ë¶ÅÂπ≤Âòõ\r\n            ii = Recognizer.find_overlapped(c, bxs)\r\n            if ii is None:\r\n                self.lefted_chars.append(c)\r\n                continue\r\n            ch = c[\"bottom\"] - c[\"top\"]\r\n            bh = bxs[ii][\"bottom\"] - bxs[ii][\"top\"]\r\n            if abs(ch - bh) / max(ch, bh) >= 0.7 and c[\"text\"] != ' ':  # Êú¨Êù•ÊòØ0.7\r\n                self.lefted_chars.append(c)\r\n                continue\r\n            if c[\"text\"] == \" \" and bxs[ii][\"text\"]:\r\n                if re.match(r\"[0-9a-zA-Z,.?;:!%%]\", bxs[ii][\"text\"][-1]):\r\n                    bxs[ii][\"text\"] += \" \"\r\n            else:\r\n                bxs[ii][\"text\"] += c[\"text\"]",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/989/comments",
    "author": "sanwei111",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-31T01:09:11Z",
        "body": "It is for merging overlapped boxes which are sorted horizontally at the first place."
      }
    ]
  },
  {
    "number": 983,
    "title": "[Question]: i run the naive.py,what's the meaning of the result",
    "created_at": "2024-05-30T01:59:15Z",
    "closed_at": "2024-05-31T01:11:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/983",
    "body": "### Describe your problem\n\ni run the naive.py,what's the meaning of the result,outputs some result:\r\n-- Êï∞ÊçÆÊù•Ê∫êÊú¨Êä•Âëä‰ΩøÁî®Êï∞ÊçÆÂèäËµÑÊñô‰∏ªË¶ÅÊ∫êËá™ÂÖ¨ÂºÄÊï∞ÊçÆ„ÄÅÂÜÖÈÉ®ÁªüËÆ°Êä•Ë°®„ÄÅÁ¨¨‰∏âÊñπË∞ÉÁ†î„ÄÅË°åÊîøÊñá‰ª∂ÂèäÊä•ÂëäÁ≠âÁõ∏ÂÖ≥Êñá‰ª∂„ÄÇ@@1\t37.3\t409.3\t573.3\t584.0##Êä•ÂëäÊâπÂáÜÊú¨Êä•Âëä‰∫é2024 Âπ¥3Êúà22Êó•Ëé∑ÂæóËë£‰∫ã‰ºöÂÆ°ÈòÖÁ°ÆËÆ§ÔºåÊâπÂáÜÂèëÂ∏É„ÄÇ@@1\t37.3\t262.0\t626.3\t637.0##Êä•ÂëäËé∑Âèñw.hkexnews.hkÔºâÊàñÊú¨ÂÖ¨Âè∏ÁöÑÂÆòÊñπÁΩëÁ´ôÊú¨ÔºàÊä•h/ÊñáÔºâÂèäËé∑ÂèñËã±„ÄÇÊñáÂ¶Ç‰∏â‰∏≠‰∏™Ëã±ÁâàÊñáÊú¨Áâà‰æõÊú¨ËØªÊúâËÄÖ‰ªªÂèÇ‰ΩïÈòÖ‰∏çÔºåÁõ∏Êä•Á¨¶Âëä‰πãÁîµÂ§ÑÂ≠êÔºåÁâàÂ∫îÂèØ‰ª•Âú®‰∏≠ËÅîÊñá‰∫§ÁÆÄÊâÄ‰ΩìÁΩëÁâàÁ´ôÊú¨Ôºà‰∏∫wÂáÜw„ÄÇ@@1\t37.3\t559.0\t678.3\t700.3##\r\n-- ÊÑèËßÅÁÆ°Ê≤ªÊä•Âëä01@@1\t427.0\t559.7\t771.7\t782.7##\r\n\r\n\r\n1. where is the table result?\r\n2. how to parse?\r\n3. what's the meaning of every line: -- xxx.\r\n4. what's the meaning of every chunk of each line: such as   Êï∞ÊçÆÊù•Ê∫êÊú¨Êä•Âëä‰ΩøÁî®Êï∞ÊçÆÂèäËµÑÊñô‰∏ªË¶ÅÊ∫êËá™ÂÖ¨ÂºÄÊï∞ÊçÆ„ÄÅÂÜÖÈÉ®ÁªüËÆ°Êä•Ë°®„ÄÅÁ¨¨‰∏âÊñπË∞ÉÁ†î„ÄÅË°åÊîøÊñá‰ª∂ÂèäÊä•ÂëäÁ≠âÁõ∏ÂÖ≥Êñá‰ª∂„ÄÇ@@1\t37.3\t409.3\t573.3\t584.0##\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/983/comments",
    "author": "sanwei111",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-31T01:11:07Z",
        "body": "Text like this @@1 37.3 559.0 678.3 700.3## define the position of this chunk.\r\nYou could start the project if you don't mind."
      }
    ]
  },
  {
    "number": 975,
    "title": "[Question]: waht's the prupose of below code",
    "created_at": "2024-05-29T11:53:24Z",
    "closed_at": "2024-05-30T03:39:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/975",
    "body": "### Describe your problem\n\nin pdf_parser.py ,\r\n if sum([1 if e else 0 for e in self.is_english]) > len(self.page_images) / 2:\r\n            self.is_english = True\r\n        else:\r\n            self.is_english = False\r\n\r\n        self.is_english = False\r\n\r\n\r\nwhy do u set self.is_english = False finally?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/975/comments",
    "author": "sanwei111",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-30T03:39:03Z",
        "body": "Previously, different approaches were taken for handling languages, but the results were not satisfactory, so it was abandoned."
      }
    ]
  },
  {
    "number": 970,
    "title": "[Question]: ÂèØ‰ª•Ëß£Èáä‰∏ãËøô‰∏™‰ª£Á†Å‰ΩúÁî®Âêó",
    "created_at": "2024-05-29T09:00:04Z",
    "closed_at": "2024-05-29T09:47:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/970",
    "body": "### Describe your problem\n\n for c in Recognizer.sort_X_firstly(chars, self.mean_width[pagenum - 1] // 4):  # Ëøô‰∏™ÂáΩÊï∞Ë¶ÅÂπ≤Âòõ\r\n            ii = Recognizer.find_overlapped(c, bxs)\r\n            if ii is None:\r\n                self.lefted_chars.append(c)\r\n                continue\r\n            ch = c[\"bottom\"] - c[\"top\"]\r\n            bh = bxs[ii][\"bottom\"] - bxs[ii][\"top\"]\r\n            if abs(ch - bh) / max(ch, bh) >= 0.7 and c[\"text\"] != ' ':\r\n                self.lefted_chars.append(c)\r\n                continue\r\n            if c[\"text\"] == \" \" and bxs[ii][\"text\"]:\r\n                if re.match(r\"[0-9a-zA-Z,.?;:!%%]\", bxs[ii][\"text\"][-1]):\r\n                    bxs[ii][\"text\"] += \" \"\r\n            else:\r\n                bxs[ii][\"text\"] += c[\"text\"]\r\n                \r\n\r\n‰ª£Á†ÅÂú®pdf_parser.py\r\n                ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/970/comments",
    "author": "sanwei111",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-05-29T09:47:54Z",
        "body": "We intend to create an international community, would you please re-submit the issue in English, thank you very much ?"
      }
    ]
  },
  {
    "number": 942,
    "title": "reassemble the content into sentences which could be well comprehended by LLM",
    "created_at": "2024-05-27T13:54:28Z",
    "closed_at": "2024-07-18T01:53:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/942",
    "body": "### Describe your problem\n\nIn the readme of deepdoc, it is mentioned that tables will be converted into natural language sentences that are easy to handle by LLM. How is it implemented, or in which parts of the code?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/942/comments",
    "author": "Bill-WangJiLong",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-28T01:16:20Z",
        "body": "In deepdoc/vision/table_structure_recognizer.py, it's cooperated with deepdoc/parser/pdf_parser.py"
      },
      {
        "user": "Bill-WangJiLong",
        "created_at": "2024-05-28T05:27:52Z",
        "body": "Where will this part of the effect be output? I saw in the web demo that the table is output in HTML format"
      }
    ]
  },
  {
    "number": 923,
    "title": "[Question]: Streaming output does not emit one character at a time.",
    "created_at": "2024-05-25T06:15:07Z",
    "closed_at": "2024-05-27T00:33:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/923",
    "body": "### Describe your problem\n\nWhy does the stream output of Ragflow appear in chunks rather than having a typewriter effect, outputting one character at a time? Is there a way to adjust it to have a typewriter effect?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/923/comments",
    "author": "dashi6174",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-27T00:33:36Z",
        "body": "In my point of view, different LLMs have different streaming strategies. So you can yield one charactor at a time after LLM's response."
      }
    ]
  },
  {
    "number": 911,
    "title": "[Question]: since no redis connection.",
    "created_at": "2024-05-24T03:47:49Z",
    "closed_at": "2024-05-27T13:25:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/911",
    "body": "### Describe your problem\n\nragflow-server  | [WARNING] [2024-05-24 03:43:16,082] [synonym.__init__] [line:24]: Realtime synonym is disabled, since no redis connection.\r\nragflow-server  | [WARNING] [2024-05-24 03:43:16,301] [synonym.__init__] [line:24]: Realtime synonym is disabled, since no redis connection.\r\nragflow-server  | [WARNING] Load term.freq FAIL!\r\nragflow-server  | \r\nragflow-server  |     ____                 ______ __               \r\nragflow-server  |    / __ \\ ____ _ ____ _ / ____// /____  _      __\r\nragflow-server  |   / /_/ // __ `// __ `// /_   / // __ \\| | /| / /\r\nragflow-server  |  / _, _// /_/ // /_/ // __/  / // /_/ /| |/ |/ / \r\nragflow-server  | /_/ |_| \\__,_/ \\__, //_/    /_/ \\____/ |__/|__/  \r\nragflow-server  |               /____/                             \r\nragflow-server  | \r\nragflow-server  |     \r\nragflow-server  | Cannot assign requested address\r\nragflow-server  | Start to insert 2 OpenAI embedding models...\r\nragflow-server  | init web data success:0.012183904647827148",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/911/comments",
    "author": "gongxiansen",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-27T13:25:45Z",
        "body": "Ignore the warning logs."
      }
    ]
  },
  {
    "number": 892,
    "title": "[Question]: dependency failed to start: container ragflow-mysql is unhealthy",
    "created_at": "2024-05-23T02:09:09Z",
    "closed_at": "2024-05-24T01:03:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/892",
    "body": "### Describe your problem\n\nMAC OSÔºö\r\n\r\ndocker build logÔºö\r\n```shell\r\ndocker compose up -d\r\n```\r\nWARN[0000] The \"ELASTIC_PASSWORD\" variable is not set. Defaulting to a blank string. \r\n[+] Running 4/4\r\n ‚úî Container ragflow-redis  Running                                                                                         0.0s \r\n ‚úî Container ragflow-minio  Running                                                                                         0.0s \r\n ‚úî Container ragflow-es-01  Healthy                                                                                         0.5s \r\n ‚úò Container ragflow-mysql  Error                                                                                           0.5s \r\ndependency failed to start: container ragflow-mysql is unhealthy",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/892/comments",
    "author": "caixiongjiang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-24T01:03:25Z",
        "body": "Change mysql to mariadb in docker-compose-base.yml."
      }
    ]
  },
  {
    "number": 891,
    "title": "[Question]: Does ragflow support Azure OpenAI?",
    "created_at": "2024-05-23T01:53:42Z",
    "closed_at": "2024-05-23T03:17:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/891",
    "body": "### Describe your problem\n\nDoes ragflow support Azure OpenAI?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/891/comments",
    "author": "zerolovesea",
    "comments": [
      {
        "user": "JinHai-CN",
        "created_at": "2024-05-23T03:17:10Z",
        "body": "No, check #716 "
      }
    ]
  },
  {
    "number": 880,
    "title": "[Question]: images and tables",
    "created_at": "2024-05-22T08:30:51Z",
    "closed_at": "2024-07-18T01:58:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/880",
    "body": "Hi\r\nMy questions may sound very specific as I am working on a very interesting use case on the top of ragflow.\r\nIs there a way to extract the images from the pdf so if I ask in the chat to see the images I get the images only (now it says there are images in the pdf)? Even as I manually added images (uploaded them) to files and linked them to the knowledge base, the chat still didn't recognize that. (It will also makes more sense to be able to automate bulk action to link uploaded files to knowledge base rather than one by one.\r\n\r\nAnd it will be more powerful to have the tables in the document also extracted as separate chunks.\r\n\r\nIs my impression right that when you increase response length in the setting that impact the response quality? And how to solve that if you are pulling the answer using api calls?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/880/comments",
    "author": "Scoutink",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-24T01:28:12Z",
        "body": "Getting the images alone in chat is very interesting.\r\nFor chat API, you can get image id in response by which you can get the image by 'GET' /v1/document/get/<id>"
      },
      {
        "user": "xfYuan01",
        "created_at": "2024-06-14T07:43:28Z",
        "body": "Yeah I'm also working on something similar. I'm planning to extract an image from a pdf file in the knowledge base, and then hopefully feed that image to the llm for analysis (instead of using OCR cuz it's somewhat lossy for images, screenshots, etc.). Is that doable with ragflow? Especially the extracting image part."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-07-18T01:58:40Z",
        "body": "The images have already been recognized and extracted. The chunk list of a doc show them all."
      }
    ]
  },
  {
    "number": 835,
    "title": "[Question]: Parsing a small file very low",
    "created_at": "2024-05-19T07:30:42Z",
    "closed_at": "2024-05-20T00:39:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/835",
    "body": "### Describe your problem\n\nI just deployed the whole environment to local, and try to upload a very simple resume to parse it(only one page), but after hours the process status is still 0.4%(not change). What should I do?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/835/comments",
    "author": "whc10002",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-20T00:39:03Z",
        "body": "Sorry, resume parser is not open sourced yet."
      }
    ]
  },
  {
    "number": 758,
    "title": "[Question]: LookupError('Model(maidalun1020/bce-embedding-base_v1) not authorized')",
    "created_at": "2024-05-14T05:37:04Z",
    "closed_at": "2024-05-14T06:07:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/758",
    "body": "### Describe your problem\n\nAfter i update ragflowÔºå i can not use the chatbot which embeding model is QAnything.  And when i create a new kb, the embeding model can not find QAnything.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/758/comments",
    "author": "HaoGuo98",
    "comments": [
      {
        "user": "yuhua01",
        "created_at": "2024-09-29T08:00:32Z",
        "body": "Hello. How did you solve it, please?"
      }
    ]
  },
  {
    "number": 754,
    "title": "[Question]: [ERROR]Model(qwen-vl-max) not authorized",
    "created_at": "2024-05-14T02:28:44Z",
    "closed_at": "2024-05-15T00:57:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/754",
    "body": "### Describe your problem\n\nWhen I parse the image, it prompts that there is no qwen-vl. Isn't it using deepocr to parse?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/754/comments",
    "author": "zhudongwork",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-15T00:57:25Z",
        "body": "There're 2 phases. Fistly, OCR is used to recognize the text information in the picture. If it's not enough, apply multi-modal to get text information about the picture."
      }
    ]
  },
  {
    "number": 751,
    "title": "How to enhanced the speed of  TextRecognizer",
    "created_at": "2024-05-13T08:32:27Z",
    "closed_at": "2024-05-13T08:37:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/751",
    "body": "### Describe your problem\n\n2024-05-13 15:08:07.103 | DEBUG    | src.parser.ocrengine.tool.deepdoc.vision.ocr:__call__:621 - dt_boxes num : 73, elapsed : 0.07600879669189453\r\n2024-05-13 15:08:07.549 | INFO     | src.parser.ocrengine.tool.deepdoc.vision.ocr:__call__:366 - DeepDocË∑ëÈïøÂ∫¶‰∏∫1ÁöÑÁïåÈù¢ÈúÄË¶ÅÊó∂Èó¥0.43400025367736816s\r\n2024-05-13 15:08:09.257 | INFO     | src.parser.ocrengine.tool.deepdoc.vision.ocr:__call__:366 - DeepDocË∑ëÈïøÂ∫¶‰∏∫1ÁöÑÁïåÈù¢ÈúÄË¶ÅÊó∂Èó¥1.6890027523040771s\r\n2024-05-13 15:08:10.622 | INFO     | src.parser.ocrengine.tool.deepdoc.vision.ocr:__call__:366 - DeepDocË∑ëÈïøÂ∫¶‰∏∫1ÁöÑÁïåÈù¢ÈúÄË¶ÅÊó∂Èó¥1.3320000171661377s\r\n2024-05-13 15:08:10.643 | INFO     | src.parser.ocrengine.tool.deepdoc.vision.ocr:__call__:634 - rec_end_time -> ÈúÄË¶ÅÊó∂Èó¥3.531999349594116\r\n2024-05-13 15:08:10.644 | DEBUG    | src.parser.ocrengine.tool.deepdoc.vision.ocr:__call__:636 - rec_res num  : 73, elapsed : 3.5269999504089355",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/751/comments",
    "author": "813BoZai",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-13T08:37:07Z",
        "body": "Make it parallelly by enlarge 'WS' in docker/entrypoint.sh.\r\nAfter modify it, do not forget to docker build it."
      }
    ]
  },
  {
    "number": 749,
    "title": "[Question]:  Does deepdoc support high concurrency processing?",
    "created_at": "2024-05-13T07:53:05Z",
    "closed_at": "2024-05-13T08:59:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/749",
    "body": "### Describe your problem\n\nDoes deepdoc support high concurrency processing?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/749/comments",
    "author": "xuboot",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-13T08:59:22Z",
        "body": "Make it parallelly by enlarge 'WS' in docker/entrypoint.sh.\r\nAfter modify it, do not forget to docker build it."
      }
    ]
  },
  {
    "number": 711,
    "title": "xinference model mount failure",
    "created_at": "2024-05-10T07:17:52Z",
    "closed_at": "2024-05-11T01:25:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/711",
    "body": "### Describe your problem\n\nI started chatglm3-32k via xinference, then clicked inside xinference add model inside ragflow and entered\r\n{model category -> chat, model uid -> THUDM/chatglm3-6b-32k, base url -> ip+port of xinference service}\r\nfail to access model(THUDM/chatglm3-6b-32k). **ERROR**; Connection error.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/711/comments",
    "author": "ciaoyizhen",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-11T01:25:30Z",
        "body": "Do not forget add 'v1' to the URL.\r\nAnd keep that in mind: network in docker container is different from the host. So, make sure the IP you use is accessible in the ragflow container."
      }
    ]
  },
  {
    "number": 698,
    "title": "[Question]: How to improve search quality",
    "created_at": "2024-05-09T08:47:08Z",
    "closed_at": "2024-05-10T01:55:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/698",
    "body": "### Describe your problem\n\nI found that when searching, I searched based on keywords and did not have a good understanding of some semantics. How can I improve the effect of re-ordering?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/698/comments",
    "author": "Nuclear6",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-10T01:55:22Z",
        "body": "Suggestion:\r\n1. Beside using keywords similarity, use embedding similarity.\r\n2. Rewrite the query.\r\n3. Add an extra dimension to both query and doc, say, categories."
      },
      {
        "user": "Nuclear6",
        "created_at": "2024-05-10T08:17:11Z",
        "body": "> Suggestion:\r\n> \r\n> 1. Beside using keywords similarity, use embedding similarity.\r\n> 2. Rewrite the query.\r\n> 3. Add an extra dimension to both query and doc, say, categories.\r\n\r\nIs there any specific guidance document here?"
      },
      {
        "user": "Galaxy-Ding",
        "created_at": "2024-11-12T06:53:25Z",
        "body": "> Suggestion:\r\n> \r\n> 1. Beside using keywords similarity, use embedding similarity.\r\n> 2. Rewrite the query.\r\n> 3. Add an extra dimension to both query and doc, say, categories.\r\n\r\nHi author, thanks for your great work, I would like to ask if I can format the document to be more conducive to querying if I follow the third point, or format the document, what are the ideas over here?"
      }
    ]
  },
  {
    "number": 682,
    "title": "[Question]: How RAGFlow compute the keywords similarity?",
    "created_at": "2024-05-08T10:25:20Z",
    "closed_at": "2024-05-08T11:45:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/682",
    "body": "### Describe your problem\r\n\r\nHow RAGFlow compute the similarity between query and chunk? How to get the keywords?\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/682/comments",
    "author": "chenjl12",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-08T11:45:14Z",
        "body": "We use weighted similarity of keyword similarity and embedding similarity.\r\nWe use a tokenizer to get keywords and their weights."
      },
      {
        "user": "Nuclear6",
        "created_at": "2024-05-09T08:18:02Z",
        "body": "Why is keyword similarity not semantic similarity?"
      }
    ]
  },
  {
    "number": 652,
    "title": "[Question]: Future Plans for Public Release of OCR/Layout Rec Model Fine-Tuning Solutions",
    "created_at": "2024-05-07T01:28:16Z",
    "closed_at": "2024-05-08T01:16:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/652",
    "body": "### Describe your problem\n\nHiÔºÅ\r\n\r\nI'm reaching out to inquire about any plans your team might have regarding the future release of fine-tuning guidelines. As a developer working on a project that heavily relies on accurate text extraction and document structure understanding, I am particularly interested in the potential for further customization and optimization of your models to suit our unique use cases.\r\n\r\nAlso I found that the parsing of documents in the online demo and the open source version are not consistent, are they using different models?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/652/comments",
    "author": "JudeZzz1997",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-08T01:16:12Z",
        "body": "Online demo uses private data to fine-tuning the model. We will release source code of training in  the future.\r\nThanks for following us."
      },
      {
        "user": "vishwast-Kore",
        "created_at": "2024-07-08T06:29:43Z",
        "body": "Hey @KevinHuSh has the source code for training been released?"
      }
    ]
  },
  {
    "number": 635,
    "title": "[Question]: RagflowÊîØÊåÅÂØπËØùËøáÁ®ã‰∏≠‰∏ä‰º†ÂêÑÁ±ªÊñá‰ª∂ÂêóÔºü",
    "created_at": "2024-05-02T23:58:14Z",
    "closed_at": "2024-05-03T00:48:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/635",
    "body": "### Describe your problem\n\nRagflowÊîØÊåÅÂØπËØùËøáÁ®ã‰∏≠‰∏ä‰º†ÂêÑÁ±ªÊñá‰ª∂ÂêóÔºü ÊØîÂ¶ÇÂõæÁâáÔºåpdfÔºå docxÁ≠â\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/635/comments",
    "author": "lk1983823",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-03T00:48:24Z",
        "body": "Not yet. "
      }
    ]
  },
  {
    "number": 632,
    "title": "Ëß£ÊûêÂ§™ÊÖ¢‰∫ÜÔºÅ‰∏ÄÁØáÊñáÊ°£ËøòÊ≤°Ëß£ÊûêÂÆåÔºåÊàëÂ∑≤ÁªèËØªÂÆå‰∫Ü„ÄÇ",
    "created_at": "2024-05-01T13:36:29Z",
    "closed_at": "2024-05-03T01:05:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/632",
    "body": "### Describe your problem\n\nËß£Êûê‰∏ÄÁØá80È°µÁöÑÊñáÊ°£ÔºåÈúÄË¶Å10ÂàÜÈíüÔºÅÂ§™ÊÖ¢‰∫ÜÔºÅ\r\nËøòÊ≤°Ëß£ÊûêÂÆåÔºåÊàëÂ∑≤ÁªèËØªÂÆå‰∫Ü„ÄÇ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/632/comments",
    "author": "running-frog",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-03T01:05:15Z",
        "body": "We are working on it. \r\nIf it is locally deployed. It depends on the machine very much. "
      },
      {
        "user": "miamiamiaccc",
        "created_at": "2024-12-19T02:57:15Z",
        "body": "I used the image `infiniflow/ragflow:dev-slim` and uploaded a 5-page PDF paper. The parsing is stuck at 83% and doesn't progress. How can I resolve this issue? I sincerely seek guidance from experienced individuals.\r\n"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-12-20T08:08:05Z",
        "body": "It's probably on embedding procedure.\r\nUse a SAAS embedding, I guess that will be good enough."
      }
    ]
  },
  {
    "number": 623,
    "title": "[Question]: parsing is very slow and basically unavailable, the advantages of the model are hard to perceive",
    "created_at": "2024-04-30T09:07:10Z",
    "closed_at": "2024-05-04T23:43:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/623",
    "body": "### Describe your problem\n\nDocument parsing is very slow and basically unavailable, the advantages of the model are hard to perceive",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/623/comments",
    "author": "yawude",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-05-01T11:06:11Z",
        "body": "We're working on accelerating parsing speed.\r\nAnd parsing is slow partly because text embedding is processing at the same time. \r\nIt's gona be realy slow if you're using CPU."
      },
      {
        "user": "empty2enrich",
        "created_at": "2024-05-13T02:29:19Z",
        "body": "> We're working on accelerating parsing speed„ÄÇ And parsing is slow partly because text embedding is processing at the same time. It's gona be realy slow if you're using CPU.\r\n\r\nHow do I specify the GPU to use?"
      }
    ]
  },
  {
    "number": 609,
    "title": "[Question]: where is user_id in api key",
    "created_at": "2024-04-29T11:12:56Z",
    "closed_at": "2024-04-29T11:17:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/609",
    "body": "### Describe your problem\n\nIn conversation_api.mdÔºåi dont know what is user_id in \"start a conversation\"",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/609/comments",
    "author": "652897698",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-29T11:17:20Z",
        "body": "It is used for statistics. e.g. number of unique user visit, number of conversation. et."
      },
      {
        "user": "matt-roe",
        "created_at": "2024-05-16T23:54:30Z",
        "body": "What it is used for is already within docs/conversation_api.md but WHERE do we find our user_id?"
      }
    ]
  },
  {
    "number": 586,
    "title": "The configuration of user_default_llm in the service_conf.yaml configuration file does not take effect.",
    "created_at": "2024-04-28T07:46:28Z",
    "closed_at": "2024-04-28T08:34:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/586",
    "body": "### Describe your problem\n\n Âú®service_conf.yamlÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆuser_default_llm ‰∏çÁîüÊïà„ÄÇ‰øÆÊîπÈÖçÁΩÆÂπ∂ÈáçÂêØ‰πãÂêéÔºå‰∏çÁîüÊïà„ÄÇ‰∏ÄÁõ¥ÈÉΩÂèØ‰ª•Â§çÁé∞ÔºåËØ∑fix‰∏Ä‰∏ã„ÄÇ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/586/comments",
    "author": "changingshow",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-28T08:34:30Z",
        "body": "#587 "
      }
    ]
  },
  {
    "number": 533,
    "title": "[Question]: How to upgrade Docker images from v1.0.0 to v0.3.0",
    "created_at": "2024-04-25T03:35:35Z",
    "closed_at": "2024-04-25T06:22:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/533",
    "body": "### Describe your problem\n\nHow to upgrade Docker images from v1.0.0 to v0.3.0 while ensuring the normal use of existing data",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/533/comments",
    "author": "Hjiassen",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-25T06:22:32Z",
        "body": "Change the docker compose yaml. I think it will smoothly migrate to new version."
      }
    ]
  },
  {
    "number": 524,
    "title": "[Question]: OCRÂáÜÁ°ÆÂ∫¶",
    "created_at": "2024-04-24T07:19:33Z",
    "closed_at": "2024-04-24T09:06:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/524",
    "body": "### Describe your problem\n\nËØ∑ÈóÆ‰∏≠ÊñáÁéØÂ¢É‰∏ãÔºåOCRÁöÑÊñáÊú¨„ÄÅÁâàÈù¢ÂàÜÊûê„ÄÅË°®Ê†ºËØÜÂà´ÂáÜÁ°ÆÂ∫¶ÊÄé‰πàÊ†∑",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/524/comments",
    "author": "ZTurboX",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-24T09:06:09Z",
        "body": "There is not official data for that."
      }
    ]
  },
  {
    "number": 522,
    "title": "How to bypass the login screen?",
    "created_at": "2024-04-24T06:19:13Z",
    "closed_at": "2024-04-24T06:37:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/522",
    "body": "### Describe your problem\n\nAfter a week of hard work, I finally managed to launch the project. The interface after launching is a login screen.\r\nI tried login and Sign up. it says Network anomaly There is an abnormality in your network and you cannot connect to the server.\r\n\r\nI don't know if it's because the server can't connect to the network or something else? I tried modifying the login function in `user_app.py` to force a call to `login_user` as well as `cors_response` but it still doesn't work, can you tell me how to fix this?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/522/comments",
    "author": "ciaoyizhen",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-24T06:37:30Z",
        "body": "It says Network anomaly, doesn't it?\r\nOMG, I'm orry, your weekly hard work is probably in vain.\r\nThe RAGFLOW displayed at your backend server is a sign of successfully lauching."
      },
      {
        "user": "GaoR311",
        "created_at": "2025-02-18T02:32:49Z",
        "body": "I have the same problem"
      }
    ]
  },
  {
    "number": 521,
    "title": "[Question]: Why no date shown in MinIO database?",
    "created_at": "2024-04-24T05:25:10Z",
    "closed_at": "2024-04-24T06:38:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/521",
    "body": "### Describe your problem\r\n\r\nIt's has been successfully running and setting for all dockers, llm, embed, test knowledge pdfs. It's very strang that I can't find any data in MinIO database, even I can chat with the uploaded and processed pdfs.\r\n\r\nWhen studing the code, I assume that the MinIO database should be used for vectoer storage, but it seems that the outcome so far is that everything is storaged in elastic database, since it support both semantic and regular search.\r\n\r\nSo, my question is:\r\n1) What does MinIO database do?\r\n2) What are the functions of MinIO/Elastic/MySQL three databases in the project?\r\n\r\nThanks a lot,",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/521/comments",
    "author": "yiouyou",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-24T06:38:47Z",
        "body": "1. Storing file and chunk image.\r\n2. ES is used for search. Mysql matain the relation of all data."
      },
      {
        "user": "yiouyou",
        "created_at": "2024-04-24T08:37:24Z",
        "body": "@KevinHuSh Thanks for your information. But why there is no any bucket or data in MinIO database with default user/pwd setting? Like mentioned before, the sys has generated chunk image for uploaded file."
      }
    ]
  },
  {
    "number": 507,
    "title": "[Bug]: 404 index_not_found_exception",
    "created_at": "2024-04-23T08:59:02Z",
    "closed_at": "2024-04-24T09:28:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/507",
    "body": "### Describe your problem\n\nES updateByQuery deleteByQuery: NotFoundError(404, 'index_not_found_exception', 'no such index [ragflow_18cb3dde011811efa5100242ac120006]', ragflow_18cb3dde011811efa5100242ac120006, index_or_alias)„ÄêQ„ÄëÔºö{'match': {'doc_id': '8a79d1ce014b11ef808b0242ac120005'}}\r\n\r\n1. docker logs -f ragflow-server (is work)\r\n2. Check if the tast_executor.py process exist. (is work)\r\n3. Check if your RAGFlow server can access hf-mirror.com or huggingface.com. (can access)\r\n\r\nbut ES index not create and 404",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/507/comments",
    "author": "chengxs1994",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-23T11:12:24Z",
        "body": "It seems ES not working well."
      }
    ]
  },
  {
    "number": 505,
    "title": "[Question]: Is the base image `swr.cn-north-4.myhuaweicloud.com/infiniflow/ragflow-base` opensource?",
    "created_at": "2024-04-23T08:12:43Z",
    "closed_at": "2024-04-23T11:13:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/505",
    "body": "### Describe your problem\n\nIs the base image `swr.cn-north-4.myhuaweicloud.com/infiniflow/ragflow-base` opensource?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/505/comments",
    "author": "CamusGao",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-23T11:13:57Z",
        "body": "It is built by Dockfile.scratch."
      }
    ]
  },
  {
    "number": 503,
    "title": "[Question]:  How can I delete a model that has been added",
    "created_at": "2024-04-23T07:29:17Z",
    "closed_at": "2024-04-23T07:57:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/503",
    "body": "Hi All,\r\nI found that I cannot remove model from the model list. Such as ollama, when I add it to the model list, I cannot find anywhere to modify the model config or remove it. Its really inconvenient for debugging. Any solution to it? Thank you ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/503/comments",
    "author": "BestLemoon",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-23T07:57:23Z",
        "body": "Sorry, this function is still under developping."
      }
    ]
  },
  {
    "number": 500,
    "title": "[Question]: How to make all documents return positions?",
    "created_at": "2024-04-23T05:41:15Z",
    "closed_at": "2024-04-26T01:09:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/500",
    "body": "### Describe your problem\n\nWhen I checked the upload document interface, I found that only the PDF has returned location information? I want to highlight the original file when searching on an app? Or do I have a way to change the implementation",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/500/comments",
    "author": "liweiyang2023",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-23T08:08:34Z",
        "body": "The files other than PDF do not support position extraction."
      }
    ]
  },
  {
    "number": 494,
    "title": "[Question]:  Starting a file alone shows that the connection is successful, but when starting it in a project, the following error appears?",
    "created_at": "2024-04-22T17:20:29Z",
    "closed_at": "2024-04-23T00:18:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/494",
    "body": "### Describe your problem\n\nelastic_transport.ConnectionError: Connection error caused by: ConnectionError(Connection error caused by: ProtocolError(('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))))",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/494/comments",
    "author": "HuaC-Z",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-23T00:18:27Z",
        "body": "Check the configuration of ES port in docker/.env and service_conf.yml"
      },
      {
        "user": "HuaC-Z",
        "created_at": "2024-04-23T02:25:26Z",
        "body": "why closedÔºüdocker/.env file and service_conf.yml file settings is right.I printed the relevant settings before creating the connection and they were correct."
      },
      {
        "user": "HuaC-Z",
        "created_at": "2024-04-23T02:34:00Z",
        "body": "> Check the configuration of ES port in docker/.env and service_conf.yml\r\n\r\ndocker/.env file and service_conf.yml file settings is right.I printed the relevant settings before creating the connection and they were correct."
      }
    ]
  },
  {
    "number": 493,
    "title": "ËØ∑ÈóÆÂèØ‰ª•‰∏ç‰ΩøÁî®apiÁöÑÊ®°ÂºèÂêóÔºåÂ∞±ÊòØÂä†ËΩΩÊú¨Âú∞Ê®°ÂûãÂèØ‰ª•Âêó",
    "created_at": "2024-04-22T13:02:37Z",
    "closed_at": "2024-04-23T08:24:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/493",
    "body": "### Describe your problem\n\nÊàëÊÉ≥Âú®Êú¨Âú∞ÈÉ®ÁΩ≤Ê®°ÂûãÂä†‰∏äRAG‰ºòÂåñËÄå‰∏çÊòØ‰ΩøÁî®apiËØ•Â¶Ç‰Ωï‰øÆÊîπÊàñËÄÖÈÉ®ÁΩ≤ÂëÄ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/493/comments",
    "author": "Franklin-L",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-23T00:19:48Z",
        "body": "Sorry, I don't get it, could you be more specific?"
      },
      {
        "user": "tianlinzx",
        "created_at": "2024-04-23T03:36:44Z",
        "body": "He wants to call local LLM rather than OPEN AI API ect.."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-23T08:24:11Z",
        "body": "You could use ollama or xinference to call local llm."
      }
    ]
  },
  {
    "number": 480,
    "title": "ragflow-server | peewee.OperationalError:(1045, \"Access denied for user 'root'@'{Host}' (using password: YES)\")",
    "created_at": "2024-04-22T06:02:13Z",
    "closed_at": "2024-04-22T07:09:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/480",
    "body": "### Describe your problem\n\n#450 \r\n\r\nIn the previous issue I asked this question, I then went into the mysql container via `docker exec -it` and tried to log in using the initial password `infini_rag_flow` with the following command `mysql -u root -p` and it failed, I then realised that in fact the password was empty and that I could log in directly to mysq using `mysql - u root` to log into mysq directly, so I modified the `MySQL_PASSWORD=\"\" ` in the docker/.env file.\r\nBut before I encountered root@localhost,now I encountered root@{Host}.After checking the information online, I used the following command\r\n`grant all privileges on *. * to 'root'@'%' with grant option;` Still not working!\r\nAlso, the last time I ran it, I couldn't see the ragflow icon, but this time I can see it. I don't know why.\r\nI don't know how to solve this problem\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/480/comments",
    "author": "ciaoyizhen",
    "comments": [
      {
        "user": "ciaoyizhen",
        "created_at": "2024-04-22T06:03:33Z",
        "body": "The .env and yaml files are the same as in the project except for what is mentioned"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-22T07:09:03Z",
        "body": "This is a typical problem when password is wrong. Please check the password in yaml and .env."
      },
      {
        "user": "chhhaya",
        "created_at": "2024-04-22T09:01:31Z",
        "body": "Êàë‰πüÈÅáÂà∞Ëøô‰∏™ÈóÆÈ¢ò‰∫ÜÔºå ‰Ω†Ëß£ÂÜ≥‰∫ÜÂêóÔºü @ciaoyizhen "
      },
      {
        "user": "xia-huang-411303",
        "created_at": "2024-08-01T08:40:36Z",
        "body": "I have the same problem, the problem is not solved, why shut down the problem.\r\nI changed the passwords in '.env 'and' service_conf.yaml 'and made them the same,\r\nAnd then I deployed it using docker compose, and then this error,\r\nI'm pretty sure I set the password and keep it the same\r\nserver log:\r\npeewee.OperationalError: (1045, \"Access denied for user 'root'@'172.25.0.6' (using password: YES)\")\r\nmysql log:\r\n2024-08-01T08:01:02.273870Z 189 [Note] Access denied for user 'root'@'172.25.0.6' (using password: YES)"
      },
      {
        "user": "xia-huang-411303",
        "created_at": "2024-08-01T08:58:13Z",
        "body": "SHITÔºå IF I USE defult password `infini_rag_flow`Ôºåeverything goes right "
      },
      {
        "user": "ciaoyizhen",
        "created_at": "2024-08-01T10:46:41Z",
        "body": "ÊàëÂÖ¨Âè∏Êúâ‰∫∫ÊâæÂà∞‰∫ÜÈóÆÈ¢ò„ÄÇ\r\nÂ•ΩÂÉèÊòØÂõ†‰∏∫  mysqlÈÇ£‰∏™ÁºñÁ†ÅÊúâÈóÆÈ¢ò\r\n‰Ω†Ëá™Â∑±Âàõ‰∏Ä‰∏™Ë¥¶Âè∑Â∞±ÂèØ‰ª•"
      },
      {
        "user": "ciaoyizhen",
        "created_at": "2024-08-01T10:47:01Z",
        "body": "ÂèçÊ≠£Ëøô‰ª£Á†ÅË∑üüí©‰∏ÄÊ†∑  Êàë‰ª¨Â∑≤ÁªèËá™Â∑±ÂÅö‰∫Ü"
      },
      {
        "user": "xia-huang-411303",
        "created_at": "2024-08-05T01:22:53Z",
        "body": "> ÊàëÂÖ¨Âè∏Êúâ‰∫∫ÊâæÂà∞‰∫ÜÈóÆÈ¢ò„ÄÇ Â•ΩÂÉèÊòØÂõ†‰∏∫ mysqlÈÇ£‰∏™ÁºñÁ†ÅÊúâÈóÆÈ¢ò ‰Ω†Ëá™Â∑±Âàõ‰∏Ä‰∏™Ë¥¶Âè∑Â∞±ÂèØ‰ª•\r\n\r\n Have you ever consider pull request about thisBUG?\r\nÈùûÂ∏∏ÊÑüË∞¢„ÄÇ"
      },
      {
        "user": "hzy50000",
        "created_at": "2024-09-03T08:32:33Z",
        "body": "@ciaoyizhen ‰Ω†Â•Ω ËØ∑ÈóÆÊòØË¶ÅËá™Â∑±ËøõÂÖ•MySQLÂÆπÂô®ÈáåÊñ∞Âª∫‰∏Ä‰∏™Ë¥¶Êà∑ ÁÑ∂ÂêéyamlÂíå.envÈÉΩÊîπÊàêËá™Â∑±Êñ∞Âª∫ÁöÑË¥¶Êà∑Âêó\r\nÊàëÊåâÁÖßËøôÊ†∑Êìç‰ΩúËøòÊòØÊä•‰∏ÄÊ†∑ÁöÑÈîô"
      }
    ]
  },
  {
    "number": 457,
    "title": "[Question]: LookupError('Model(gpt-4-turbo) not authorized')",
    "created_at": "2024-04-19T09:26:03Z",
    "closed_at": "2024-04-28T06:16:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/457",
    "body": "### Describe your problem\n\nWhat does this mean? I have valid open api key that works all good on demo.ragflow.io, but when I try it on my local ragflow, it shows this error. I'm using ragflow-0.2.0 docker, and gpt-3.5 works as well.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/457/comments",
    "author": "wangkaies",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-21T02:48:58Z",
        "body": "Pull the latest version 0.3.0.\r\nRemove all the data using 'compose down -v' if it's possible. "
      }
    ]
  },
  {
    "number": 452,
    "title": "[Question]: I want to validate the PDF information extraction scheme of ragflow, but I  can not run the code in /rag/app/presentation.py locally.",
    "created_at": "2024-04-19T08:09:59Z",
    "closed_at": "2024-04-28T06:16:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/452",
    "body": "### Describe your problem\n\nSome dependencies cannot be installed on my machine, and it seems that other service components are needed to start the program. \r\n\r\nCould you give me some guidance on how to run itÔºà‚Äù/rag/app/presentation.py‚ÄúÔºâ?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/452/comments",
    "author": "lanbowcn",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-21T02:54:48Z",
        "body": "Enter into the container to do your job. "
      }
    ]
  },
  {
    "number": 450,
    "title": "ragflow-mysql [Note] Access denied for user 'root'@'localhost' (using password:YES)",
    "created_at": "2024-04-19T06:10:57Z",
    "closed_at": "2024-04-19T07:16:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/450",
    "body": "### Describe your problem\r\n\r\nHow to fix it.\r\nI'm running\r\n```\r\ndocker-compose -f docker-compose-CN.yml up \r\n```\r\nwhich triggered this issue",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/450/comments",
    "author": "ciaoyizhen",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-19T07:16:11Z",
        "body": "Check mysql password setting in docker/.env and docker/service_conf.ymal"
      },
      {
        "user": "ciaoyizhen",
        "created_at": "2024-04-19T07:36:50Z",
        "body": "MYSQL_PASSWORD=infini_rag_flow\r\n\r\nIs this right?"
      },
      {
        "user": "ciaoyizhen",
        "created_at": "2024-04-19T08:46:29Z",
        "body": "solved\r\n.env and service_conf.yaml Consistent with infini_rag_flow\r\nBut the actual mysql password is empty?"
      }
    ]
  },
  {
    "number": 449,
    "title": "pymysql.err.ProgrammingError: (1146, \"Table 'rag_flow.document' doesn't exist\")[Question]: ",
    "created_at": "2024-04-19T06:04:08Z",
    "closed_at": "2024-04-21T02:57:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/449",
    "body": "### Describe your problem\n\ncan not run server  after docker compose up -d",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/449/comments",
    "author": "zodiac50",
    "comments": [
      {
        "user": "shangu42255",
        "created_at": "2024-04-20T16:26:40Z",
        "body": "i hava the same problem"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-21T02:57:10Z",
        "body": "FAQ has the solution. "
      }
    ]
  },
  {
    "number": 448,
    "title": "[Question]: How to start RagFlow manually ?",
    "created_at": "2024-04-19T05:25:13Z",
    "closed_at": "2024-04-19T08:10:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/448",
    "body": "### Describe your problem\n\nHow to prevent RagFlow from auto startng, and instead start it manually when needed? My system is Ubuntu.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/448/comments",
    "author": "Kryto614",
    "comments": [
      {
        "user": "Alphayellowcat",
        "created_at": "2024-04-19T07:09:58Z",
        "body": "@Kryto614 \r\nTo set up your Docker project so that containers only start when manually triggered rather than automatically on Docker start, you need to adjust the service settings in your `docker-compose.yml` file. Typically, containers start automatically if they are configured to do so, especially when the `restart` policy is set to `always`.\r\n\r\nHere's what you can do:\r\n\r\n1. **Modify the Restart Policy**: Locate the `restart` policy in your `docker-compose.yml` for the service you want to control. Change it from `always` to `no`:\r\n\r\n```\r\n    services:\r\n      ragflow:\r\n        restart: no\r\n\r\n```\r\n    This change ensures that the service won't automatically start when Docker starts.\r\n\r\n2. **Starting Containers Manually**: After making the above change, you will need to manually start your containers whenever you need them by using the Docker Compose command:\r\n\r\n    ```bash\r\n    docker compose up\r\n    ```"
      },
      {
        "user": "Kryto614",
        "created_at": "2024-04-19T08:09:51Z",
        "body": "> @Kryto614 To set up your Docker project so that containers only start when manually triggered rather than automatically on Docker start, you need to adjust the service settings in your `docker-compose.yml` file. Typically, containers start automatically if they are configured to do so, especially when the `restart` policy is set to `always`.\r\n> \r\n> Here's what you can do:\r\n> \r\n> 1. **Modify the Restart Policy**: Locate the `restart` policy in your `docker-compose.yml` for the service you want to control. Change it from `always` to `no`:\r\n> \r\n> ```\r\n>     services:\r\n>       ragflow:\r\n>         restart: no\r\n> ```\r\n> \r\n> ```\r\n> This change ensures that the service won't automatically start when Docker starts.\r\n> ```\r\n> \r\n> 2. **Starting Containers Manually**: After making the above change, you will need to manually start your containers whenever you need them by using the Docker Compose command:\r\n>    ```shell\r\n>    docker compose up\r\n>    ```\r\n\r\nThank you, that works for me perfectly !"
      }
    ]
  },
  {
    "number": 435,
    "title": "[Question]: Realtime synonym is disabled, since no redis connection.",
    "created_at": "2024-04-18T10:45:36Z",
    "closed_at": "2024-04-18T10:57:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/435",
    "body": "### Describe your problem\n\nwhen i run this cmd: docker logs -f ragflow-server\r\nmet below error, have tried to copy deepdoc and text_concat_xgb_v1.0 to \\root\\.cache\\huggingface\\hub\\models--InfiniFlow--deepdoc\\snapshots\\be0c1e50eef6047b412d1800aa89aba4d275f997, but not works.\r\n###########################################################################################\r\n[HUQIE]:Build default trie\r\n[HUQIE]:Build default trie\r\n[HUQIE]:Build default trie\r\n[HUQIE]:Build trie /ragflow/rag/res/huqie.txt\r\n[HUQIE]:Build trie /ragflow/rag/res/huqie.txt\r\n[HUQIE]:Build trie /ragflow/rag/res/huqie.txt\r\n[WARNING] [2024-04-18 18:37:06,505] [synonym.__init__] [line:24]: Realtime synonym is disabled, since no redis connection.\r\n[WARNING] [2024-04-18 18:37:06,505] [synonym.__init__] [line:24]: Realtime synonym is disabled, since no redis connection.\r\n[WARNING] [2024-04-18 18:37:06,528] [synonym.__init__] [line:24]: Realtime synonym is disabled, since no redis connection.\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:441: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:309: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:309: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:441: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:441: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:309: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:309: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:309: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/generic.py:309: UserWarning: torch.utils._pytree._register_pytree_node is deprecated. Please use torch.utils._pytree.register_pytree_node instead.\r\n  _torch_pytree._register_pytree_node(\r\n[WARNING] Load term.freq FAIL!\r\npytorch_model.bin:   4%|‚ñç         | 52.4M/1.30G [01:52<45:00, 463kB/s][WARNING] [2024-04-18 18:39:27,570] [synonym.__init__] [line:24]: Realtime synonym is disabled, since no redis connection.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/435/comments",
    "author": "sunshine19870316",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-18T10:57:05Z",
        "body": "Only WARNINGs. Ignore them."
      }
    ]
  },
  {
    "number": 429,
    "title": "[Question]:  ‰∏Ä‰∏™Áî®Êà∑‰∏ãÊâÄÊúâÁü•ËØÜÂ∫ìÁöÑÂàáÁâáÊîæÂú®‰∏Ä‰∏™es indexÈáåÔºå Â¶ÇÊûú‰∏çÂêåÁöÑÁü•ËØÜÂ∫ìÁî®‰∫Ü‰∏çÂêåÁöÑembedding modelËØ•Â¶Ç‰ΩïÂÅöÂêëÈáèÂåπÈÖçÂë¢Ôºü",
    "created_at": "2024-04-18T08:30:14Z",
    "closed_at": "2024-04-18T09:10:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/429",
    "body": "### Describe your problem\n\nÊ†πÊçÆÂØπÊ∫êÁ†ÅÁöÑÂàùÊ≠•Â≠¶‰π†ÔºåÊØè‰∏™ÂàáÁâá ÈÉΩÊúâkb_id, doc_id Á≠âÂ±ûÊÄßÔºå‰∏Ä‰∏™Áî®Êà∑‰∏ãÊâÄÊúâÁü•ËØÜÂ∫ìÁöÑÂàáÁâáÊîæÂú®‰∏ÄËµ∑ÁöÑÔºåÂç≥‰∏Ä‰∏™Áî®Êà∑‰∏Ä‰∏™es index„ÄÇ\r\n\r\n‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™kbÁî®‰∏Ä‰∏™embedding Ê®°ÂûãÔºåÂêëÈáèÂåπÈÖçÊó∂ÔºåÂØπquery‰πüÁî®ÂêåÊ†∑ÁöÑembedding model ËÆ°ÁÆóvectorÔºåËøõËÄåËé∑ÂèñtopkÊù°ËÆ∞ÂΩï„ÄÇ\r\n\r\nÈÇ£Â¶ÇÊûú‰∏çÂêåÁöÑÁü•ËØÜÂ∫ìÁî®‰∫Ü‰∏çÁî®ÁöÑembedding modelÔºåÊ∑∑Âú®‰∏ÄËµ∑Ê£ÄÁ¥¢ÁöÑËØùÔºåÂØπ‰∫éÁî®Êà∑ÁöÑquery ÊÄªË¶ÅÊåáÂÆö‰∏Ä‰∏™embedding model ËÆ°ÁÆó‰∏Ä‰∏™ÂêëÈáèÔºå‰ºö‰∏ç‰ºöÊúâÈîô‰π±Âë¢Ôºü‰ª£Á†ÅÁªÜËäÇËæÉÂ§öÔºåÂØπËøôÂùóÊúâ‰∏Ä‰∫õÁñëÈóÆÔºåËØ∑Â§öÊåáÊïô„ÄÇ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/429/comments",
    "author": "qiankunli",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-18T09:10:30Z",
        "body": "It will recieve error message if embedding model mismatched between knowledge base.\r\n\r\nThank you for following! We intend to create an international community, so we encourage using English for questions and answers to help others with similar queries. üòä"
      }
    ]
  },
  {
    "number": 428,
    "title": "[Question]: user_default_llm is invalid",
    "created_at": "2024-04-18T07:58:35Z",
    "closed_at": "2024-04-19T03:40:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/428",
    "body": "### Describe your problem\n\nuser_default_llm:\r\n  factory: 'ZHIPU-AI'\r\n  api_key:\r\nWhy is this configuration invalid?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/428/comments",
    "author": "waiking1970",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-18T09:17:15Z",
        "body": "What is the error message?"
      },
      {
        "user": "waiking1970",
        "created_at": "2024-04-19T07:41:57Z",
        "body": "API-key is error. However, when I register a new user, the 'user_default_llm' setting is valid and there are no errors."
      }
    ]
  },
  {
    "number": 379,
    "title": "[Question]: Parsing time is so long",
    "created_at": "2024-04-16T06:37:28Z",
    "closed_at": "2024-12-17T10:24:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/379",
    "body": "### Describe your problem\n\nThanks for your work. I have deploy the ragflow system in my own server. \r\n\r\nHowever, when I upload pdf file (2 pages), it costs long time to parse it (more than 300 seconds ).\r\n\r\n### log for file 1\r\n```\r\nÊµÅÁ®ãÂºÄÂßã‰∫é:\r\nTue, 16 Apr 2024 13:52:45 GMT\r\nËøáÁ®ãÊåÅÁª≠Êó∂Èó¥:\r\n385.359\r\nËøõÂ∫¶Ê∂àÊÅØ:\r\nPage(1~2): OCR is running...\r\nPage(1~2): OCR finished\r\nPage(1~2): Layout analysis finished.\r\nPage(1~2): Table analysis finished.\r\nPage(1~2): Text merging finished\r\nPage(1~2): Finished slicing files(3). Start to embedding the content.\r\nPage(1~2): Finished embedding! Start to build index!\r\nPage(1~2): Done!\r\n```\r\n\r\n### log for file 2\r\n```\r\nÊµÅÁ®ãÂºÄÂßã‰∫é:\r\nTue, 16 Apr 2024 14:08:13 GMT\r\nËøáÁ®ãÊåÅÁª≠Êó∂Èó¥:\r\n771.436\r\nËøõÂ∫¶Ê∂àÊÅØ:\r\nPage(1~2): OCR is running...\r\nPage(1~2): OCR finished\r\nPage(1~2): Layout analysis finished.\r\nPage(1~2): Table analysis finished.\r\nPage(1~2): Text merging finished\r\nPage(1~2): Finished slicing files(3). Start to embedding the content.\r\nPage(1~2): Finished embedding! Start to build index!\r\nPage(1~2): Done!\r\n```\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/379/comments",
    "author": "ChenTao98",
    "comments": [
      {
        "user": "wzikang",
        "created_at": "2024-04-16T09:45:37Z",
        "body": "You can try calling GPU resources for parsing. According to the process of Docker deployment, GPU resources are not called by default. Here, by checking \"docker/docker-compose. yml\" and \"docker/docker-compose-cn. yml\", it can be seen that there is no configuration related to GPU during Docker container creation.\r\n\r\nYou just need to stop and delete the relevant containers that have already been started, add the following configuration in these two folders, and re execute the Docker Compose. When parsing again, you will find that the speed will be much faster after calling the GPU.\r\n\r\n```\r\ndeploy: \r\n   resources:\r\n      reservations:\r\n         devices:\r\n           - driver: nvidia\r\n           device_ids: ['0']\r\n           capabilities: [gpu]\r\n```\r\nSuch as docker-compose. ymlÔºå complete as follows:\r\n```\r\nversion: '2.2'\r\ninclude:\r\n  - path: ./docker-compose-base.yml\r\n    env_file: ./.env\r\nservices:\r\n  ragflow:\r\n    depends_on:\r\n      mysql:\r\n        condition: service_healthy\r\n      es01:\r\n        condition: service_healthy\r\n    image: infiniflow/ragflow:v1.0\r\n    container_name: ragflow-server\r\n    deploy:\r\n      resources:\r\n        reservations:\r\n          devices:\r\n          - driver: nvidia\r\n            device_ids: ['0']\r\n            capabilities: [gpu]\r\n    ports:\r\n      - ${SVR_HTTP_PORT}:9380\r\n      - 80:80\r\n      - 443:443\r\n    volumes:\r\n      - ./service_conf.yaml:/ragflow/conf/service_conf.yaml\r\n      - ./entrypoint.sh:/ragflow/entrypoint.sh\r\n      - ./ragflow-logs:/ragflow/logs\r\n      - ./nginx/ragflow.conf:/etc/nginx/conf.d/ragflow.conf\r\n      - ./nginx/proxy.conf:/etc/nginx/proxy.conf\r\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\r\n    environment:\r\n      - TZ=${TIMEZONE}\r\n    networks:\r\n      - ragflow\r\n    restart: always\r\n```"
      },
      {
        "user": "ysyx2008",
        "created_at": "2024-04-16T14:31:25Z",
        "body": "yes it tooks long time. \r\nworth it."
      },
      {
        "user": "ChenTao98",
        "created_at": "2024-04-17T01:15:43Z",
        "body": "> You can try calling GPU resources for parsing. According to the process of Docker deployment, GPU resources are not called by default. Here, by checking \"docker/docker-compose. yml\" and \"docker/docker-compose-cn. yml\", it can be seen that there is no configuration related to GPU during Docker container creation.\r\n> \r\n> You just need to stop and delete the relevant containers that have already been started, add the following configuration in these two folders, and re execute the Docker Compose. When parsing again, you will find that the speed will be much faster after calling the GPU.\r\n> \r\n> ```\r\n> deploy: \r\n>    resources:\r\n>       reservations:\r\n>          devices:\r\n>            - driver: nvidia\r\n>            device_ids: ['0']\r\n>            capabilities: [gpu]\r\n> ```\r\n> \r\n> Such as docker-compose. ymlÔºå complete as follows:\r\n> \r\n> ```\r\n> version: '2.2'\r\n> include:\r\n>   - path: ./docker-compose-base.yml\r\n>     env_file: ./.env\r\n> services:\r\n>   ragflow:\r\n>     depends_on:\r\n>       mysql:\r\n>         condition: service_healthy\r\n>       es01:\r\n>         condition: service_healthy\r\n>     image: infiniflow/ragflow:v1.0\r\n>     container_name: ragflow-server\r\n>     deploy:\r\n>       resources:\r\n>         reservations:\r\n>           devices:\r\n>           - driver: nvidia\r\n>             device_ids: ['0']\r\n>             capabilities: [gpu]\r\n>     ports:\r\n>       - ${SVR_HTTP_PORT}:9380\r\n>       - 80:80\r\n>       - 443:443\r\n>     volumes:\r\n>       - ./service_conf.yaml:/ragflow/conf/service_conf.yaml\r\n>       - ./entrypoint.sh:/ragflow/entrypoint.sh\r\n>       - ./ragflow-logs:/ragflow/logs\r\n>       - ./nginx/ragflow.conf:/etc/nginx/conf.d/ragflow.conf\r\n>       - ./nginx/proxy.conf:/etc/nginx/proxy.conf\r\n>       - ./nginx/nginx.conf:/etc/nginx/nginx.conf\r\n>     environment:\r\n>       - TZ=${TIMEZONE}\r\n>     networks:\r\n>       - ragflow\r\n>     restart: always\r\n> ```\r\n\r\nI have tried to add the configuration of gpu, however it doesn't work. Is a specific version of cuda or nvidia-driver required. \r\nThe cuda version I used\r\n```NVIDIA-SMI 495.29.05    Driver Version: 495.29.05    CUDA Version: 11.5```"
      },
      {
        "user": "wzikang",
        "created_at": "2024-04-17T01:44:17Z",
        "body": "> > You can try calling GPU resources for parsing. According to the process of Docker deployment, GPU resources are not called by default. Here, by checking \"docker/docker-compose. yml\" and \"docker/docker-compose-cn. yml\", it can be seen that there is no configuration related to GPU during Docker container creation.\r\n> > You just need to stop and delete the relevant containers that have already been started, add the following configuration in these two folders, and re execute the Docker Compose. When parsing again, you will find that the speed will be much faster after calling the GPU.\r\n> > ```\r\n> > deploy: \r\n> >    resources:\r\n> >       reservations:\r\n> >          devices:\r\n> >            - driver: nvidia\r\n> >            device_ids: ['0']\r\n> >            capabilities: [gpu]\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > Such as docker-compose. ymlÔºå complete as follows:\r\n> > ```\r\n> > version: '2.2'\r\n> > include:\r\n> >   - path: ./docker-compose-base.yml\r\n> >     env_file: ./.env\r\n> > services:\r\n> >   ragflow:\r\n> >     depends_on:\r\n> >       mysql:\r\n> >         condition: service_healthy\r\n> >       es01:\r\n> >         condition: service_healthy\r\n> >     image: infiniflow/ragflow:v1.0\r\n> >     container_name: ragflow-server\r\n> >     deploy:\r\n> >       resources:\r\n> >         reservations:\r\n> >           devices:\r\n> >           - driver: nvidia\r\n> >             device_ids: ['0']\r\n> >             capabilities: [gpu]\r\n> >     ports:\r\n> >       - ${SVR_HTTP_PORT}:9380\r\n> >       - 80:80\r\n> >       - 443:443\r\n> >     volumes:\r\n> >       - ./service_conf.yaml:/ragflow/conf/service_conf.yaml\r\n> >       - ./entrypoint.sh:/ragflow/entrypoint.sh\r\n> >       - ./ragflow-logs:/ragflow/logs\r\n> >       - ./nginx/ragflow.conf:/etc/nginx/conf.d/ragflow.conf\r\n> >       - ./nginx/proxy.conf:/etc/nginx/proxy.conf\r\n> >       - ./nginx/nginx.conf:/etc/nginx/nginx.conf\r\n> >     environment:\r\n> >       - TZ=${TIMEZONE}\r\n> >     networks:\r\n> >       - ragflow\r\n> >     restart: always\r\n> > ```\r\n> \r\n> I have tried to add the configuration of gpu, however it doesn't work. Is a specific version of cuda or nvidia-driver required. \r\nThe cuda version I used `NVIDIA-SMI 495.29.05 Driver Version: 495.29.05 CUDA Version: 11.5`\r\n\r\n\r\nThis is the version I am using, verifying that GPU parsing can be called normally.\r\n`Docker Compose  :v2.21.0    Nvidia Driver  :524.147.05   CUDA Version :12.0\r\n`\r\nYou can check the Docker Compose version, as the GPU mounting configuration for different versions of Docker Compose may vary.\r\n\r\n\r\n"
      },
      {
        "user": "vbmcpy",
        "created_at": "2024-05-22T19:31:00Z",
        "body": "working perfectly on driver 525.125.06 - cuda 12.0\r\nragflow v2.0 6.0 - build testing on 2024-05-22 16:30 GMT -3 AMERICA_SAO_PAULO_BR"
      },
      {
        "user": "alex-ca1123",
        "created_at": "2024-05-26T18:16:11Z",
        "body": "> > You can try calling GPU resources for parsing. According to the process of Docker deployment, GPU resources are not called by default. Here, by checking \"docker/docker-compose. yml\" and \"docker/docker-compose-cn. yml\", it can be seen that there is no configuration related to GPU during Docker container creation.\r\n> > You just need to stop and delete the relevant containers that have already been started, add the following configuration in these two folders, and re execute the Docker Compose. When parsing again, you will find that the speed will be much faster after calling the GPU.\r\n> > ```\r\n> > deploy: \r\n> >    resources:\r\n> >       reservations:\r\n> >          devices:\r\n> >            - driver: nvidia\r\n> >            device_ids: ['0']\r\n> >            capabilities: [gpu]\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > Such as docker-compose. ymlÔºå complete as follows:\r\n> > ```\r\n> > version: '2.2'\r\n> > include:\r\n> >   - path: ./docker-compose-base.yml\r\n> >     env_file: ./.env\r\n> > services:\r\n> >   ragflow:\r\n> >     depends_on:\r\n> >       mysql:\r\n> >         condition: service_healthy\r\n> >       es01:\r\n> >         condition: service_healthy\r\n> >     image: infiniflow/ragflow:v1.0\r\n> >     container_name: ragflow-server\r\n> >     deploy:\r\n> >       resources:\r\n> >         reservations:\r\n> >           devices:\r\n> >           - driver: nvidia\r\n> >             device_ids: ['0']\r\n> >             capabilities: [gpu]\r\n> >     ports:\r\n> >       - ${SVR_HTTP_PORT}:9380\r\n> >       - 80:80\r\n> >       - 443:443\r\n> >     volumes:\r\n> >       - ./service_conf.yaml:/ragflow/conf/service_conf.yaml\r\n> >       - ./entrypoint.sh:/ragflow/entrypoint.sh\r\n> >       - ./ragflow-logs:/ragflow/logs\r\n> >       - ./nginx/ragflow.conf:/etc/nginx/conf.d/ragflow.conf\r\n> >       - ./nginx/proxy.conf:/etc/nginx/proxy.conf\r\n> >       - ./nginx/nginx.conf:/etc/nginx/nginx.conf\r\n> >     environment:\r\n> >       - TZ=${TIMEZONE}\r\n> >     networks:\r\n> >       - ragflow\r\n> >     restart: always\r\n> > ```\r\n> \r\n> I have tried to add the configuration of gpu, however it doesn't work. Is a specific version of cuda or nvidia-driver required. The cuda version I used `NVIDIA-SMI 495.29.05 Driver Version: 495.29.05 CUDA Version: 11.5`\r\n\r\nYou need CUDA 12, and minimum hardware for CUDA 12 is the generation of GTX 980 I believe."
      },
      {
        "user": "yuzhichang",
        "created_at": "2024-12-17T10:24:17Z",
        "body": "answered."
      },
      {
        "user": "someone132s",
        "created_at": "2025-01-20T07:19:44Z",
        "body": "> working perfectly on driver 525.125.06 - cuda 12.0 ragflow v2.0 6.0 - build testing on 2024-05-22 16:30 GMT -3 AMERICA_SAO_PAULO_BR\n\nhey is this config still working know ? I'm running cuda 12.4 and ragflow0.15.1-full"
      }
    ]
  },
  {
    "number": 372,
    "title": "[Question]: PyPDF2 Not Found",
    "created_at": "2024-04-16T01:30:43Z",
    "closed_at": "2024-04-16T01:49:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/372",
    "body": "### Describe your problem\n\nI get the following error when try to run the new version using docker:  [WARNING] Load term.freq FAIL!\r\n  File \"/ragflow/rag/svr/task_executor.py\", line 44, in <module>\r\n    from rag.app import laws, paper, presentation, manual, qa, table, book, resume, picture, naive, one\r\n  File \"/ragflow/rag/app/laws.py\", line 22, in <module>\r\n    from deepdoc.parser import PdfParser, DocxParser, PlainParser\r\n  File \"/ragflow/deepdoc/parser/__init__.py\", line 3, in <module>\r\n    from .pdf_parser import HuParser as PdfParser, PlainParser\r\n  File \"/ragflow/deepdoc/parser/pdf_parser.py\", line 15, in <module>\r\n    from PyPDF2 import PdfReader as pdf2_read\r\nModuleNotFoundError: No module named 'PyPDF2'",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/372/comments",
    "author": "rhudock",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-16T01:49:20Z",
        "body": "Pulling the latest images will fix this."
      }
    ]
  },
  {
    "number": 370,
    "title": "[Question]: Exceed the maximum file number of a free user!",
    "created_at": "2024-04-15T12:54:20Z",
    "closed_at": "2024-04-16T02:01:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/370",
    "body": "When I upload more than 128 files in the database, these's error called \"Exceed the maximum file number of a free user!\". I am running it locally so how could I make it can handle more files in a single database?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/370/comments",
    "author": "EricRao1999",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-16T02:01:34Z",
        "body": "fixed"
      },
      {
        "user": "EricRao1999",
        "created_at": "2024-04-16T06:21:36Z",
        "body": "At where? Which file that difines the max file number?"
      }
    ]
  },
  {
    "number": 351,
    "title": "Setting OpenAI Models",
    "created_at": "2024-04-14T22:06:20Z",
    "closed_at": "2024-08-07T11:26:58Z",
    "labels": [
      "question",
      "Feature"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/351",
    "body": "### Describe your problem\n\nI am trying to use GPT-4-Turbo instead of GPT-4, when I make the change in the configuration files it is not be passed through when I rebuild the docker images, and start the service.  How can I change the name of the model for OpenAI to use GPT-4-Turbo?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/351/comments",
    "author": "rhudock",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-15T01:00:14Z",
        "body": "Fullfilled. git pull the latest souce code, and docker pull the latest image."
      },
      {
        "user": "rhudock",
        "created_at": "2024-04-15T02:22:58Z",
        "body": "Thank you.  The model should be gpt-4-turbo."
      }
    ]
  },
  {
    "number": 332,
    "title": "[Question]: ËÉΩÁªô‰∏™Â∞èÁôΩÊïôÁ®ãÂêóÔºåÊØîÂ¶ÇELASTIC_PASSWORDË¶ÅËÆæÁΩÆÂêó",
    "created_at": "2024-04-12T01:51:23Z",
    "closed_at": "2024-04-12T02:29:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/332",
    "body": "### Describe your problem\n\nËÉΩÁªô‰∏™Â∞èÁôΩÊïôÁ®ãÂêóÔºåÊØîÂ¶ÇELASTIC_PASSWORDË¶ÅËÆæÁΩÆÂêó",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/332/comments",
    "author": "younggggger",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-12T02:29:25Z",
        "body": "Ignore ELASTIC_PASSWORD.\r\nPlease follow the 'Get Started', part in README.\r\n"
      }
    ]
  },
  {
    "number": 324,
    "title": "[Question]: can not find file det.onnx and can not find file ocr.res",
    "created_at": "2024-04-11T14:49:28Z",
    "closed_at": "2024-04-12T01:12:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/324",
    "body": "### Describe your problem\n\n1:can't find file  det.onnx\r\nragflow-server  | Traceback (most recent call last):\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/ocr.py\", line 486, in __init__\r\nragflow-server  |     self.text_detector = TextDetector(model_dir)\r\nragflow-server  |                          ^^^^^^^^^^^^^^^^^^^^^^^\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/ocr.py\", line 381, in __init__\r\nragflow-server  |     self.predictor, self.input_tensor = load_model(model_dir, 'det')\r\nragflow-server  |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/ocr.py\", line 65, in load_model\r\nragflow-server  |     raise ValueError(\"not find model file path {}\".format(\r\nragflow-server  | ValueError: not find model file path /ragflow/rag/res/deepdoc/det.onnx\r\n2:can't find file ocr.res\r\nragflow-server  | Traceback (most recent call last):\r\nragflow-server  |   File \"/ragflow/rag/svr/task_executor.py\", line 42, in <module>\r\nragflow-server  |     from rag.app import laws, paper, presentation, manual, qa, table, book, resume, picture, naive, one\r\nragflow-server  |   File \"/ragflow/rag/app/picture.py\", line 23, in <module>\r\nragflow-server  |     ocr = OCR()\r\nragflow-server  |           ^^^^^\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/ocr.py\", line 491, in __init__\r\nragflow-server  |     self.text_recognizer = TextRecognizer(model_dir)\r\nragflow-server  |                            ^^^^^^^^^^^^^^^^^^^^^^^^^\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/ocr.py\", line 95, in __init__\r\nragflow-server  |     self.postprocess_op = build_post_process(postprocess_params)\r\nragflow-server  |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/postprocess.py\", line 20, in build_post_process\r\nragflow-server  |     module_class = eval(module_name)(**config)\r\nragflow-server  |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/postprocess.py\", line 335, in __init__\r\nragflow-server  |     super(CTCLabelDecode, self).__init__(character_dict_path,\r\nragflow-server  |   File \"/ragflow/deepdoc/vision/postprocess.py\", line 258, in __init__\r\nragflow-server  |     with open(character_dict_path, \"rb\") as fin:\r\nragflow-server  |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nragflow-server  | FileNotFoundError: [Errno 2] No such file or directory: '/root/.cache/huggingface/hub/models--InfiniFlow--deepdoc/snapshots/be0c1e50eef6047b412d1800aa89aba4d275f997/ocr.res'",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/324/comments",
    "author": "xmwells",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-12T01:12:38Z",
        "body": "I suggest you that remove the ragflow-server container,  make sure you can ping hf-mirriror.com."
      },
      {
        "user": "hanxl1",
        "created_at": "2024-04-16T03:22:29Z",
        "body": "> I suggest you that remove the ragflow-server container, make sure you can ping hf-mirriror.com.\r\n\r\nÂÖ∑‰ΩìÊÄé‰πàÊìç‰ΩúÂë¢ÔºåÊØèÂ§™ÊòéÁôΩÔºåÊàëÂú®Êú¨Êú∫ÂèØ‰ª•curl  hf-mirriror.com."
      }
    ]
  },
  {
    "number": 310,
    "title": "Where is the \"Query Analyze\" part of the code?",
    "created_at": "2024-04-11T02:03:06Z",
    "closed_at": "2024-04-11T03:41:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/310",
    "body": "### Describe your problem\n\nI would like to read how this part is implements,thanks",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/310/comments",
    "author": "jiangsiYang",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-11T02:23:35Z",
        "body": "In rag/nlp/query.py or search.py, all about query rewriting and ranking."
      },
      {
        "user": "jiangsiYang",
        "created_at": "2024-04-11T03:41:19Z",
        "body": "> In rag/nlp/query.py or search.py, all about query rewriting and ranking.\r\nthanks\r\n\r\n"
      }
    ]
  },
  {
    "number": 297,
    "title": "[Question]: docker/init.sql not create table sql",
    "created_at": "2024-04-10T07:36:51Z",
    "closed_at": "2024-04-10T07:55:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/297",
    "body": "### Describe your problem\n\ndear!\r\ndocker/init.sql not create table sql ,just create db sql. the server will be init table when start?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/297/comments",
    "author": "765900933",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-10T07:55:05Z",
        "body": "Table initialization is in api/db/init_data.py."
      }
    ]
  },
  {
    "number": 293,
    "title": "[Question]: network anomaly",
    "created_at": "2024-04-10T06:22:20Z",
    "closed_at": "2024-04-10T09:58:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/293",
    "body": "### Describe your problem\n\nI deployed it with docker.,It's normal before last night.,Established a knowledge inventory and uploaded a batch of PDF documents for chunk.,Last night I tried to restart the server.,And pull it again.,Now whether it's a new registered user or a login, it prompts \"network anomaly\".,What is the reason?\r\nIn addition, I want to back up the data in it and transfer it to another physical server for deployment, and I need to copy those files or folders. Thanks! ",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/293/comments",
    "author": "joechen2024",
    "comments": [
      {
        "user": "xbsoft",
        "created_at": "2024-04-10T07:04:08Z",
        "body": "Same issue, waiting for answer!\r\nI used MacBookPro with Docker Desktop, and pulled repo, start with docker-compose."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-10T09:58:24Z",
        "body": "Firstly, check the status of all the docker containers.\r\n`$ docker ps`\r\n\r\nSecondly, check the network between the server and the client. \r\n`$ ping IP_of_ragflow_server`\r\n\r\nBackup your data:\r\nData is in the default docker folder like /var/lib/docker/volumns\r\n"
      },
      {
        "user": "xbsoft",
        "created_at": "2024-04-10T16:38:24Z",
        "body": "The reason may because it didn't start completed."
      }
    ]
  },
  {
    "number": 276,
    "title": "[Question]: \"Table 'rag_flow.document' doesn't exist\")",
    "created_at": "2024-04-09T06:54:27Z",
    "closed_at": "2024-04-09T08:10:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/276",
    "body": "### Describe your problem\n\n pymysql.err.ProgrammingError: (1146, \"Table 'rag_flow.document' doesn't exist\")\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/276/comments",
    "author": "xiaohong020408",
    "comments": [
      {
        "user": "xiaohong020408",
        "created_at": "2024-04-09T06:56:21Z",
        "body": "ragflow-mysql   | 2024-04-09T06:51:47.701985Z 21 [Note] Aborted connection 21 to db: 'rag_flow' user: 'root' host: '172.24.0.5' (Got an error reading communication packets)\r\n"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-09T08:10:35Z",
        "body": "#226 "
      }
    ]
  },
  {
    "number": 273,
    "title": "[Question]: When i execute the command \"docker logs -f ragflow-server\", and exception occurred.",
    "created_at": "2024-04-09T03:39:46Z",
    "closed_at": "2024-04-09T05:03:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/273",
    "body": "### Describe your problem\n\n When i execute the command \"docker logs -f ragflow-server\", and exception occurred. The detailed information is as follows.\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/ragflow/rag/svr/task_executor.py\", line 42, in <module>\r\n    from rag.app import laws, paper, presentation, manual, qa, table, book, resume, picture, naive, one\r\n  File \"/ragflow/rag/app/picture.py\", line 19, in <module>\r\n    from api.db.services.llm_service import LLMBundle\r\n  File \"/ragflow/api/db/services/llm_service.py\", line 18, in <module>\r\n    from rag.llm import EmbeddingModel, CvModel, ChatModel\r\n  File \"/ragflow/rag/llm/__init__.py\", line 16, in <module>\r\n    from .embedding_model import *\r\n  File \"/ragflow/rag/llm/embedding_model.py\", line 37, in <module>\r\n    flag_model = FlagModel(\"BAAI/bge-large-zh-v1.5\",\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/FlagEmbedding/flag_models.py\", line 20, in __init__\r\n    self.model = AutoModel.from_pretrained(model_name_or_path)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/models/auto/auto_factory.py\", line 561, in from_pretrained\r\n    return model_class.from_pretrained(\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/modeling_utils.py\", line 3193, in from_pretrained\r\n    resolved_archive_file = cached_file(\r\n                            ^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/transformers/utils/hub.py\", line 398, in cached_file\r\n    resolved_file = hf_hub_download(\r\n                    ^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py\", line 118, in _inner_fn\r\n    return fn(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/huggingface_hub/file_download.py\", line 1457, in hf_hub_download\r\n    http_get(\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/huggingface_hub/file_download.py\", line 451, in http_get\r\n    r = _request_wrapper(\r\n        ^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/huggingface_hub/file_download.py\", line 408, in _request_wrapper\r\n    response = get_session().request(method=method, url=url, **params)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/requests/sessions.py\", line 589, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/requests/sessions.py\", line 703, in send\r\n    r = adapter.send(request, **kwargs)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/huggingface_hub/utils/_http.py\", line 67, in send\r\n    return super().send(request, *args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/site-packages/requests/adapters.py\", line 517, in send\r\n    raise SSLError(e, request=request)\r\nrequests.exceptions.SSLError: (MaxRetryError(\"HTTPSConnectionPool(host='cdn-lfs.hf-mirror.com', port=443): Max retries exceeded with url: /repos/4a/88/4a88d6caacd50c\r\n2f1573210b4304f3e335d0cda244a88621347fc76a0a72a629/bf84a56fb045c24e090495195584a3922c3e4204107f0bba8b79c11f67a207f2?response-content-disposition=attachment%3B+filena\r\nme*%3DUTF-8%27%27pytorch_model.bin%3B+filename%3D%22pytorch_model.bin%22%3B&response-content-type=application%2Foctet-stream&Expires=1712880903&Policy=eyJTdGF0ZW1lbn\r\nQiOlt7IkNvbmRpdGlvbiI6eyJEYXRlTGVzc1RoYW4iOnsiQVdTOkVwb2NoVGltZSI6MTcxMjg4MDkwM319LCJSZXNvdXJjZSI6Imh0dHBzOi8vY2RuLWxmcy5odWdnaW5nZmFjZS5jby9yZXBvcy80YS84OC80YTg4ZDZ\r\njYWFjZDUwYzJmMTU3MzIxMGI0MzA0ZjNlMzM1ZDBjZGEyNDRhODg2MjEzNDdmYzc2YTBhNzJhNjI5L2JmODRhNTZmYjA0NWMyNGUwOTA0OTUxOTU1ODRhMzkyMmMzZTQyMDQxMDdmMGJiYThiNzljMTFmNjdhMjA3ZjI~\r\ncmVzcG9uc2UtY29udGVudC1kaXNwb3NpdGlvbj0qJnJlc3BvbnNlLWNvbnRlbnQtdHlwZT0qIn1dfQ__&Signature=qo34XzeZgpXW2BQA2-7I7~ygHc6HFPK8WNpxgksoIDrdr9kqEx1ZM5vmgZuqjC6D7uxCWB9~R8\r\n8b~58dm28xjR1uIgydyoFmjol7Fd-l-fQPUOcc145Ec0dW0LirEzigZ9x9CRfGHrD6WEl8mWU6Gd1E8Zpwjh~Wb3FfiTLrX-QqClVzQXHQKDCNOWaXHfS~BiXGWCQmMxi1vy5KAkGMnCeSylFfiOlEa6uXaXUpwkALa55\r\nlrlnpVg23ZuqpcrkSeEsF21-WmujqJrdSs14o25y4smGKNHXxPDZzswrj8MLsWIqVGyKHds3YeMMgb0~iV7Q4tVuI7gO8xWn9r9E5VQ__&Key-Pair-Id=KVTP0A1DKRTAX (Caused by SSLError(SSLEOFError(8, 'EOF occurred in violation of protocol (_ssl.c:992)')))\"), '(Request ID: 831ae6ea-6404-4fef-b6ce-2df9437da06e)')\r\nWARNING:root:Realtime synonym is disabled, since no redis connection.\r\nWARNING:root:Realtime synonym is disabled, since no redis connection.\r\n[WARNING] Load term.freq FAIL!\r\npytorch_model.bin: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1.30G/1.30G [09:37<00:00, 2.26MB/s]\r\n[WARNING] Load term.freq FAIL!\r\nocr.res: 26.2kB [00:00, 214kB/s] | 1/9 [00:00<00:03,  2.27it/s]\r\ntsr.onnx: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 12.2M/12.2M [00:08<00:00, 1.46MB/s]]\r\nlayout.onnx: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 12.2M/12.2M [00:09<00:00, 1.31MB/s]\r\nlayout.paper.onnx: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 12.2M/12.2M [00:07<00:00, 1.55MB/s]\r\nlayout.manual.onnx: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 12.2M/12.2M [00:08<00:00, 1.50MB/s]\r\nFetching 9 files: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 9/9 [00:28<00:00,  3.18s/it]1.46MB/s]\r\nFetching 9 files: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 9/9 [00:28<00:00,  3.16s/it]\r\n",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/273/comments",
    "author": "nevesaynever1",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-09T05:03:37Z",
        "body": "It seems internet connection fail. Please make sure internet is accessable and try it agian."
      }
    ]
  },
  {
    "number": 264,
    "title": "[Question]: Redundant database.log",
    "created_at": "2024-04-08T16:30:08Z",
    "closed_at": "2024-04-09T01:50:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/264",
    "body": "### Describe your problem\n\nWe've observed that the size of the database.log file increases rapidly, reaching gigabytes in a very short span of time. By using tail -f to monitor the file, we noticed it generates numerous entries similar to the ones below. Is there a way to suppress these logs?\r\n\r\nReturning 140199553734352 to pool.\r\n('SELECT `t1`.`id`, `t1`.`doc_id`, `t1`.`from_page`, `t1`.`to_page`, `t2`.`kb_id`, `t2`.`parser_id`, `t2`.`parser_config`, `t2`.`name`, `t2`.`type`, `t2`.`location`, `t2`.`size`, `t3`.`tenant_id`, `t3`.`language`, `t4`.`embd_id`, `t4`.`img2txt_id`, `t4`.`asr_id`, `t1`.`update_time` FROM `task` AS `t1` INNER JOIN `document` AS `t2` ON (`t1`.`doc_id` = `t2`.`id`) INNER JOIN `knowledgebase` AS `t3` ON (`t2`.`kb_id` = `t3`.`id`) INNER JOIN `tenant` AS `t4` ON (`t3`.`tenant_id` = `t4`.`id`) WHERE ((((((`t2`.`status` = %s) AND (`t2`.`run` = %s)) AND NOT (`t2`.`type` = %s)) AND (`t1`.`progress` = %s)) AND (`t1`.`update_time` >= %s)) AND ((`t1`.`create_time` %% %s) = %s)) ORDER BY `t1`.`update_time` ASC LIMIT %s OFFSET %s', ['1', '1', 'virtual', 0.0, 1712592641735, 2, 1, 64, 0])\r\n('SELECT `t1`.`id`, `t1`.`doc_id`, `t1`.`from_page`, `t1`.`to_page`, `t2`.`kb_id`, `t2`.`parser_id`, `t2`.`parser_config`, `t2`.`name`, `t2`.`type`, `t2`.`location`, `t2`.`size`, `t3`.`tenant_id`, `t3`.`language`, `t4`.`embd_id`, `t4`.`img2txt_id`, `t4`.`asr_id`, `t1`.`update_time` FROM `task` AS `t1` INNER JOIN `document` AS `t2` ON (`t1`.`doc_id` = `t2`.`id`) INNER JOIN `knowledgebase` AS `t3` ON (`t2`.`kb_id` = `t3`.`id`) INNER JOIN `tenant` AS `t4` ON (`t3`.`tenant_id` = `t4`.`id`) WHERE ((((((`t2`.`status` = %s) AND (`t2`.`run` = %s)) AND NOT (`t2`.`type` = %s)) AND (`t1`.`progress` = %s)) AND (`t1`.`update_time` >= %s)) AND ((`t1`.`create_time` %% %s) = %s)) ORDER BY `t1`.`update_time` ASC LIMIT %s OFFSET %s', ['1', '1', 'virtual', 0.0, 0, 2, 0, 64, 0])\r\nReturning 139777349632080 to pool.\r\nReturning 140199553734352 to pool.\r\n('SELECT `t1`.`id`, `t1`.`doc_id`, `t1`.`from_page`, `t1`.`to_page`, `t2`.`kb_id`, `t2`.`parser_id`, `t2`.`parser_config`, `t2`.`name`, `t2`.`type`, `t2`.`location`, `t2`.`size`, `t3`.`tenant_id`, `t3`.`language`, `t4`.`embd_id`, `t4`.`img2txt_id`, `t4`.`asr_id`, `t1`.`update_time` FROM `task` AS `t1` INNER JOIN `document` AS `t2` ON (`t1`.`doc_id` = `t2`.`id`) INNER JOIN `knowledgebase` AS `t3` ON (`t2`.`kb_id` = `t3`.`id`) INNER JOIN `tenant` AS `t4` ON (`t3`.`tenant_id` = `t4`.`id`) WHERE ((((((`t2`.`status` = %s) AND (`t2`.`run` = %s)) AND NOT (`t2`.`type` = %s)) AND (`t1`.`progress` = %s)) AND (`t1`.`update_time` >= %s)) AND ((`t1`.`create_time` %% %s) = %s)) ORDER BY `t1`.`update_time` ASC LIMIT %s OFFSET %s', ['1', '1', 'virtual', 0.0, 1712592641735, 2, 1, 64, 0])\r\n('SELECT `t1`.`id`, `t1`.`doc_id`, `t1`.`from_page`, `t1`.`to_page`, `t2`.`kb_id`, `t2`.`parser_id`, `t2`.`parser_config`, `t2`.`name`, `t2`.`type`, `t2`.`location`, `t2`.`size`, `t3`.`tenant_id`, `t3`.`language`, `t4`.`embd_id`, `t4`.`img2txt_id`, `t4`.`asr_id`, `t1`.`update_time` FROM `task` AS `t1` INNER JOIN `document` AS `t2` ON (`t1`.`doc_id` = `t2`.`id`) INNER JOIN `knowledgebase` AS `t3` ON (`t2`.`kb_id` = `t3`.`id`) INNER JOIN `tenant` AS `t4` ON (`t3`.`tenant_id` = `t4`.`id`) WHERE ((((((`t2`.`status` = %s) AND (`t2`.`run` = %s)) AND NOT (`t2`.`type` = %s)) AND (`t1`.`progress` = %s)) AND (`t1`.`update_time` >= %s)) AND ((`t1`.`create_time` %% %s) = %s)) ORDER BY `t1`.`update_time` ASC LIMIT %s OFFSET %s', ['1', '1', 'virtual', 0.0, 0, 2, 0, 64, 0])\r\nReturning 140199553734352 to pool.\r\nReturning 139777349632080 to pool.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/264/comments",
    "author": "shaoyie",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-09T01:50:30Z",
        "body": "Fixed. Please pull the latest source code and docker images."
      }
    ]
  },
  {
    "number": 254,
    "title": "[Question]: Performance of OCR",
    "created_at": "2024-04-08T06:48:14Z",
    "closed_at": "2024-04-08T13:20:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/254",
    "body": "### Describe your problem\n\nragflow is integrating with the OCR model of InfiniFlow/deepdoc. what's the performance of the text extraction and table structure extraction compare with the commercial OCR tools such as the text extraction of Azure and Aws.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/254/comments",
    "author": "jack-gits",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-08T13:20:45Z",
        "body": "Good question.\r\nBut we have not had the bench mark data right now.  \r\nWondering anyone can contribute this... "
      }
    ]
  },
  {
    "number": 247,
    "title": "demo website problemÔºöhint : 102 Tenant not found.",
    "created_at": "2024-04-07T12:02:03Z",
    "closed_at": "2024-04-08T01:41:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/247",
    "body": "### Describe your problem\n\ndemo website create knowledgeÔºöhint : 102 Tenant not found.",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/247/comments",
    "author": "beyondskyway",
    "comments": [
      {
        "user": "liux001",
        "created_at": "2024-04-07T12:04:21Z",
        "body": "Me too..."
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-07T13:03:20Z",
        "body": "What about re-signup a new account?"
      },
      {
        "user": "vikotse",
        "created_at": "2024-04-07T15:01:22Z",
        "body": "> What about re-signup a new account?\r\n\r\n@KevinHuSh The issue remains on a new account."
      },
      {
        "user": "hiheaven",
        "created_at": "2024-04-07T19:38:19Z",
        "body": "Me too"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-08T01:41:33Z",
        "body": "It's a bug and fixed. But I'm afraid that you need to sign up again.\r\nSorry for the inconvenience!"
      },
      {
        "user": "yungongzi",
        "created_at": "2024-05-08T07:51:42Z",
        "body": "ÊúÄÊñ∞ÁâàÊú¨0.5.0ÂèàÂá∫Áé∞Ëøô‰∏™BUG‰∫Ü"
      }
    ]
  },
  {
    "number": 244,
    "title": "Â¶Ç‰ΩïÊ∫ØÊ∫êÔºü",
    "created_at": "2024-04-07T08:37:27Z",
    "closed_at": "2024-04-07T09:14:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/244",
    "body": "### Describe your problem\n\nËØ∑ÈóÆÂ¶ÇÊûúÁ≤æÂè¨Âõû‰∫Ü3‰∏™chunkÔºåÈÉΩ‰∏¢ÁªôÂ§ßÊ®°ÂûãÔºåÊúÄÁªàÊòØÂ¶Ç‰ΩïÁ°ÆËÆ§Á≠îÊ°àÊòØÂü∫‰∫éÂì™‰∏™chunkÂõûÁ≠îÁöÑÂë¢Ôºü",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/244/comments",
    "author": "tonylin52",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-07T09:14:19Z",
        "body": "Thank you for following! We intend to create an international community, so we encourage using English for questions and answers to help others with similar queries. üòä\r\n\r\nFor your question:\r\nThis is a very challenging task. We need to calculate the similarity between answer and chunks sentence by sentence.\r\nBTW, we use weighted similarity of term and embedding in RAGFlow.\r\nThe other way to write a good prompt to LLM, let LLM do the job."
      },
      {
        "user": "tonylin52",
        "created_at": "2024-04-07T09:25:14Z",
        "body": "> Thank you for following! We intend to create an international community, so we encourage using English for questions and answers to help others with similar queries. üòä\r\n> \r\n> For your question: This is a very challenging task. We need to calculate the similarity between answer and chunks sentence by sentence. BTW, we use weighted similarity of term and embedding in RAGFlow. The other way to write a good prompt to LLM, let LLM do the job.\r\n\r\nThanksÔºÅ\r\n"
      },
      {
        "user": "cristianohello",
        "created_at": "2024-05-09T03:30:40Z",
        "body": "@KevinHuSh \r\n‰Ω†Â•ΩÔºå‰Ω†ËØ¥ÁöÑwe use weighted similarity of term and embedding in RAGFlow. Ëøô‰∏™Âú®‰ª£Á†ÅÈáåÈù¢Âì™‰∏™Âú∞ÊñπÔºü"
      }
    ]
  },
  {
    "number": 239,
    "title": "[Question]: Can't update token usage for ***/EMBEDDING",
    "created_at": "2024-04-07T01:09:51Z",
    "closed_at": "2024-04-07T01:45:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/239",
    "body": "### Describe your problem\n\n- The info in ERROR.log as follows:\r\n```\r\nFail put 29f4f2dcf21b11ee97630242c0a80006/AcademicGPT.pdf: S3 operation failed; code: NoSuchBucket, message: The specified bucket does not exist, resource: /29f4f2dcf21b11ee97630242c0a80006, request_id: 17C2EC907DD3BC46, host_id: dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8, bucket_name: 29f4f2dcf21b11ee97630242c0a80006\r\nCan't update token usage for d11309c4f0c111eea3da0242ac150005/EMBEDDING\r\nObject of type ndarray is not JSON serializable\r\nTraceback (most recent call last):\r\n  File \"/ragflow/api/apps/conversation_app.py\", line 172, in completion\r\n    ans = chat(dia, msg, **req)\r\n          ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/api/apps/conversation_app.py\", line 215, in chat\r\n    kbinfos = retrievaler.retrieval(\" \".join(questions), embd_mdl, dialog.tenant_id, dialog.kb_ids, 1, dialog.top_n,\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/rag/nlp/search.py\", line 314, in retrieval\r\n    sres = self.search(req, index_name(tenant_id), embd_mdl)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/rag/nlp/search.py\", line 115, in search\r\n    es_logger.info(\"„ÄêQ„Äë: {}\".format(json.dumps(s)))\r\n                                    ^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/json/__init__.py\", line 238, in dumps\r\n    **kw).encode(obj)\r\n          ^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/json/encoder.py\", line 200, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/json/encoder.py\", line 258, in iterencode\r\n    return _iterencode(o, 0)\r\n           ^^^^^^^^^^^^^^^^^\r\n  File \"/ragflow/api/utils/__init__.py\", line 128, in default\r\n    return json.JSONEncoder.default(self, obj)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/root/miniconda3/envs/py11/lib/python3.11/json/encoder.py\", line 180, in default\r\n    raise TypeError(f'Object of type {o.__class__.__name__} '\r\nTypeError: Object of type ndarray is not JSON serializable\r\nCan't update token usage for d11309c4f0c111eea3da0242ac150005/EMBEDDING\r\nObject of type ndarray is not JSON serializable\r\n```\r\nHow can I solved this?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/239/comments",
    "author": "Yang-HangWA",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-07T01:45:36Z",
        "body": "Pull the docker image again\r\n`\r\ndocker pull infiniflow/ragflow:v1.0`"
      },
      {
        "user": "Yang-HangWA",
        "created_at": "2024-04-07T02:03:07Z",
        "body": "> Pull the docker image again ` docker pull infiniflow/ragflow:v1.0`\r\n\r\nI build the image by myself, something wrong?"
      },
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-07T02:23:42Z",
        "body": "> > Pull the docker image again ` docker pull infiniflow/ragflow:v1.0`\r\n> \r\n> I build the image by myself, something wrong?\r\n\r\ngit pull and build again"
      }
    ]
  },
  {
    "number": 226,
    "title": "[Question]: pymysql.err.ProgrammingError: (1146, \"Table 'rag_flow.document' doesn't exist\")",
    "created_at": "2024-04-04T01:29:59Z",
    "closed_at": "2024-04-04T01:47:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/226",
    "body": "### Describe your problem\r\n\r\n`\r\ndocker compose down -v\r\ndocker compose up\r\n`\r\nabove command doesn't work",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/226/comments",
    "author": "Stephenzza",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-04T01:47:43Z",
        "body": "Thanks for following!\r\n\r\n1. change docker/entrypoint.sh: 26: sleep 60 -> sleep 180\r\n2. add a line after docker/docker-compose.yml: 109\r\n`- ./entrypoint.sh:/ragflow/entrypoint.sh`\r\n3. docker compose down -v \r\n4. docker compose up\r\n"
      },
      {
        "user": "andrew8899",
        "created_at": "2024-04-22T03:36:24Z",
        "body": "> Thanks for following!\r\n> \r\n> 1. change docker/entrypoint.sh: 26: sleep 60 -> sleep 180\r\n> 2. add a line after docker/docker-compose.yml: 109\r\n>    `- ./entrypoint.sh:/ragflow/entrypoint.sh`\r\n> 3. docker compose down -v\r\n> 4. docker compose up\r\n\r\ndocker-compose.yml only has 30 lines. where to insert?\r\n ```\r\n 1 version: '2.2'\r\n  2 \r\n  3 include:\r\n  4   - path: ./docker-compose-base.yml\r\n  5     env_file: ./.env\r\n  6 \r\n  7 services:\r\n  8   ragflow:\r\n  9     depends_on:\r\n 10       mysql:\r\n 11         condition: service_healthy\r\n 12       es01:\r\n 13         condition: service_healthy\r\n 14     image: infiniflow/ragflow:v1.0\r\n 15     container_name: ragflow-server\r\n 16     ports:\r\n 17       - ${SVR_HTTP_PORT}:9380\r\n 18       - 80:80\r\n 19       - 443:443\r\n 20     volumes:\r\n 21       - ./service_conf.yaml:/ragflow/conf/service_conf.yaml\r\n 22       - ./ragflow-logs:/ragflow/logs\r\n 23       - ./nginx/ragflow.conf:/etc/nginx/conf.d/ragflow.conf\r\n 24       - ./nginx/proxy.conf:/etc/nginx/proxy.conf\r\n 25       - ./nginx/nginx.conf:/etc/nginx/nginx.conf\r\n 26     environment:\r\n 27       - TZ=${TIMEZONE}\r\n 28     networks:\r\n 29       - ragflow\r\n 30     restart: always\r\n```\r\n\r\nMy version is 2.2. Could you tell your version?\r\n"
      },
      {
        "user": "Alchemistqqqq",
        "created_at": "2024-05-11T01:31:45Z",
        "body": "> > Thanks for following!\r\n> > \r\n> > 1. change docker/entrypoint.sh: 26: sleep 60 -> sleep 180\r\n> > 2. add a line after docker/docker-compose.yml: 109\r\n> >    `- ./entrypoint.sh:/ragflow/entrypoint.sh`\r\n> > 3. docker compose down -v\r\n> > 4. docker compose up\r\n> \r\n> docker-compose.yml only has 30 lines. where to insert?\r\n> \r\n> ```\r\n> 1 version: '2.2'\r\n>  2 \r\n>  3 include:\r\n>  4   - path: ./docker-compose-base.yml\r\n>  5     env_file: ./.env\r\n>  6 \r\n>  7 services:\r\n>  8   ragflow:\r\n>  9     depends_on:\r\n> 10       mysql:\r\n> 11         condition: service_healthy\r\n> 12       es01:\r\n> 13         condition: service_healthy\r\n> 14     image: infiniflow/ragflow:v1.0\r\n> 15     container_name: ragflow-server\r\n> 16     ports:\r\n> 17       - ${SVR_HTTP_PORT}:9380\r\n> 18       - 80:80\r\n> 19       - 443:443\r\n> 20     volumes:\r\n> 21       - ./service_conf.yaml:/ragflow/conf/service_conf.yaml\r\n> 22       - ./ragflow-logs:/ragflow/logs\r\n> 23       - ./nginx/ragflow.conf:/etc/nginx/conf.d/ragflow.conf\r\n> 24       - ./nginx/proxy.conf:/etc/nginx/proxy.conf\r\n> 25       - ./nginx/nginx.conf:/etc/nginx/nginx.conf\r\n> 26     environment:\r\n> 27       - TZ=${TIMEZONE}\r\n> 28     networks:\r\n> 29       - ragflow\r\n> 30     restart: always\r\n> ```\r\n> \r\n> My version is 2.2. Could you tell your version?\r\n\r\nversion: '2.2'\r\n\r\ninclude:\r\n  - path: ./docker-compose-base.yml\r\n    env_file: ./.env\r\n\r\nservices:\r\n  ragflow:\r\n    depends_on:\r\n      mysql:\r\n        condition: service_healthy\r\n      es01:\r\n        condition: service_healthy\r\n    image: infiniflow/ragflow:v1.0\r\n    container_name: ragflow-server\r\n    ports:      \r\n      - ${SVR_HTTP_PORT}:9380\r\n      - 80:80\r\n      - 443:443\r\n    volumes:\r\n      - ./entrypoint.sh:/ragflow/entrypoint.sh\r\n      - ./service_conf.yaml:/ragflow/conf/service_conf.yaml\r\n      - ./ragflow-logs:/ragflow/logs\r\n      - ./nginx/ragflow.conf:/etc/nginx/conf.d/ragflow.conf\r\n      - ./nginx/proxy.conf:/etc/nginx/proxy.conf\r\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf\r\n    environment:\r\n      - TZ=${TIMEZONE}\r\n    networks:\r\n      - ragflow\r\n    restart: always\r\n\r\n\r\nHere is my profile. I hope it helps"
      }
    ]
  },
  {
    "number": 211,
    "title": "[Question]:  \"Table 'rag_flow.knowledgebase' doesn't exist\" and  \"Table 'rag_flow.document' doesn't exist\"",
    "created_at": "2024-04-03T03:08:41Z",
    "closed_at": "2024-04-03T03:25:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/211",
    "body": "### Describe your problem\n\npymysql.err.ProgrammingError: (1146, \"Table 'rag_flow.knowledgebase' doesn't exist\")",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/211/comments",
    "author": "zephyr737",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-03T03:25:21Z",
        "body": "Thanks for following!\r\n\r\nMysql didn't initialize properly.\r\nRecommand, remove all the data and try that again.\r\n\r\ndocker compose down -v\r\ndocker compose up"
      },
      {
        "user": "Stephenzza",
        "created_at": "2024-04-03T03:45:44Z",
        "body": "> Thanks for following!\r\n> \r\n> Mysql didn't initialize properly. Recommand, remove all the data and try that again.\r\n> \r\n> docker compose down -v docker compose up\r\n\r\nsame error, it doesn't work"
      }
    ]
  },
  {
    "number": 205,
    "title": "[Question]: Dockerfile for ragflow-base image?",
    "created_at": "2024-04-02T08:44:34Z",
    "closed_at": "2024-04-02T10:19:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/205",
    "body": "### Describe your problem\n\nBuilding the project truly from source would involve building all resources, including base image. Any chance `ragflow-base` dockerfile could be included in repo?",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/205/comments",
    "author": "gitpurzy",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-02T10:19:33Z",
        "body": "Acctually, ragflow-base image was not built  from Dockerfile. \r\nWe just run ubuntu 22.04 docker image, then install all the necessary thing, and commit this container to an image.\r\n\r\nThe Python version is 3.11, and you can find other thing in reqirements.txt"
      },
      {
        "user": "kam-st",
        "created_at": "2024-07-05T04:30:47Z",
        "body": "> Acctually, ragflow-base image was not built from Dockerfile. We just run ubuntu 22.04 docker image, then install all the necessary thing, and commit this container to an image.\r\n> \r\n> The Python version is 3.11, and you can find other thing in reqirements.txt\r\n\r\nHi Kevin,\r\n\r\nWould you be able to do it from dockerfile and share file? Just makes it easier to use different distros based on preference. "
      }
    ]
  },
  {
    "number": 188,
    "title": "DeepDocÂØπ‰∏≠ÊñáÁöÑÊîØÊåÅÊÄé‰πàÊ†∑",
    "created_at": "2024-04-01T07:45:44Z",
    "closed_at": "2024-04-01T23:50:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/infiniflow/ragflow/issues/188",
    "body": "### Describe your problem\n\nDeepDocÂØπ‰∏≠ÊñáÁöÑÊîØÊåÅÊÄé‰πàÊ†∑ÔºåÊàëÁúãÊñáÊ°£ÈÉΩÊòØÁî®ÁöÑËã±ÊñáÊñáÊ°£",
    "comments_url": "https://api.github.com/repos/infiniflow/ragflow/issues/188/comments",
    "author": "xiamulo",
    "comments": [
      {
        "user": "KevinHuSh",
        "created_at": "2024-04-01T08:29:15Z",
        "body": "Thank you for following! We intend to create an international community, so we encourage using English for questions and answers to help others with similar queries. üòä\r\n\r\nFor your question:\r\n\r\nChinese has already been supported well in term of DeepDoc.  You can try it based on the README.\r\nChinese README will be ready recently.\r\n\r\nThanks again!"
      }
    ]
  }
]