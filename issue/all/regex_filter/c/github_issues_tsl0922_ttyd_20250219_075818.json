[
  {
    "number": 1389,
    "title": "about   rz,sz",
    "created_at": "2024-07-17T06:55:47Z",
    "closed_at": "2024-10-05T02:48:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1389",
    "body": "webssh uses rz and sz to crash terminals. How do I support this command",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1389/comments",
    "author": "AmbitionHX",
    "comments": [
      {
        "user": "90999",
        "created_at": "2024-07-31T04:33:19Z",
        "body": "-t enableZmodem=true"
      }
    ]
  },
  {
    "number": 1386,
    "title": "How to capture the logs from the screen that is shared using ttyd",
    "created_at": "2024-07-10T11:14:46Z",
    "closed_at": "2024-07-10T11:31:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1386",
    "body": "Describe your problem or question here.\r\ni ran the below instance of ttyd on my centos machine\r\n** ttyd --writable -p 8080 telnet <ip> **\r\n\r\nthis resulting terminal window was shared on a web browser using <machineIp:8080> ,  i wanted to capture what ever being executed on that terminal window shared over browser, i have gone through the documentation of ttyd, I did not found any such logging mechanism. how to achieve this ? ",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1386/comments",
    "author": "mahesware",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2024-07-10T11:31:11Z",
        "body": "#251"
      }
    ]
  },
  {
    "number": 1376,
    "title": "how to use ipv6?",
    "created_at": "2024-06-03T06:37:22Z",
    "closed_at": "2024-06-09T08:28:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1376",
    "body": "Describe your problem or question here.\r\nThe server interface is configured with v6 addresses. How does the command enable ttyd to support v6 access?",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1376/comments",
    "author": "AmbitionHX",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2024-06-09T08:28:48Z",
        "body": "```\r\n-6, --ipv6              Enable IPv6 support\r\n```\r\n\r\nLibwebsockets must be built with IPv6 support, or you won't see this option in ttyd."
      }
    ]
  },
  {
    "number": 1372,
    "title": "How to use the terminal ip address",
    "created_at": "2024-05-31T09:43:47Z",
    "closed_at": "2024-07-12T02:49:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1372",
    "body": "Describe your problem or question here.\r\nttyd -p 48620 --ipv6 --ssl --ssl-cert *.pem --ssl-key *.key --ssl-ca ca.pem -W /secgate/bin/login\r\n/secgate/bin/login This is a process, which is used to receive the account password verification sent by ttyd. I want to realize that ttyd will also send the terminal ip to this process. What should I do at present？？？\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1372/comments",
    "author": "AmbitionHX",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2024-06-27T07:12:05Z",
        "body": "It not supported yet.\r\n\r\nSimilar issue: #709, I'm closing this one."
      }
    ]
  },
  {
    "number": 1314,
    "title": "Clear up security implications of default (no `--writable`) mode",
    "created_at": "2024-03-07T08:30:23Z",
    "closed_at": "2024-03-07T13:44:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1314",
    "body": "I ask for myself, but think it would be very much worthwhile to add the answer to the landing page readme:\r\n\r\nIs the default mode without the explicit `--writable` considered 'secure' in the sense that I could expose it to the internet ? Obviously, one needs to use their own judgment when it comes to what is exposed as possibly sensitive data (such as the process list when exposing `top`), and naturally, additional security ought to be imposed through authentication, IP/subnet restrictions and so on, but beyond those aspects, it is unclear whether that switch is a restriction on the level of `robots.txt`, where it blocks naive keypresses, but isn't designed to foil a determined bad actor, or whether the switch is expected to effectively block anyones 'best efforts', discounting the always-present option of undiscovered bugs.\r\n\r\nI would suggest a paragraph in the readme with an answer along the following lines:\r\n\r\na) In the absence of `-W`/`--writable`, the displayed terminal will be entirely read-only and is safe to expose without worrying about users potentially abusing the process' privileges. The sensitivity of the displayed data should still be considered [...etc...]\r\n\r\nb) The implicit lack of `-W`/`--writable` is a convenience feature to prevent accidental keystrokes, and should not be considered a security measure as it is not designed to foil a determined bad actor.\r\n\r\nAs a bonus, I would recommend an explicit `--non-writable` that would cause an error if a `-W` is added later on the line to allow for an explicit instead of implicit decision on the ... writability.\r\n\r\nThanks for making this tool, I use it mostly for monitoring so I don't have to leave a shell open and I love how easy it makes things.",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1314/comments",
    "author": "JKHSDTV",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2024-03-07T13:44:38Z",
        "body": "Well, there is no absolute secure.\r\n\r\n> a user should know the risk of running this program\r\n\r\nThe readonly default is a way to make it \"looks secure\", and make people to stop reporting it as a security problem (#692)."
      }
    ]
  },
  {
    "number": 1297,
    "title": "Integration with dockerized alpine",
    "created_at": "2024-02-15T16:02:04Z",
    "closed_at": "2024-02-16T09:35:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1297",
    "body": "I have multiple docker containers running alpine linux on my server, and I want to use ttyd to get a shell to each of these containers in the browser. Can that be done using one ttyd executable running on the server with all dependencies installed, without having to install everything on every single alpine container (to save resources) ?",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1297/comments",
    "author": "MohamedKarrab",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2024-02-16T09:35:40Z",
        "body": "maybe, see #1294, you can pass container id with url argument."
      }
    ]
  },
  {
    "number": 1281,
    "title": "ttyd server does not respond to user input",
    "created_at": "2023-12-25T01:59:53Z",
    "closed_at": "2023-12-25T05:48:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1281",
    "body": "I have this weird issue where loading tmux in Chrome will bring up the page, send the initial prompt - and then not respond to any additional keystrokes. For clarity, when I see the page using the below command, I only see the following prompt:\r\n\r\n```./build/ttyd  -i 127.0.0.1 /bin/bash```\r\n^ command to start ttyd\r\n\r\n```bash-3.2$ ```\r\n^ what I see in chrome when I load localhost:7681\r\n\r\nKeystrokes seem to do nothing, and looking in the network tab it seems like there is an existing websocket connection which is sending the messages to the server. This leads me to believe that something at the server or beyond is failing. I should note that this used to work fine, but stopped working recently.\r\n\r\n\r\n**System Details:**\r\n\r\nChrome version:\r\n120.0.6099.129\r\n\r\n➜ ~ tmux -V\r\ntmux 3.3a\r\n\r\n➜ ~ zsh --version\r\nzsh 5.9 (x86_64-apple-darwin22.0)\\\r\n\r\n➜ ~ ttyd -v\r\nttyd version 1.7.4\r\nalso built from source @ fd280fee92cb874c74fc87559d9e723d900b3267",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1281/comments",
    "author": "angles-n-daemons",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2023-12-25T05:48:25Z",
        "body": "#1229\n"
      }
    ]
  },
  {
    "number": 1245,
    "title": "process exited with code 254",
    "created_at": "2023-11-09T00:55:41Z",
    "closed_at": "2023-11-10T01:03:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1245",
    "body": "[2023/11/09 08:54:18:0019] N: ttyd 1.7.4 (libwebsockets 4.3.2-no_hash)\r\n[2023/11/09 08:54:18:0022] N: tty configuration:\r\n[2023/11/09 08:54:18:0022] N:   start command: bash -d\r\n[2023/11/09 08:54:18:0022] N:   close signal: SIGHUP (1)\r\n[2023/11/09 08:54:18:0023] N:   terminal type: xterm-256color\r\n[2023/11/09 08:54:18:0023] N: The --writable option is not set, will start in readonly mode\r\n[2023/11/09 08:54:18:0030] N:    /data/data/com.termux/files/usr/lib/libwebsockets-evlib_uv.so\r\n[2023/11/09 08:54:18:0030] N: lws_create_context: LWS: 4.3.2-no_hash, NET CLI SRV H1 H2 WS ConMon IPv6-absent\r\n[2023/11/09 08:54:18:0033] N: elops_init_pt_uv:  Using foreign event loop...\r\n[2023/11/09 08:54:18:0033] N: __lws_lc_tag:  ++ [wsi|0|pipe] (1)\r\n[2023/11/09 08:54:18:0034] N: __lws_lc_tag:  ++ [vh|0|default||8080] (1)\r\n[2023/11/09 08:54:18:0035] N: [vh|0|default||8080]: lws_socket_bind: source ads 0.0.0.0\r\n[2023/11/09 08:54:18:0035] N: __lws_lc_tag:  ++ [wsi|1|listen|default||8080] (2)\r\n[2023/11/09 08:54:18:0035] N:  Listening on port: 8080\r\n[2023/11/09 08:54:21:4616] N: __lws_lc_tag:  ++ [wsisrv|0|adopted] (1)\r\n[2023/11/09 08:54:21:4625] N: __lws_lc_tag:  ++ [wsisrv|1|adopted] (2)\r\n[2023/11/09 08:54:21:4630] N: HTTP / - 192.168.1.27\r\n[2023/11/09 08:54:21:5503] N: HTTP /token - 192.168.1.27\r\n[2023/11/09 08:54:21:5607] N: __lws_lc_tag:  ++ [wsisrv|2|adopted] (3)\r\n[2023/11/09 08:54:21:5619] N: WS   /ws - 192.168.1.27, clients: 1\r\n[2023/11/09 08:54:21:5749] N: started process, pid: 28898\r\n[2023/11/09 08:54:21:5786] N: process exited with code 254, pid: 28898\r\n[2023/11/09 08:54:23:1973] N: HTTP / - 192.168.1.27\r\n[2023/11/09 08:54:23:2082] N: WS closed from 192.168.1.27, clients: 0\r\n[2023/11/09 08:54:23:2085] N: __lws_lc_untag:  -- [wsisrv|2|adopted] (2) 1.647s\r\n[2023/11/09 08:54:23:3064] N: HTTP /token - 192.168.1.27\r\n[2023/11/09 08:54:23:3233] N: __lws_lc_tag:  ++ [wsisrv|3|adopted] (3)\r\n[2023/11/09 08:54:23:3246] N: WS   /ws - 192.168.1.27, clients: 1\r\n[2023/11/09 08:54:23:3318] N: started process, pid: 28900\r\n[2023/11/09 08:54:23:3351] N: process exited with code 254, pid: 28900\r\n[2023/11/09 08:54:28:3143] N: __lws_lc_untag:  -- [wsisrv|0|adopted] (2) 6.852s\r\n[2023/11/09 08:54:28:3259] N: WS closed from 192.168.1.27, clients: 0\r\n[2023/11/09 08:54:28:3261] N: __lws_lc_untag:  -- [wsisrv|3|adopted] (1) 5.002s\r\n[2023/11/09 08:54:31:4674] N: __lws_lc_untag:  -- [wsisrv|1|adopted] (0) 10.004s",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1245/comments",
    "author": "pandyer",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2023-11-10T01:03:49Z",
        "body": "> [2023/11/09 08:54:18:0022] N: start command: bash -d\r\n\r\n```\r\n$ bash -d\r\nbash: -d: invalid option\r\n```"
      }
    ]
  },
  {
    "number": 1216,
    "title": "execvp failed: No such file or directory",
    "created_at": "2023-10-09T18:20:15Z",
    "closed_at": "2023-10-11T07:21:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1216",
    "body": "When starting with a token:\r\n`ttyd --token your-token bash`\r\n\r\n I get this error:\r\n`execvp failed: No such file or directory`\r\n\r\n\r\nand the log repeats:\r\n`== uv_read failed with error -5: i/o error\r\n[2023/10/09 18:18:19:6811] N: process exited with code 254, pid: 1134143\r\n[2023/10/09 18:18:19:6812] N: WS closed from XXXXX, clients: 0\r\n[2023/10/09 18:18:19:7753] N: HTTP /token - XXXXX\r\n^C[2023/10/09 18:18:19:8441] N: received signal: SIGINT (2), exiting...\r\n[2023/10/09 18:18:19:8441] N: send ^C to force exit.\r\n`\r\n\r\nAny ideas? Cant find a lot on Google..\r\n\r\nWhen running with credentials it works as expected..",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1216/comments",
    "author": "stefanpejcic",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2023-10-11T07:21:21Z",
        "body": "```\r\n-c, --credential        Credential for basic authentication (format: username:password)\r\n```"
      }
    ]
  },
  {
    "number": 1186,
    "title": "ttyd automatically clears after small inactivity",
    "created_at": "2023-08-10T16:58:30Z",
    "closed_at": "2023-12-26T10:46:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1186",
    "body": "Hello,\r\nI'm pretty new to ttyd project, however i have a setup with an already installed version of ttyd.\r\nCurrent version used is 1.6.3.\r\n\r\nI want to get rid of the auto-clearing of screen after small amount of time of inactivity (maybe 1 or 2 minutes ?)\r\n\r\nOptions used right now : \r\n```\r\nTTYD_OPTS=\"-t disableLeaveAlert=true -t theme={'background':'black'} -t fontSize=15 -t fontFamily=monospace\"\r\n```\r\nI've tried `-t disableReconnect=true` option, but it seems that it doesn't fix my issues.\r\n\r\nIs there any option that can help me get rid of the auto-clear ?\r\n\r\nThank you",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1186/comments",
    "author": "sam5558",
    "comments": [
      {
        "user": "Zibri",
        "created_at": "2023-08-19T12:57:49Z",
        "body": "check the PID... perhaps it's not a clear but it just starts another shell.\r\nunfortunately ttyd is multisession and does not support resuming the previous session.\r\n"
      },
      {
        "user": "tsl0922",
        "created_at": "2023-11-10T02:06:40Z",
        "body": "It's reconnected. ttyd will reset the terminal on new session.\r\n\r\n> Is there any option that can help me get rid of the auto-clear ?\r\n\r\nNo."
      }
    ]
  },
  {
    "number": 1106,
    "title": "ping-interval probably not working",
    "created_at": "2023-05-08T19:51:10Z",
    "closed_at": "2023-06-19T01:32:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1106",
    "body": "I have watched the ws connection in the Browser developers tools and I think even when using the latest version which have ping-interval of 5 it only send from client to server ~300 seconds. \r\nIs there something hardcoded somewhere so the change default is not used?\r\nAlso setting the value manually to 30 with -P doesnt change anything",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1106/comments",
    "author": "mstenz",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2023-06-19T01:30:47Z",
        "body": "The browser may not displaying ping/pong frame, did you capture the traffic using something like Wireshark?"
      },
      {
        "user": "tsl0922",
        "created_at": "2023-06-19T01:32:14Z",
        "body": "See also #949"
      }
    ]
  },
  {
    "number": 1062,
    "title": "No way to listen on a single address",
    "created_at": "2023-01-17T04:56:54Z",
    "closed_at": "2023-01-27T01:56:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/1062",
    "body": "TTYD doesn't support listening to only a single address (or address range).\r\n\r\nI would expect that an `--address` option would be possible, so that ttyd only listens to connections from a single address, but this doesn't seem to be possible.\r\n\r\nFor example, if I wanted to make sure that only connections from `192.168.0.1` were accepted, I would expect to see the following in `netstat`:\r\n\r\n```\r\nnetstat -lp\r\nProto Recv-Q Send-Q Local Address     Foreign Address   State   PID/Program name    \r\ntcp        0      0 192.168.0.1:7681  0.0.0.0:*         LISTEN  987654/ttyd         \r\n                    ^^^^^^^^^^^\r\n```\r\n\r\nI don't know if this is possible, but it would be a welcome security feature.\r\n\r\n--\r\n\r\nEDIT - It looks like libwebsockets allows this, through the use of `vhost_name`, in the info/context.\r\n\r\n```\r\nVHOST: name of vhost, must match external DNS name used to access the site, like \"warmcat.com\" as it's used to match Host: header and / or SNI name for SSL.\r\n```",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/1062/comments",
    "author": "AddisonG",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2023-01-27T01:56:25Z",
        "body": "```\r\nttyd -i 127.0.0.1\r\n```"
      }
    ]
  },
  {
    "number": 947,
    "title": "random or arbitray URL path",
    "created_at": "2022-07-06T22:01:57Z",
    "closed_at": "2022-07-11T04:39:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/947",
    "body": "Hi,\r\n\r\n Is there a way to specify a random or arbitrary URL path to append to the <host>:port  (I'm thinking along the lines of gotty's ability to specify a random URL). \r\n\r\nThanks\r\n\r\n Dave \r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/947/comments",
    "author": "gendl",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2022-07-07T09:02:05Z",
        "body": "Use `-b /path` for custom path, or `-p 0` for random port"
      }
    ]
  },
  {
    "number": 913,
    "title": "password is visible",
    "created_at": "2022-04-06T06:26:00Z",
    "closed_at": "2022-08-05T04:07:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/913",
    "body": "Describe your problem or question here.\r\nHow to make the password input is invisible? Currently the password is visible when input.",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/913/comments",
    "author": "uart-aplex",
    "comments": [
      {
        "user": "uart-aplex",
        "created_at": "2022-04-06T07:49:16Z",
        "body": "I found the problem, when I using USB keyboard through HID interface to input password, then the password input is invisible, but I am using the touch screen keyboard, when the on screen keyboard pass the key input to ttyd for password input, then the password is visible. Is there anyway to let this situation invisible for password input?"
      },
      {
        "user": "tsl0922",
        "created_at": "2022-08-05T04:07:12Z",
        "body": "ttyd has no logic about password visibility, check your program."
      }
    ]
  },
  {
    "number": 906,
    "title": "make && sudo make install fail",
    "created_at": "2022-03-23T06:52:24Z",
    "closed_at": "2022-05-08T07:17:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/906",
    "body": "exec `make && sudo make install` fail\r\n\r\n```\r\n~/ttyd/build on git:main\r\nmake\r\nmake: *** No targets specified and no makefile found.  Stop.\r\n\r\n~/ttyd/build on git:main\r\nmake install\r\nmake: *** No rule to make target 'install'.  Stop.\r\n```\r\n\r\nos info\r\n\r\n```\r\nneofetch\r\n       _,met$$$$$gg.          root@jscs-dw-backup-02\r\n    ,g$$$$$$$$$$$$$$$P.       ----------------------\r\n  ,g$$P\"     \"\"\"Y$$.\".        OS: Debian GNU/Linux 9.8 (stretch) x86_64\r\n ,$$P'              `$$$.     Model: SA5112M5 00001\r\n',$$P       ,ggs.     `$$b:   Kernel: 5.10.0-72-bili\r\n`d$$'     ,$P\"'   .    $$$    Uptime: 19 hours, 16 minutes\r\n $$P      d$'     ,    $$P    Packages: 729\r\n $$:      $$.   -    ,d$$'    Shell: zsh 5.3.1\r\n $$;      Y$b._   _,d$P'      CPU: Intel Xeon Silver 4216 (64) @ 3.2GHz\r\n Y$$.    `.`\"Y$$$$P\"'         GPU: ASPEED Technology, Inc. ASPEED Graphics Family\r\n `$$b      \"-.__              Memory: 1104MB / 256730MB\r\n  `Y$$\r\n   `Y$$.                      ████████████████████████\r\n     `$$b.\r\n       `Y$$b.\r\n          `\"Y$b._\r\n              `\"\"\"\r\n```\r\n\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/906/comments",
    "author": "LiushuiXiaoxia",
    "comments": [
      {
        "user": "AlexanderS",
        "created_at": "2022-03-24T17:38:31Z",
        "body": "Did you do `cmake ..` before? What was the output of cmake?"
      },
      {
        "user": "r10r",
        "created_at": "2022-03-24T22:08:29Z",
        "body": "You can try building with the following Dockerfile\r\n\r\n```Dockerfile\r\nFROM alpine:latest AS build\r\nRUN apk add --no-cache build-base cmake bash curl automake libtool m4 autoconf yarn\r\nWORKDIR /build\r\nCOPY . .\r\nWORKDIR /build/html\r\nRUN yarn install && yarn run build\r\nWORKDIR /build\r\nARG BUILD_TARGET=x86_64\r\nRUN ./scripts/cross-build.sh\r\n\r\nFROM alpine:latest\r\nCOPY --from=build /opt/stage/x86_64-linux-musl/bin/ttyd /usr/local/bin/ttyd\r\nCOPY --from=build /opt/stage/x86_64-linux-musl/share/man/man1/ttyd.1 /usr/local/share/man/man1/ttyd.1\r\n```"
      }
    ]
  },
  {
    "number": 904,
    "title": "Can I use jmeter send http to ttyd？",
    "created_at": "2022-03-12T03:19:04Z",
    "closed_at": "2022-05-08T07:20:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/904",
    "body": "Can I use jmeter send http to ttyd？",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/904/comments",
    "author": "wholegale39",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2022-05-08T07:21:18Z",
        "body": "I don't konw, you may ask jmeter."
      }
    ]
  },
  {
    "number": 903,
    "title": "Auto run/start tmux without having to navigate via a web browser",
    "created_at": "2022-03-11T00:17:57Z",
    "closed_at": "2022-07-05T17:41:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/903",
    "body": "Hi,\r\n\r\nI'd like to autorun a program within a tmux session that is wrapped up using `ttyd`, I'm struggling to get it kicked off without intervention until I open a web browser. I've skimmed through the repo issues but cannot find a response. Am I missing anything here?\r\n\r\n```sh\r\nstart command: tmux -S /data/tmux.sock new -A -s myShell /bin/myProgram\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/903/comments",
    "author": "kitos9112",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2022-07-04T14:44:50Z",
        "body": "ttyd is designed for browser, if you don't use a browser, why not use something else?"
      },
      {
        "user": "kitos9112",
        "created_at": "2022-07-04T16:43:14Z",
        "body": "Hi @tsl0922! Thanks for your reply.\n\nThe use case of this tool suits perfectly my application. The only downside is resurrecting it whenever the application or server restarts/reboots. Why does it need user interaction via a Web browser to start?\n\nI got the tool running in the container image, but I really want to kick off an autostart whenever kubelet (Kubernetes) restarts the pod/container. This way, I can allow an operator to open a TTY to the process. Hope I make sense, happy to provide more information. \n"
      },
      {
        "user": "tsl0922",
        "created_at": "2022-07-05T14:42:51Z",
        "body": "ttyd is not designed for this use case, maybe you can start your program with tmux first, then let ttyd run tmux attach to get access to the started session."
      },
      {
        "user": "kitos9112",
        "created_at": "2022-07-05T17:41:43Z",
        "body": "OK @tsl0922 - thanks for your reply anyways. I'll look for other suitable alternatives out there. "
      }
    ]
  },
  {
    "number": 860,
    "title": "How to run in the background of the terminal?",
    "created_at": "2022-01-09T02:55:55Z",
    "closed_at": "2022-07-04T15:45:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/860",
    "body": "\r\nHow to run in the background of the terminal?",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/860/comments",
    "author": "banduoba",
    "comments": [
      {
        "user": "wdkang123",
        "created_at": "2022-01-10T01:58:52Z",
        "body": "you can use `nohup` and `&`\r\n`\r\nnohup tyyd bash &\r\n`\r\nthe log will store in `nohup.out`"
      }
    ]
  },
  {
    "number": 843,
    "title": "ttyd 可以同时支持http和https登录",
    "created_at": "2021-12-10T07:18:57Z",
    "closed_at": "2021-12-12T13:13:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/843",
    "body": "我这边测试是只能同时开启一种模式要么是http要是是https,能否同时支持两种模式，请大佬告诉一下",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/843/comments",
    "author": "WYC-2020",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2021-12-12T13:13:07Z",
        "body": "不支持，也没有这个计划。"
      }
    ]
  },
  {
    "number": 787,
    "title": "Kill ttyd webserver when command is issued",
    "created_at": "2021-10-05T16:26:48Z",
    "closed_at": "2021-10-08T13:03:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/787",
    "body": "Hi there,\r\n\r\nI am looking for some help\r\n\r\nI am trying to create a \"web frontend\" for some command line tools.\r\nAn HTML form collects inputs and send it to a PHP script that is supposed to issue \"shell_exec\" commands.\r\nThe result of the \"ttyd shell_exec\" is diplayed in an iframe.\r\n\r\nFor exemple, I enter \"ls\" in the form -> click -> shell_exec(\"ttyd ls\") -> ip:7681.\r\n\r\nThe problem is the webserver do not quit upon successfull command.\r\nCould you provide hints?\r\nMany thanks.",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/787/comments",
    "author": "MrNonoss",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2021-10-08T13:03:24Z",
        "body": "```\r\n-o, --once              Accept only one client and exit on disconnection\r\n```"
      }
    ]
  },
  {
    "number": 757,
    "title": "请问OpenWRT的ttyd在外网中使用应该如何配置？",
    "created_at": "2021-08-25T01:25:57Z",
    "closed_at": "2021-08-25T04:25:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/757",
    "body": "外网下访问luci界面中的ttyd显示：xxxxxx.ddns.net 拒绝了我们的连接请求。\r\n外网下访问xxxxxx.ddns.net:7681，同样显示：xxxxxx.ddns.net 拒绝了我们的连接请求。\r\nOpenWRT作为xxxxxx.ddns.net下的旁路由，已经在xxxxxx.ddns.net主路由和OpenWRT旁路由上设置了7681的端口转发、防火墙规则、入站规则等\r\n请问如何配置才能在外网访问TTYD？谢谢\r\n\r\nuci配置和/etc/init.d/ttyd文件如下\r\n\r\n# uci show ttyd\r\n```\r\nttyd.@ttyd[0]=ttyd\r\nttyd.@ttyd[0].interface='@wan'\r\nttyd.@ttyd[0].command='/bin/login'\r\n```\r\n\r\n\r\n\r\n# /etc/init.d/ttyd\r\n```\r\n#!/bin/sh /etc/rc.common\r\n\r\nSTART=99\r\nSTOP=50\r\nUSE_PROCD=1\r\n\r\nNAME=ttyd\r\nPROG=/usr/bin/$NAME\r\n\r\nvalidate_section_ttyd()\r\n{\r\n\tuci_load_validate ttyd ttyd \"$1\" \"$2\" \\\r\n\t\t'enable:bool:1' \\\r\n\t\t'port:port' \\\r\n\t\t'interface:string' \\\r\n\t\t'credential:string' \\\r\n\t\t'uid:uinteger' \\\r\n\t\t'gid:uinteger' \\\r\n\t\t'signal:uinteger' \\\r\n\t\t'url_arg:bool' \\\r\n\t\t'readonly:bool' \\\r\n\t\t'client_option:list(string)' \\\r\n\t\t'terminal_type:string' \\\r\n\t\t'check_origin:bool' \\\r\n\t\t'max_clients:uinteger' \\\r\n\t\t'once:bool' \\\r\n\t\t'index:string' \\\r\n\t\t'ipv6:bool' \\\r\n\t\t'ssl:bool' \\\r\n\t\t'ssl_cert:file' \\\r\n\t\t'ssl_key:file' \\\r\n\t\t'ssl_ca:file' \\\r\n\t\t'debug:uinteger' \\\r\n\t\t'command:string'\r\n}\r\n\r\nttyd_instance()\r\n{\r\n\t[ \"$2\" = 0 ] || {\r\n\t\techo \"validation failed\"\r\n\t\treturn 1\r\n\t}\r\n\r\n\t[ \"$enable\" = 0 ] && return 1\r\n\t[ -z \"$command\" ] && return 1\r\n\r\n\t[ \"${interface::1}\" = @ ] && {\r\n\t\tinterface=$(\r\n\t\t\t. /lib/functions/network.sh\r\n\t\t\tnetwork_get_device device \"${interface:1}\"\r\n\t\t\techo -n \"$device\"\r\n\t\t)\r\n\t}\r\n\r\n\t[ \"$url_arg\" = 0 ] && url_arg=\"\"\r\n\t[ \"$readonly\" = 0 ] && readonly=\"\"\r\n\t[ \"$check_origin\" = 0 ] && check_origin=\"\"\r\n\t[ \"$once\" = 0 ] && once=\"\"\r\n\t[ \"$ipv6\" = 0 ] && ipv6=\"\"\r\n\t[ \"$ssl\" = 0 ] && ssl=\"\"\r\n\r\n\tprocd_open_instance\r\n\tprocd_set_param command \"$PROG\" \\\r\n\t\t${port:+-p $port} \\\r\n\t\t${interface:+-i $interface} \\\r\n\t\t${credential:+-c $credential} \\\r\n\t\t${uid:+-u $uid} \\\r\n\t\t${gid:+-g $gid} \\\r\n\t\t${signal:+-s $signal} \\\r\n\t\t${url_arg:+-a} \\\r\n\t\t${readonly:+-R} \\\r\n\t\t${terminal_type:+-T $terminal_type} \\\r\n\t\t${check_origin:+-O} \\\r\n\t\t${max_clients:+-m $max_clients} \\\r\n\t\t${once:+-o} \\\r\n\t\t${index:+-I $index} \\\r\n\t\t${ipv6:+-6} \\\r\n\t\t${ssl:+-S} \\\r\n\t\t${ssl_cert:+-C $ssl_cert} \\\r\n\t\t${ssl_key:+-K $ssl_key} \\\r\n\t\t${ssl_ca:+-A $ssl_ca} \\\r\n\t\t${debug:+-d $debug}\r\n\tconfig_list_foreach \"$1\" client_option \"procd_append_param command -t\"\r\n\tprocd_append_param command $command\r\n\tprocd_set_param stdout 1\r\n\tprocd_set_param stderr 1\r\n\tprocd_close_instance\r\n}\r\n\r\nstart_service() {\r\n\tconfig_load \"$NAME\"\r\n\tconfig_foreach validate_section_ttyd ttyd ttyd_instance\r\n}\r\n\r\nshutdown() {\r\n\t# close all open connections\r\n\tkillall \"$NAME\"\r\n}\r\n\r\nservice_triggers() {\r\n\tprocd_add_reload_trigger \"$NAME\"\r\n}\r\n```",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/757/comments",
    "author": "Calmact",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2021-08-25T04:25:12Z",
        "body": "即使配置了认证，也不建议对外网开放，一旦被人拿到了权限，你的路由器就是别人的了。\r\n\r\n不鼓励这种操作，所以不对这种操作提供任何技术支持。"
      }
    ]
  },
  {
    "number": 741,
    "title": "Is there any way to remain the work progress after browser refresh",
    "created_at": "2021-08-01T05:52:50Z",
    "closed_at": "2021-08-08T02:11:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/741",
    "body": "For example, if I am using vim editing a file in the web shell, and I refresh the web page, is there any way to still keep me in the vim?",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/741/comments",
    "author": "yihaoye",
    "comments": [
      {
        "user": "nlvw",
        "created_at": "2021-08-01T08:53:50Z",
        "body": "The answer is instead of having ttyd launch '/bin/bash' have it launch tmux instead.\r\n\r\n```shell\r\nttyd -p 8080 -c \"ttyd:password123\" tmux new -A -s \"ttyd_session\"\r\n```\r\n\r\nOn page refresh only the tmux frontend/client will be reloaded while the actual tmux session is persisted.  The above command will reattach to the session if it already exists and if not then create a new session.  One thing to note is, with this setup, there is no way to stop ttyd other then killing the process with kill/pkill or ctrl+c in the terminal running ttyd.  Exiting tmux (closing all panes/windows), or killing the tmux session, will just cause tmux to be relaunched on page refresh."
      }
    ]
  },
  {
    "number": 740,
    "title": "not work well with libwebsockets v4.2.1",
    "created_at": "2021-07-27T05:39:08Z",
    "closed_at": "2021-07-31T11:50:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/740",
    "body": "libwebsockets has been updated to 4.2.1, and 4.2.0 cannot be download from brew.\r\n\r\nTherefore `brew install ttyd` no longer work well with Mac OS\r\n\r\n```\r\n$ ttyd -p 3000 bash\r\n[2021/07/27 17:35:52:7697] N: ttyd 1.6.3 (libwebsockets 4.2.0-v4.2.0)\r\n[2021/07/27 17:35:52:7704] N: tty configuration:\r\n[2021/07/27 17:35:52:7704] N:   start command: bash\r\n[2021/07/27 17:35:52:7704] N:   close signal: SIGHUP (1)\r\n[2021/07/27 17:35:52:7704] N:   terminal type: xterm-256color\r\n[2021/07/27 17:35:52:7704] N: LWS: 4.2.0-v4.2.0, loglevel 7\r\n[2021/07/27 17:35:52:7704] N: NET CLI SRV H1 H2 WS ConMon IPV6-off\r\n[2021/07/27 17:35:52:7708] E: Scandir on '/usr/local/Cellar/libwebsockets/4.2.0/lib' failed, errno 2\r\n[2021/07/27 17:35:52:7709] E: lws_create_context: failed to load evlib_uv\r\n[2021/07/27 17:35:52:7709] E: libwebsockets context creation failed\r\n```",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/740/comments",
    "author": "yihaoye",
    "comments": [
      {
        "user": "taozhi8833998",
        "created_at": "2021-07-27T12:01:32Z",
        "body": "same issue"
      },
      {
        "user": "longhuzhang",
        "created_at": "2021-07-29T08:23:40Z",
        "body": "My mac start ttyd  error.\r\n➜  ~ ttyd -p 7681 bash -x\r\n[2021/07/29 16:01:16:6399] N: ttyd 1.6.3 (libwebsockets 4.2.0-v4.2.0)\r\n[2021/07/29 16:01:16:6406] N: tty configuration:\r\n[2021/07/29 16:01:16:6406] N:   start command: bash -x\r\n[2021/07/29 16:01:16:6406] N:   close signal: SIGHUP (1)\r\n[2021/07/29 16:01:16:6406] N:   terminal type: xterm-256color\r\n[2021/07/29 16:01:16:6406] N: LWS: 4.2.0-v4.2.0, loglevel 7\r\n[2021/07/29 16:01:16:6406] N: NET CLI SRV H1 H2 WS ConMon IPV6-off\r\n[2021/07/29 16:01:16:6409] E: Scandir on '/usr/local/Cellar/libwebsockets/4.2.0/lib' failed, errno 2\r\n[2021/07/29 16:01:16:6409] E: lws_create_context: failed to load evlib_uv\r\n[2021/07/29 16:01:16:6409] E: libwebsockets context creation failed"
      },
      {
        "user": "yihaoye",
        "created_at": "2021-07-31T00:11:27Z",
        "body": "FYI: work around by running ubuntu docker container in Mac and run ttyd within container."
      },
      {
        "user": "tsl0922",
        "created_at": "2021-07-31T09:46:12Z",
        "body": "It is not a ttyd issue, the brew upstream updated libwebsockets without rebuilding ttyd bottle.\r\n\r\nTo fix this issue, try `brew install ttyd --build-from-source`, or wait for the upstream fix.\r\n"
      },
      {
        "user": "yihaoye",
        "created_at": "2021-07-31T11:04:43Z",
        "body": "> It is not a ttyd issue, the brew upstream updated libwebsockets without rebuilding ttyd bottle.\r\n> \r\n> To fix this issue, try `brew install ttyd --build-from-source`, or wait for the upstream fix.\r\n\r\nHi @tsl0922 , thanks for the reply and your work with ttyd! It seems like `brew install ttyd --build-from-source` still not work for my local machine, but I could use docker to work around so far."
      },
      {
        "user": "QGB",
        "created_at": "2023-05-10T07:04:26Z",
        "body": "```\r\n('',\r\n '[2023/05/10 14:58:04:5765] N: ttyd 1.6.3 (libwebsockets 4.2.1-no_hash)\\n'\r\n '[2023/05/10 14:58:04:5772] N: tty configuration:\\n'\r\n '[2023/05/10 14:58:04:5772] N:   start command: sh\\n'\r\n '[2023/05/10 14:58:04:5772] N:   close signal: SIGHUP (1)\\n'\r\n '[2023/05/10 14:58:04:5772] N:   terminal type: xterm-256color\\n'\r\n '[2023/05/10 14:58:04:5772] N: LWS: 4.2.1-no_hash, loglevel 7\\n'\r\n '[2023/05/10 14:58:04:5773] N: NET CLI SRV H1 H2 WS ConMon IPv6-absent\\n'\r\n \"[2023/05/10 14:58:04:5776] E: Scandir on '/data/data/com.termux/files/usr/lib' failed, errno 13\\n\"\r\n '[2023/05/10 14:58:04:5776] E: lws_create_context: failed to load evlib_uv\\n'\r\n '[2023/05/10 14:58:04:5776] E: libwebsockets context creation failed\\n')\r\n```"
      },
      {
        "user": "jjm2473",
        "created_at": "2023-07-14T07:53:56Z",
        "body": "Why ttyd fail to start on libwebsocket recompiled?\r\nlibwebsocket does not upgrade, just recompile.\r\n\r\n```\r\nFri Jul 14 15:23:55 2023 daemon.notice ttyd[20431]: ttyd 1.6.3 (libwebsockets 4.2.1-c981c9a)\r\nFri Jul 14 15:23:55 2023 daemon.notice ttyd[20431]: tty configuration:\r\nFri Jul 14 15:23:55 2023 daemon.notice ttyd[20431]:   start command: /bin/login\r\nFri Jul 14 15:23:55 2023 daemon.notice ttyd[20431]:   close signal: SIGHUP (1)\r\nFri Jul 14 15:23:55 2023 daemon.notice ttyd[20431]:   terminal type: xterm-256color\r\nFri Jul 14 15:23:55 2023 daemon.notice ttyd[20431]: LWS: 4.2.1-c981c9a, loglevel 7\r\nFri Jul 14 15:23:55 2023 daemon.notice ttyd[20431]: NET CLI SRV H1 H2 WS ConMon IPV6-off\r\nFri Jul 14 15:23:55 2023 daemon.err ttyd[20431]: lws_create_context: failed to load evlib_uv\r\nFri Jul 14 15:23:55 2023 daemon.err ttyd[20431]: libwebsockets context creation failed\r\n```\r\n\r\nAfter ttyd recompile:\r\n```\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]: ttyd 1.6.3 (libwebsockets 4.2.1-09e6c20)\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]: tty configuration:\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:   start command: /bin/login\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:   close signal: SIGHUP (1)\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:   terminal type: xterm-256color\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]: LWS: 4.2.1-09e6c20, loglevel 7\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]: NET CLI SRV H1 H2 WS ConMon IPV6-off\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:    /usr/lib/libwebsockets-evlib_uv.so\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:  ++ [wsi|0|pipe] (1)\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:  ++ [vh|0|netlink] (1)\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:  ++ [vh|1|default||7681] (2)\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]: lws_socket_bind: nowsi: source ads 0.0.0.0\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:  ++ [wsi|1|listen|default||7681] (2)\r\nFri Jul 14 15:48:12 2023 daemon.notice ttyd[22358]:  Listening on port: 7681\r\nFri Jul 14 15:48:12 2023 daemon.err ttyd[22358]: [2023/07/14 15:48:12:0535] N:  Using foreign event loop...\r\n```\r\n\r\nIs ttyd check libwebsocket compile time? WTF of this logic?"
      }
    ]
  },
  {
    "number": 734,
    "title": "Only works with --debug",
    "created_at": "2021-07-23T16:49:57Z",
    "closed_at": "2021-08-08T01:50:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/734",
    "body": "**Describe the bug**\r\nIf I run the program normally with just `ttyd.armhf start bash`, I get the following in the browser:\r\n```\r\nexecvp failed\r\n: No such file or directory\r\n```\r\n\r\nAnd in the terminal:\r\n```\r\npi@RPi4-1:~/Downloads $ ./ttyd.armhf start bash\r\n[2021/07/23 17:43:34:4150] N: ttyd 1.6.3-3b174da (libwebsockets 4.1.6-)\r\n[2021/07/23 17:43:34:4152] N: tty configuration:\r\n[2021/07/23 17:43:34:4152] N:   start command: start bash\r\n[2021/07/23 17:43:34:4153] N:   close signal: SIGHUP (1)\r\n[2021/07/23 17:43:34:4153] N:   terminal type: xterm-256color\r\n[2021/07/23 17:43:34:4154] N: LWS: 4.1.6-, loglevel 7\r\n[2021/07/23 17:43:34:4155] N: NET SRV H1 WS IPV6-off\r\n[2021/07/23 17:43:34:4157] N:  Using foreign event loop...\r\n[2021/07/23 17:43:34:4160] N:  Listening on port: 7681\r\n[2021/07/23 17:43:57:2059] N: HTTP / - 10.0.1.47\r\n[2021/07/23 17:43:57:4249] N: HTTP /token - 10.0.1.47\r\n[2021/07/23 17:43:57:4715] N: WS   /ws - 10.0.1.47, clients: 1\r\n[2021/07/23 17:43:57:4837] N: started process, pid: 1843\r\n[2021/07/23 17:43:57:4854] E: read_cb: EIO (i/o error)\r\n[2021/07/23 17:43:57:4857] N: process exited with code 254, pid: 1843\r\n[2021/07/23 17:43:57:4859] E: read_cb: EIO (i/o error)\r\n[2021/07/23 17:43:57:4864] N: WS closed from 10.0.1.47, clients: 0\r\n[2021/07/23 17:43:57:8214] N: HTTP /token - 10.0.1.47\r\n[2021/07/23 17:43:57:8625] N: WS   /ws - 10.0.1.47, clients: 1\r\n[2021/07/23 17:43:57:8895] N: started process, pid: 1845\r\n[2021/07/23 17:43:57:8912] E: read_cb: EIO (i/o error)\r\n```\r\n\r\n*Runs fine in the browser with `ttyd.armhf -d start bash` but produces no output on the command line at all.*\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run with just `start bash` and open 127.0.0.1:7681 to see error\r\n2. Run with `-d start bash` and open 127.0.0.1:7681 to see a working terminal\r\n\r\n**Expected behavior**\r\n1. Expect to see a working terminal without debug mode\r\n2. Expect to see actual logging in debug mode (currently silent)\r\n\r\n**Environment:**\r\n - OS: Raspbian GNU/Linux 10 (buster)\r\n - Device: Raspberry Pi 3\r\n - Browser: Tested on both Firefox and Chrome\r\n - Version:  ttyd 1.6.3-3b174da (armhf) binary\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/734/comments",
    "author": "xmonkee",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2021-08-08T01:50:51Z",
        "body": "try: `ttyd bash`\r\n\r\n`start` is not a ttyd sub command. if you run `ttyd start bash`, it will execute `start` as an executable."
      },
      {
        "user": "tsl0922",
        "created_at": "2021-08-08T01:57:09Z",
        "body": "if you run: `ttyd -d start bash`\r\n\r\n`start` will be treated as the argument `-d`'s value (it's invalid, and will be ignored), so the executed command should be `bash`.\r\n\r\nI'm going to add a check for numeric value arguments."
      }
    ]
  },
  {
    "number": 688,
    "title": "TTYD closes immediately after launch",
    "created_at": "2021-05-30T01:49:22Z",
    "closed_at": "2021-08-28T00:10:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/688",
    "body": "I compiled ttyd for Cygwin, but when I tried to do `ttyd -p 8000 bash`, it instantly closes:\r\n```\r\n[2021/05/29 21:45:19:7841] N: ttyd 1.6.3-07ad8be (libwebsockets 4.2.99-8ebcc14)\r\n[2021/05/29 21:45:19:7919] N: tty configuration:\r\n[2021/05/29 21:45:19:7956] N:   start command: bash\r\n[2021/05/29 21:45:19:8015] N:   close signal: SIGHUP (1)\r\n[2021/05/29 21:45:19:8058] N:   terminal type: xterm-256color\r\n[2021/05/29 21:45:19:8091] N: LWS: 4.2.99-8ebcc14, loglevel 7\r\n[2021/05/29 21:45:19:8123] N: NET CLI SRV H1 H2 WS ConMon IPv6-absent\r\n[2021/05/29 21:45:19:8164] N:  ++ [wsi|0|pipe] (1)\r\n[2021/05/29 21:45:19:9036] N:  ++ [vh|0|default||7681] (1)\r\n[2021/05/29 21:45:19:9146] N: lws_socket_bind: nowsi: source ads 0.0.0.0\r\n[2021/05/29 21:45:19:9183] N:  ++ [wsi|1|listen|default||7681] (2)\r\n[2021/05/29 21:45:19:9229] N:  Listening on port: 7681\r\n[2021/05/29 21:45:20:5193] N:  -- [wsi|0|pipe] (1) 702.941ms\r\n[2021/05/29 21:45:20:5245] N:  -- [vh|0|default||7681] (0) 620.946ms\r\n[2021/05/29 21:45:20:5299] N:  -- [wsi|1|listen|default||7681] (0) 611.647ms\r\n```",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/688/comments",
    "author": "DUOLabs333",
    "comments": [
      {
        "user": "QGB",
        "created_at": "2021-06-07T10:32:27Z",
        "body": "using windows go compile"
      },
      {
        "user": "DUOLabs333",
        "created_at": "2021-06-07T11:43:50Z",
        "body": "? I am on Windows."
      },
      {
        "user": "hsanjuan",
        "created_at": "2021-07-13T09:48:28Z",
        "body": "happens on linux too"
      },
      {
        "user": "mlushpenko",
        "created_at": "2021-08-04T20:29:27Z",
        "body": "Wanted to ask the same question as well, I can provide a bit more logs:\r\n\r\n```\r\n ttyd -d 22 bash\r\n[2021/08/04 20:28:26:9343] N: ttyd 1.6.3 (libwebsockets 4.1.6-)\r\n[2021/08/04 20:28:26:9345] N: tty configuration:\r\n[2021/08/04 20:28:26:9345] N:   start command: bash\r\n[2021/08/04 20:28:26:9345] N:   close signal: SIGHUP (1)\r\n[2021/08/04 20:28:26:9346] N:   terminal type: xterm-256color\r\n[2021/08/04 20:28:26:9346] N: LWS: 4.1.6-, loglevel 22\r\n[2021/08/04 20:28:26:9346] N: NET CLI SRV H1 H2 WS IPv6-absent\r\n[2021/08/04 20:28:26:9346] D: _realloc: size 6472: context\r\n[2021/08/04 20:28:26:9347] D: _realloc: size 72: lws_smd_register\r\n[2021/08/04 20:28:26:9348] D: lws_smd_register: registered\r\n[2021/08/04 20:28:26:9348] D: _realloc: size 8388608: fds table\r\n[2021/08/04 20:28:26:9382] D: _realloc: size 8388608: lws_lookup\r\n[2021/08/04 20:28:26:9416] D: _realloc: size 832: event pipe wsi\r\n[2021/08/04 20:28:26:9417] D: lws_role_transition: 0x1e353e0: wsistate 0x200, ops pipe\r\n[2021/08/04 20:28:26:9417] D: event pipe fd 10\r\n[2021/08/04 20:28:26:9417] D: __insert_wsi_socket_into_fds: 0x1e353e0: tsi=0, sock=10, pos-in-fds=0\r\n[2021/08/04 20:28:26:9418] D: lws_cancel_service\r\n[2021/08/04 20:28:26:9418] D: _realloc: size 696: lws_create_vhost\r\n[2021/08/04 20:28:26:9418] D: _realloc: size 168: vhost-specific plugin table\r\n[2021/08/04 20:28:26:9419] D: _realloc: size 48: same vh list\r\n[2021/08/04 20:28:26:9420] D: _realloc: size 832: listen wsi\r\n[2021/08/04 20:28:26:9420] D: _lws_vhost_init_server: lws_socket_bind says 7681\r\n[2021/08/04 20:28:26:9420] D: lws_role_transition: 0x1e359f0: wsistate 0x200, ops listen\r\n[2021/08/04 20:28:26:9420] D: lws_vhost_bind_wsi: vh default: wsi listen/http-only, count_bound_wsi 1\r\n[2021/08/04 20:28:26:9420] D: __insert_wsi_socket_into_fds: 0x1e359f0: tsi=0, sock=11, pos-in-fds=1\r\n[2021/08/04 20:28:26:9420] N:  Listening on port: 7681\r\n[2021/08/04 20:28:26:9421] D: _lws_state_transition: system: changed 1 'CONTEXT_CREATED' -> 2 'INITIALIZED'\r\n[2021/08/04 20:28:26:9421] D: _lws_state_transition: system: changed 2 'INITIALIZED' -> 3 'IFACE_COLDPLUG'\r\n[2021/08/04 20:28:26:9422] D: _lws_state_transition: system: changed 3 'IFACE_COLDPLUG' -> 4 'DHCP'\r\n[2021/08/04 20:28:26:9422] D: _lws_state_transition: system: changed 4 'DHCP' -> 5 'CPD_PRE_TIME'\r\n[2021/08/04 20:28:26:9422] D: _lws_state_transition: system: changed 5 'CPD_PRE_TIME' -> 6 'TIME_VALID'\r\n[2021/08/04 20:28:26:9422] D: _lws_state_transition: system: changed 6 'TIME_VALID' -> 7 'CPD_POST_TIME'\r\n[2021/08/04 20:28:26:9422] D: _lws_state_transition: system: changed 7 'CPD_POST_TIME' -> 8 'POLICY_VALID'\r\n[2021/08/04 20:28:26:9423] D: _lws_state_transition: system: changed 8 'POLICY_VALID' -> 9 'REGISTERED'\r\n[2021/08/04 20:28:26:9423] D: _lws_state_transition: system: changed 9 'REGISTERED' -> 10 'AUTH1'\r\n[2021/08/04 20:28:26:9423] D: _lws_state_transition: system: changed 10 'AUTH1' -> 11 'AUTH2'\r\n[2021/08/04 20:28:26:9423] D: _lws_state_transition: system: changed 11 'AUTH2' -> 12 'OPERATIONAL'\r\n[2021/08/04 20:28:26:9425] D: _lws_state_transition: system: changed 12 'OPERATIONAL' -> 13 'POLICY_INVALID'\r\n[2021/08/04 20:28:26:9425] D: __lws_close_free_wsi: real just_kill_connection: 0x1e359f0 (sockfd 11)\r\n[2021/08/04 20:28:26:9425] D: lwsi_set_state(0x1e359f0, 0x20)\r\n[2021/08/04 20:28:26:9425] D: __lws_close_free_wsi_final: wsi 0x1e359f0: fd 11\r\n[2021/08/04 20:28:26:9461] D: lws_vhost_unbind_wsi: vh default: count_bound_wsi 0\r\n[2021/08/04 20:28:26:9462] D: __lws_free_wsi: 0x1e359f0, remaining wsi 0, tsi fds count 0\r\n[2021/08/04 20:28:26:9462] D: 0x450f40: post vh listl\r\n[2021/08/04 20:28:26:9462] D: 0x450f40: post pdl\r\n[2021/08/04 20:28:26:9479] D: 0x450f40: baggage\r\n[2021/08/04 20:28:26:9480] D: 0x450f40: post dc2\r\n[2021/08/04 20:28:26:9497] D: lws_context_destroy3: ctx 0x1e33a90 freed\r\n```\r\n\r\nI am guessing the problem is here:\r\n\r\n```\r\n_lws_state_transition: system: changed 12 'OPERATIONAL' -> 13 'POLICY_INVALID'\r\n```\r\n\r\nbut don't know what to do about it, trying to build ttyd for centos."
      },
      {
        "user": "hemna",
        "created_at": "2021-08-13T11:55:47Z",
        "body": "I have the same issue on rasberry pi.  I compiled libwebsockets first, then ttyd\r\n\r\n```\r\npi@digipeater2:~ $ ttyd -d 22 login\r\n[2021/08/10 03:21:16:9330] N: ttyd 1.6.3-b2cda1d (libwebsockets 4.2.99-v4.2.0-152-gbde05315)\r\n[2021/08/10 03:21:16:9348] N: tty configuration:\r\n[2021/08/10 03:21:16:9350] N:   start command: login\r\n[2021/08/10 03:21:16:9350] N:   close signal: SIGHUP (1)\r\n[2021/08/10 03:21:16:9351] N:   terminal type: xterm-256color\r\n[2021/08/10 03:21:16:9354] D: _realloc: size 6224: context\r\n[2021/08/10 03:21:16:9356] N: lws_create_context: LWS: 4.2.99-v4.2.0-152-gbde05315, NET CLI SRV H1 H2 WS ConMon IPv6-absent\r\n[2021/08/10 03:21:16:9359] D: _realloc: size 32: lws_smd_register\r\n[2021/08/10 03:21:16:9361] D: _realloc: size 8192: fds table\r\n[2021/08/10 03:21:16:9362] D: _realloc: size 4096: lws_lookup\r\n[2021/08/10 03:21:16:9366] D: _realloc: size 840: __lws_wsi_create_with_role\r\n[2021/08/10 03:21:16:9367] D: : lws_role_transition: wsistate 0x200, ops pipe\r\n[2021/08/10 03:21:16:9368] N:  ++ [wsi|0|pipe] (1)\r\n[2021/08/10 03:21:16:9370] D: [wsi|0|pipe]: __insert_wsi_socket_into_fds: tsi=0, sock=10, pos-in-fds=0\r\n[2021/08/10 03:21:16:9372] D: _realloc: size 840: __lws_wsi_create_with_role\r\n[2021/08/10 03:21:16:9373] D: : lws_role_transition: wsistate 0x200, ops netlink\r\n[2021/08/10 03:21:16:9461] N:  ++ [vh|0|netlink] (1)\r\n[2021/08/10 03:21:16:9464] D: [vh|0|netlink]: __insert_wsi_socket_into_fds: tsi=0, sock=11, pos-in-fds=1\r\n[2021/08/10 03:21:16:9466] D: rops_pt_init_destroy_netlink: starting netlink coldplug wait\r\n[2021/08/10 03:21:16:9468] D: lws_cancel_service:\r\n[2021/08/10 03:21:16:9469] D: _realloc: size 696: lws_create_vhost\r\n[2021/08/10 03:21:16:9508] N:  ++ [vh|1|default||7681] (2)\r\n[2021/08/10 03:21:16:9527] D: _realloc: size 84: vh plugin table\r\n[2021/08/10 03:21:16:9528] D: _realloc: size 24: same vh list\r\n[2021/08/10 03:21:16:9532] N: [null wsi]: lws_socket_bind: source ads 0.0.0.0\r\n[2021/08/10 03:21:16:9533] D: _realloc: size 840: __lws_wsi_create_with_role\r\n[2021/08/10 03:21:16:9534] D: : lws_role_transition: wsistate 0x200, ops listen\r\n[2021/08/10 03:21:16:9535] D: _lws_vhost_init_server_af: lws_socket_bind says 7681\r\n[2021/08/10 03:21:16:9536] D: : lws_vhost_bind_wsi: vh default: wsi listen/http-only, count_bound_wsi 1\r\n[2021/08/10 03:21:16:9537] D: : __insert_wsi_socket_into_fds: tsi=0, sock=12, pos-in-fds=2\r\n[2021/08/10 03:21:16:9539] N:  ++ [wsi|1|listen|default||7681] (2)\r\n[2021/08/10 03:21:16:9570] N:  Listening on port: 7681\r\n[2021/08/10 03:21:16:9581] D: _lws_state_transition: system: changed 1 'CONTEXT_CREATED' -> 2 'INITIALIZED'\r\n[2021/08/10 03:21:16:9601] D: [vh|1|default||7681]: lws_protocol_init_vhost: not instantiating http-only\r\n[2021/08/10 03:21:16:9604] D: [vh|1|default||7681]: lws_protocol_init_vhost: not instantiating tty\r\n[2021/08/10 03:21:16:9608] D: _realloc: size 88: rops_handle_POLLIN_netlink\r\n[2021/08/10 03:21:16:9610] D: _realloc: size 47: lws_smd_msg_alloc\r\n[2021/08/10 03:21:16:9611] D: lws_cancel_service:\r\n[2021/08/10 03:21:16:9612] D: _realloc: size 88: rops_handle_POLLIN_netlink\r\n[2021/08/10 03:21:16:9635] D: _realloc: size 47: lws_smd_msg_alloc\r\n[2021/08/10 03:21:16:9686] D: lws_cancel_service:\r\n[2021/08/10 03:21:16:9700] D: _realloc: size 88: rops_handle_POLLIN_netlink\r\n[2021/08/10 03:21:16:9704] D: _realloc: size 47: lws_smd_msg_alloc\r\n[2021/08/10 03:21:16:9707] D: lws_cancel_service:\r\n[2021/08/10 03:21:16:9720] D: _realloc: size 88: rops_handle_POLLIN_netlink\r\n[2021/08/10 03:21:16:9723] D: _realloc: size 47: lws_smd_msg_alloc\r\n[2021/08/10 03:21:16:9733] D: lws_cancel_service:\r\n[2021/08/10 03:21:16:9736] D: _realloc: size 88: rops_handle_POLLIN_netlink\r\n[2021/08/10 03:21:16:9749] D: _realloc: size 47: lws_smd_msg_alloc\r\n[2021/08/10 03:21:16:9751] D: lws_cancel_service:\r\n[2021/08/10 03:21:16:9752] D: _realloc: size 76: lws_smd_msg_alloc\r\n[2021/08/10 03:21:16:9754] D: lws_cancel_service:\r\n[2021/08/10 03:21:16:9758] D: [wsi|1|listen|default||7681]: __lws_set_timeout: 0 secs, reason 1\r\n[2021/08/10 03:21:16:9759] D: lws_context_destroy: pt 0: closing wsi 0x12ba890: role pipe\r\n[2021/08/10 03:21:16:9760] D: [wsi|0|pipe]: __lws_close_free_wsi: real just_kill_connection A: (sockfd 10)\r\n[2021/08/10 03:21:16:9761] D: [wsi|0|pipe]: lwsi_set_state: lwsi_set_state 0x200 -> 0x20\r\n[2021/08/10 03:21:16:9762] D: [wsi|0|pipe]: __lws_close_free_wsi_final: fd 10\r\n[2021/08/10 03:21:16:9765] D: [wsi|0|pipe]: __lws_free_wsi: tsi fds count 2\r\n[2021/08/10 03:21:16:9766] N:  -- [wsi|0|pipe] (1) 39.768ms\r\n[2021/08/10 03:21:16:9767] D: lws_context_destroy: pt 0: closing wsi 0x12bb268: role listen\r\n[2021/08/10 03:21:16:9768] D: [wsi|1|listen|default||7681]: __lws_close_free_wsi: real just_kill_connection A: (sockfd 12)\r\n[2021/08/10 03:21:16:9769] D: [wsi|1|listen|default||7681]: lwsi_set_state: lwsi_set_state 0x200 -> 0x20\r\n[2021/08/10 03:21:16:9770] D: [wsi|1|listen|default||7681]: __lws_close_free_wsi_final: fd 12\r\n[2021/08/10 03:21:16:9772] D: [wsi|1|listen|default||7681]: __lws_vhost_unbind_wsi: vh default: count_bound_wsi 0\r\n[2021/08/10 03:21:16:9773] D: [vh|1|default||7681]: __lws_vhost_destroy2: protocol destroy\r\n[2021/08/10 03:21:16:9774] D: [vh|1|default||7681]: __lws_vhost_destroy2: protocol destroy\r\n[2021/08/10 03:21:16:9775] N:  -- [vh|1|default||7681] (1) 26.692ms\r\n[2021/08/10 03:21:16:9776] D: [wsi|1|listen|default||7681]: __lws_free_wsi: tsi fds count 1\r\n[2021/08/10 03:21:16:9777] N:  -- [wsi|1|listen|default||7681] (0) 23.868ms\r\n[2021/08/10 03:21:16:9778] D: lws_context_destroy: pt 0: closing wsi 0x12babe0: role netlink\r\n[2021/08/10 03:21:16:9779] D: [vh|0|netlink]: __lws_close_free_wsi: real just_kill_connection A: (sockfd 11)\r\n[2021/08/10 03:21:16:9780] D: [vh|0|netlink]: lwsi_set_state: lwsi_set_state 0x200 -> 0x20\r\n[2021/08/10 03:21:16:9781] D: [vh|0|netlink]: __lws_close_free_wsi_final: fd 11\r\n[2021/08/10 03:21:16:9783] D: [vh|0|netlink]: __lws_free_wsi: tsi fds count 0\r\n[2021/08/10 03:21:16:9784] N:  -- [vh|0|netlink] (0) 32.342ms\r\n[2021/08/10 03:21:16:9785] D: _lws_state_transition: system: changed 2 'INITIALIZED' -> 13 'POLICY_INVALID'\r\n```"
      },
      {
        "user": "cabelo",
        "created_at": "2021-08-17T04:21:28Z",
        "body": "The same error here..."
      },
      {
        "user": "nico1988",
        "created_at": "2021-08-27T23:44:42Z",
        "body": "i have the same issue on the Ubuntu  18.04.5 LTS (Bionic Beaver)\r\n\r\n```\r\n nico@VM-8-9-ubuntu  ~/git/ttyd/build   main  sudo ttyd -p 8083 bash -x\r\n[2021/08/28 07:43:51:6666] N: ttyd 1.6.3-fcec9a6 (libwebsockets 4.2.99-v4.2.0-177-g15110845)\r\n[2021/08/28 07:43:51:6666] N: tty configuration:\r\n[2021/08/28 07:43:51:6666] N:   start command: bash -x\r\n[2021/08/28 07:43:51:6666] N:   close signal: SIGHUP (1)\r\n[2021/08/28 07:43:51:6666] N:   terminal type: xterm-256color\r\n[2021/08/28 07:43:51:6666] N: LWS: 4.2.99-v4.2.0-177-g15110845, NET CLI SRV H1 H2 WS ConMon IPv6-absent\r\n[2021/08/28 07:43:51:6667] N:  ++ [wsi|0|pipe] (1)\r\n[2021/08/28 07:43:51:6667] N:  ++ [vh|0|netlink] (1)\r\n[2021/08/28 07:43:51:6667] N:  ++ [vh|1|default||8083] (2)\r\n[2021/08/28 07:43:51:6667] N: [null wsi]: lws_socket_bind: source ads 0.0.0.0\r\n[2021/08/28 07:43:51:6667] N:  ++ [wsi|1|listen|default||8083] (2)\r\n[2021/08/28 07:43:51:6667] N:  Listening on port: 8083\r\n[2021/08/28 07:43:51:6669] N:  -- [wsi|0|pipe] (1) 200μs\r\n[2021/08/28 07:43:51:6669] N:  -- [vh|1|default||8083] (1) 167μs\r\n[2021/08/28 07:43:51:6669] N:  -- [wsi|1|listen|default||8083] (0) 141μs\r\n[2021/08/28 07:43:51:6669] N:  -- [vh|0|netlink] (0) 222μs\r\n```"
      },
      {
        "user": "tsl0922",
        "created_at": "2021-08-28T00:10:41Z",
        "body": "Check if your libwebsockets was build with libuv support, the cmake flag is `-DLWS_WITH_LIBUV=ON`."
      },
      {
        "user": "tsl0922",
        "created_at": "2021-08-28T00:28:00Z",
        "body": "I've added a check for it (80c6f669eb1e258b3fd2568aa021b2c31b04b27c), ttyd will not compile now if libwebsockets was not build with libuv support."
      }
    ]
  },
  {
    "number": 534,
    "title": "Quick question regarding modding",
    "created_at": "2020-11-10T18:42:24Z",
    "closed_at": "2020-11-10T23:01:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/534",
    "body": "Hey there, I'm trying to mod ttyd to add a custom xterm addon but changing the typescript code doesn't seem to do anything. How do I get ttyd to run my forked instance rather than the default?\r\n\r\nI know there's an option to set a custom index so it might be something related to that, but some guidance would be appreciated.\r\n\r\nThanks in advance.",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/534/comments",
    "author": "CatSandwich",
    "comments": [
      {
        "user": "CatSandwich",
        "created_at": "2020-11-10T20:21:46Z",
        "body": "I did a bit more research and I see that the .js file generates html.h which serves the webpage. I guess that makes my question how do I modify the webpage that creates (Probably just change the typescript code) and how do I then run it to build html.h?"
      },
      {
        "user": "CatSandwich",
        "created_at": "2020-11-10T21:51:09Z",
        "body": "I see now the instructions are in the html folder. I'll leave this issue open for now but I may solve it and close in in the next few hours."
      },
      {
        "user": "pawansingh00",
        "created_at": "2021-07-06T07:32:52Z",
        "body": "@CatSandwich sorry to bother you.\r\nI am having the similar needs and your issue and comments helped in understanding that -- html.h is what is being used and how to generate it.\r\n\r\nBut even after doing this its still taking deafult build.\r\n\r\nDo I need to change any git branch / tag somewhere like -- **CMakeLists.txt**\r\n\r\nAppreciate your help."
      }
    ]
  },
  {
    "number": 452,
    "title": "Which features of libwebsockets are used?",
    "created_at": "2020-08-24T10:02:38Z",
    "closed_at": "2020-08-24T16:05:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/452",
    "body": "Hi,  I'm trying to cleanup the libwebsockets packaging for openwrt, which libwebsockets features do you need?  libuv, but what else? \r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/452/comments",
    "author": "karlp",
    "comments": [
      {
        "user": "karlp",
        "created_at": "2020-08-24T11:06:21Z",
        "body": "ALso, I've tried building against the forthcoming 4.1 release, and it fails here: \r\n```\r\n[ 16%] ESC[32mBuilding C object CMakeFiles/ttyd.dir/src/server.c.oESC[0m\r\nsrc/server.c: In function 'main':\r\nsrc/server.c:455:7: error: 'struct lws_context_creation_info' has no member named 'ws_ping_pong_interval'\r\n   info.ws_ping_pong_interval = 5;\r\n       ^\r\n```\r\n"
      },
      {
        "user": "tsl0922",
        "created_at": "2020-08-24T15:06:07Z",
        "body": "> src/server.c:455:7: error: 'struct lws_context_creation_info' has no member named 'ws_ping_pong_interval'\r\n\r\nIt's already fixed on master (5902726732ff04db6edf57f2148cf8cb166fb7ee), but not released yet.\r\n\r\nlibuv is required, unix sock and ipv6 are optional."
      },
      {
        "user": "karlp",
        "created_at": "2020-08-24T16:05:38Z",
        "body": "Ok, thanks!"
      }
    ]
  },
  {
    "number": 399,
    "title": "Function Keys Not working (F1 to F5)",
    "created_at": "2020-07-04T19:21:16Z",
    "closed_at": "2020-07-28T15:49:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/399",
    "body": "I have an application which uses function keys (F1 to F12). I tried ttyd via Chrome and F5 to F12 keys are working properly, not the F1 to F5 in vt100 terminal. \r\n\r\nHow can I get this to work?  \r\nttyd over chrome shows different keycodes. Is there any way i can remap keycodes with ttyd?\r\n ",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/399/comments",
    "author": "jayaruvan",
    "comments": [
      {
        "user": "jayaruvan",
        "created_at": "2020-07-05T04:37:13Z",
        "body": "bump"
      },
      {
        "user": "jayaruvan",
        "created_at": "2020-07-06T11:45:10Z",
        "body": "bump"
      },
      {
        "user": "tsl0922",
        "created_at": "2020-07-26T03:08:27Z",
        "body": "Can't reproduce. I tried `htop` on linux and press F1-F5 on chrome, it works like a charm."
      }
    ]
  },
  {
    "number": 375,
    "title": "Make install errors",
    "created_at": "2020-06-12T06:39:39Z",
    "closed_at": "2020-06-13T16:34:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/375",
    "body": "After running  _root@user:~/ttyd/build# make_   results errors:\r\n\r\nroot@user:~/ttyd/build# make\r\n[ 16%] Building C object CMakeFiles/ttyd.dir/src/http.c.o\r\n/root/ttyd/src/http.c: In function 'callback_http':\r\n/root/ttyd/src/http.c:155:45: error: 'HTTP_STATUS_FOUND' undeclared (first use in this function)\r\n         if (lws_add_http_header_status(wsi, HTTP_STATUS_FOUND, &p, end) ||\r\n                                             ^\r\n/root/ttyd/src/http.c:155:45: note: each undeclared identifier is reported only once for each function it appears in\r\nCMakeFiles/ttyd.dir/build.make:86: recipe for target 'CMakeFiles/ttyd.dir/src/http.c.o' failed\r\nmake[2]: *** [CMakeFiles/ttyd.dir/src/http.c.o] Error 1\r\nCMakeFiles/Makefile2:67: recipe for target 'CMakeFiles/ttyd.dir/all' failed\r\nmake[1]: *** [CMakeFiles/ttyd.dir/all] Error 2\r\nMakefile:127: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/375/comments",
    "author": "askanton71",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2020-06-13T15:55:25Z",
        "body": "Check you libwebsockets installation, HTTP_STATUS_FOUND is defined in libwebsockets."
      },
      {
        "user": "askanton71",
        "created_at": "2020-06-13T16:14:39Z",
        "body": "> Check you libwebsockets installation, HTTP_STATUS_FOUND is defined in libwebsockets.\r\n\r\nSeems ok\r\napt-get install -y libwebsockets-devReading package lists... Done\r\nBuilding dependency tree\r\nReading state information... Done\r\nlibwebsockets-dev is already the newest version (1.7.1-1).\r\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded."
      },
      {
        "user": "tsl0922",
        "created_at": "2020-06-13T16:34:54Z",
        "body": "Should be fixed on master now, HTTP_STATUS_FOUND was introduced since lws 2.0"
      }
    ]
  },
  {
    "number": 328,
    "title": "Start command as 'ssh user@anoter_remote'",
    "created_at": "2020-04-27T03:11:59Z",
    "closed_at": "2020-05-05T13:26:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/328",
    "body": "Describe your problem or question here.\r\nHi,\r\nCool stuff, simple and powerful.\r\nHow do I pass a start command as \"ssh to a remote location\"\r\nI tried different variants and it enters a weir loop\r\n\r\n\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/328/comments",
    "author": "marriusco",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2020-05-05T13:26:34Z",
        "body": "you can just run `ttyd ssh user@host`, or use a shell script to run ssh and let ttyd call the script."
      }
    ]
  },
  {
    "number": 308,
    "title": "Warnings/errors related to libwebsockets",
    "created_at": "2020-04-12T04:57:50Z",
    "closed_at": "2020-04-12T05:02:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/308",
    "body": "```\r\nsrc/server.c:201:5: warning: implicit declaration of function 'lws_libuv_stop' is invalid in C99 [-Wimplicit-function-declaration]\r\n    lws_libuv_stop(context);\r\n    ^\r\nsrc/server.c:523:5: warning: implicit declaration of function 'lws_uv_sigint_cfg' is invalid in C99 [-Wimplicit-function-declaration]\r\n    lws_uv_sigint_cfg(context, 1, signal_cb);\r\n    ^\r\nsrc/server.c:524:5: warning: implicit declaration of function 'lws_uv_initloop' is invalid in C99 [-Wimplicit-function-declaration]\r\n    lws_uv_initloop(context, server->loop, 0);\r\n    ^\r\nsrc/server.c:526:5: warning: implicit declaration of function 'lws_libuv_run' is invalid in C99 [-Wimplicit-function-declaration]\r\n    lws_libuv_run(context, 0);\r\n    ^\r\n4 warnings generated.\r\n[5/6] /usr/bin/cc -DTTYD_VERSION=\\\"1.6.0\\\" -I/usr/local/lib/cmake/libwebsockets/../../../include -I/usr/local/include/json-c -I/usr/local/include -O2 -pipe -fno-omit-frame-pointer  -fstack-protector-strong -fno-strict-aliasing -std=c99 -D_GNU_SOURCE -O2 -pipe -fno-omit-frame-pointer  -fstack-protector-strong -fno-strict-aliasing -std=c99   -std=gnu99 -MD -MT CMakeFiles/ttyd.dir/src/http.c.o -MF CMakeFiles/ttyd.dir/src/http.c.o.d -o CMakeFiles/ttyd.dir/src/http.c.o   -c src/http.c\r\n[6/6] : && /usr/bin/cc -O2 -pipe -fno-omit-frame-pointer  -fstack-protector-strong -fno-strict-aliasing -std=c99 -D_GNU_SOURCE -O2 -pipe -fno-omit-frame-pointer  -fstack-protector-strong -fno-strict-aliasing -std=c99  -fstack-protector-strong CMakeFiles/ttyd.dir/src/server.c.o CMakeFiles/ttyd.dir/src/http.c.o CMakeFiles/ttyd.dir/src/protocol.c.o CMakeFiles/ttyd.dir/src/terminal.c.o CMakeFiles/ttyd.dir/src/utils.c.o  -o ttyd  -Wl,-rpath,/usr/local/lib:  -lssl  -lcrypto  -lz  /usr/local/lib/libwebsockets.a  /usr/local/lib/libwebsockets.so.12  /usr/local/lib/libjson-c.so  /usr/local/lib/libuv.so  -lutil  -lssl  -lcrypto  -lz  -lm && :\r\nFAILED: ttyd \r\n: && /usr/bin/cc -O2 -pipe -fno-omit-frame-pointer  -fstack-protector-strong -fno-strict-aliasing -std=c99 -D_GNU_SOURCE -O2 -pipe -fno-omit-frame-pointer  -fstack-protector-strong -fno-strict-aliasing -std=c99  -fstack-protector-strong CMakeFiles/ttyd.dir/src/server.c.o CMakeFiles/ttyd.dir/src/http.c.o CMakeFiles/ttyd.dir/src/protocol.c.o CMakeFiles/ttyd.dir/src/terminal.c.o CMakeFiles/ttyd.dir/src/utils.c.o  -o ttyd  -Wl,-rpath,/usr/local/lib:  -lssl  -lcrypto  -lz  /usr/local/lib/libwebsockets.a  /usr/local/lib/libwebsockets.so.12  /usr/local/lib/libjson-c.so  /usr/local/lib/libuv.so  -lutil  -lssl  -lcrypto  -lz  -lm && :\r\nld: error: undefined symbol: lws_libuv_stop\r\n>>> referenced by server.c\r\n>>>               CMakeFiles/ttyd.dir/src/server.c.o:(signal_cb)\r\n\r\nld: error: undefined symbol: lws_uv_sigint_cfg\r\n>>> referenced by server.c\r\n>>>               CMakeFiles/ttyd.dir/src/server.c.o:(main)\r\n\r\nld: error: undefined symbol: lws_uv_initloop\r\n>>> referenced by server.c\r\n>>>               CMakeFiles/ttyd.dir/src/server.c.o:(main)\r\n\r\nld: error: undefined symbol: lws_libuv_run\r\n>>> referenced by server.c\r\n>>>               CMakeFiles/ttyd.dir/src/server.c.o:(main)\r\n```\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment:**\r\n - OS: [e.g. macOS 10.15.2]\r\n - Browser: [e.g. Chrome 79.0.3945.130]\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/308/comments",
    "author": "yurivict",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2020-04-12T05:02:02Z",
        "body": "You should build libwebsockets with libuv support\n\n```\n-DLWS_WITH_LIBUV=ON\n\n```"
      }
    ]
  },
  {
    "number": 307,
    "title": "老大能不能支持源码设置user和password，进web了再输一次用户名和密码很麻烦",
    "created_at": "2020-04-11T09:15:28Z",
    "closed_at": "2020-04-12T04:58:47Z",
    "labels": [
      "question",
      "wontfix"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/307",
    "body": "Describe your problem or question here.\r\n直接同管理员密码，不要二次输入了",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/307/comments",
    "author": "willisworley",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2020-04-12T02:34:43Z",
        "body": "不知道你在说什么，请仔细描述下你怎么使用的，和遇到的问题。"
      },
      {
        "user": "willisworley",
        "created_at": "2020-04-12T04:54:16Z",
        "body": "> 不知道你在说什么，请仔细描述下你怎么使用的，和遇到的问题。\r\n\r\n就是我进入web192.168.1.1控制台要输入一遍root和管理员密码，再点击ttyd，又要一次。\r\n\r\n能不能合二为一"
      },
      {
        "user": "tsl0922",
        "created_at": "2020-04-12T04:58:31Z",
        "body": "你说的是路由器上吧，ttyd 是个独立的程序，目前是无法复用路由器网页的登陆态的。"
      }
    ]
  },
  {
    "number": 298,
    "title": "libwebsockets 4.0.1 无法keep alive",
    "created_at": "2020-04-09T07:21:02Z",
    "closed_at": "2020-04-09T08:08:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/298",
    "body": " 感谢@tsl0922 得以顺利编译libwebsockets，但最新版(4.0.1)好像会使PING-PONG机制失效，每隔60S自动断开。测试了`3.2.0`以及`2.1.1`没有这个问题，表现如下：\r\n```\r\n[2020/04/09 14:17:15:1226] N: HTTP / - 127.0.0.1\r\n[2020/04/09 14:17:15:3190] N: HTTP /token - 127.0.0.1\r\n[2020/04/09 14:17:15:5429] N: WS   /ws - 127.0.0.1, clients: 1\r\n[2020/04/09 14:17:15:6947] N: started process, pid: 19806\r\n[2020/04/09 14:18:15:5442] N: WS closed from 127.0.0.1, clients: 0\r\n[2020/04/09 14:18:15:5442] N: killing process 19806 with signal: 1 (SIGHUP)\r\n[2020/04/09 14:18:15:5446] N: process killed with signal 1 (SIGHUP), pid: 19806\r\n[2020/04/09 14:18:16:1759] N: HTTP /token - 127.0.0.1\r\n[2020/04/09 14:18:16:2891] N: WS   /ws - 127.0.0.1, clients: 1\r\n[2020/04/09 14:18:16:3440] N: started process, pid: 19942\r\n[2020/04/09 14:19:16:3446] N: WS closed from 127.0.0.1, clients: 0\r\n[2020/04/09 14:19:16:3447] N: killing process 19942 with signal: 1 (SIGHUP)\r\n[2020/04/09 14:19:16:3451] N: process killed with signal 1 (SIGHUP), pid: 19942\r\n[2020/04/09 14:19:17:1990] N: HTTP /token - 127.0.0.1\r\n[2020/04/09 14:19:17:3114] N: WS   /ws - 127.0.0.1, clients: 1\r\n[2020/04/09 14:19:17:3517] N: started process, pid: 20078\r\n```\r\nSystem: Debian 9.0\r\nttyd: 1.6.0-c38cdc3",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/298/comments",
    "author": "flashlab",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2020-04-09T08:08:32Z",
        "body": "Duplicate of #295 "
      }
    ]
  },
  {
    "number": 297,
    "title": "手动编译libwebsockets后运行报错",
    "created_at": "2020-04-09T04:10:59Z",
    "closed_at": "2020-04-09T05:23:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/297",
    "body": "自行编译libwebsockets出现以下报错\r\n```\r\n[2020/04/09 12:06:56:3569] N: ttyd 1.6.0-c38cdc3 (libwebsockets 3.2.2)\r\n[2020/04/09 12:06:56:3570] N: tty configuration:\r\n[2020/04/09 12:06:56:3571] N:   start command: login\r\n[2020/04/09 12:06:56:3572] N:   close signal: SIGHUP (1)\r\n[2020/04/09 12:06:56:3572] N:   terminal type: xterm-256color\r\n[2020/04/09 12:06:56:3573] E: Requested event library support not configured, available:\r\n[2020/04/09 12:06:56:3573] E:   - poll\r\n[2020/04/09 12:06:56:3573] E: libwebsockets context creation failed\r\n```\r\n单独运行`libwebsockets-test-server`是可以的\r\n求教如何解决",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/297/comments",
    "author": "flashlab",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2020-04-09T05:23:45Z",
        "body": "libwebsockets 编译的时候需要添加 libuv 支持：`-DLWS_WITH_LIBUV=ON` "
      }
    ]
  },
  {
    "number": 291,
    "title": "Information regarding client.",
    "created_at": "2020-03-24T10:41:55Z",
    "closed_at": "2020-03-25T02:00:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/291",
    "body": "I want to know at run time how many clients are already connected.\r\nHow would I know.Is there any api exposed for the same.",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/291/comments",
    "author": "singhania",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2020-03-24T12:16:54Z",
        "body": "No api, but the client count is printed in the log."
      }
    ]
  },
  {
    "number": 220,
    "title": "Terminate session after a defined time",
    "created_at": "2019-08-28T18:12:57Z",
    "closed_at": "2020-02-09T08:11:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/220",
    "body": "Hi,\r\n\r\nFirst I want to thank you for creating and maintaining this project.\r\n\r\nI have `ttyd` running on small server with very limited resources, creating a new container for each client using the command `ttyd docker run -it --rm ubuntu` and it works great.\r\n\r\nHowever, the session and the container keep running as long as the user does not close the browser (as expected). It'd be very useful if those sessions (and their containers) can be terminated after a fixed period of time, e.g. 5 minutes. Is there any known method to achieve this?\r\n\r\nEddie",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/220/comments",
    "author": "ediardo",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2019-08-31T03:39:00Z",
        "body": "It's possible to implement it outside of ttyd, you can use a shell script to call the docker run command and terminate it in it after a defined time."
      },
      {
        "user": "ediardo",
        "created_at": "2019-08-31T16:45:47Z",
        "body": "Thank you @tsl0922 . I'll share the solution here when its ready."
      }
    ]
  },
  {
    "number": 115,
    "title": "进luci空白无显示,手动输入ip+端口也进不去",
    "created_at": "2018-08-06T19:33:52Z",
    "closed_at": "2018-08-15T16:53:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/115",
    "body": "openwrt编译无报错  启动项ttyd也没有被禁用\r\n\r\n进luci空白无显示,只看见终端两个字\r\n手动输入ip+端口也进不去\r\n\r\nmt7620n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/115/comments",
    "author": "nimasi",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2018-08-07T07:23:43Z",
        "body": "请把你启动 ttyd 的完整命令发出来"
      },
      {
        "user": "tsl0922",
        "created_at": "2018-08-15T16:53:29Z",
        "body": "这个问题可能的原因是你的路由器没有 `br-lan` 接口，可以删除 `/etc/init.d/ttyd` 里的 `-i br-lan` 参数再试试看（注意这样 ttyd 也会同时监听 wan 口，可被外网访问）。"
      }
    ]
  },
  {
    "number": 69,
    "title": "about some screen",
    "created_at": "2017-09-08T01:55:26Z",
    "closed_at": "2017-11-12T04:12:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/69",
    "body": "\r\n\r\n\r\nthe windows size bug ,to small,\r\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/69/comments",
    "author": "jetlwx",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2017-09-08T04:43:05Z",
        "body": "Can you give me a screenshot?"
      },
      {
        "user": "tsl0922",
        "created_at": "2017-11-12T04:12:14Z",
        "body": "Close due to inactivity, feel free to reopen if you have anything to follow up."
      }
    ]
  },
  {
    "number": 18,
    "title": "ttyd 使用问题",
    "created_at": "2016-10-22T14:44:21Z",
    "closed_at": "2016-11-07T13:08:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/18",
    "body": "貌似只能支持简单命令？\nttyd vmstat 是可以的;\n但是 ttyd vmstat 1 100 就报错了，\nttyd tail -f test.log 像这样多个参数的命令貌似都是不行的。\n请问：不支持多个参数的命令么？\n",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/18/comments",
    "author": "0xsky",
    "comments": [
      {
        "user": "0xsky",
        "created_at": "2016-10-23T04:33:24Z",
        "body": "试用过程中发现，ttyd tmux 时，窗口不能全部铺满。\n"
      },
      {
        "user": "tsl0922",
        "created_at": "2016-10-23T09:59:30Z",
        "body": "ttyd 运行的系统和你使用的浏览器版本信息发出来，还有 ttyd 的错误信息也贴出来看看。我这边在自己使用的 mac 和 ubuntu 下测试你所说的命令都没问题。\n"
      },
      {
        "user": "tsl0922",
        "created_at": "2016-11-07T13:08:29Z",
        "body": "关闭了，如果还有问题请在此回复。\n"
      }
    ]
  },
  {
    "number": 98,
    "title": "SSH terminates when running sz/rz utils",
    "created_at": "2018-04-19T10:10:12Z",
    "closed_at": "2019-06-30T04:40:10Z",
    "labels": [
      "bug",
      "help wanted"
    ],
    "url": "https://github.com/tsl0922/ttyd/issues/98",
    "body": "When running `sz/rz` utility many times the ssh session get terminated. Debugging message as below:\r\n\r\n```\r\n[2018/04/10 10:14:45:3267] NOTICE: sending SIGHUP (1) to process 19486\r\n[2018/04/10 10:14:45:3468] NOTICE: process exited with code 33024, pid: 19486\r\n```\r\n\r\nSome times its also happening when skipping the file download. Don't know it is problem of `ttyd` or the `lrzsz` or `zmodemjs`.\r\n\r\nI'm testing it on Debian Jessie and client running Firefox on Mac.",
    "comments_url": "https://api.github.com/repos/tsl0922/ttyd/issues/98/comments",
    "author": "santosh0705",
    "comments": [
      {
        "user": "tsl0922",
        "created_at": "2018-04-20T05:06:33Z",
        "body": "This maybe a known issue to me, I've tried to fix it by reducing the buffer size which seems to work mostly, but not all, for example: large files."
      },
      {
        "user": "tsl0922",
        "created_at": "2019-06-30T04:40:10Z",
        "body": "Should be fixed on master now."
      }
    ]
  }
]