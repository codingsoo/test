[
  {
    "number": 12655,
    "title": "Your title here",
    "created_at": "2025-02-11T01:40:25Z",
    "closed_at": "2025-02-18T10:31:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12655",
    "body": "**Component**\n\n<!-- Choose one of the following and delete all others. -->\n * Rule Engine\n\n**Description**\ndebug mode of rule node is enabled,when ts data upload to rule engine,the ts data are saved to db,but debug events loss ,Because I haven't seen the corresponding raw data in historical events\n\n**Environment**\n<!-- Add information about your environment and ThingsBoard version if applicable -->\n * OS:  win server 2012\n * ThingsBoard: 3.8.1\n * Browser:Chrome/132.0.0.0\n\n\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12655/comments",
    "author": "codeMark1",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2025-02-11T10:55:28Z",
        "body": "Hi @codeMark1 \nBy default, there is a rate limit for debug node events. If you had enabled the debug node on every other rule node, you could have reached this limit, so events would have been discarded in your case. If the event was not saved, the data is still being processed."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2025-02-18T10:31:57Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 12545,
    "title": "Failed to Upgrade Thingsboard CE from 3.6.0 to 3.9.0 InvalidDataAccessResourceUsageException",
    "created_at": "2025-01-29T10:27:45Z",
    "closed_at": "2025-02-02T09:19:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12545",
    "body": "I update the source code from 3.6.4 to 3.9.0 and using the old database it's give me a error : \n\n**### In login UI I got this error:**\n\nInvalidDataAccessResourceUsageException: JDBC exception executing SQL [select ue1_0.id,ue1_0.additional_info,ue1_0.authority,ue1_0.created_time,ue1_0.customer_id,ue1_0.email,ue1_0.first_name,ue1_0.last_name,ue1_0.phone,ue1_0.tenant_id,ue1_0.version from tb_user ue1_0 where ue1_0.email=?] [ERROR: column ue1_0.version does not exist Position: 165] [n/a] \n\n### **In console I got this error:**\n\n2025-01-29T16:18:40.574+06:00 ERROR 180606 --- [utorService-0-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation \"key_dictionary\" does not exist\n  Position: 352\n2025-01-29T16:18:40.575+06:00  WARN 180606 --- [ler-68-thread-1] o.t.s.s.a.DefaultTbApiUsageStateService  : [13814000-1dd2-11b2-8080-808080808080] Failed to fetch api usage state from db.\n\njava.util.concurrent.ExecutionException: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT ts_kv_latest.entity_id AS entityId, ts_kv_latest.key AS key, key_dictionary.key AS strKey, ts_kv_latest.str_v AS strValue, ts_kv_latest.bool_v AS boolValue, ts_kv_latest.long_v AS longValue, ts_kv_latest.dbl_v AS doubleValue, ts_kv_latest.json_v AS jsonValue, ts_kv_latest.ts AS ts, ts_kv_latest.version AS version FROM ts_kv_latest INNER JOIN key_dictionary ON ts_kv_latest.key = key_dictionary.key_id WHERE ts_kv_latest.entity_id = cast(? AS uuid)] [ERROR: relation \"key_dictionary\" does not exist\n  Position: 352] [n/a]; SQL [n/a]\n\n\nPlease help me out with how can I solve this problem.\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12545/comments",
    "author": "arup99-glitch",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2025-01-29T19:01:59Z",
        "body": "Did you upgrade directly from 3.6.4 to 3.9.0?\nIf yes, it is not possible. You have to upgrade all version between also:\n3.6.4 -> 3.7 -> 3.8 -> 3.8.1 -> 3.9"
      },
      {
        "user": "arup99-glitch",
        "created_at": "2025-02-02T06:38:19Z",
        "body": "Thanks for your information."
      }
    ]
  },
  {
    "number": 12514,
    "title": "Error When Using Customer Attribute Node for Sending Notifications",
    "created_at": "2025-01-25T07:19:35Z",
    "closed_at": "2025-02-03T12:34:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12514",
    "body": "Hi everyone,\n\nI’m trying to send notifications to customer users in ThingsBoard. My rule chain includes a Customer Attributes (Enrichment) node to fetch customer-related information. However, when I run the chain, I encounter the following error at the Customer Attributes node:\n```\njava.util.NoSuchElementException: Failed to find customer for entity with id: 1dcdbb20-d7b1-11ef-941b-813cb8bf84f3 and type: Device\n\tat org.thingsboard.rule.engine.metadata.TbAbstractNodeWithFetchTo.lambda$checkIfEntityIsPresentOrThrow$0(TbAbstractNodeWithFetchTo.java:75)\n\tat com.google.common.util.concurrent.AbstractTransformFuture$AsyncTransformFuture.doTransform(AbstractTransformFuture.java:225)\n\tat com.google.common.util.concurrent.AbstractTransformFuture$AsyncTransformFuture.doTransform(AbstractTransformFuture.java:212)\n\tat com.google.common.util.concurrent.AbstractTransformFuture.run(AbstractTransformFuture.java:125)\n\tat java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n\n```\nHere’s a brief overview of my setup:\n\n1) I’m enriching the incoming message with the Customer Attributes Node.\n2) On success, the output flows to a Script (Filter) node.\n3) The error occurs at the Customer Attributes node, indicating it cannot find the customer for the associated device.\n\nIf I make customer as owner of device I can't see the device data in rule chain but in device ( details section I can see the data coming ). I so I make tenant as owner of the device. \n\n**Question:**\n1) What could be causing this issue?\n2) Is there something specific I need to configure in the rule chain or the device/customer relationship?\n\nAny help or insights would be greatly appreciated!",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12514/comments",
    "author": "Vaibhav0216",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2025-01-27T10:57:06Z",
        "body": "Hi\n\n> What could be causing this issue?\n\n> If I make customer as owner of device I can't see the device data in rule chain but in device ( details section I can see the data coming ). I so I make tenant as owner of the device.\n\nThe second one is the reason of the first one. You can't use Customer Attributes rule node, if owner of the device is Tenant. Use Tenant Attributes rule node instead.\n\nAs for \"If I make customer as owner of device I can't see the device data in rule chain but in device\" this is not titular issue of this ticket, so if you need help with it, please create a new ticket for it (if you not created it already)\n\n"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2025-02-03T12:34:51Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 12469,
    "title": "Device Deleted : Recovery",
    "created_at": "2025-01-16T17:59:06Z",
    "closed_at": "2025-02-06T19:42:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12469",
    "body": "3 Customer devices were deleted some how through a widget we had. Is there anyway to recover them? we do not have git versions enabled so theres no history. Was wondering if thingsboard keeps deleted data x amount of days? this is important",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12469/comments",
    "author": "AlexSP-I4",
    "comments": [
      {
        "user": "AlexSP-I4",
        "created_at": "2025-01-16T18:43:33Z",
        "body": "More update. it seemed device was deleted when savedevice was triggered with an entity name of empty"
      },
      {
        "user": "Backdraft007",
        "created_at": "2025-01-17T08:33:46Z",
        "body": "When you have a backup of your database it may be possible to export the data and import them in you actual DB.\nNo backup no recovery."
      }
    ]
  },
  {
    "number": 12422,
    "title": "Is it not possible to separate users per tenant?",
    "created_at": "2025-01-10T08:57:50Z",
    "closed_at": "2025-01-10T10:57:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12422",
    "body": "A single TB instance creates multiple tenants.\r\nEach tenant is a different system.\r\nOne user needs to use multiple tenants (different systems), but cannot register a user because of the error “User with email ‘abc@def.com’ already present in database!”.\r\n\r\nI am not accepting that the user is shared across instances, since the tenants are on separate systems.\r\n\r\nIs there any way to deal with this?\r\n\r\nTB 3.81PE\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12422/comments",
    "author": "h-takado",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2025-01-10T10:29:22Z",
        "body": "Hi\r\nBy the design of Thingsboard, users can’t have the same email address. It’s related to the impossibility of detecting which customer/tenant user tries to access.\r\n\r\n> A single TB instance creates multiple tenants.\r\nEach tenant is a different system.\r\n\r\nIt is not. In case your tenants are on the same instance, they will use the same database, so you won't be able to use the same email address multiple times.\r\n\r\nThe only workaround is to use email aliases for different customers/tenants.\r\nFor example, you can create\r\n[mail+customer1@thingsboard.io](mailto:mail+customer1@thingsboard.io) - user under customer1\r\n[mail+customer2@thingsboard.io](mailto:mail+customer2@thingsboard.io) - user under customer2\r\n\r\nIn this case, all email operations (forgot password, activate an account, etc.) will be sent to a real email, in my case, [mail@thingsboard.io](mailto:mail@thingsboard.io)."
      },
      {
        "user": "h-takado",
        "created_at": "2025-01-10T10:44:54Z",
        "body": "Thanks for the quick reply.\r\nI understood the design concept of Thigsboard.\r\n\r\nBy the way, where do you create the email alias?\r\n\r\nIs it on the thingsboasrd side? Or on the mail server side?"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2025-01-10T10:47:31Z",
        "body": "It is enough to create it only as a Thingsboard user; no additional steps are required. "
      },
      {
        "user": "h-takado",
        "created_at": "2025-01-10T10:57:08Z",
        "body": "Thank you.\r\nI'll try it."
      }
    ]
  },
  {
    "number": 12280,
    "title": "Best practice of putting values into a nested json using TBEL",
    "created_at": "2024-12-17T15:36:44Z",
    "closed_at": "2024-12-31T09:34:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12280",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nI have a rather common requirement while using the script node of the rule engine: \r\ngiven a list being [\"A\", \"B\", \"C\", \"D\"] and a value being \"x\"; and a nested json. I want to insert value \"x\" into the nested json according to the list. The thing is this nested json does not necessarily look like \r\nvar json = {\r\n    A: {\r\n        B: {\r\n            C: {\r\n                D: \"y\"\r\n            }\r\n        }\r\n    }\r\n}\r\nready for me to insert \"x\" to node D. It may lack node D, it may lack node C, it may be an empty {}...\r\nUsing put method here is already lengthy and error-prone; in addition, A node may have other fields in addition to B, the same applies to node B, C, and D (if they exist) in which case I can't put values without getting value from this nested json first.\r\n\r\nI know to meet my requirement, basic get method and put method provided by TBEL for json can work; but somehow I feel like there is a better way out there.\r\n\r\nPS: I feel like I am looking for something similar to the inverse functionality of JSONPath",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12280/comments",
    "author": "ZYMCao",
    "comments": [
      {
        "user": "epalchenko",
        "created_at": "2024-12-27T11:40:26Z",
        "body": "Hello,\r\n\r\nPlease provide \"Payload\"(message), “Metadata, “ and \"function Transform\" in .json format for a more in-depth investigation."
      },
      {
        "user": "ZYMCao",
        "created_at": "2024-12-31T09:34:04Z",
        "body": "NVM, I fixed it (kinda) with the following function \"\r\nfunction nodeSetter(json, list, value) {\r\n    var currentNode = json;\r\n    for (var i = 0; i < list.length - 1; i++) {\r\n        var key = list[i];\r\n        \r\n        if (currentNode.get(key) == null) {\r\n            currentNode.put(key, {});\r\n        }\r\n        \r\n        currentNode = currentNode.get(key);\r\n    }\r\n\r\n    currentNode.put(list[list.length - 1], value);\r\n    return json;\r\n}\r\n\".\r\n\r\nBasically nodeSetter({}, [\"A\", \"B\", \"C\", \"D\"], \"x\") will give me a json of \"{A: {B: {C: {D: \"x\"}}}}\" which is what I need.\r\nThe main struggle I had was reference assignment of the first line, \"var currentNode = json\", whose implication seems to be different from java."
      }
    ]
  },
  {
    "number": 12185,
    "title": "Can I send unlimited notifications.",
    "created_at": "2024-12-04T11:02:00Z",
    "closed_at": "2024-12-05T05:06:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12185",
    "body": "How many notifications can I send to the customer ? I read all the plan in that notifications not mentioned.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12185/comments",
    "author": "Vaibhav0216",
    "comments": [
      {
        "user": "idealissst",
        "created_at": "2024-12-04T15:39:54Z",
        "body": "Hello,\r\nIn thingsboard there is no limit about quantity of notifications you can send to the customer."
      },
      {
        "user": "Vaibhav0216",
        "created_at": "2024-12-05T05:06:09Z",
        "body": "Thank you."
      }
    ]
  },
  {
    "number": 12088,
    "title": "Data Migration",
    "created_at": "2024-11-21T06:03:09Z",
    "closed_at": "2024-12-02T09:44:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12088",
    "body": "\"Hello, can I migrate the Docker version of the ThingBoard database to the source code version of ThingBoard? We have been using the Docker deployment of ThingBoard for a year, and now we want to switch to the source code version. Is it possible to migrate this database?\"",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12088/comments",
    "author": "xiaofeifeii",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2024-11-21T15:38:21Z",
        "body": "hi!\r\n\r\nas long as versions have same database schema - if you did not do any changes to the schema, and built from the same version as your docker - you could just backup your DB in docker and restore it to new DB"
      }
    ]
  },
  {
    "number": 12086,
    "title": "Listen to click event from other widget?",
    "created_at": "2024-11-21T04:34:32Z",
    "closed_at": "2024-12-23T08:46:30Z",
    "labels": [
      "help wanted",
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12086",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nI'm customizing the entities hierarchy widget. I'm also creating a new widget to display an entity's information in a specific format. The selected entity for my new widget is determined from click events in the entities hierarchy widget. How to listen to click event from other widget?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.8.1 CE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12086/comments",
    "author": "nguyen-hai-nam",
    "comments": [
      {
        "user": "CalmNite",
        "created_at": "2024-11-27T06:36:52Z",
        "body": "Hi @nguyen-hai-nam \r\n\r\nYou can try using broadcastService. Here I have an example, I hope it fits you.\r\n\r\nI have a dashboard with two widgets one is an entities table and the other is a custom widget. This can be done with any type of widget.\r\n\r\nIn my table I added a custom action on row click that gets some data of the element and sends a broadcast event. Here is the example:\r\n\r\n```\r\nlet broadcastService = widgetContext.$injector.get(widgetContext.servicesMap.get('broadcastService'));\r\n\r\nlet result = widgetContext.data.filter(value => value.datasource.name == entityName);\r\n\r\nbroadcastService.broadcast('show-position', {\r\n    position: JSON.parse(result[1].data[0][1]),\r\n    rotation: JSON.parse(result[2].data[0][1]),\r\n    sphere: JSON.parse(result[3].data[0][1])\r\n});\r\n```\r\n\r\n\r\nIn my other widget I have the following function:\r\n\r\n\r\n```\r\nlet broadcastService = self.ctx.$scope.$injector.get(self.ctx.servicesMap.get('broadcastService'));\r\nbroadcastService.on('show-position', (event, data) => {});\r\n```\r\n\r\nThis function is created on the self.onInit."
      }
    ]
  },
  {
    "number": 12068,
    "title": "TB Migration without Git",
    "created_at": "2024-11-19T06:37:24Z",
    "closed_at": "2024-12-02T09:44:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12068",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n\r\n**Description**\r\nHi, \r\nMy company doesn't let me use Git but I need to migrate all type of entities from a server to another. \r\nAt this point I tried Rest Client service but TB wants a little different type of format in the Json to do it. \r\nI stucked and very open to any suggestion.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n\r\n***Old***\r\n * OS:  Windows\r\n * ThingsBoard: 3.8.1\r\n \r\n***New***\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.8.1\r\n\r\n___________________________________________________________\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12068/comments",
    "author": "can-git",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2024-11-19T09:28:49Z",
        "body": "hi!\r\nif you need to migrate pretty much everything, perhaps you consider migrating whole DB altogether?\r\nin case there is no data on Ubuntu server - you can just drop Ubuntu DB, dump Windows DB and restore it to Ubuntu DB"
      }
    ]
  },
  {
    "number": 12030,
    "title": "Future of Internal Message Queues in ThingsBoard: A Clarification on Deprecation",
    "created_at": "2024-11-08T10:37:28Z",
    "closed_at": "2024-11-22T04:41:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12030",
    "body": "# Understanding the Deprecation of Certain Internal Message Queue Services in ThingsBoard\r\n\r\nWe are interested in understanding the rationale behind the decision to deprecate certain internal message queue services within ThingsBoard while retaining Kafka and In-Memory options.\r\n\r\n---\r\n\r\n## Specific Questions\r\n\r\n### 1. Deprecation Reasons\r\nCould you please elaborate on the specific reasons for deprecating certain message queue services?\r\n\r\n### 2. Kafka and In-Memory Advantages\r\nWhat are the particular advantages of Kafka and In-Memory queues that led to their selection as the retained options?\r\n\r\n### 3. Impact on Existing Deployments\r\nHow might this deprecation impact existing ThingsBoard deployments?\r\n\r\n### 4. Future Development Plans\r\nWhat are the implications of this decision on future development plans and feature enhancements?\r\n\r\n---\r\n\r\nBy understanding the rationale and implications of this decision, we can make informed choices about our deployment strategies and future-proof our ThingsBoard solutions.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12030/comments",
    "author": "Sanjanaa-Suresh",
    "comments": [
      {
        "user": "dealnat",
        "created_at": "2024-11-21T15:44:12Z",
        "body": "### 1. **Deprecation Reasons**\r\n\r\n**Could you please elaborate on the specific reasons for deprecating certain message queue services?**\r\n\r\nWe decided to remove support for all types of queues except in-memory and Apache Kafka. This was a difficult decision, the main reason being that all these queues have different architectures and functionalities, which is why some features cannot work correctly on all queues. We came to the conclusion that new features can only be implemented using Kafka.\r\n\r\n### 2. **Kafka and In-Memory Advantages**\r\n\r\n**What are the particular advantages of Kafka and In-Memory queues that led to their selection as the retained options?**\r\n\r\nIn-memory is the basic option that would be a good fit for monolithic deployments with a small load that requires no maintenance from the customer side. Kafka could handle more messages and work more efficiently and has many data management features. Kafka is also a must-have tool for microservices architecture.\r\n\r\n### 3. **Impact on Existing Deployments**\r\n\r\n**How might this deprecation impact existing ThingsBoard deployments?**\r\n\r\nThose relying on deprecated queues will need to migrate to Kafka or use the in-memory queue for simpler use cases.\r\n\r\n### **4. Future Development Plans**\r\n\r\n**What are the implications of this decision on future development plans and feature enhancements?**\r\n\r\nBy deprecating all other message brokers except Kafka, Thingsboard can focus on other feature implementations instead of maintaining the pool of message brokers, and it makes it easier for support to provide help for customers with standardized deployments."
      }
    ]
  },
  {
    "number": 12020,
    "title": "Deleted sysadmin user by mistake",
    "created_at": "2024-11-07T08:35:15Z",
    "closed_at": "2024-11-11T08:34:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/12020",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nIt is a super silly question, but, my coworker removed the sysadmin user by mistake from the Thingsboard database. How can I create it again?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 22.04\r\n * ThingsBoard: 3.8\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/12020/comments",
    "author": "jortega11",
    "comments": [
      {
        "user": "dealnat",
        "created_at": "2024-11-08T16:23:42Z",
        "body": "Hi,\r\nYou can make another user to be sysadmin. Here is the list of commands:\r\n```\r\nupdate tb_user set authority = 'SYS_ADMIN' where email = 'customer@thingsboard.org';\r\nupdate tb_user set customer_id = '13814000-1dd2-11b2-8080-808080808080' where email = 'customer@thingsboard.org';\r\nupdate tb_user set tenant_id = '13814000-1dd2-11b2-8080-808080808080' where email = 'customer@thingsboard.org';\r\n```"
      },
      {
        "user": "jortega11",
        "created_at": "2024-11-11T08:34:13Z",
        "body": "Thanks! I managed to recover it."
      }
    ]
  },
  {
    "number": 11703,
    "title": "Failed to process device connect command",
    "created_at": "2024-09-19T12:58:17Z",
    "closed_at": "2024-10-11T17:26:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11703",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nWhen we deploy Thingsboard in a microservices setup with tb-mqtt-transport, tb-node, tb-jsexecutor, redis, kafka, and zookeeper we run into the following problem.\r\n\r\ntb-mqtt-transport shows these errors: \r\n```\r\n2024-09-19 11:46:00,945 [MqttTransportContext-0-6] WARN  o.t.s.t.m.s.AbstractGatewaySessionHandler - [91981460-767c-11ef-9661-514bcddb7bf9][9590c5d0-767c-11ef-9661-514bcddb7bf9][2d1c65a0-9dce-4c7f-8201-f8ecb832b4a0] Failed to process device connect command: [P-2-12-1]\r\njava.util.concurrent.TimeoutException: null\r\n        at org.thingsboard.server.queue.common.DefaultTbQueueRequestTemplate.setTimeoutException(DefaultTbQueueRequestTemplate.java:165)\r\n        at org.thingsboard.server.queue.common.DefaultTbQueueRequestTemplate.lambda$tryCleanStaleRequests$0(DefaultTbQueueRequestTemplate.java:134)\r\n        at java.base/java.util.concurrent.ConcurrentHashMap.forEach(ConcurrentHashMap.java:1603)\r\n        at org.thingsboard.server.queue.common.DefaultTbQueueRequestTemplate.tryCleanStaleRequests(DefaultTbQueueRequestTemplate.java:130)\r\n        at org.thingsboard.server.queue.common.DefaultTbQueueRequestTemplate.fetchAndProcessResponses(DefaultTbQueueRequestTemplate.java:119)\r\n        at org.thingsboard.server.queue.common.DefaultTbQueueRequestTemplate.mainLoop(DefaultTbQueueRequestTemplate.java:103)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:840)\r\n ```\r\n\r\ntb-node shows these:\r\n```\r\n2024-09-19 12:48:02,795 [device-state-scheduled-23-thread-1] WARN  o.t.s.s.s.DefaultDeviceStateService - [b2c85370-767c-11ef-9661-514bcddb7bf9] Failed to push inactivity alarm: DeviceState(active=false, lastConnectTime=1726748873448, lastActivityTime=1726749473469, lastDisconnectTime=1726749473469, lastInactivityAlarmTime=1726750082793, inactivityTimeout=600000)\r\njava.lang.IllegalStateException: Partitions info for queue QK(Main,TB_RULE_ENGINE,system) is missing\r\n        at org.thingsboard.server.queue.discovery.HashPartitionService.resolve(HashPartitionService.java:311)\r\n        at org.thingsboard.server.queue.discovery.HashPartitionService.resolveAll(HashPartitionService.java:285)\r\n        at org.thingsboard.server.queue.common.TbRuleEngineProducerService.sendToRuleEngine(TbRuleEngineProducerService.java:42)\r\n        at org.thingsboard.server.service.queue.DefaultTbClusterService.pushMsgToRuleEngine(DefaultTbClusterService.java:210)\r\n        at org.thingsboard.server.service.state.DefaultDeviceStateService.pushRuleEngineMessage(DefaultDeviceStateService.java:858)\r\n        at org.thingsboard.server.service.state.DefaultDeviceStateService.onDeviceActivityStatusChange(DefaultDeviceStateService.java:600)\r\n        at org.thingsboard.server.service.state.DefaultDeviceStateService.reportInactivity(DefaultDeviceStateService.java:572)\r\n        at org.thingsboard.server.service.state.DefaultDeviceStateService.updateInactivityStateIfExpired(DefaultDeviceStateService.java:556)\r\n        at org.thingsboard.server.service.state.DefaultDeviceStateService.lambda$checkStates$3(DefaultDeviceStateService.java:505)\r\n        at java.base/java.util.concurrent.ConcurrentHashMap.forEach(ConcurrentHashMap.java:1603)\r\n        at org.thingsboard.server.service.state.DefaultDeviceStateService.checkStates(DefaultDeviceStateService.java:493)\r\n        at com.google.common.util.concurrent.MoreExecutors$ScheduledListeningDecorator$NeverSuccessfulListenableFutureTask.run(MoreExecutors.java:741)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:840)\r\n        ```\r\n\r\nWe don't get any events in the root rule chain as well. Any help on what is going on, or how to further debug would be much appreciated.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Deployed on kubernetes\r\n * ThingsBoard: 3.7\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11703/comments",
    "author": "andre-aktivconsultancy",
    "comments": [
      {
        "user": "sumin-denys",
        "created_at": "2024-09-22T18:06:54Z",
        "body": "Hi @andre-aktivconsultancy,\r\n\r\nCould you please provide additional information for further investigation, such as:\r\n- Result of `kubectl get pod -o wide`\r\n- Logs: `kubectl logs tb-node-x > tb-node-x.log` (x - if you have more than one container)\r\n- Result of `kubectl get node`\r\n- Deployment files"
      },
      {
        "user": "sumin-denys",
        "created_at": "2024-10-11T17:26:26Z",
        "body": "Hi @andre-aktivconsultancy,\r\n\r\nI am closing this issue due to inactivity. Please open the new one if you have additional questions regarding this topic."
      }
    ]
  },
  {
    "number": 11696,
    "title": "Please provide the offical ThingsBoard downgrade document.",
    "created_at": "2024-09-19T04:39:33Z",
    "closed_at": "2024-09-26T14:43:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11696",
    "body": "Hi ThingsBoard Support.\r\n\r\nI am going to downgrade Thingsboard 3.5 to 3.4.3, please provide a offical document for it.\r\nIf the official document has not been prepared yet, please guide me how to downgrade.\r\n\r\nThanks.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11696/comments",
    "author": "Jameschan07",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-19T13:19:40Z",
        "body": "Hi. \r\nThingsBoard doesn’t have a downgrade function.\r\nBut you can perform a downgrade to 3.4.3. This can be done only in case you have a backup of your PostgreSQL database from the 3.4.3 version before upgrading to 3.5\r\n\r\nTo perform a downgrade, please do the next actions:\r\n\r\n1. Restore the PostgreSQL database it’s version from 3.4.3\r\n2. Please download and install ThingsBoard 3.4.3 PE version\r\n\r\nThen, run the service."
      },
      {
        "user": "Jameschan07",
        "created_at": "2024-09-19T14:07:45Z",
        "body": "Hi,\r\nThank you for your quick reply.\r\n\r\nBut I am using community edition, alsoI don't have the PostgreSQL backup. Can I just download and install ThingsBoard 3.4.3?\r\n(Data losing on Database is allowed)\r\n\r\nThanks."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-19T14:24:20Z",
        "body": "Yes, you can. For this, you will need to purge your Thingsboard data + database and make a new install of Thingsboard 3.4.3"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-26T14:43:11Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 11665,
    "title": "MQTT client was disconnected with reason code 7",
    "created_at": "2024-09-16T15:41:11Z",
    "closed_at": "2024-09-17T09:52:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11665",
    "body": "**MQTT API**\r\n * Generic\r\n\r\n**Description**\r\nI'm using the Python Client SDK (tb-mqtt-client version 1.9.9) to send telemetry data to devices in my thingsboard instance.\r\n\r\nWhen connecting to a gateway device, I keep getting the following message:\r\n\r\n`MQTT client was disconnected with reason code 7 (The connection was lost.)`\r\n\r\nThis happens continuously (around 1 to 2 times per second). I can send telemetry/attributes in the brief periods that the connection holds, but it is not sustainable.\r\n\r\nHere is the minimal code that reproduces my error:\r\n\r\n```\r\nfrom time import sleep\r\nfrom tb_gateway_mqtt import TBGatewayMqttClient\r\nimport logging\r\nlogging.basicConfig(level=logging.DEBUG)\r\n\r\ngateway = TBGatewayMqttClient('myUrl.com', \r\n                                port=1883, \r\n                                username='deviceToken')\r\ngateway.connect()\r\n\r\ni=0\r\nwhile True:\r\n    i+=1\r\n    print(f'sent: {\"hello_\"+str(i)}')\r\n    sleep(10)\r\n```\r\n\r\nIs there something wrong with the code or is this a problem on the thingsboard mqtt broker side? From what I could figure out, it seems that the thingsboard broker is disconnecting the client.\r\nI've looked at the thingsboard logs and cannot find anything that would indicate that it is refusing the connection for some reason.\r\n\r\nAny help on this would be appreciated!\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.6.4 PE\r\n * Browser: chrome\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11665/comments",
    "author": "AndreSensaway",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-17T09:52:38Z",
        "body": "Hi. Since this problem is related to Python Client SDK and you already created a ticket in the respective repository, I will close this as a duplicate"
      }
    ]
  },
  {
    "number": 11662,
    "title": "Your title here",
    "created_at": "2024-09-16T13:36:39Z",
    "closed_at": "2024-09-24T12:39:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11662",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n\r\n**Description**\r\nI want to add pdf to dashboards.\r\nFor example, I want to add technical documents about that device. I want that pdf to download when clicked. How can I do this?\r\n\r\nEnvironment\r\n\r\nOS: Ubuntu 20.04.6 LTS\r\nThingsBoard: v.3.6.4\r\nBrowser: Chrome Version 128.0.6613.114 (Official Build) (arm64)\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11662/comments",
    "author": "ghost",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-16T15:40:40Z",
        "body": "Hi\r\nThere is no possibility to upload documents/files in Thingsboard, because it was not designed as file storage. For this purposes it would be better to use some third-party solution as like AWS S3 Bucket and attach links to files.\r\nAs a workaround, you can try to store PDFs as device's attribute in Base64 format and use HTML value card to run some PDF viewer (Mozilla PDF viewer, for instance) to display it\r\n"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-24T12:39:42Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 11620,
    "title": "View entities in descending order in \"Update Multiple Attributes\" widget",
    "created_at": "2024-09-11T00:33:55Z",
    "closed_at": "2024-09-23T17:58:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11620",
    "body": "**Component**\r\n\r\n * UI\r\n\r\n**Description**\r\nBy default, the \"Update Multiple Attributes\" widget will display entities in an ascending order. If I have an alias that contains three devices named Employee 1, Employee 2, and Employee 3, then the widget will display Employee 3 at the top and Employee 1 at the bottom. I would like to display entities in a descending order instead, such that Employee 1 is at the top and Employee 3 is at the bottom, is there a way to do this?\r\n\r\n**Environment**\r\n * ThingsBoard: 3.7.0",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11620/comments",
    "author": "zelms",
    "comments": [
      {
        "user": "sumin-denys",
        "created_at": "2024-09-22T16:40:16Z",
        "body": "Hi @zelms,\r\n\r\nThe **_Update Multiple Attributes_** widget sorts entities by creation time. In case you want to display the devices in the following order: Device 1 -> Device 2 -> Device 3, please recreate them in the revert order like that: Device 3 -> Device 2 -> Device 1.\r\n\r\nPlease let me know if you need further help."
      },
      {
        "user": "zelms",
        "created_at": "2024-09-23T17:58:21Z",
        "body": "That answers my question, thank you!"
      }
    ]
  },
  {
    "number": 11495,
    "title": "does the alarm triggled by device profile rules will be route to the rule engine or not ",
    "created_at": "2024-08-27T10:46:42Z",
    "closed_at": "2024-09-26T14:42:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11495",
    "body": null,
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11495/comments",
    "author": "langlichong",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-27T12:04:05Z",
        "body": "Hi. Yes, it will route to device profile selected rule chain and must be processed by Device Profile rule node."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-26T14:42:08Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 11490,
    "title": "Customer can't add asset by assetService",
    "created_at": "2024-08-26T23:31:26Z",
    "closed_at": "2024-09-20T18:55:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11490",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nI'm attempting to add an asset using assetService. It works perfectly when I log in with a tenant account, but when I try to do the same with a customer account, the assetService returns a 403 error, indicating I don't have permission to perform this action. However, according to the swagger documentation for the saveAsset method, it should be \"Available for users with 'TENANT_ADMIN' or 'CUSTOMER_USER' authority.\"\r\n\r\nHere is the code for my custom action to save an asset:\r\n\r\n```\r\nlet $injector = widgetContext.$scope.$injector;\r\nlet assetService = $injector.get(widgetContext.servicesMap\r\n    .get('assetService'));\r\n\r\nlet asset = {\r\n    name: \"test product\",\r\n    type: \"product\"\r\n};\r\nassetService.saveAsset(asset).subscribe(\r\n    (result) => {\r\n        console.log(result);\r\n    }\r\n);\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11490/comments",
    "author": "BigNavid",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-08-27T04:44:56Z",
        "body": "If you are using CE version of TB, such limitation is by design. Tenant admins create and (un)assign device/asset, customer user use (or view) them."
      },
      {
        "user": "sumin-denys",
        "created_at": "2024-08-27T15:22:11Z",
        "body": "Hi @BigNavid,\r\n\r\nAs @devaskim said it is the expected behavior for ThinsBoard since the _**customer user**_ has only **read** permission for **Asset Type**.\r\n\r\nIn case you are using ThingsBoard PE you can add permissions for **_customer user_** in the Security settings, so the user would be able to add Assets.\r\n\r\nIn order to do it you need to do the following:\r\n\r\n1. Log in to the **Tenant administrator** account.\r\n2. Go to **Security** > Roles in the sidebar.\r\n3. Find **Customer user Role**\r\n4. Add the next permissions:\r\n\r\n| Resource | Operations |\r\n|--------|--------|\r\n| Asset | Create / Read/Write |\r\n| Asset Group | Add to group / Create / Read / Write |\r\n| Asset Profile | Read |\r\n| Customer  | Read | \r\n\r\nAfter all these steps you should be able to add Assets from the customer user."
      },
      {
        "user": "sumin-denys",
        "created_at": "2024-09-20T18:55:40Z",
        "body": "Hi @BigNavid,\r\n\r\nI am closing this issue due to inactivity.\r\n\r\nIf you have any further questions or require clarification, please feel free to create a new issue."
      }
    ]
  },
  {
    "number": 11461,
    "title": "Are ThingsBoard and Yugabyte YCQL compatible?",
    "created_at": "2024-08-21T14:55:22Z",
    "closed_at": "2024-08-26T11:36:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11461",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nAre ThingsBoard and Yugabyte YCQL compatible?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11461/comments",
    "author": "mozhou-tech",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2024-08-26T11:36:31Z",
        "body": "Thingsboard was developed to be compatible with the Postgres database. Compatibility with Yugabyte has never been tested. "
      }
    ]
  },
  {
    "number": 11444,
    "title": "Exceeded rate limit for WS subscriptions per user",
    "created_at": "2024-08-19T16:02:45Z",
    "closed_at": "2024-08-21T14:55:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11444",
    "body": "Hi,\r\n\r\nI'm encountering an intermittent error on some of our dashboards that states \"Exceeded rate limit for WS subscriptions per user.\" We are using the ThingsBoard Cloud Startup plan.\r\n\r\nThis error doesn't occur consistently; sometimes, it appears only after refreshing the dashboard, even if it loads without issues initially.\r\n\r\nCould you please guide me on how to debug this issue and identify the root cause?\r\n\r\nThank you.\r\nShay\r\n\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11444/comments",
    "author": "shayMZ",
    "comments": [
      {
        "user": "ezeroldan24",
        "created_at": "2024-08-19T16:20:19Z",
        "body": "Good morning @shayMZ ! Apparently it's a TB problem, I'm having the same problem today."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-21T14:55:39Z",
        "body": "Hi\r\nStrict WS rate limits were applied on thingsboard.cloud because the activity of one of the tenants led to some kind of DDoS ​​attack with WS requests. After eliminating the problem, the limits have become less strict, so the problem should not be reproduced at this time."
      }
    ]
  },
  {
    "number": 11434,
    "title": "Showing multiple alarms from the same device",
    "created_at": "2024-08-18T10:28:53Z",
    "closed_at": "2024-08-19T12:09:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11434",
    "body": " * Rule Engine\r\n \r\nI would like to create a new alarm every time the alarm condition occurs, even if there are multiple alarm triggers from the same device.\r\n\r\nWhen an alarm condition occurs, it generates an alarm. However, if this alarm is accepted and not canceled, a new alarm is not created when the same condition occurs again. \r\n\r\n\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11434/comments",
    "author": "jvruta",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-19T12:09:17Z",
        "body": "Hi. Such kind of functionality is not possible due to design of Thingsboard. A new alarm can be created only after clearing the previous one. That is why, in this case, another logic will not be implemented."
      }
    ]
  },
  {
    "number": 11367,
    "title": "How to store our data at widgetContext to use it globally as variable?",
    "created_at": "2024-08-06T13:18:23Z",
    "closed_at": "2024-08-08T09:17:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11367",
    "body": "**Cant we store some of our data at widgetContext to use it globally**\r\n\r\nIf possible, so please let me know how and where.\r\nThank you.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11367/comments",
    "author": "KashifAhmd",
    "comments": [
      {
        "user": "devdoob",
        "created_at": "2024-08-08T05:01:57Z",
        "body": "No that's not possible. WidgetContext gets changed for each widget. \r\n\r\nTo use something globally I would suggest you to use stateController.\r\n\r\nPUSH\r\n```\r\nvar stateId = self.ctx.stateController.getStateId();\r\nvar params = self.ctx.stateController.getStateParams();\r\nparams.startDate = self.ctx.$scope.startDate;\r\nself.ctx.stateController.updateState(stateId, params);\r\n```\r\n\r\n PULL\r\n`var startDate = self.ctx.stateController.getStateParams().startDate;`\r\n\r\nThis code is for custom widget... if you want ot use this in TB provided widgets then replace `self.ctx` with `widgetContext`"
      },
      {
        "user": "KashifAhmd",
        "created_at": "2024-08-08T09:17:07Z",
        "body": "Thanks @devdoob ."
      }
    ]
  },
  {
    "number": 11317,
    "title": "Hourly timeseries limits",
    "created_at": "2024-07-30T08:05:57Z",
    "closed_at": "2024-08-06T08:44:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11317",
    "body": "This question applies to charts, for example timeseries chart.\r\n\r\nI'm creating a simple graph for temperature data for a location. Data is hourly, so for example today at 13:00, temp is 25 C. At 14:00, it could be 26 C. But the graph will summarize two data points together, so for example 25C and 26C for two different hours displays as 51C (which is obviously crazy wrong). It's easiest to very when using \"Count\" aggregation instead of \"Sum\", which then shows 2 for any time, Of course one way to solve this is to choose \"None\" as aggregation.\r\n\r\nBut why do Sum or other aggregations combine more than one data point (a single hour), when grouping interval is set to 1 hour (or less)? Is this a bug?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11317/comments",
    "author": "SindreLindahl",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2024-08-05T12:27:50Z",
        "body": "Please provide an example of a widget without aggregation and with aggregation.\r\nAnd provide the exported dashboard."
      },
      {
        "user": "SindreLindahl",
        "created_at": "2024-08-06T08:44:53Z",
        "body": "Thanks for reply. Wasn't able to recreate it today (so typical!). So I'll close this and save an example for next time."
      }
    ]
  },
  {
    "number": 11313,
    "title": "Work the asset only by telemetry",
    "created_at": "2024-07-29T16:45:24Z",
    "closed_at": "2024-08-01T13:48:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11313",
    "body": "I need devices to be online or offline only by device telemetry, avoiding attribute updates, rpc or other events. Is there a way to do this without using generators or other nodes? I'm using the latest version of thingsboard.cloud",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11313/comments",
    "author": "ezeroldan24",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-08-01T13:48:08Z",
        "body": "Hello @ezeroldan24,\r\n\r\nNo, it's not possible."
      }
    ]
  },
  {
    "number": 11293,
    "title": "How to follow device group sharing in rule chain",
    "created_at": "2024-07-26T15:34:18Z",
    "closed_at": "2024-08-02T12:49:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11293",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nI have multiple devices set up that are part of multiple device groups (all owned by the tenant), which are then shared with various customers.\r\nI am trying to send telemetry posts, by HTTP POST, from devices to all customers that have access to the device. Each customer will have an external URL for where to send the data to, and some customers might not want data sent to them.\r\nIs this possible? If so, how would this be accomplished?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS: Thingsboard Cloud\r\n * ThingsBoard: Current Thingsboard Cloud (3.7?)\r\n * Browser: N/A",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11293/comments",
    "author": "Lucas-Drakon",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-07-30T13:38:34Z",
        "body": "Hello @Lucas-Drakon,\r\n\r\nCould you please provide more details about your case? \r\nAlso, what result do you want to achieve, and how do you try to send telemetry data via HTTP POST from devices to all customers?"
      },
      {
        "user": "Lucas-Drakon",
        "created_at": "2024-08-02T12:49:36Z",
        "body": "Thanks for the reply.\r\nI have found a method to achieve what I want.\r\n\r\nI have the devices owned by the tenant and in device groups that are shared to the customers. Then the devices have a relation to assets (for invoice purposes) which have relations to the customers that I want the data streaming to.\r\nThis allows me to retrieve a URL from the customer attributes to use in a REST API call rule chain node to send the data.\r\n\r\nI will now close this issue."
      }
    ]
  },
  {
    "number": 11291,
    "title": "Issue with Secure MQTT Connection on Port 8883",
    "created_at": "2024-07-26T11:13:57Z",
    "closed_at": "2024-07-27T09:53:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11291",
    "body": "Hi,\r\n\r\nI am experiencing issues connecting to thingsboard.cloud using MQTT over a secure connection on port 8883.\r\n\r\nI have successfully connected using MQTT on port 1883, but when I try to connect using the secure port 8883, I encounter the following error:\r\n``` mosquitto_pub --cafile ca-root.pem -d -q 1 -h \"thingsboard.cloud\" -p 8883 \\\r\n-t \"v1/devices/me/telemetry\" --key deviceKey.pem --cert chain.pem -m '{\"temperature\":25}'\r\n```\r\n**Error :-** \r\n\r\n`\r\nClient (null) sending CONNECT\r\nOpenSSL Error[0]: error:0A000086:SSL routines::certificate verify failed\r\nError: A TLS error occurred.\r\n`\r\nI have followed the documentation thoroughly but still face this issue. Could you please provide guidance on how to resolve this?\r\n\r\nThank you.\r\n\r\nBest regards,\r\nVaibhav Kshirsagar\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11291/comments",
    "author": "Vaibhav0216",
    "comments": [
      {
        "user": "dealnat",
        "created_at": "2024-07-30T09:59:54Z",
        "body": "As the issue was closed by author without any comments, we decided to share some extra info related to this issue if other users will face this issue again. In the MQTT authentication with x509 certificates chain tutorial there is CA .pem certificate for the mqtt.thingsboard.cloud otherwise as the CA certificate should be used certificate mentioned in the MQTT_SSL_PEM_CERT env variable in the configuration file. Some users may be confused and choose Web server CA certificate, so this issue will reproduce"
      }
    ]
  },
  {
    "number": 11286,
    "title": "Is it possible to use the same Kafka cluster for Thingsboard and TBMQ?",
    "created_at": "2024-07-26T06:25:12Z",
    "closed_at": "2024-07-29T09:15:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11286",
    "body": "**Component**\r\n\r\n * Installation\r\n\r\n**Description**\r\nI would like to ask if it is possible to use the same Kafka cluster for Thingsboard MSA and TBMQ?\r\nIt would be interessting, if Redis could be a shared service also?\r\n\r\n**Environment**\r\n * OS:  SLES 15 + Docker Swarm\r\n * ThingsBoard: 3.7\r\n* TBMQ: 1.3 ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11286/comments",
    "author": "apachler",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2024-07-26T13:37:19Z",
        "body": "You can use Kafka and Redis for Thingsboard and TBMQ broker since they use different topics and keys. You will not encounter conflicts. However, if you expect a high service load, it is better to split the resources."
      },
      {
        "user": "apachler",
        "created_at": "2024-07-29T09:14:38Z",
        "body": "Cool, thanks for the information!"
      }
    ]
  },
  {
    "number": 11213,
    "title": "How to extract device-gateway data in rulechain?",
    "created_at": "2024-07-16T08:59:34Z",
    "closed_at": "2024-07-16T13:08:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11213",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Question**\r\nHow can I get information about GATEWAY originator in rulechain.\r\n\r\n**Description**\r\nI have device that serves as Gateway. It uses MQTT, topic v1/gateway/telemetry to send messages about sensors like:\r\n\r\n`{\r\n\"dev_11\":\r\n[{\r\n\"Temperature\":23.9,\r\n\"RSSI\":-105,\r\n\"Battery\":153\r\n}]\r\n}`\r\n\r\nWorks great - it posts telemetry to rulechain with originator \"dev_11\" but I'd like to save name of the Gateway device that initiated the message. \r\n\r\n\r\n**Environment** \r\n * ThingsBoard: version 3.6.4 CE\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11213/comments",
    "author": "LukaszDuss",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-07-16T12:48:10Z",
        "body": "If only one, i.e. the same, gateway pushes `dev_11` 's data each time, so you can get gateway name through `Related Entity Data` node using `Created` relation. Otherwise, there is no such feature to dynamically resolve gateway originator."
      },
      {
        "user": "LukaszDuss",
        "created_at": "2024-07-16T12:59:51Z",
        "body": "ok, so in case i have 2 gateways that catches same sensor i can only get one that created it. \r\n\r\nthanks :)"
      }
    ]
  },
  {
    "number": 11205,
    "title": "How to connect W5100s-EVB to thingsboard",
    "created_at": "2024-07-14T12:19:41Z",
    "closed_at": "2024-07-15T14:37:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11205",
    "body": "Hello!\r\n I want to connect the Wiznet W5100S-EVB-Pico to ThingsBoard. I've already successfully connected the Raspberry Pi Pico with 20 inputs and 6 outputs, and it works perfectly. \r\nNow I want to do something similar with Ethernet using the W5100S because I can't use WiFi everywhere. \r\nHave any of you tried this before, and how did you do it? \r\nI've used the example script from ThingsBoard for the Pico W and modified it, but I'm having trouble getting it right. \r\nI'm trying different things and searching online. Thanks in advance, guys!",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11205/comments",
    "author": "Kjellyboy1",
    "comments": [
      {
        "user": "Kjellyboy1",
        "created_at": "2024-07-14T16:03:00Z",
        "body": "After searching for a while, I can now connect to ThingsBoard with this script and monitor 7 inputs.\r\n\r\n`\r\n#include <ThingsBoard.h>\r\n#include <Ethernet.h>\r\n\r\n// Ethernet settings\r\nbyte mac[] = { 0xXX, 0xXX, 0xXX, 0xXX, 0xXX, 0xXX };  // Customize this with your Ethernet shield's MAC address\r\n\r\n// Uncomment and configure these settings if using a static IP\r\nIPAddress ip(xx, xx, xx, xxx);  // Static IP address\r\n IPAddress myDns(8, 8, 8, 8);    // DNS server\r\n IPAddress gateway(xx, xx, xx, 1); // Gateway\r\n IPAddress subnet(255, 255, 255, 0); // Subnet mask\r\n\r\nconstexpr char TOKEN[] = \"XXXXXXXXXXXX\";\r\nconstexpr char THINGSBOARD_SERVER[] = \"XXX.XXX.XXX.XX\";\r\nconstexpr uint16_t THINGSBOARD_PORT = 1883U;\r\nconstexpr uint32_t MAX_MESSAGE_SIZE = 512U;\r\nconstexpr uint32_t SERIAL_DEBUG_BAUD = 115200U;\r\n\r\nEthernetClient ethClient;\r\nThingsBoard tb(ethClient, MAX_MESSAGE_SIZE);\r\n\r\nbool subscribed = false;\r\nvolatile bool attributesChanged = true;\r\nvolatile int ledMode = 1;\r\nvolatile int testrelay = 0;\r\nvolatile int Output21;\r\nvolatile bool ledState = true;\r\nconstexpr uint16_t BLINKING_INTERVAL_MS_MIN = 10U;\r\nconstexpr uint16_t BLINKING_INTERVAL_MS_MAX = 60000U;\r\nvolatile uint16_t blinkingInterval = 1000U;\r\n\r\nuint32_t previousStateChange;\r\nconstexpr int16_t telemetrySendInterval = 2000U;\r\nuint32_t previousDataSend;\r\n\r\nconstexpr std::array<const char *, 2U> SHARED_ATTRIBUTES_LIST = {\r\n  \"blinkingInterval\", \"ledState\"\r\n};\r\n\r\nconstexpr std::array<const char *, 1U> CLIENT_ATTRIBUTES_LIST = {\r\n  \"ledMode\"\r\n};\r\n\r\nconst char *getMAC() {\r\n  static char macStr[18];\r\n  sprintf(macStr, \"%02X:%02X:%02X:%02X:%02X:%02X\", mac[0], mac[1], mac[2], mac[3], mac[4], mac[5]);\r\n  return macStr;\r\n}\r\n\r\nvoid InitEthernet() {\r\n  Serial.println(\"Initializing Ethernet...\");\r\n  Ethernet.init(17); // W5100S-EVB-Pico\r\n  // Uncomment the below line to use static IP\r\n   Ethernet.begin(mac, ip, myDns, gateway, subnet);\r\n  if (Ethernet.begin(mac) == 0) {\r\n    Serial.println(\"Failed to configure Ethernet using DHCP\");\r\n    // If DHCP fails, an additional static IP configuration can be added here if needed.\r\n    // Uncomment and configure the below line if you want to use a static IP as fallback.\r\n     Ethernet.begin(mac, ip, myDns, gateway, subnet);\r\n  } else {\r\n    Serial.print(\"Ethernet initialized. IP address: \");\r\n    Serial.println(Ethernet.localIP());\r\n  }\r\n  delay(1000);\r\n  if (Ethernet.hardwareStatus() == EthernetNoHardware) {\r\n    Serial.println(\"Ethernet shield was not found. Sorry, can't run without hardware. :(\");\r\n    while (true) {\r\n      delay(1); // do nothing, no point running without Ethernet hardware\r\n    }\r\n  }\r\n  if (Ethernet.linkStatus() == LinkOFF) {\r\n    Serial.println(\"Ethernet cable is not connected.\");\r\n  }\r\n}\r\n\r\nconst bool reconnect() {\r\n  if (Ethernet.linkStatus() == LinkOFF) {\r\n    Serial.println(\"Ethernet cable is not connected.\");\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nRPC_Response processSetLedMode(const RPC_Data &data) {\r\n  Serial.println(\"Received the set led state RPC method\");\r\n  int new_mode = data;\r\n  Serial.print(\"Mode to change: \");\r\n  Serial.println(new_mode);\r\n  if (new_mode != 0 && new_mode != 1) {\r\n    return RPC_Response(\"error\", \"Unknown mode!\");\r\n  }\r\n  ledMode = new_mode;\r\n  attributesChanged = true;\r\n  return RPC_Response(\"newMode\", (int)ledMode);\r\n}\r\n\r\nRPC_Response processSetOutput21(const RPC_Data &data) {\r\n  Serial.println(\"Received the set output state RPC method\");\r\n  int new_mode = data;\r\n  Serial.print(\"Mode to change: \");\r\n  Serial.println(new_mode);\r\n  if (new_mode != 0 && new_mode != 1) {\r\n    return RPC_Response(\"error\", \"Unknown mode!\");\r\n  }\r\n  Output21 = new_mode;\r\n  attributesChanged = true;\r\n  return RPC_Response(\"newMode\", (int)Output21);\r\n}\r\n\r\nRPC_Response processSetRelay(const RPC_Data &data) {\r\n  Serial.println(\"Received the set relay state RPC method\");\r\n  int new_mode1 = data;\r\n  Serial.print(\"Mode to change: \");\r\n  Serial.println(new_mode1);\r\n  if (new_mode1 != 0 && new_mode1 != 1) {\r\n    return RPC_Response(\"error\", \"Unknown mode!\");\r\n  }\r\n  testrelay = new_mode1;\r\n  attributesChanged = true;\r\n  return RPC_Response(\"newMode1\", (int)testrelay);\r\n}\r\n\r\nconst std::array<RPC_Callback, 2U> callbacks = {\r\n  RPC_Callback{ \"setLedMode\", processSetLedMode },\r\n  RPC_Callback{ \"setOutput21\", processSetOutput21 }\r\n};\r\n\r\nvoid processSharedAttributes(const Shared_Attribute_Data &data) {\r\n  for (auto it = data.begin(); it != data.end(); ++it) {\r\n    if (strcmp(it->key().c_str(), \"blinkingInterval\") == 0) {\r\n      const uint16_t new_interval = it->value().as<uint16_t>();\r\n      if (new_interval >= BLINKING_INTERVAL_MS_MIN && new_interval <= BLINKING_INTERVAL_MS_MAX) {\r\n        blinkingInterval = new_interval;\r\n        Serial.print(\"Updated blinking interval to: \");\r\n        Serial.println(new_interval);\r\n      }\r\n    } else if (strcmp(it->key().c_str(), \"ledState\") == 0) {\r\n      ledState = it->value().as<bool>();\r\n      Serial.print(\"Updated state to: \");\r\n      Serial.println(ledState);\r\n    } \r\n  }\r\n  attributesChanged = true;\r\n}\r\n\r\nvoid processClientAttributes(const Shared_Attribute_Data &data) {\r\n  for (auto it = data.begin(); it != data.end(); ++it) {\r\n    if (strcmp(it->key().c_str(), \"ledMode\") == 0) {\r\n      const uint16_t new_mode = it->value().as<uint16_t>();\r\n      ledMode = new_mode;\r\n    }\r\n  }\r\n}\r\n\r\nconst Shared_Attribute_Callback attributes_callback(SHARED_ATTRIBUTES_LIST.cbegin(), SHARED_ATTRIBUTES_LIST.cend(), &processSharedAttributes);\r\nconst Attribute_Request_Callback attribute_shared_request_callback(SHARED_ATTRIBUTES_LIST.cbegin(), SHARED_ATTRIBUTES_LIST.cend(), &processSharedAttributes);\r\nconst Attribute_Request_Callback attribute_client_request_callback(CLIENT_ATTRIBUTES_LIST.cbegin(), CLIENT_ATTRIBUTES_LIST.cend(), &processClientAttributes);\r\n\r\nvoid setup() {\r\n  Serial.begin(115200);\r\n  pinMode(LED_BUILTIN, OUTPUT);\r\n  digitalWrite(LED_BUILTIN, LOW);\r\n  delay(1000);\r\n  InitEthernet();\r\n}\r\n\r\nvoid loop() {\r\n  delay(10);\r\n\r\n  if (!reconnect()) {\r\n    subscribed = false;\r\n    return;\r\n  }\r\n\r\n  if (!tb.connected()) {\r\n    subscribed = false;\r\n    Serial.print(\"Connecting to: \");\r\n    Serial.print(THINGSBOARD_SERVER);\r\n    Serial.print(\" with token \");\r\n    Serial.println(TOKEN);\r\n    if (!tb.connect(THINGSBOARD_SERVER, TOKEN, THINGSBOARD_PORT)) {\r\n      Serial.println(\"Failed to connect\");\r\n      return;\r\n    }\r\n    tb.sendAttributeData(\"macAddress\", getMAC());\r\n  }\r\n\r\n  if (!subscribed) {\r\n    Serial.println(\"Subscribing for RPC...\");\r\n    if (!tb.RPC_Subscribe(callbacks.cbegin(), callbacks.cend())) {\r\n      Serial.println(\"Failed to subscribe for RPC\");\r\n      return;\r\n    }\r\n    if (!tb.Shared_Attributes_Subscribe(attributes_callback)) {\r\n      Serial.println(\"Failed to subscribe for shared attribute updates\");\r\n      return;\r\n    }\r\n    Serial.println(\"Subscribe done\");\r\n    subscribed = true;\r\n\r\n    if (!tb.Shared_Attributes_Request(attribute_shared_request_callback)) {\r\n      Serial.println(\"Failed to request for shared attributes\");\r\n      return;\r\n    }\r\n    if (!tb.Client_Attributes_Request(attribute_client_request_callback)) {\r\n      Serial.println(\"Failed to request for client attributes\");\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (attributesChanged) {\r\n    attributesChanged = false;\r\n    tb.sendAttributeData(\"ledMode\", ledMode);\r\n    tb.sendAttributeData(\"ledState\", ledState);\r\n  }\r\n\r\n  if (ledMode == 1 && millis() - previousStateChange > blinkingInterval) {\r\n    previousStateChange = millis();\r\n    ledState = !ledState;\r\n    digitalWrite(LED_BUILTIN, ledState);\r\n    tb.sendTelemetryData(\"ledState\", ledState);\r\n    tb.sendAttributeData(\"ledState\", ledState);\r\n  }\r\n\r\n  const int buttonPin0 = 0;\r\n  const int buttonPin1 = 1;\r\n  const int buttonPin2 = 2;\r\n  const int buttonPin3 = 3;\r\n  const int buttonPin4 = 4;\r\n  const int buttonPin5 = 5;\r\n  const int buttonPin6 = 6;\r\n  const int buttonPin7 = 7;\r\n\r\n  if (millis() - previousDataSend > telemetrySendInterval) {\r\n    previousDataSend = millis();\r\n    tb.sendTelemetryData(\"input0\", digitalRead(buttonPin0));\r\n    tb.sendTelemetryData(\"input1\", digitalRead(buttonPin1));\r\n    tb.sendTelemetryData(\"input2\", digitalRead(buttonPin2));\r\n    tb.sendTelemetryData(\"input3\", digitalRead(buttonPin3));\r\n    tb.sendTelemetryData(\"input4\", digitalRead(buttonPin4));\r\n    tb.sendTelemetryData(\"input5\", digitalRead(buttonPin5));\r\n    tb.sendTelemetryData(\"input6\", digitalRead(buttonPin6));\r\n    tb.sendTelemetryData(\"input7\", digitalRead(buttonPin7));\r\n  }\r\n\r\n  tb.loop();\r\n}\r\n`"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-07-15T14:37:25Z",
        "body": "Hello @Kjellyboy1,\r\nThanks for the sharing this solution,\r\nI've closed this ticket as it is no longer active"
      }
    ]
  },
  {
    "number": 11170,
    "title": "Image Map data key placement",
    "created_at": "2024-07-09T05:38:35Z",
    "closed_at": "2024-07-23T14:44:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11170",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nI have an image map, showing an air handling unit, with a single entity as the datasource.\r\nI want to place the different data keys (supplyAirTemperature, valve opening etc.) as labels on the image map, with individual coordinates for each value.\r\n\r\nHow can I set static x/y values for each data key?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11170/comments",
    "author": "BombayNitefrog",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-07-09T10:18:50Z",
        "body": "Add your single entity as much data sources as data keys number is, i.e. Image Map widget doesn't detect duplicated entity in data sources configuration"
      },
      {
        "user": "BombayNitefrog",
        "created_at": "2024-07-16T07:45:57Z",
        "body": "Thanks.\r\nI found that the Label Widget was exactly what I needed for this task :)"
      },
      {
        "user": "ssakharova",
        "created_at": "2024-07-19T09:57:08Z",
        "body": "Hello @BombayNitefrog,\r\n\r\nThank you for letting us know. In that case, may I close the ticket, or do you have any other questions?"
      },
      {
        "user": "BombayNitefrog",
        "created_at": "2024-07-23T04:46:35Z",
        "body": "you are welcome to close the ticket :)"
      }
    ]
  },
  {
    "number": 11143,
    "title": "How to change color of Display pagination",
    "created_at": "2024-07-04T06:13:20Z",
    "closed_at": "2024-07-15T14:32:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11143",
    "body": "hello.\r\nmy background of dashboard is dark and the icons of the widgets are also black and cannot be identified..\r\nhow to change color of Pagination, Search bar, next and previous button in entities table and other widget?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11143/comments",
    "author": "m3relec",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-07-04T06:32:55Z",
        "body": "CSS styles of a widget could be overwritten in Widget configuration -> `Advanced widget style` -> `Widget CSS`\r\nJust find with browser DevTools which CSS class you need and overwrite it."
      }
    ]
  },
  {
    "number": 11108,
    "title": "how to save or edit timeseries data in custom action?",
    "created_at": "2024-06-29T08:02:52Z",
    "closed_at": "2024-07-08T10:02:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11108",
    "body": "Hello.\r\nHow can I record a new telemetry data or edit the previous telemetry data through custom action?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11108/comments",
    "author": "m3relec",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-01T15:26:44Z",
        "body": "Hi\r\nYou can use either `attributeService.saveEntityTimeseries() `controller that will save the latest value:\r\n```\r\nconst entityId = 'ENTITY_ID';\r\nconst timeseriesScope = 'timeseries';\r\nconst timeseries = [{ key: 'timeSeriesKey1', value: 'value1' }]; \r\nattributeService.saveEntityTimeseries(entityId, timeseriesScope, timeseries).subscribe(\r\n  () => {\r\n    console.log('Timeseries saved successfully');\r\n  }\r\n);\r\n```\r\nOr URL with query parameters for custom timestamps:\r\n```\r\nfunction saveTimeseries(entityId, data) {\r\n    return http.post('/api/plugins/telemetry/'+entityId.entityType+'/'+entityId.id+'/timeseries/timeseriesScope', data);\r\n}\r\n```"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-08T10:02:15Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 11082,
    "title": "  ts_key_value_partitioning: \"${SQL_POSTGRES_TS_KV_PARTITIONING:MONTHS}\"  ",
    "created_at": "2024-06-25T03:03:40Z",
    "closed_at": "2024-10-03T11:14:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11082",
    "body": "En donde modfico esto:   ts_key_value_partitioning: \"${SQL_POSTGRES_TS_KV_PARTITIONING:MONTHS}\" \r\n\r\nEstoy instalando Thingsboard y me pide modificar esto y no encuentro donde se hace.\r\n\r\nEspero me puedan asesorar\r\n\r\n  Gracias por su apoyo",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11082/comments",
    "author": "esthergpe",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2024-06-25T13:13:52Z",
        "body": "Is it a fresh installation or an upgrade?\r\nWhich version and which environment? Some more details please.\r\nAnd write in english please."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-10-03T11:14:46Z",
        "body": "Closed due to inatctivity"
      }
    ]
  },
  {
    "number": 11080,
    "title": "Is possible to import device telemetry by csv ?",
    "created_at": "2024-06-25T01:13:59Z",
    "closed_at": "2024-06-25T14:13:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11080",
    "body": "**Component**\r\n\r\n * Rule Engine\r\n * Generic\r\n\r\n**Description**\r\nI have a log data is csv file . This log file have 19 type of key and a total of 200,000 pieces of data   I want to import all data into thingsboard device telemetry . \r\nHow should I do ?\r\n\r\n**Environment**\r\n\r\n * OS:  Windows10\r\n * ThingsBoard: 2.0.1\r\n * Browser: firefox\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11080/comments",
    "author": "kiraten191010",
    "comments": [
      {
        "user": "sjthings",
        "created_at": "2024-06-25T02:00:32Z",
        "body": "If this data is available in JSON format, then you can publish this data using any MQTT client application.\r\nThe payload format has to be \r\n[{\r\n    \"ts\": 170000020,\r\n    \"values\": {\r\n        \"key1\": \"value1\",\r\n        \"key2\": \"value2\"\r\n    }\r\n },\r\n{\r\n    \"ts\": <timeinms>,\r\n    \"values\": {\r\n        \"key1\": \"value1\",\r\n        \"key2\": \"value2\"\r\n    }\r\n},\r\n{\r\n    \"ts\": <timeinms>,\r\n    \"values\": {\r\n        \"key1\": \"value1\",\r\n        \"key2\": \"value2\"\r\n    }\r\n}]\r\n "
      },
      {
        "user": "kiraten191010",
        "created_at": "2024-06-25T04:36:02Z",
        "body": "Thank you so much"
      }
    ]
  },
  {
    "number": 11065,
    "title": "Deleting notification requests from database",
    "created_at": "2024-06-20T18:33:00Z",
    "closed_at": "2024-08-14T14:18:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11065",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Notifications\r\n\r\n**Description**\r\nI am trying to deleted all notifications related data. I already deleted all notifications via API, but then realized that I also have to delete the notification requests that remained. Is it safe to delete all data from the notification_request table in the database with a truncate cascade command?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Debian buster\r\n * ThingsBoard: 3.5.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11065/comments",
    "author": "kojievo",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2024-07-19T12:06:41Z",
        "body": "Hi!\r\n\r\n> Is it safe to delete all data from the notification_request table in the database with a truncate cascade command?\r\n\r\nIf all related notifications are deleted, it is safe to do so."
      }
    ]
  },
  {
    "number": 11039,
    "title": "No data displayed on Thingsboard web after data rotation and compaction in Cassandra",
    "created_at": "2024-06-18T18:07:44Z",
    "closed_at": "2024-10-21T15:09:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11039",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\nUI\r\n\r\n\r\n**Description**\r\nI am running Thingsboard in an on-premise environment composed of 4 virtual machines with Ubuntu 18.04.1 LTS operating system. I am using a Cassandra database, which requires a data rotation of old dates which are not part of the requirement of the client using the platform. The data to be rotated (deleted) is related to one of the telemetry tables called ts_kv_cf. After deleting a portion of the records, I performed a user-defined compaction which finished without problems. The compaction freed up 1GB of data only among the four nodes. I then lifted the system as usual, but the web stopped displaying any data, be it devices, clients and any other information. The Thingsboard website was empty, as if it was a newly installed system. I guess initially that I may have a network problem between the different containers because the volume inside each virtual machine corresponding to the Cassandra databases still contained data in all the tables of the system. I obtained the logs from the /var/log folder on the system and found a fragment that caught my attention, which is as follows:\r\n\r\nJun 14 16:32:58 EPEC-TB-CORE-02 kernel: [2701296.264961] veth6b945d8: renamed from eth0\r\nJun 14 16:32:58 EPEC-TB-CORE-02 kernel: [2701296.300509] br-935c8215d318: port 17(veth3a10366) entered disabled state\r\nJun 14 16:32:58 EPEC-TB-CORE-02 systemd-networkd[705]: veth3a10366: Lost carrier\r\nJun 14 16:32:58 EPEC-TB-CORE-02 systemd-udevd[96235]: link_config: autonegotiation is unset or enabled, the speed and duplex are not writable.\r\nJun 14 16:32:58 EPEC-TB-CORE-02 kernel: [2701296.395064] br-935c8215d318: port 17(veth3a10366) entered disabled state\r\nJun 14 16:32:58 EPEC-TB-CORE-02 kernel: [2701296.397953] device veth3a10366 left promiscuous mode\r\nJun 14 16:32:58 EPEC-TB-CORE-02 kernel: [2701296.397958] br-935c8215d318: port 17(veth3a10366) entered disabled state\r\nJun 14 16:32:58 EPEC-TB-CORE-02 networkd-dispatcher[789]: WARNING:Unknown index 1311 seen, reloading interface list\r\nJun 14 16:32:58 EPEC-TB-CORE-02 networkd-dispatcher[789]: ERROR:Unknown interface index 1311 seen even after reload\r\nJun 14 16:32:58 EPEC-TB-CORE-02 containerd[818]: time=\"2024-06-14T16:32:58.961159100-03:00\" level=info msg=\"shim reaped\" id=8b86ed017655de6d3b4658859024f4b937d6636081ffeb366651926a1a724320\r\nJun 14 16:32:58 EPEC-TB-CORE-02 dockerd[950]: time=\"2024-06-14T16:32:58.971012200-03:00\" level=info msg=\"ignoring event\" module=libcontainerd namespace=moby topic=/tasks/delete type=\"*events.TaskDelete\"\r\nJun 14 16:32:59 EPEC-TB-CORE-02 kernel: [2701296.587228] veth5c5b348: renamed from eth0\r\nJun 14 16:32:59 EPEC-TB-CORE-02 systemd-networkd[705]: vetha0c1b9b: Lost carrier\r\nJun 14 16:32:59 EPEC-TB-CORE-02 systemd-udevd[96341]: link_config: autonegotiation is unset or enabled, the speed and duplex are not writable.\r\nJun 14 16:32:59 EPEC-TB-CORE-02 kernel: [2701296.653126] br-935c8215d318: port 11(vetha0c1b9b) entered disabled state\r\nJun 14 16:32:59 EPEC-TB-CORE-02 networkd-dispatcher[789]: WARNING:Unknown index 1299 seen, reloading interface list\r\nJun 14 16:32:59 EPEC-TB-CORE-02 kernel: [2701296.665118] br-935c8215d318: port 11(vetha0c1b9b) entered disabled state\r\nJun 14 16:32:59 EPEC-TB-CORE-02 kernel: [2701296.668231] device vetha0c1b9b left promiscuous mode\r\nJun 14 16:32:59 EPEC-TB-CORE-02 kernel: [2701296.668236] br-935c8215d318: port 11(vetha0c1b9b) entered disabled state\r\nJun 14 16:32:59 EPEC-TB-CORE-02 networkd-dispatcher[789]: ERROR:Unknown interface index 1299 seen even after reload\r\nJun 14 16:32:59 EPEC-TB-CORE-02 networkd-dispatcher[789]: WARNING:Unknown index 1299 seen, reloading interface list\r\nJun 14 16:32:59 EPEC-TB-CORE-02 networkd-dispatcher[789]: ERROR:Unknown interface index 1299 seen even after reload\r\n\r\nCan anyone explain the behavior that my system suffered? Is it a known issue and addressed within the Thingsboard project? \r\nAny help regarding this issue would be appreciated!\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18.04.1 LTS\r\n * ThingsBoard: 2.4.1\r\n * Browser: Chrome Versión 114.0.5735.198\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11039/comments",
    "author": "juanignacionavarro8",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2024-10-07T14:51:03Z",
        "body": "Before deleting data, be sure to make a backup and roll back in case of a similar situation.\r\nHow exactly did you delete the data? What commands did you use? \r\nCould you attach the ThingsBoard (/var/log/thingsboard/thingsboard.log) and Cassandra /var/log/cassandra/debug.log() logs? Or have you already solved your issue?"
      },
      {
        "user": "pon0marev",
        "created_at": "2024-10-21T15:09:46Z",
        "body": "We would like to inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more questions or have encountered similar issues, please reopen this issue."
      }
    ]
  },
  {
    "number": 11031,
    "title": "Html button and dashboard state",
    "created_at": "2024-06-18T07:44:05Z",
    "closed_at": "2024-10-03T11:19:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11031",
    "body": "Good morning,\r\n\r\nI am making a custom widget, but I am stuck on one part. I have 3 buttons that I want to lead to a dashboard panel state called Cultivos when clicked. I have tried several methods that I found in the documentation without success. This is the part of the HTML code:\r\n\r\n```\r\n<div class=\"buttons\">\r\n    <a ng-click=\"onButtonClick($event, null, 'cultivos')\" class=\"button\"><i class=\"fas fa-leaf\"></i>Cultivos</a>\r\n    <a href=\"#\" class=\"button\"><i class=\"fas fa-chart-bar\"></i>Reportes</a>\r\n    <a href=\"#\" class=\"button\"><i class=\"fas fa-cog\"></i>Configuración</a>\r\n</div>\r\n```\r\n\r\n```\r\n    self.onInit = function() {\r\n        console.log('Widget onInit called');\r\n        self.ctx.$scope = self.ctx.$scope || {};\r\n        self.ctx.$scope.ctx = self.ctx.$scope;\r\n        console.log(self.ctx);\r\n\r\n        self.ctx.$scope.onButtonClick = function($event, entity, stateId) {\r\n            console.log('Button clicked', stateId);\r\n            if ($event) {\r\n                $event.stopPropagation();\r\n            }\r\n            openDashboardState(stateId);\r\n        };\r\n\r\n        init();\r\n    };\r\n```\r\n\r\nAnybody can help!\r\n\r\nThankx!",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11031/comments",
    "author": "Ataraxiall",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-06-19T08:46:08Z",
        "body": "First, get rid of this\r\n```\r\n        self.ctx.$scope = self.ctx.$scope || {};\r\n        self.ctx.$scope.ctx = self.ctx.$scope;\r\n```\r\nthen use `(click)=\"somuFunc\"` instead of `ng-click` in HTML code"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-10-03T11:19:29Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 11021,
    "title": "Creating a table for announcing the failure of the device",
    "created_at": "2024-06-16T05:08:52Z",
    "closed_at": "2024-07-09T14:23:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/11021",
    "body": "Hello.\r\nI have a dashboard in which I display about 200 devices.\r\nCurrently, I need a breakdown and support notification table to save in a separate dashboard that the device X broke down on a certain date and the support team repaired the device on another date.\r\nWhat do you recommend? How can I do this?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/11021/comments",
    "author": "m3relec",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-07-01T13:37:56Z",
        "body": "Hello @m3relec,\r\n\r\nPlease clarify the request so we can better assist you."
      },
      {
        "user": "ssakharova",
        "created_at": "2024-07-09T14:23:49Z",
        "body": "Closed due to inactivity."
      }
    ]
  },
  {
    "number": 10993,
    "title": "It is possible to send data directly to a dashboard without using db",
    "created_at": "2024-06-12T18:23:08Z",
    "closed_at": "2024-06-13T14:47:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10993",
    "body": "Hi team. Is it possible to use the data that comes from a device directly in a dashboard without taking it from a default database?\r\n\r\nThanks.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10993/comments",
    "author": "elpollo12",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-06-13T12:01:34Z",
        "body": "No, as I know"
      },
      {
        "user": "elpollo12",
        "created_at": "2024-06-13T12:48:11Z",
        "body": "Thanks for your reply @devaskim "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-06-13T14:47:27Z",
        "body": "@elpollo12 \r\nYou can't do that"
      }
    ]
  },
  {
    "number": 10967,
    "title": "Creating a Language Dropdown Widget for Clients",
    "created_at": "2024-06-11T08:09:17Z",
    "closed_at": "2024-07-10T12:13:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10967",
    "body": "Good morning,\r\n\r\nI am trying to generate a \"simple\" widget; I only want a dropdown list with several languages so that the client can change it (they don't have access to /profile). I have been trying various ways but haven't found a working solution. Any help on what I might be doing wrong?\r\nHTML\r\n\r\n```\r\n<div id=\"language-switcher\">\r\n  <select id=\"language-selector\" onchange=\"changeLanguage(this.value)\">\r\n    <option value=\"en_US\">English</option>\r\n    <option value=\"es_ES\">Español</option>\r\n    <option value=\"fr_FR\">Français</option>\r\n  </select>\r\n</div>\r\n```\r\n\r\nJS\r\n```\r\nself.onInit = function() {\r\n  // Define the function in the global context\r\n  window.changeLanguage = function(language) {\r\n    var token = self.ctx.authUserToken;\r\n    var userId = self.ctx.userId;\r\n\r\n    // Check that the token and userId are defined\r\n    if (!token || !userId) {\r\n      console.error('Token or User ID is not defined');\r\n      alert('Failed to change language: missing authentication token or user ID.');\r\n      return;\r\n    }\r\n\r\n    // Fetch user information\r\n    fetch(`/api/user/${userId}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'X-Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to retrieve user information: ${response.statusText}`);\r\n      }\r\n      return response.json();\r\n    })\r\n    .then(user => {\r\n      if (!user.additionalInfo) {\r\n        user.additionalInfo = {};\r\n      }\r\n      user.additionalInfo.lang = language;\r\n\r\n      // Update user information\r\n      return fetch('/api/user', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n      });\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        alert(`Language changed to ${language}. Please log out and log back in to see the changes.`);\r\n      } else {\r\n        throw new Error(`Failed to change language: ${response.statusText}`);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error:', error);\r\n      alert(`Failed to change language: ${error.message}`);\r\n    });\r\n  };\r\n};\r\n```\r\n\r\n\r\nThank you!\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10967/comments",
    "author": "Ataraxiall",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-06-11T11:22:14Z",
        "body": "To make any function visible in HTML template, set it to `self.ctx.$scope`, so\r\n```\r\nself.ctx.$scope.changeLanguage = ...\r\n```\r\ninstead of\r\n```\r\nwindow.changeLanguage = ...\r\n```\r\n"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-10T12:13:57Z",
        "body": "I closed this ticket due to inactivity. If this question is still relevant to you, feel free to open a new ticket with full description of your request"
      }
    ]
  },
  {
    "number": 10913,
    "title": "Error while Runnin g a thingsboard Jar fille",
    "created_at": "2024-06-02T14:55:41Z",
    "closed_at": "2024-07-04T08:39:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10913",
    "body": "i tried to install and run using thingsboard using a source code in my machine, when i run a \r\n\r\n `mvn clean install -DskipTests` \r\n\r\nand bulid was success and i tried to run thingsboard using a command \r\n\r\n`sudo java -jar application/target/thingsboard-3.7.0-SNAPSHOT-boot.jar`\r\n\r\nit shows and below error and \r\n\r\nversion details are OS : ubuntu - 20.04 ,  Java : open-JDK-17 , Maven  : 3.6.5 \r\n\r\n\r\n/target/thingsboard-3.7.0-SNAPSHOT-boot.jar/!BOOT-INF/classes/!/org/thingsboard/server/controller/MailConfigTemplateController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'defaultTbMailConfigTemplateService': Invocation of init method failed\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.4.jar!/:3.2.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.4.jar!/:3.2.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.4.jar!/:3.2.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.4.jar!/:3.2.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.4.jar!/:3.2.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.4.jar!/:3.2.4]\r\n\tat org.thingsboard.server.ThingsboardServerApplication.main(ThingsboardServerApplication.java:44) ~[!/:3.7.0-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:91) ~[thingsboard-3.7.0-SNAPSHOT-boot.jar:3.7.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:53) ~[thingsboard-3.7.0-SNAPSHOT-boot.jar:3.7.0-SNAPSHOT]\r\n\tat org.springframework.boot.loader.launch.PropertiesLauncher.main(PropertiesLauncher.java:574) ~[thingsboard-3.7.0-SNAPSHOT-boot.jar:3.7.0-SNAPSHOT]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultTbMailConfigTemplateService': Invocation of init method failed\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:422) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\t... 26 common frames omitted\r\nCaused by: java.io.FileNotFoundException: class path resource [templates/mail_config_templates.json] cannot be resolved to absolute file path because it does not reside in the file system: jar:nested:/home/nithish/Music/thingsboard-master/application/target/thingsboard-3.7.0-SNAPSHOT-boot.jar/!BOOT-INF/classes/!/templates/mail_config_templates.json\r\n\tat org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:218) ~[spring-core-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:173) ~[spring-core-6.1.6.jar!/:6.1.6]\r\n\tat org.thingsboard.server.service.mail.DefaultTbMailConfigTemplateService.postConstruct(DefaultTbMailConfigTemplateService.java:35) ~[!/:3.7.0-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.1.6.jar!/:6.1.6]\r\n\t... 39 common frames omitted\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10913/comments",
    "author": "nithiishkumarb",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-06-04T15:15:41Z",
        "body": "Looks like something is missing in your project\r\n`Caused by: java.io.FileNotFoundException: class path resource [templates/mail_config_templates.json] cannot be resolved to absolute file path because it does not reside in the file system: jar:nested:/home/nithish/Music/thingsboard-master/application/target/thingsboard-3.7.0-SNAPSHOT-boot.jar/!BOOT-INF/classes/!/templates/mail_config_templates.json`\r\n\r\nPlease check and rebuild your project"
      }
    ]
  },
  {
    "number": 10906,
    "title": "Reset User Password without mail",
    "created_at": "2024-05-31T09:22:09Z",
    "closed_at": "2024-05-31T10:30:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10906",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n\r\n * Generic\r\n\r\n**Description**\r\nHi,\r\nI need to reset a forgotten password for a customer who can't receive email, so he can't receive the link for resetting. How can I change his password as tenant administrator without knowing his previous password?\r\nThanks for your answers,\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n\r\n * ThingsBoard: 3.5.1 PE\r\n\r\n\r\n___________________________________________________________\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10906/comments",
    "author": "liotys",
    "comments": [
      {
        "user": "devdoob",
        "created_at": "2024-05-31T09:34:10Z",
        "body": "Just delete and recreate the user."
      },
      {
        "user": "liotys",
        "created_at": "2024-05-31T10:30:56Z",
        "body": "Thanks for the answer. I feared this was the only way. No matter in my case, but if the users have telemetry (e.g. healt devices) it could be problematic. "
      }
    ]
  },
  {
    "number": 10892,
    "title": "Can we change event queue type on existing instance?",
    "created_at": "2024-05-30T09:47:53Z",
    "closed_at": "2024-06-06T09:05:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10892",
    "body": "**Component**\r\n * Installation\r\n\r\n**Description**\r\nCurrently we have 3.6.2PE version with Cassandra and Amazon SQS, but SQS cost is a bit too much for what it delivers.\r\ncan we change to use in-memory event queue? Is it a matter of just changing TB_QUEUE_TYPE environment variable?\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.05\r\n * ThingsBoard: 3.6.2 PE\r\n * Cassandra\r\n * Amazon SQS\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10892/comments",
    "author": "alenas",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2024-06-03T08:45:21Z",
        "body": "hi!\r\n\r\nyes, you can change queue type and restart TB in order to apply config.\r\nnote that you will lost all unprocessed messages that were (at the time) still in your SQS queue.\r\n\r\nalso, in-memory queue will not work if your TB is deployed in microservices mode - in that case, consider using Kafka or Amazon MSK instead"
      }
    ]
  },
  {
    "number": 10873,
    "title": "How to change entity alias through action button?",
    "created_at": "2024-05-26T19:32:41Z",
    "closed_at": "2024-06-04T15:16:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10873",
    "body": "Hello.\r\nI have two types of devices in the dashboard that I am showing on the map.\r\nI have defined three types of entity aliases, one of which displays all devices, one of which is device type 1, and another device of type 2.\r\nHow can I switch between displaying device type 1, type 2 and all devices through the action key?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10873/comments",
    "author": "m3relec",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-05-27T06:11:24Z",
        "body": "As I know it is impossible, so one possible solution is to use alias for all devices and filter to dynamically switching between device type combinations"
      },
      {
        "user": "m3relec",
        "created_at": "2024-05-28T07:27:00Z",
        "body": "thanks @devaskim \r\nI added the filters I needed.\r\nIs it not possible to change the filter through custom action?\r\n "
      },
      {
        "user": "devaskim",
        "created_at": "2024-05-28T09:14:50Z",
        "body": "Possible. Look at\r\n```\r\n// 1. To get all filters and find that you need\r\nconst filters = widgetContext.aliasController.getFilters();\r\n// 2. Update the filter\r\n\r\n// 3. Save the filter\r\nwidgetContext.aliasController.updateUserFilter(filter);\r\n```"
      },
      {
        "user": "m3relec",
        "created_at": "2024-05-28T10:52:33Z",
        "body": "thanks @devaskim \r\nI executed these commands and saw the output in the console log.\r\nBut I don't know how to use them?\r\nHow should I use one of the filters arrays?\r\nI had another question outside of this discussion:\r\nin row style function how to access time series and attribute?"
      },
      {
        "user": "devaskim",
        "created_at": "2024-05-28T11:37:27Z",
        "body": "> How should I use one of the filters arrays?\r\n\r\nYou are on the right way by using `console.log(yourFilterObject)`. The filter has complicated structure, so you need to dive to its  deep and find `keyFilterPredicate` and its `predicates` and then update `value.userValue` of those `predicates`\r\n\r\n> in row style function how to access time series and attribute?\r\n\r\nIf you are about Entity Table widget, row style function has `entity` parameter. There you can find all data keys that are used in the widget."
      },
      {
        "user": "m3relec",
        "created_at": "2024-05-28T12:10:38Z",
        "body": "> You are on the right way by using `console.log(yourFilterObject)`. The filter has complicated structure, so you need to dive to its deep and find `keyFilterPredicate` and its `predicates` and then update `value.userValue` of those `predicates`\r\n\r\nthanks a lot. I will try to do it.\r\n\r\n\r\n\r\n> If you are about Entity Table widget, row style function has `entity` parameter. There you can find all data keys that are used in the widget.\r\n\r\nYes, for example, how should I write to check the active?\r\nOr, a variable that is a time series."
      },
      {
        "user": "devaskim",
        "created_at": "2024-05-28T12:19:03Z",
        "body": "> how should I write to check the active?\r\n```\r\nreturn { \"backgroundColor\": entity['active'] === 'true' ? 'green' : 'grey' }; // where 'active' is data key LABEL\r\n```"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-06-04T15:16:01Z",
        "body": "10q @devaskim\r\n"
      }
    ]
  },
  {
    "number": 10865,
    "title": "Cannot connect to hivemq broker with certificates",
    "created_at": "2024-05-24T10:59:51Z",
    "closed_at": "2024-10-03T12:05:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10865",
    "body": "Hello together,\r\n\r\ni'm using Thingsboard Cloud. \r\nI want to connect my thingsboard to my hivemq cloud broker. The broker using certificates for authentication. \r\nBut i cannot connect to the broker. \r\nI can find only this error message:\r\n\r\n`java.lang.RuntimeException: Failed to connect to MQTT broker at dehnvironment-hs7wis.a01.euc1.aws.hivemq.cloud:8883.\r\n\tat org.thingsboard.integration.mqtt.AbstractMqttIntegration.initClient(AbstractMqttIntegration.java:266)\r\n\tat org.thingsboard.integration.mqtt.basic.BasicMqttIntegration.init(BasicMqttIntegration.java:91)\r\n\tat org.thingsboard.integration.mqtt.AbstractMqttIntegration.update(AbstractMqttIntegration.java:113)\r\n\tat org.thingsboard.server.service.integration.DefaultIntegrationManagerService.processUpdateEvent(DefaultIntegrationManagerService.java:633)\r\n\tat org.thingsboard.server.service.integration.DefaultIntegrationManagerService.update(DefaultIntegrationManagerService.java:578)\r\n\tat org.thingsboard.server.service.integration.DefaultIntegrationManagerService.tryUpdate(DefaultIntegrationManagerService.java:544)\r\n\tat org.thingsboard.server.service.integration.DefaultIntegrationManagerService.lambda$scheduleIntegrationEvent$12(DefaultIntegrationManagerService.java:718)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n`\r\n\r\nI'm using the MQTT integration to etablish a connection. The integration is set up with the Authentication type PEM and the certificates are working. I tested it with a script that uses this certificates. \r\n\r\nThanks for your help ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10865/comments",
    "author": "bodev1406",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2024-10-03T12:05:34Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\nPlease re-create the fresh ticket if this problem still exists."
      }
    ]
  },
  {
    "number": 10823,
    "title": "kafka always error",
    "created_at": "2024-05-19T14:19:09Z",
    "closed_at": "2024-11-22T15:03:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10823",
    "body": "I use Kafka as my message queue, and after the service runs for a period of time, the tb_core service often encounters exceptions.\r\nI have adjusted the parameters of the following two kafka, but it did not work.\r\n\r\nIn kafka.yml:\r\nKAFKA_MESSAGE_MAX_BYTES: 33554432\r\nIn queue-kafka.env:\r\nTB_KAFKA_MAX_REQUEST_SIZE=33554432\r\n\r\nHowever, the following errors still occur:\r\n2024-05-16+13:25:23.043 [kafka-coordinator-heartbeat-thread | tb-core-node] ERROR org.apache.kafka.common.network.NetworkReceive - Allocating buffer of size 26211464 for source 2\r\n2024-05-16+13:25:23.043 [kafka-coordinator-heartbeat-thread | tb-core-node] ERROR org.apache.kafka.common.network.NetworkReceive - Stack Trace: java.base/java.lang.Thread.getStackTrace(Thread.java:1602)|org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:125)|org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)|org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)|org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)|org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)|org.apache.kafka.common.network.Selector.poll(Selector.java:481)|org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)|org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)|org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.pollNoWakeup(ConsumerNetworkClient.java:306)|org.apache.kafka.clients.consumer.internals.AbstractCoordinator$HeartbeatThread.run(AbstractCoordinator.java:1433)\r\n\r\nSome error log from zookeeper, ip 192.168.32.1 looks like gateway ip of tb core and tb rule engine:\r\n2024-05-16 14:22:43,194 [myid:1] - INFO [NIOWorkerThread-16:ZooKeeperServer@1047] - Refusing session request for client /192.168.32.1:52408 as it has seen zxid 0x189c0000179f our last zxid is 0xc00000634 client must try another server\r\n2024-05-16 14:22:43,352 [myid:1] - INFO [NIOWorkerThread-29:ZooKeeperServer@1047] - Refusing session request for client /192.168.32.1:38874 as it has seen zxid 0x189d00000001 our last zxid is 0xc00000634 client must try another server\r\n2024-05-16 14:22:43,502 [myid:1] - INFO [NIOWorkerThread-11:ZooKeeperServer@1047] - Refusing session request for client /192.168.32.1:38876 as it has seen zxid 0x189d00000001 our last zxid is 0xc00000634 client must try another server\r\n2024-05-16 14:22:43,518 [myid:1] - INFO [NIOWorkerThread-32:ZooKeeperServer@1047] - Refusing session request for client /192.168.32.1:46678 as it has seen zxid 0x189d00000003 our last zxid is 0xc00000634 client must try another server\r\n2024-05-16 14:22:43,791 [myid:1] - INFO [NIOWorkerThread-13:ZooKeeperServer@1047] - Refusing session request for client /192.168.32.1:51388 as it has seen zxid 0x189c0000179f our last zxid is 0xc00000634 client must try another server\r\n2024-05-16 14:22:43,893 [myid:1] - INFO [NIOWorkerThread-3:ZooKeeperServer@1047] - Refusing session request for client /192.168.32.1:46682 as it has seen zxid 0x189d00000003 our last zxid is 0xc00000634 client must try another server",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10823/comments",
    "author": "xiddjp",
    "comments": [
      {
        "user": "ViacheslavKlimov",
        "created_at": "2024-05-20T14:04:21Z",
        "body": "These logs are only indicating that the size of the records returned from single poll, exceeds certain threshold. \r\nThe level of the logs should be \"WARN\", as there is no error happening and the messages are processed anyway.\r\nHowever, consider decreasing TB_QUEUE_KAFKA_MAX_POLL_RECORDS, to avoid getting too big results from poll."
      },
      {
        "user": "xiddjp",
        "created_at": "2024-05-22T00:48:07Z",
        "body": "However, if such error log appears, the data update on the page will be delayed."
      },
      {
        "user": "xiddjp",
        "created_at": "2024-05-22T01:05:06Z",
        "body": "@ViacheslavKlimov  Can i increase the value of TB_LOG_REQUESTED_BUFFER_SIZE in NetworkReceive.java ?"
      },
      {
        "user": "ViacheslavKlimov",
        "created_at": "2024-05-22T08:25:48Z",
        "body": "This only increases the threshold for this log to appear. \r\nBetter adjust TB_QUEUE_KAFKA_MAX_POLL_RECORDS, for example set to 500."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-11-22T15:03:48Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 10788,
    "title": "How to read response from \"sendTwoWayRpcCommand(entityId,requestBody)\"",
    "created_at": "2024-05-14T10:52:34Z",
    "closed_at": "2024-05-14T13:40:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10788",
    "body": "Hello dears,\r\n\r\ni have a problem for reading response in method in \"sendTwoWayRpcCommand(entityId,requestBody)\" in  \"Latest Value\" type widgets.\r\nI want to press a button, wait for the device to response and display the data returned from the device in the widget.\r\n\r\nIs there a way to solve this specification?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10788/comments",
    "author": "hl1369",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-05-14T13:15:22Z",
        "body": "```\r\nsendTwoWayRpcCommand(...).subscribe(\r\n    response => {\r\n        console.log('Response', response);\r\n    },\r\n    error => console.error('Error', error );\r\n);\r\n```"
      },
      {
        "user": "hl1369",
        "created_at": "2024-05-14T13:39:52Z",
        "body": "> ```\r\n> sendTwoWayRpcCommand(...).subscribe(\r\n>     response => {\r\n>         console.log('Response', response);\r\n>     },\r\n>     error => console.error('Error', error );\r\n> );\r\n> ```\r\n\r\nThank you @devaskim i change to this model and work well:\r\ndeviceService.sendTwoWayRpcCommand(entityId,requestBody)\r\n                            .subscribe(\r\n                        function success(response) {\r\n                            console.log(\"send Set ok\");\r\n                            console.log(\"Response payload:\", response); \r\n                        },\r\n                        function fail(rejection) {\r\n                            console.log(\"timeout detect Set\");  \r\n                        }\r\n                    );"
      },
      {
        "user": "hl1369",
        "created_at": "2024-05-14T13:40:26Z",
        "body": "completed"
      }
    ]
  },
  {
    "number": 10771,
    "title": "Reset user password from sysadmin",
    "created_at": "2024-05-13T08:28:00Z",
    "closed_at": "2024-05-14T12:24:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10771",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nI would like to be able to change or reset a user's password from the SYS_ADMIN role, without needing to know the user's password. I don't want the user to click the \"I forgot my password\" button, I want to manually reset the password.\r\n\r\nThank you very much in advance\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10771/comments",
    "author": "Borch97",
    "comments": [
      {
        "user": "epalchenko",
        "created_at": "2024-05-14T12:24:25Z",
        "body": "Hello @Borch97 \r\n\r\nIn case the password to the System Admin account was lost, you can restore it to the default - sysadmin\r\nTo do so, you need to go to your PSQL console:\r\n\r\n`psql -U postgres -h localhost -d thingsboard`\r\nAnd run this query:\r\n`update user_credentials SET password = '$2a$10$YMyxoU0hMOLmd9D7tz/dQeDY3fkXRAv8C023F6hzx2gVB9dTBUpq6' WHERE user_id=(select id from tb_user where authority = 'SYS_ADMIN');`"
      }
    ]
  },
  {
    "number": 10770,
    "title": "[Question] Different Database for different isolated environment in PE.",
    "created_at": "2024-05-13T06:36:18Z",
    "closed_at": "2024-05-21T13:02:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10770",
    "body": "Is there any way possible in which i can give a different database url for different isolated environment or different tenants. I want to use different database for different tenant admins.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10770/comments",
    "author": "ronit18",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-13T14:01:47Z",
        "body": "Hello @ronit18,\r\nNo, you can only use one database in real-time.\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T13:02:37Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 10708,
    "title": "Devices by oauth2 token",
    "created_at": "2024-05-03T13:44:43Z",
    "closed_at": "2024-09-26T15:32:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10708",
    "body": "Is it possible to somehow get a list of user devices through the API with only a jwt oauth2 token? In short, I have a system of 3 services, one of which is ThingsBoard. The first service is authorized through Keycloak, receives a jwt token and goes to the second. The second one wants to use this token to log in to ThingsBoard via Keycloak and get a list of user devices that are authorized by the same Keycloak account in ThingsBoard. How can this be done better? So far, I haven’t come up with anything smarter than writing a separate controller that accepts a token, decodes it, collects an OAuth2AuthenticationToken from it, and only through it receives the user and his devices.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10708/comments",
    "author": "Nypiaka",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-09-26T15:32:22Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 10667,
    "title": "How to add a new topic subscription using MQTT in thingsboard ",
    "created_at": "2024-04-29T10:57:34Z",
    "closed_at": "2024-04-30T17:02:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10667",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI have a question and I need some support. I am developing a project in which we have connected a certain device to thingsboard through a MQTT basic connection. As far as i know, for data visualization within thingsboard, MQTT devices should publish in topic v1/devices/me/telemetry. However, my device is publishing this data in v1/devices/me/telemetry/Devices and I can not access the data in thingsboard. Is there any way to subscribe to new topics in thingsboard? Actually I am publishing data in several topics and it would be so helpful to know how to subscribe to different topics within thingsboard\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: Community Edition\r\n * Browser: Firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10667/comments",
    "author": "alersi9",
    "comments": [
      {
        "user": "alersi9",
        "created_at": "2024-04-30T17:02:41Z",
        "body": "Solved!"
      },
      {
        "user": "ca6aqa",
        "created_at": "2024-05-18T23:38:47Z",
        "body": "How did you solve this problem?"
      }
    ]
  },
  {
    "number": 10656,
    "title": "Showing dashboard creation Time in home dahboard widgets",
    "created_at": "2024-04-27T05:42:31Z",
    "closed_at": "2024-05-03T04:53:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10656",
    "body": "Hey, I tried to create a new widget that would show the dashboard. creation time in the home dashboard\r\n   \r\n    So I did these things and get something interesting \r\n\r\n1) I fetched 2 API's \r\na) The authentication API: I fetched this API and get a token and a reference token. (but the user's email and password are hard-coded.)\r\nb) The Dashboard Info API: Again, I fetched this API using the above token, and I would access all the Dashboard Info. I got dashboard creation time, and I created a feature that showed the users total days from dashboard creation day.     \r\n      \r\nSo I did those tasks, but the problem is that user credentials are hard-coded, so how can I get a token from local storage? \r\n\r\n\r\nPlease help me to solve this problem  \r\n\r\n  ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10656/comments",
    "author": "sushil2817",
    "comments": [
      {
        "user": "Philip2809",
        "created_at": "2024-04-27T09:00:29Z",
        "body": "you can ask for the dashboard info directly, either via the service in self.ctx.dashboardService.getDashboardInfo() it calls `/api/dashboard/info/${dashboardId}`, check `dashboard.service.ts` for more. This automatically authenticates with logged in user. \r\n\r\nOtherwise you can use localStorage.jwt_token."
      },
      {
        "user": "sushil2817",
        "created_at": "2024-04-27T10:35:01Z",
        "body": "> you can ask for the dashboard info directly, either via the service in self.ctx.dashboardService.getDashboardInfo() it calls `/api/dashboard/info/${dashboardId}`, check `dashboard.service.ts` for more. This automatically authenticates with logged in user.\r\n> \r\n> Otherwise you can use localStorage.jwt_token.\r\n\r\nCould you please elaborate this? "
      },
      {
        "user": "Philip2809",
        "created_at": "2024-04-27T20:33:48Z",
        "body": "in your widget code:\r\n`self.ctx.dashboardService.getDashboardInfo(location.pathname.split('/')[2]).subscribe(d => console.log(d.createdTime))`\r\n\r\nThis gets the current dashboardid based on the url and console logs the createdTime"
      },
      {
        "user": "sushil2817",
        "created_at": "2024-04-29T05:12:36Z",
        "body": "> self.ctx.dashboardService.getDashboardInfo(location.pathname.split('/')[2]).subscribe(d => console.log(d.createdTime))\r\n\r\nThis snippet of code is giving an error: \"Cannot read properties of undefined (reading 'dashboardService')\" how can I deal with this kind of code?... I think the problem is in subscribe method "
      },
      {
        "user": "sushil2817",
        "created_at": "2024-05-03T04:55:22Z",
        "body": "I Solved this problem using localStorage token, then fetched the API and got my results."
      }
    ]
  },
  {
    "number": 10647,
    "title": "Cannot Cancel ScheduledFuture task after configuration of custom node was updated",
    "created_at": "2024-04-26T13:53:25Z",
    "closed_at": "2024-05-01T11:52:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10647",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\n  We have code of configurable custom node where init() function creates scheduledFuture task to call some action after configured time (for example 24 hours).\r\nAs you can see code checks that if is previous scheduledFuture task is undone - if so, we cancel it and create another.\r\nSo if configuration changed in range to 24 hours after last configuration update - init() function executed repeatedly. This mean the previous task should be canceled, and previous scheduled task should not be called.\r\nBut it is not working. After each configuration update (within 24 hours) state of scheduledFuture still null and previous task will also be invoked, and not cancelled at all.\r\n\r\nAny suggestions please how to fix it? How can we cancel scheduled task if configuration of node was updated before scheduled task is done?\r\nThanks\r\n\r\nHere is code\r\n`   \r\n\r\n    private ScheduledExecutorService scheduledExecutor;\r\n    private ScheduledFuture<?> scheduledFuture;\r\n    private TbVixCalculateAvailabilityNodeConfiguration config;\r\n\r\n    @Override\r\n    public void init(TbContext ctx, TbNodeConfiguration configuration) throws TbNodeException {\r\n        this.config = TbNodeUtils.convert(configuration, TbRaiseScheduledEventNodeConfiguration.class);\r\n        this.scheduledExecutor = Executors.newSingleThreadScheduledExecutor();\r\n\r\n        if (scheduledFuture != null && !scheduledFuture.isDone()) {\r\n        // If there is a scheduled task running, cancel it\r\n           scheduledFuture.cancel(true);\r\n        }\r\n\r\n        scheduledFuture = scheduledExecutor.schedule(() -> doSomething(ctx), 86400, TimeUnit.MILLISECONDS);\r\n    }\r\n`\r\n  \r\n**Environment**\r\n * OS:  Ubuntu\r\n * ThingsBoard: V3.6.1\r\n * Language: Java\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10647/comments",
    "author": "EKalynych",
    "comments": [
      {
        "user": "ViacheslavKlimov",
        "created_at": "2024-04-26T15:41:07Z",
        "body": "New node instance is created after updating its configuration, and the old one is destroyed. \r\nIn order to cancel the previous scheduled task, you need to do that in the `destroy` method."
      },
      {
        "user": "EKalynych",
        "created_at": "2024-04-30T15:15:04Z",
        "body": "> New node instance is created after updating its configuration, and the old one is destroyed. In order to cancel the previous scheduled task, you need to do that in the `destroy` method.\r\n\r\nIt works. \r\nThank you Viacheslav."
      },
      {
        "user": "zacyang",
        "created_at": "2024-06-12T08:08:02Z",
        "body": "where is this `destroy` method?"
      }
    ]
  },
  {
    "number": 10614,
    "title": "I need to create a filter on my dashboard",
    "created_at": "2024-04-22T17:50:54Z",
    "closed_at": "2024-05-29T13:00:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10614",
    "body": "Hello! I'm new on ThingsBoard and I need some help!\r\n\r\nMy boss and I have an idea to create a filter on the main state of my dashboard (there's only an entity table).\r\nUnfortunately, we don't know how to do that. I want to filter by the following \"organization\": client (only the devices from that selected client appear), status (online, offline), and to appear ALL the devices, with no filter. If anyone knows how to create this, I'll be grateful for the help (:\r\n\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10614/comments",
    "author": "kurch00",
    "comments": [
      {
        "user": "liotys",
        "created_at": "2024-04-23T07:11:48Z",
        "body": "Hi, the best way is to use an Update Multiple Attributes widget based on CurrentUser alias. \r\nAfter you can use the current user attributes in filters using dynamic values.\r\nWhat will be not easy is to filter on customer. For my part I've copied customer name in an attribute using a rule chain. If anyone has something better, I'm interested.\r\nTo have dynamic lists of criteria see #9531 ."
      },
      {
        "user": "kurch00",
        "created_at": "2024-04-23T13:02:02Z",
        "body": "ok!! thank you"
      },
      {
        "user": "epalchenko",
        "created_at": "2024-05-29T13:00:07Z",
        "body": "Hello,\r\nI have closed this ticket as resolved. If this issue is still relevant to you, feel free to open a new ticket with a full description of your request."
      }
    ]
  },
  {
    "number": 10560,
    "title": "How to change Entity aliases with custom action",
    "created_at": "2024-04-12T15:15:37Z",
    "closed_at": "2024-06-11T14:05:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10560",
    "body": "Hello\r\nI have two categories of active and inactive devices.\r\nI have defined two types of entity aliases active or inactive devices.\r\nI want to choose which  entity aliases to display through custom action.\r\nHow can I do this?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10560/comments",
    "author": "m3relec",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-05-31T14:31:10Z",
        "body": "Hello @m3relec,\r\n\r\nI recommend that you develop your solution using dashboard states with Markdown/HTML card widgets showing active devices in one state and inactive devices in the other. \r\n\r\nThe Smart Retail Solution template partially consists of the Markdown/HTML card widgets. The suggested widget customization and usage in the 'Smart retail' solution template can serve as an example for you to learn and use."
      }
    ]
  },
  {
    "number": 10506,
    "title": "Resetting a timeseries value periodically",
    "created_at": "2024-04-05T06:28:52Z",
    "closed_at": "2024-04-23T08:16:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10506",
    "body": " * Rule Engine\r\n\r\n**Description**\r\nWhat I'm trying to do is to calculate the working hours of my machine. I do this by substracting the old timestamp from the new one and adding the difference to another value. I also put a check so that when the device stops working the time between does not count.\r\n\r\nBut when I wamt to show on a graph daily working hours, what I came up with is getting all the data from a certain interval, divide them into groups and substract the first value from the last. While this works, the calculation time increases with the amount of data.\r\n\r\nOne of the solutions I came up with is to keep to total amount of working hours as a attribute and reset the daily working hour at midnight. This way when I want to show the daily values I can aggregate the data to show only the MAX value.\r\n\r\nSo how can I reset the value at midnight? \r\n\r\n**Environment**\r\n * ThingsBoard: 3.6.2\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10506/comments",
    "author": "inanlia",
    "comments": [
      {
        "user": "inanlia",
        "created_at": "2024-04-05T06:43:00Z",
        "body": "I believe one way of doing this using Generator Code. \r\nI would have to add it at the midnight give it 86.400 seconds as a period. \r\nI'm still open to suggestions.\r\n\r\nI also tried to get the MIN and MAX values for each day but to do that I had to use custom subscription.\r\nMy problem was here #10496. \r\nAggregation kept defaulting to AVG and I also found out that when data is updated the widget used 90% of the cpu so that is not a good way of doing this."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-04-22T13:16:31Z",
        "body": "Hi\r\nYou can use scheduler instead of generator, so it will update attribute that will trigger necessary rule chain.\r\nIf I understand your request correctly, then there is no standard solution to “reset” aggregation in aggregate stream rule node, so it will delete already aggregated value (250 for example) and start it over (from 0)\r\nWorkarounds:\r\n1. Delete all related data - aggregated keys, persistence (RuleNodeState_ID) and it’s telemetry data\r\n2. Recreate aggregate stream rule node(s)"
      },
      {
        "user": "inanlia",
        "created_at": "2024-04-23T08:16:42Z",
        "body": "Hi,\r\n\r\nThe generator node did not work correctly. I added it near midnight hoping that it would work every night to add a single 0 value to database so that my calculations would work correctly. Unfortunately the generator node started to create a 0 value at 10 am.\r\n\r\nInstead of creating a new 0 value, this time while getting previous value, I also added the value's timestamp into the data. This way I could compare the new data ts and old data ts and if they are different days I started to count from zero."
      }
    ]
  },
  {
    "number": 10487,
    "title": "\"Things Board Live\" error. Maybe the cloud is not working.",
    "created_at": "2024-04-03T07:11:49Z",
    "closed_at": "2024-05-07T11:55:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10487",
    "body": "I installed \"Things Board Live\" from Google Play.\r\nWhen I run it, I get \"No dashboards founds\" and the same error with device and assert.\r\nI think the demo system cloud is not working.\r\n\r\nand,\r\nI was able to log in with my GitHub account, but if I signed up with my email address, the activation link sent to my email does not seem to be working.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10487/comments",
    "author": "h-takado",
    "comments": [
      {
        "user": "epalchenko",
        "created_at": "2024-05-07T11:55:17Z",
        "body": "Hello @h-takado ,\r\nWe were unable to reproduce this issue during testing. Please reopen this ticket if you still have this issue with additional details"
      },
      {
        "user": "h-takado",
        "created_at": "2024-05-07T12:05:17Z",
        "body": "I tried it and it seems to work now."
      }
    ]
  },
  {
    "number": 10476,
    "title": "How can I bulk delete alarms of an asset?",
    "created_at": "2024-03-30T19:57:39Z",
    "closed_at": "2024-04-19T12:47:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10476",
    "body": "I have thousands of alarms associated with an asset that I need to delete. \r\nHow can I do that? \r\nI cannot delete the asset and create it again, I need to keep it.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10476/comments",
    "author": "gcorthey",
    "comments": [
      {
        "user": "ViacheslavKlimov",
        "created_at": "2024-04-09T11:13:00Z",
        "body": "Either create a script that will via REST select all asset's alarms and then delete them one by one, \r\nor do this through the database:\r\n`DELETE FROM alarm WHERE originator_id = YOUR_ASSET_ID`"
      }
    ]
  },
  {
    "number": 10467,
    "title": "Alarms Chart?",
    "created_at": "2024-03-28T19:33:18Z",
    "closed_at": "2024-05-01T13:53:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10467",
    "body": "Is there a chart that can be used to show how many alarms were each day according to its type? It is a valuable information to analyze the system, and see decreasing number of alarms over time\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10467/comments",
    "author": "avipala",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-04-01T14:10:55Z",
        "body": "Hi\r\nThere is no such widget. You can use some workaround, so your rule chain will record some timeseries/attribute value in specified entity after alarm creation, and then it will be displayed on the available chart widget in aggregated format. "
      }
    ]
  },
  {
    "number": 10421,
    "title": "ReferenceError: \"btoa\" is not defined at line number X",
    "created_at": "2024-03-22T14:20:12Z",
    "closed_at": "2024-04-19T06:40:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10421",
    "body": "Hi Thingsboard Team,\r\n\r\nI hope you can assist me with my issue. I'm encountering a problem while attempting to use the btoa() function in a script Rule within Thingsboard PE on Ubuntu. Specifically, I'm receiving the following error message:\r\n\r\n```\r\norg.thingsboard.script.api.TbScriptException: javax.script.ScriptException: ReferenceError: \"btoa\" is not defined at line number X\r\n```\r\nThis situation is puzzling to me because everything worked fine on the development version installed in Docker. It's possible that I overlooked something, but it appears to me that this could be a service error.\r\n\r\nI would greatly appreciate your response.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10421/comments",
    "author": "hophead12",
    "comments": [
      {
        "user": "liotys",
        "created_at": "2024-03-26T14:37:25Z",
        "body": "Hi,\r\nyou have to use TBEL instead of Javascript to use btoa.\r\n"
      }
    ]
  },
  {
    "number": 10411,
    "title": "Allowing White-Labeling Across Customer Hierarchy with Sub-Customers",
    "created_at": "2024-03-21T12:50:53Z",
    "closed_at": "2024-07-09T14:22:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10411",
    "body": "**Component**\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Generic\r\n\r\n**Description**\r\nThe white labeling permission function only works at the first customer level. If you enable the option for the first customer below the tenant level, all other customers below this level also have the option to configure their page. Disabling the function then no longer works at the second customer level. Thingsboard always takes the configuration of the first customer level and does not accept any changes elsewhere.\r\nLikewise - it makes more or less sense, or the case is unlikely, but still possible - you cannot give the customer on the second level approval if the customer on the first level does not have this approval.\r\n\r\nIs this a bug or is it intentionally implemented this way?\r\n\r\nTranslated with DeepL.com (free version)\r\n**Environment**\r\n * ThingsBoard: 3.6.3 PE\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10411/comments",
    "author": "mde2017",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-07-09T14:22:06Z",
        "body": "Hello @mde2017,\r\n\r\nThis behavior is intentionally implemented this way."
      }
    ]
  },
  {
    "number": 10392,
    "title": "Sometimes missing telemetry, just sometimes",
    "created_at": "2024-03-19T09:07:11Z",
    "closed_at": "2024-05-15T13:01:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10392",
    "body": "Hi. I have a script and ı created a new data in here. In rule chain ım colleting these telemetry with originator telemetry. Its working but sometimes doenst take the telemetry which is ı calculated and created telemetry not ı senden from sensors. Im taking some datas from sensors and calculate an then created a new output value. And ı wanna send to dashboard. Now its working without problem. But sometimes ruleChain doesnt take this my telemetry. When everything is normal working why sometimes doesnt take my telemetrys ı dont get it. Any comment? Thank you.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10392/comments",
    "author": "ghost",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2024-05-02T12:32:31Z",
        "body": "Hi!\r\n\r\nYou should try checking the following:\r\n- thingsboard.log for any errors/warning when an issue is relevant\r\n- \"API Usage\" -> \"Rule Engine\" -> \" :chart_with_upwards_trend: \" on Tenant Admin if there are any exceptions/failures present\r\n- Rule Node Debug Events (with debug mode enabled)"
      }
    ]
  },
  {
    "number": 10372,
    "title": "How to mqtt device provisioning is gateway?",
    "created_at": "2024-03-14T16:58:00Z",
    "closed_at": "2024-08-05T10:20:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10372",
    "body": "Device Provisioning\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI working about ESP32 for gateway.\r\nI know how to provisioning device.\r\nBut, How to provisioning device is gateway ?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10372/comments",
    "author": "sirapol",
    "comments": [
      {
        "user": "myroslav-tb",
        "created_at": "2024-06-13T13:12:53Z",
        "body": "Hi @sirapol, there is no option to provision the device as a gateway. I have created a feature request for our prod team. Once they review it, we’ll post an update on when this feature could be delivered if they decide to add it to the product.\r\n\r\nBest regards,\r\nMyrosalv"
      },
      {
        "user": "myroslav-tb",
        "created_at": "2024-08-05T10:20:59Z",
        "body": "Hi @sirapol, our team is planning to add this feature in version 3.7.1."
      }
    ]
  },
  {
    "number": 10367,
    "title": "how to query entity with attribute not exist ?",
    "created_at": "2024-03-13T18:51:59Z",
    "closed_at": "2024-06-18T14:03:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10367",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI want to query some Staff which is an asset and  has attribute cardId in SERVER_SCOPE. But if a Staff is create, the attribute is not exist. \r\nWhen i query staffs which are not assign to any card, i don't know how to set the KeyFilter.\r\nThe StringFilterPredicate only works for nonNull value.\r\n I tried this:\r\n\r\n```java\r\nStringFilterPredicate.StringOperation operation = bingCard\r\n                            ? StringFilterPredicate.StringOperation.CONTAINS\r\n                            : StringFilterPredicate.StringOperation.NOT_CONTAINS;\r\n            KeyFilter keyFilter = new KeyFilter();\r\n            keyFilter.setKey(new EntityKey(EntityKeyType.ATTRIBUTE, \"cardId\"));\r\n            keyFilter.setValueType(EntityKeyValueType.STRING);\r\n\r\n            StringFilterPredicate predicate = new StringFilterPredicate();\r\n            predicate.setOperation(operation);\r\n            predicate.setValue(new FilterPredicateValue<>(\"-\")); //uuid中有-\r\n            keyFilter.setPredicate(predicate);\r\n\r\n            keyFilters.add(keyFilter);\r\n```\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  macos and linux\r\n * ThingsBoard: 3.4.2\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10367/comments",
    "author": "lincoln310",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-03-14T11:28:39Z",
        "body": "It is not what you actually asked, but I solved this case with catching ENTITY_CREATED event in rule chains and setting needed (server) attributes with some default values to those newly created entities."
      },
      {
        "user": "lincoln310",
        "created_at": "2024-03-15T08:23:22Z",
        "body": "> It is not what you actually asked, but I solved this case with catching ENTITY_CREATED event in rule chains and setting needed (server) attributes with some default values to those newly created entities.\r\n\r\nMe too! "
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-06-18T14:03:17Z",
        "body": "I closed this ticket due to inactivity. If this question is still relevant to you, feel free to open a new ticket with full description of your request"
      }
    ]
  },
  {
    "number": 10359,
    "title": "Is it possible to automatically adjust the scale of the vertical axis of a time series line chart to match the data?",
    "created_at": "2024-03-13T07:54:31Z",
    "closed_at": "2024-05-09T10:17:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10359",
    "body": "Among the Axis items in the Timeseries Line Chart advanced settings, is it possible to have the Minimum value on the scale on the vertical axis change automatically according to the data value without setting it?\r\nFor example, if the minimum data value is 1000, I would like the Minimum value on the scale to be 800, which is below 1000.\r\nI have a purpose of wanting to see the graph in a larger size.\r\nPlease help, I would appreciate it.\r\n\r\nI am using thingsboard cloud.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10359/comments",
    "author": "YS-HARM",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-02T10:51:52Z",
        "body": "Hi\r\nThere is no such possibility of setting up dynamic change for min or max value on Axises. The only way is to left them in Auto mode. \r\nOr, you can create your own custom widget which will meet all desired requirements."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-09T10:17:41Z",
        "body": "I close this ticket due to inactivity. Feel free to comment on it, and I will re-open it."
      }
    ]
  },
  {
    "number": 10353,
    "title": "How to use Previously data",
    "created_at": "2024-03-12T12:54:55Z",
    "closed_at": "2024-10-03T12:12:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10353",
    "body": "I have a data which is ı collected from sensors. I wanna calculate like this: I'll take this depth data, and then ı'll wait for a 30 seconds (problem starts here) ı write this code:\r\n\r\nvar previousShiftDepthProgress = 0;\r\n\r\n  var currentShiftProcess = totalMassDP; \r\n\r\n  var shiftProgress = currentShiftProcess - previousShiftDepthProgress; \r\n\r\n  previousShiftDepthProgress = currentShiftProcess; \r\n  \r\n  \r\n  every 30 seconds ı calculate somethings. But this code doesnt work. Because every -ı set for 30 seconds- shift everthings gets restart and does not store data, so thats why ı couldnt use previously data. I stucked here. What am ı missing? I use a rule chain and this code is in blue script. İs there any way to do this on another rule in the rule chain. Suggestions?\r\n  \r\n  Thanks.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10353/comments",
    "author": "ghost",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-03-13T06:04:50Z",
        "body": "To store data you should do 2 step:\r\n1. Use `Script` node to set data key to `msg`, e.g.\r\n```\r\n// some your code\r\n\r\nvar data = {\r\n    'previousShiftDepthProgress': PUT_THERE_YOUR_VALUE\r\n};\r\n\r\nreturn { msg: data , metadata: metadata, msgType: 'POST_TELEMETRY_REQUEST'};\r\n```\r\n\r\n2. Link the node from previous step with `Save timeseries` node to store data to database."
      },
      {
        "user": "ghost",
        "created_at": "2024-03-13T11:12:12Z",
        "body": "My code is exactly same."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-10-03T12:12:28Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\nPlease re-create the fresh ticket if this problem still exists."
      }
    ]
  },
  {
    "number": 10344,
    "title": "Render dashboard widgets based on asset-device search query results",
    "created_at": "2024-03-11T09:41:07Z",
    "closed_at": "2024-10-03T12:11:50Z",
    "labels": [
      "question",
      "in review"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10344",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nProblem: many customers may have varying amounts of sensors per asset, so their asset dashboard widget configuration differs per use case. However, there is a selected set of possible sensor types. Onboarding new customers and assigning one default dashboard which is able to generate required widgets is favorable.\r\n\r\n**Question**\r\nIs it possible to render widgets dynamically to show/hide based on sensors belonging to an asset (via relations query)?\r\n\r\n**Example use case**\r\n1. A temperature indicator widget (e.g. Value card) is configured but only shows when a device of type \"Thermometer\" belongs to an asset, or a battery indicator widget only shows when a device of type \"Battery sensor\" belongs to an asset.\r\n2. Two temperature sensors belong to an asset, and therefore two temperature indicator widgets are rendered.\r\n\r\n**Possible solution / Feature request**\r\nCreate a widget-container that performs a device search from the asset for a specific device type. Depending on the relation query result it renders 0 to n widgets preconfigured for a device type (e.g. temperature), rendering out the the right device names (or device labels).\r\nThe the widget-container needs to know the device type it will display and its data (e.g. timeseries parameter or device attribute).\r\n\r\n**Workaround / Alternative**\r\nOn each new customer device claim event / asset-device relation update:\r\n1. Programmatically loop over all customers and their asset.\r\n3. Generate a unique key for each configuration of widgets from a asset-device relation query.\r\n4. If the configuration of sensors does not exists → Dynamically generate an new asset dashboard for this configuration.\r\n5. Finally, assign the dashboard to the customer.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.6.2\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10344/comments",
    "author": "sprijk",
    "comments": [
      {
        "user": "sprijk",
        "created_at": "2024-03-11T10:24:38Z",
        "body": "Basically the request is like an Entities table, but it renders Value cards instead of table rows."
      },
      {
        "user": "devaskim",
        "created_at": "2024-03-13T06:34:38Z",
        "body": "Try to use Markdown/HTML widget and its `Use markdown/HTML value` function. There you can re-use `tb-dashboard-state` component to conditionally show/hide dashboard states with type-specific widgets."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-10-03T12:11:50Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 10340,
    "title": "Creating Public Folder for Direct Browser Access",
    "created_at": "2024-03-10T21:17:10Z",
    "closed_at": "2024-05-01T12:45:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10340",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nIs it possible to create a public folder in the ThingsBoard application server and access its contents directly from the browser? For instance, I would like to upload some files to a folder within ThingsBoard and share a public link to access these files. Is there a feature or configuration that supports this use case?\r\n\r\nOr is there a public file where I can host files?\r\n\r\nFor my use case (creating a service worker) I need to the files be accesible in the same port of the app, in my case 443.\r\n\r\n**Environment**\r\n * OS: Ubuntu 20.04\r\n * ThingsBoard: 3.6.2 (build from source)\r\n * Browser: Chrome, Safari, etc.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10340/comments",
    "author": "DanielBustillos",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-01T12:45:51Z",
        "body": "Hello @DanielBustillos \r\nWe don't have this functionality yet, but our customers have made such requests, and we will consider how to implement this in future releases.\r\n"
      },
      {
        "user": "DanielBustillos",
        "created_at": "2024-10-01T20:11:56Z",
        "body": "Thank you"
      }
    ]
  },
  {
    "number": 10338,
    "title": "Custom action to map() all users and get their name?",
    "created_at": "2024-03-10T18:30:34Z",
    "closed_at": "2024-05-01T14:31:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10338",
    "body": "**Component**\r\n\r\n**Custom action to get all users name**\r\n_code_\r\n```\r\nlet $injector = widgetContext.$scope.$injector;\r\nlet userService = $injector.get(widgetContext\r\n.servicesMap.get('userService'));\r\n\r\ngetUser(10, 0)\r\n\r\nfunction getUser(ps, pl) {\r\n\r\n    var usersPageLink = widgetContext.pageLink(ps, pl);\r\n    return userService.getUserUsers(usersPageLink)\r\n        .subscribe(widgetContext.rxjs.map((data) => { \r\n            console.log(\"data :\", data)\r\n        }))\r\n}\r\n```\r\n\r\nnot getting data or list of users\r\n_Getting Error_\r\n```\r\nUnable to lift unknown Observable type\r\n```\r\nPlease let me know what should I do to resolve it or how to rectify my code.\r\nThanks for your attention.\r\n**Description**\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Linux\r\n * ThingsBoard: PE v3.6.2\r\n * Browser: chrome, firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10338/comments",
    "author": "KashifAhmd",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-03-11T08:09:40Z",
        "body": "This is a misuse of RxJs API, i.e. not TB issue\r\n```\r\nwidgetContext.userService.getUsers(usersPageLink).subscribe(\r\n    users => {\r\n        console.log(\"Users\", users );\r\n        // And some other code\r\n    },\r\n    error => console.error('Error', error)\r\n);\r\n```"
      }
    ]
  },
  {
    "number": 10327,
    "title": "Advanced Filter HELP!",
    "created_at": "2024-03-07T16:41:33Z",
    "closed_at": "2024-06-05T15:17:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10327",
    "body": "Hello how are you? I need help. I have a gps map, and I need to make buttons with filters for motorcycles, cars and phones. At the same time I would like to filter by staff, by their names. All of this is visualized within a map. I've been looking at the advanced filters, but they're very basic for what I want to develop. Any ideas that will make the implementation easier?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10327/comments",
    "author": "ezeroldan24",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-05-28T16:04:14Z",
        "body": "Hello @ezeroldan24,\r\n\r\nWe already have an internal prod ticket with a similar issue in our roadmap.\r\nHowever, if you would like to add any additional information, please describe your requirements in more detail. This will help us include all relevant information in the production ticket for our developers.\r\n\r\n"
      }
    ]
  },
  {
    "number": 10317,
    "title": "Open public panel from customer panel and maintain the session",
    "created_at": "2024-03-07T09:50:45Z",
    "closed_at": "2024-05-09T10:18:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10317",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nGood morning,\r\n\r\nI have a panel accessible to a customer, and I want to put a link or an embedded panel to display a public panel of the platform itself. The problem is that when visiting a public panel, I understand that the cookies are changed and when returning to the previous window, it asks to log in again.\r\n\r\nIs there any way I can view a public panel and still maintain the session?\r\n\r\nThank you very much for the help,\r\n\r\nAll the best\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10317/comments",
    "author": "Borch97",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-02T10:54:43Z",
        "body": "Hi\r\nIf your question is still relevant, please describe it in as much detail as possible with screenshots and full steps to reproduce of current behavior"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-09T10:18:18Z",
        "body": "I close this ticket due to inactivity. Feel free to comment on it, and I will re-open it."
      }
    ]
  },
  {
    "number": 10292,
    "title": "Migrate entire Thingsboard installation from Windows to Ubuntu Server",
    "created_at": "2024-03-04T07:57:12Z",
    "closed_at": "2024-03-11T09:58:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10292",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n \r\n**Description**\r\nWe currently have a Thingsboard installation on a Windows machine and we wanted to upgrade it to a new one using Ubuntu server. What are the steps needed to have this working? Because I have seen a couple posts related to this but they were from Windows to Windows or Ubuntu to Ubuntu, but not what we wanted, which is Windows to Ubuntu. So I wanted to ask if there is an specific way to do this migration or any special steps to be taken into consideration.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  W10 Pro\r\n * ThingsBoard: 3.6.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10292/comments",
    "author": "jortega11",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-03-04T15:49:47Z",
        "body": "There is no any specific step: just make database dump, restore it on a new server and run TB."
      }
    ]
  },
  {
    "number": 10270,
    "title": "Decode LoRaWAN payload from multiple device vendors",
    "created_at": "2024-02-26T20:04:40Z",
    "closed_at": "2024-03-11T10:23:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10270",
    "body": "I am running an ThingsBoard Professional Cloud instance. I have a Loriot LoRaWAN network server connected on an integration, with a Data Converter decoding most of the JSON from Loriot, all except the LoRaWAN payload.\r\nIf I had only one LoRaWAN device type I could include the payload decoding in the Data Converter. However, I plan on using a range of different devices, some from different manufacturers. I cannot find a way in the decoder to know what type of device it is for decoding purposes - I cannot simply rely on fPort I don't think, as I'll have a mix of manufacturers devices, all with different approaches to payload encoding.\r\nI cannot find a way to add this information in Loriot either.\r\nIf anyone can suggest how to do this I'd be grateful - it seems to be an obvious requirement, but I cannot find the way to do it.\r\nMany thanks.\r\n\r\nData Converter on the Loriot integration below:\r\n\r\n```\r\nvar data = decodeToJson(payload);\r\nvar deviceName = data.EUI;\r\nvar deviceType = \"LoRaWAN Device\";\r\nvar groupName = \"LoRaWAN Device\";\r\nvar gatewayDeviceType = \"LoRaWAN Gateway\";\r\n\r\n// If you want to parse incoming data somehow, you can add your code to this function.\r\n// input: bytes\r\n// expected output:\r\n//  {\r\n//    \"attributes\": {\"attributeKey\": \"attributeValue\"},\r\n//    \"telemetry\": {\"telemetryKey\": \"telemetryValue\"}\r\n//  }\r\n\r\nfunction decodePayload(input) {\r\n    var output = { attributes: {}, telemetry: {} };\r\n    // --- Decoding code --- //\r\n\r\n    output.telemetry.hexBytes = bytesToHex(input);\r\n\r\n    // --- Decoding code --- //\r\n    return output;\r\n}\r\n\r\nvar telemetry = {};\r\nvar attributes = {};\r\n\r\nvar timestamp = data.ts;\r\n// If we cannot parse timestamp - we will use the current timestamp\r\nif (timestamp == -1) {\r\n    timestamp = Date.now();\r\n}\r\n\r\nvar uplinkDataList = [];\r\n\r\nif (data.cmd == \"rx\") {\r\n    attributes.fPort = data.port;\r\n    attributes.fCnt = data.fcnt;\r\n\r\n    // You can exclude some keys from the result\r\n    var excludeFromAttributesList = [\"data\", \"gws\", \"EUI\", \"ts\", \"cmd\", \"port\", \"seqno\", \"fcnt\", \"toa\", \"ack\", \"bat\", \"snr\", \"rssi\"];\r\n    var excludeFromTelemetryList = [\"gws\", \"EUI\", \"ts\", \"freq\", \"port\", \"data\", \"cmd\", \"dr\", \"offline\", \"toa\", \"seqno\", \"fcnt\"];\r\n\r\n    var telemetryData = toFlatMap(data, excludeFromTelemetryList, false);\r\n    var attributesData = toFlatMap(data, excludeFromAttributesList, false);\r\n\r\n    // Passing incoming bytes to decodePayload function, to get custom decoding\r\n    var customDecoding = decodePayload(hexToBytes(data.data));\r\n\r\n    // Collecting data to result\r\n    if (customDecoding.telemetry.size() > 0) {\r\n        telemetry.putAll(customDecoding.telemetry);\r\n    }\r\n\r\n    if (customDecoding.attributes.size() > 0) {\r\n        attributes.putAll(customDecoding.attributes);\r\n    }\r\n\r\n    telemetry.putAll(telemetryData);\r\n    attributes.putAll(attributesData);\r\n\r\n    var deviceInfo = {\r\n        deviceName: deviceName,\r\n        deviceType: deviceType,\r\n        //  assetName: assetName,\r\n        //  assetType: assetType,\r\n        //  customerName: customerName,\r\n        groupName: groupName,\r\n        attributes: attributes,\r\n        telemetry: {\r\n            ts: timestamp,\r\n            values: telemetry\r\n        }\r\n    };\r\n\r\n    uplinkDataList.add(deviceInfo);\r\n}\r\n\r\nif (data.cmd == \"gw\") {\r\n    foreach(gatewayInfo : data.gws) {\r\n        var gatewayInfoMsg = {\r\n            deviceName: gatewayInfo.gweui,\r\n            deviceType: gatewayDeviceType,\r\n            attributes: {},\r\n            telemetry: {\r\n                \"ts\": gatewayInfo.ts,\r\n                \"values\": toFlatMap(gatewayInfo, [\"ts\", \"time\", \"gweui\", \"rssi\", \"snr\"], false)\r\n            }\r\n        };\r\n        uplinkDataList.add(gatewayInfoMsg);\r\n    }\r\n}\r\n\r\nreturn uplinkDataList;\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10270/comments",
    "author": "steve-wright-001",
    "comments": [
      {
        "user": "AlexDoanTB",
        "created_at": "2024-02-27T15:12:08Z",
        "body": "@steve-wright-001, it seems that you can either convert the data into consumable JSON and further extract/process the data from the raw payload in rule chains or create separate integrations based on device manufacturer or payload type. Developing the complex converter fitting to all is somewhat less scalable and hard to debug.    "
      },
      {
        "user": "steve-wright-001",
        "created_at": "2024-02-27T16:12:20Z",
        "body": "Thanks @AlexDoanTB for your help. I am limited to 5 integrations on my current plan, so I'll look at the rules engine option. I was hoping to avoid this, but I'll get stuck in to understanding it."
      },
      {
        "user": "willjones9",
        "created_at": "2024-03-05T10:30:43Z",
        "body": "@steve-wright-001  The easiest way I've found of doing this is creating device profiles for each device manufacturer, and setting those to use a custom rule chain that includes the implementation specific javascript payload decoder. \r\n\r\nI couldn't figure out how to create separate integrations based upon manufacturer or payload type without using different applications in loriot tied to their own ingress endpoints in thingsboard, which doesn't realistically work at scale. "
      },
      {
        "user": "steve-wright-001",
        "created_at": "2024-03-06T15:37:29Z",
        "body": "Thanks @willjones9, I'll give that a go - sounds like a neat solution. So far I've tried detecting the manufacturer from the start of the DevEUI (i.e. the MAC address block), and then do manufacturer-specific decoding within a if block of the data converter. It's working, but it's a bit cumbersome.\r\n"
      }
    ]
  },
  {
    "number": 10228,
    "title": "User Language API",
    "created_at": "2024-02-19T13:12:44Z",
    "closed_at": "2024-05-02T11:50:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10228",
    "body": "Is thre any api for setting language for user?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10228/comments",
    "author": "suyutinisai",
    "comments": [
      {
        "user": "suyutinisai",
        "created_at": "2024-02-19T13:13:26Z",
        "body": "Or anyway to set language from dashboard?"
      },
      {
        "user": "devaskim",
        "created_at": "2024-02-21T07:44:33Z",
        "body": "You need to update `additionalInfo` field of a user entity. There is language property."
      }
    ]
  },
  {
    "number": 10221,
    "title": "Selective OTA Updates",
    "created_at": "2024-02-19T04:22:19Z",
    "closed_at": "2024-05-28T09:40:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10221",
    "body": "**Component**\r\n * UI\r\n * Generic\r\n\r\n**Description**\r\nI want to understand if there is an way to implement selective OTA updates within ThingsBoard, allowing for targeted deployments. Key functionalities could include device filtering, controlled rollouts, and user-specific options for update scheduling or disabling. \r\nThe aim is to enhance user experience, optimize resource usage, and address compatibility concerns. \r\nLooking forward to discussions on feasibility and potential approaches.\r\n\r\n**Environment**\r\n * OS:  Ubuntu Server 22.04 LTS\r\n * ThingsBoard: 3.6.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10221/comments",
    "author": "Ashxmas",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T15:09:31Z",
        "body": "Hi. Please describe your request in as much detail as possible with a full explanation of the desired functionality"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-28T09:40:01Z",
        "body": "Closed this ticket due to inactivity. If this question is still relevant to you, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 10211,
    "title": "How to use protobuf with CoAP",
    "created_at": "2024-02-16T11:54:49Z",
    "closed_at": "2024-03-01T10:58:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10211",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI would like to know how to use protobuf with CoAP converter. I indicated a protobuf structure in a device type. How TB will know that the the device specified in a field of the protobuf plan should be used to extract the information according to the protobuf structure. Which instructions should I put in the data converter decoder to retrieve the device and throw the decoding?\r\nIs there a documentation describing the use of protobuf with CoAP?\r\nThanks for your answers.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.5.1 PE\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10211/comments",
    "author": "liotys",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-02-27T15:16:38Z",
        "body": "Hi\r\nThere is no possibility of using CoAP integration in combination with the Protobuf payload. \r\nEven more, data is not sent to transport after integration. \r\nThe only solution is to use devices with CoAP + Protobuf transport directly, without integration."
      },
      {
        "user": "liotys",
        "created_at": "2024-03-01T10:58:32Z",
        "body": "Hi @mykhailokornieiev , thanks a lot for your answer. I thought I was going crazy with the empty payload :-) . I guess I will use one device to work like integration using change originator node to the real device wich is mention in a field of the payload. \r\nFor those who want to do tests, do not use the online converter protobufpal.com that  often gives some wrong results that you can't use with TB. Just do a converter  in python. ChatGPT can help you for that :-)."
      }
    ]
  },
  {
    "number": 10192,
    "title": "Cannot delete a device",
    "created_at": "2024-02-14T21:01:58Z",
    "closed_at": "2024-02-19T22:06:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10192",
    "body": "I cannot delete a device, I get the following message with while font and red background \r\n**504 Gateway Time-out\r\nThe server didn't respond in time.**",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10192/comments",
    "author": "gcorthey",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2024-02-15T07:50:14Z",
        "body": "Screenshot? What says the logfile? Some more details. "
      },
      {
        "user": "gcorthey",
        "created_at": "2024-02-15T15:23:18Z",
        "body": "sorry, I couldnt, after some time it eventually got deleted"
      }
    ]
  },
  {
    "number": 10188,
    "title": "\"Action cell button\"  icon should be disabled and enabled depending on the attributes of the current user",
    "created_at": "2024-02-14T14:31:06Z",
    "closed_at": "2024-03-14T12:21:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10188",
    "body": "**Component**\r\n\r\n * UI\r\n\r\n**Description**\r\nI would like to implement that in a widget the \"Action cell button\"\r\n icon should be disabled and enabled depending on the attributes of the current user. So e.g. if the user's isEditor attribute is equal to true, the button should be displayed, otherwise not.\r\nI used the attributeService in \"Show/hide action using function\", but the function returns before the attribute value is realized.\r\nIs there a solution for this?\r\nMy code:\r\n\r\n_let $injector = widgetContext.$scope.$injector;\r\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\r\nlet newEntityId = {\"entityType\": \"USER\", \"id\": widgetContext.currentUser.userId};\r\nlet isEditor;\r\nlet isTenant = widgetContext.currentUser.authority =='TENANT_ADMIN';\r\nfunction getAtt(scope, attrib, callback) {\r\n    attributeService.getEntityAttributes(newEntityId, scope,\r\n        attrib).\r\n    subscribe(\r\n        data => {\r\n            if (data.length > 0) {\r\n                callback(data[0].key === 'editor' && data[0].value === true);\r\n            } else {\r\n                callback(false);\r\n            }\r\n        },\r\n        error => {\r\n            console.log('Error');\r\n            callback(false);\r\n        }\r\n    );\r\n}\r\n\r\nfunction getAttCallback(value) {\r\n    isEditor = value;\r\n}\r\n\r\ngetAtt('SERVER_SCOPE', ['editor'], function(value) {getAttCallback(value);});\r\nconsole.log(isEditor);\r\nreturn (isEditor || isTenant);_\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Linux\r\n * ThingsBoard: 3.6.0\r\n * Browser: Chrome 121.0.6167.161\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10188/comments",
    "author": "gravasz",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-02-15T05:18:09Z",
        "body": "It is because each API call (attribute request) is asynchronous, so it will end up independently of Show/Hide function."
      },
      {
        "user": "gravasz",
        "created_at": "2024-03-14T12:19:20Z",
        "body": "Thank you very much"
      }
    ]
  },
  {
    "number": 10179,
    "title": "[Question] How can I get the last telemetry value before the time window?",
    "created_at": "2024-02-14T08:25:00Z",
    "closed_at": "2024-02-15T11:28:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10179",
    "body": "**Component**\r\n * UI\r\n\r\n**Description**\r\nI am developing a widget to show the time in which an attribute has been in a state, the problem I have is that I need the previous state before the time window to know if there has been any change, how could I get this value?\r\n\r\n**Environment**\r\nOS: Windows 11 Pro 23H2\r\nThingsBoard: 3.6\r\nBrowser: Microsoft Edge 120.0.2210.133\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10179/comments",
    "author": "DavidRuizServinet",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-02-14T09:50:13Z",
        "body": "```\r\nself.ctx.attributeService.getEntityTimeseries(entityId, ['YOUR_ATTRIBUTE_NAME'], startPeriodMs, endPeriodMs).subscribe(\r\n    telemetry => console.log('Telemetry', telemetry),\r\n    error=> console.log('Error', error)\r\n);\r\n```"
      },
      {
        "user": "DavidRuizServinet",
        "created_at": "2024-02-14T09:56:54Z",
        "body": "Hello @devaskim I made a mistake indicating that it was an attribute, actually I am the value that I need to obtain comes in a telemetry, how would it be done for that case?"
      },
      {
        "user": "devaskim",
        "created_at": "2024-02-14T09:59:01Z",
        "body": "I gave your proper code"
      },
      {
        "user": "DavidRuizServinet",
        "created_at": "2024-02-15T11:28:46Z",
        "body": "It finally worked thanks!"
      }
    ]
  },
  {
    "number": 10142,
    "title": "Home dashboard modification",
    "created_at": "2024-02-06T22:20:40Z",
    "closed_at": "2024-07-18T13:06:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10142",
    "body": "**Component**\r\n * UI\r\n\r\n\r\n**Description**\r\nHow can the home dashboard (the one that opens in the Home tab) be edited for all users as it contains references to Thingsboard in the Solution Template section? It needs to be edited globally (not as per a user setting) so no tenant admins can change it back.\r\n\r\n**Environment**\r\n * OS:  Ubuntu\r\n * ThingsBoard: Professional Edition\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10142/comments",
    "author": "mohanadsarhan",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-07-11T14:10:10Z",
        "body": "Hello @mohanadsarhan,\r\n\r\nYou can customize the content displayed on the home page by specifying the desired dashboard as your Home dashboard in the Settings > Home settings tab.\r\n\r\nBy selecting and setting a specific dashboard in this field, that particular dashboard will be presented on the home page upon login. "
      }
    ]
  },
  {
    "number": 10127,
    "title": "[Question]: Using TBEL how to identify if a msg.key is json object or json array",
    "created_at": "2024-02-05T05:59:15Z",
    "closed_at": "2024-05-01T13:17:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10127",
    "body": "**Component**\r\nTBEL\r\n\r\n**Description**\r\nWe are using TBEL for rule node script. One of the keys of the input message may be a json object or json array (of json objects). I want to know how to handle the ambiguity in TBEL. Is there a way to detect if value of certain key is array and handle accordingly.  \r\n\r\n**Environment**\r\nNA\r\n\r\n** Work around **\r\nThe current workaround is to use toString on the value and identify if first char is \"[\" but there needs to be a better way to handle this. ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10127/comments",
    "author": "sudhirbits",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2024-02-05T07:27:54Z",
        "body": "Not sure if it is proper way, but it works\r\n`msg.object.length == null`"
      }
    ]
  },
  {
    "number": 10123,
    "title": "[Question]Exception while mqtt transport application is  up and running",
    "created_at": "2024-02-03T03:15:30Z",
    "closed_at": "2024-02-03T05:17:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10123",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n \r\n\r\n**Description**\r\nWhen i try to make the mqtt transport service application(**ThingsboardMqttTransportApplication.java)** i am getting below error\r\n\r\n**2024-02-03 08:19:15,714 [main] INFO  o.t.s.m.ThingsboardMqttTransportApplication - Started ThingsboardMqttTransportApplication in 21.927 seconds (JVM running for 24.785)\r\n2024-02-03 08:19:15,719 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:19:29,231 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:19:39,238 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:19:49,255 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:19:59,258 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:20:09,289 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:20:15,716 [scheduling-1] INFO  o.t.s.c.t.s.DefaultTransportService - Transport Stats: openConnections [0]\r\n2024-02-03 08:20:19,290 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:20:29,319 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:20:39,333 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:20:49,350 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:20:59,363 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:21:09,381 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:21:15,717 [scheduling-1] INFO  o.t.s.c.t.s.DefaultTransportService - Transport Stats: openConnections [0]\r\n2024-02-03 08:21:19,389 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:21:29,408 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:21:39,417 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:21:59,436 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:22:09,448 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:22:15,719 [scheduling-1] INFO  o.t.s.c.t.s.DefaultTransportService - Transport Stats: openConnections [0]\r\n2024-02-03 08:22:19,466 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:22:29,476 [main] INFO  o.t.s.q.d.HashPartitionService - Try to get queue routing info.\r\n2024-02-03 08:22:39,495 [main] INFO  o.t.s.q.d.HashPartitionService - Failed to get queues routing info: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException!\r\n2024-02-03 08:22:49,719 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\njava.lang.RuntimeException: Failed to await queues routing info!\r\n\tat org.thingsboard.server.queue.discovery.HashPartitionService.getQueueRoutingInfos(HashPartitionService.java:160)\r\n\tat org.thingsboard.server.queue.discovery.HashPartitionService.doInitRuleEnginePartitions(HashPartitionService.java:129)\r\n\tat org.thingsboard.server.queue.discovery.HashPartitionService.partitionsInit(HashPartitionService.java:119)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:114)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:82)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:82)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:322)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat org.thingsboard.server.mqtt.ThingsboardMqttTransportApplication.main(ThingsboardMqttTransportApplication.java:38)\r\n2024-02-03 08:22:49,737 [main] INFO  o.t.s.t.mqtt.MqttTransportService - Stopping MQTT transport!\r\n2024-02-03 08:22:49,751 [main] INFO  o.t.s.t.mqtt.MqttTransportService - MQTT transport stopped!**\r\n\r\nCan any body help me with this ?\r\n\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  windos and 10\r\n * ThingsBoard: 3.6.3\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10123/comments",
    "author": "anil123lalam",
    "comments": [
      {
        "user": "anil123lalam",
        "created_at": "2024-02-03T05:17:29Z",
        "body": "Resolved"
      },
      {
        "user": "LlorandoLau",
        "created_at": "2024-12-18T08:05:50Z",
        "body": "hi, could you share your solution? I'm running on the same error"
      }
    ]
  },
  {
    "number": 10010,
    "title": "[Question] Display dashboard screenshot in alarm emails?",
    "created_at": "2024-01-18T02:10:44Z",
    "closed_at": "2024-05-02T13:07:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/10010",
    "body": "**Component**\r\n\r\n * Rule Engine\r\n\r\n**Description**\r\nThe tutorial on sending an image inside an email shows an example of a dashboard screenshot being sent. Is there a way to automatically take a screenshot when an alarm is created and send the screenshot in the email, or is the dashboard screenshot in the tutorial just an example of sending a static image?\r\n\r\n**Environment**\r\nAny\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/10010/comments",
    "author": "PrecisionCannon",
    "comments": [
      {
        "user": "sam19580",
        "created_at": "2024-01-18T11:47:10Z",
        "body": "@PrecisionCannon Can you please mention the steps to reproduce the issue?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-02T13:07:10Z",
        "body": "closed due inactivity"
      }
    ]
  },
  {
    "number": 9969,
    "title": "[Question] timezone in tooltip in time series widget",
    "created_at": "2024-01-10T12:02:38Z",
    "closed_at": "2024-05-02T13:16:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/9969",
    "body": "We have a dashboard with a few time series widgets. We have users and devices sending information from all over the world. So, each widget can be set to a different time zone. \r\n\r\nThe widgets change the display of the data according to the time zone correctly.\r\n\r\nHowever, the time series widget tooltip, the small dark window that pops up when you hover on a data point, always shows the browser time zone, regardless of the time zone configured in that widget.\r\n\r\nAny suggestion on how to avoid this? \r\n\r\nThanks!\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/9969/comments",
    "author": "inakigoicolea",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-01-10T16:43:56Z",
        "body": "I see that you've already created a similar request on our support portal. I will duplicate the final solution here after we solve it on the support portal. "
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-01-17T16:51:24Z",
        "body": "As promised, duplicate the conclusion here:\r\nThis behavior is related to dynamicaly changing timezone both in widget and PC settings one by one. \r\nTo avoid it, there is a few workarounds:\r\n1. Set up necessary timezone in widget, without changing PC timezone\r\n2. Change PC timezone and set the widget timezone on \"Browser time\"\r\n"
      }
    ]
  },
  {
    "number": 7727,
    "title": "[Question] Automatic dashboard creation",
    "created_at": "2022-12-02T15:16:16Z",
    "closed_at": "2023-06-20T08:56:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7727",
    "body": "Hello, \r\nI want to automate the whole process of thingsboard. But I can create devices and assets automaticaly but is it also possible that I can for example reference to a JSON file with a dashboard in it and get the device automaticaly linked to it? \r\nI want this to work in the Thingsboard PE customer hierarchy. ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7727/comments",
    "author": "Timmiegamer",
    "comments": [
      {
        "user": "NistantriTech-Dhaval",
        "created_at": "2023-04-11T12:14:39Z",
        "body": "Hi @Timmiegamer \r\nIn thingsboard PE I think better to use shared dashboard functionality \r\n\r\nWhat I used to do for my customer is.\r\nwe use the table widget for tenant to create, manage and delete customers.\r\nOn time of create customer we share the predefined dashboard to newly created customer"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-20T08:56:17Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7723,
    "title": "Why my MQTT uplink on mqtt integration doesnt recieves all messages?",
    "created_at": "2022-12-02T09:33:53Z",
    "closed_at": "2024-07-16T10:42:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7723",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n\r\n * Generic\r\n\r\n**Description**\r\nAs the title says, my problem is the fact that the uplink converter doesnt recieves all messages from the coresponding mqtt broker. For example, there is a client publishing every 5 seconds to an mqtt broker, i created an uplink converter recieving messages from that broker. The uplink though does not receives all messages (like 7 in 10 or even worse sometimes), also there is no time pattern of which i will recieve and which not.\r\n\r\nI'm sure that the publishing device and broker works fine, cause i connected  an other client to the broker and it can recieves every message as expected.\r\nThe only thing i suspect is that maybe something is wrong with the Kafka queue\r\n\r\nAlso, i forgot to mention 2 things:\r\n 1st: I noticed the same behavior (even worse to be honest) on the cloud Thingsboard PE Trial version.\r\n 2nd: When the device subscribes to thingsboard mqtt broker (when no uplink converter needed)  rule chain can recieves every message that the device is publishing.\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 22 \r\n * ThingsBoard: 3.4\r\n * Browser: Firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7723/comments",
    "author": "PanGian97",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-16T10:42:34Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full steps to reproduce your issue."
      }
    ]
  },
  {
    "number": 7696,
    "title": "I used the macos arm64 architecture to build the thingsboard project, and found that the js-executor project package could not be built successfully, and an error was reported [Error: ENOENT: no such file or directory, lstat: 'thingsboard/msa/js-executor/target/thingsboard-js-executor -macos'",
    "created_at": "2022-11-29T02:58:12Z",
    "closed_at": "2023-06-20T08:56:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7696",
    "body": "here is my log：\r\n`[INFO] --- frontend-maven-plugin:1.12.0:yarn (yarn pkg) @ js-executor ---\r\n[INFO] Running 'yarn run pkg' in /Users/chenhaiming/workCode/EVISION/thingsboard/msa/js-executor\r\n[INFO] yarn run v1.22.19\r\n[INFO] $ tsc && pkg -t node16-macos-arm64,node16-linux-x64,node16-win-x64 --out-path ./target ./target/src && node install.js\r\n[INFO] > pkg@5.8.0\r\n[INFO] node:internal/process/promises:288\r\n[INFO]             triggerUncaughtException(err, true /* fromPromise */);\r\n[INFO]             ^\r\n[INFO] \r\n[INFO] [Error: ENOENT: no such file or directory, lstat '/Users/chenhaiming/workCode/EVISION/thingsboard/msa/js-executor/target/thingsboard-js-executor-macos'] {\r\n[INFO]   errno: -2,\r\n[INFO]   code: 'ENOENT',\r\n[INFO]   syscall: 'lstat',\r\n[INFO]   path: '/Users/chenhaiming/workCode/EVISION/thingsboard/msa/js-executor/target/thingsboard-js-executor-macos'\r\n[INFO] }\r\n[INFO] \r\n[INFO] Node.js v18.12.1`",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7696/comments",
    "author": "Estelle925",
    "comments": [
      {
        "user": "rehmetjan",
        "created_at": "2023-04-25T15:04:19Z",
        "body": "i guess it can be solved by putting `node-v18.12.0-macos-x64` into `/Users/chenhaiming/.pkg-cache/v3.4/` folder and rename it to `fetched-v18.12.0-macos-x64`"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-20T08:56:33Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7690,
    "title": "[Question] Does integrations support cluster deployment?",
    "created_at": "2022-11-26T15:49:17Z",
    "closed_at": "2023-06-07T08:34:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7690",
    "body": "For example, tcp udp integration",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7690/comments",
    "author": "baigod",
    "comments": [
      {
        "user": "baigod",
        "created_at": "2022-11-27T07:13:46Z",
        "body": "Sorry, I may not be clear. It should be that when the integration downlink rule node is used to downlink messages, the session corresponding to the integration cannot be found"
      },
      {
        "user": "baigod",
        "created_at": "2022-11-27T07:15:14Z",
        "body": "Because when two or more integration container replicas are started at the same time, one of them will be started, and the `org. thingsboard.server.service.integration.rpc.TbCoreRemoteIntegrationRpcService#onIntegrationDisconnect` method will be called, which will cause the session to be emptied"
      },
      {
        "user": "baigod",
        "created_at": "2022-11-27T07:16:25Z",
        "body": "The above problems occur in tb-tcp-udp-integration: 3.4.1 PE"
      },
      {
        "user": "ban2derlog",
        "created_at": "2023-05-15T13:58:35Z",
        "body": "hi,\r\nunfortunately, Remote Integration won't work properly if there are more than 1 container that use same Routing Key + Secret.\r\nthis is true for all Remote Integration.\r\nas another option you can use multiple containers for Integration Executor, but again it will work only with non-Remote Integration."
      }
    ]
  },
  {
    "number": 7664,
    "title": "Creating and sending data to a Database other than default 'thingsboard' DB in ThingsBoard",
    "created_at": "2022-11-22T02:22:01Z",
    "closed_at": "2022-12-27T14:30:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7664",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n\r\n * Generic\r\n\r\n**Description**\r\nWhen installing ThingsBoard in Linux, the default database is 'thingsboard' (postgreSQL). All the data that are send to ThingsBoard in JSON format registered in this database. Based on that I dashboard is created to display the data. \r\n\r\nI would also like to create a separate database with some other name of course and store the raw data (for example, payload as it is in HEX-string, not converted to their actual values etc.).  Is it possible to do that? If so, how can I do that? \r\n\r\nAs far as I know, all the data that entered the ThingsBoard go through the Rule Chain (root). So, by default all the data comes to the ThingsBoard entered the default database (thingsboard)? Then how to divert some of them to another? \r\n\r\nAny helps?\r\n\r\nRegards\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu Linux 20.04 LTS (AWS EC2 instance)\r\n * ThingsBoard: 3.4.1\r\n * Browser: Chrome, Mozilla, Edge\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7664/comments",
    "author": "debacs83",
    "comments": [
      {
        "user": "rjarman",
        "created_at": "2022-11-30T02:21:24Z",
        "body": "In general, you can't, they use JPA for database transactions in the latest 3.4.0 version, which was generic though but you can't just divert some of your specific data to another DB. \r\nBut somehow you can with a rule node because they provide all their services inside the rule node by **ctx**. So you can easily divert data by making your own node."
      }
    ]
  },
  {
    "number": 7662,
    "title": "[Question] Is it possible to turn off a device using Thinsboard demo?",
    "created_at": "2022-11-21T12:15:23Z",
    "closed_at": "2022-12-27T14:28:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7662",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nI would like to have a table/chart to turn off the selected device. In other words, I currently have a python script sending data to thingsboard,\r\nI would like to have button or something that allows me to execute a python function to power off the device. \r\nIs it possible to receive inputs from my panel to the python script?\r\n\r\nThank you very much in advance.\r\n\r\nGinés.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu\r\n * ThingsBoard: Thingsboard DEMO\r\n * Browser: Firefox 107.0\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7662/comments",
    "author": "ginestopo",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2022-11-21T12:57:17Z",
        "body": "You can send a RPC Command to the device. On the device the python script can read the request and handle like you want"
      },
      {
        "user": "ginestopo",
        "created_at": "2022-11-22T08:19:31Z",
        "body": "Thanks a lot for replying @Backdraft007  😄 Are RPC commands available for thingsboard demo version? "
      },
      {
        "user": "Backdraft007",
        "created_at": "2022-11-22T08:30:10Z",
        "body": "I think so. I have tested it with an offline device, because I have no device to connect to the demo.\r\nBut it looks good."
      },
      {
        "user": "ginestopo",
        "created_at": "2022-11-22T09:21:35Z",
        "body": "@Backdraft007 Thank you very much for the feedback! Have a nice day 😃 "
      }
    ]
  },
  {
    "number": 7657,
    "title": "[Question] Create device with MQTT_BASIC auth via API ",
    "created_at": "2022-11-19T19:03:40Z",
    "closed_at": "2023-06-20T08:57:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7657",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nI'm trying to create a device with mqtt_basic auth (clientid, user, password) using the API...\r\n\r\nHowever, the schema in swagger does not show anything else but 'complex object' for credentialsValue...\r\n\r\nAnyone has an example or can point me in the right direction to a more complete API documentation?\r\n\r\n**Environment**\r\n * ThingsBoard: 3.4.1\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7657/comments",
    "author": "rbarberop",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2022-12-05T08:48:49Z",
        "body": "Hi @rbarberop , the DeviceCredentialsType should be set to MQTT_BASIC, and the credentials value is a JSON with the following format:\r\n\r\n```\r\n{\r\n\"clientId\": \"mqttClient1\",\r\n\"userName\": \"user1\",\r\n\"password\":\"secret\"\r\n}\r\n```\r\n\r\nNote that you may use a combination of: clientId + userName + password or just userName + password."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-20T08:57:53Z",
        "body": "We would like to apprise you that your GitHub ticket has been inactive for an extended period, and we will proceed with its closure. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7654,
    "title": "[Question] Alarm auto clearing immediately",
    "created_at": "2022-11-18T15:33:20Z",
    "closed_at": "2022-11-22T07:25:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7654",
    "body": "**Component**\r\n\r\nRule Engine?\r\n\r\n**Description**\r\nAs I create an alarm within the rule engine, it gets cleared immediately, even when no node for clearing exists.\r\n\r\nAre there other methods of clearing alarms that I'm unaware of, that might be interfering?\r\n\r\n**Environment**\r\n * OS:  Win 10\r\n * ThingsBoard: 3.3.2PE\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7654/comments",
    "author": "KrakenIsHere",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-11-18T15:40:31Z",
        "body": "> Are there other methods of clearing alarms that I'm unaware of, that might be interfering?\r\n\r\nDevice profile"
      },
      {
        "user": "KrakenIsHere",
        "created_at": "2022-11-21T07:26:24Z",
        "body": "> Device profile\r\n\r\nChecked it now, and there are no \"Alarm rules\" on any of the \"Device Profiles\" on the server.\r\nAt least I know that's a thing now :D"
      },
      {
        "user": "KrakenIsHere",
        "created_at": "2022-11-22T07:25:17Z",
        "body": "The issue still happens, but the Device Profile alarms seem to work just fine, so I'll be using those instead of the ones in the Rule chain"
      }
    ]
  },
  {
    "number": 7653,
    "title": "[Question] Custom widget: set gauge value property",
    "created_at": "2022-11-18T15:29:14Z",
    "closed_at": "2022-11-29T10:45:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7653",
    "body": "**Component**\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nI need to edit the \"Speed gauge\" widget to show zero value when certain condition is met. This action should be executed in the `onDataUpdated()` function.\r\nThis widget inherits methods from the \"TbAnalogueRadialGauge\" class, which contains an update() method. If I'm not wrong, this would be its implementation:\r\n\r\n```\r\nupdate() {\r\n    if (this.ctx.data.length > 0) {\r\n      const cellData = this.ctx.data[0];\r\n      if (cellData.data.length > 0) {\r\n        const tvPair = cellData.data[cellData.data.length -\r\n        1];\r\n        const value = tvPair[1];\r\n        if (value !== this.gauge.value) {\r\n          this.gauge.value = value;\r\n        }\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nTbAnalogueRadialGauge extends TbAnalogueGauge. TbAnalogueGauge exends TbBaseGauge, where update() is implemented.\r\n\r\nIt seems to access the `this.gauge.value` property to update the gauge value. However, when I try to access this property from widget development IDE, it turns out to be undefined.\r\n\r\n```\r\nself.onDataUpdated = function() {\r\n    self.ctx.gauge.update();\r\n    console.log(self.ctx.gauge.value) // output: undefined\r\n}\r\n```\r\n\r\nDoes anyone have any ideas about how to access this property?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Linux Ubuntu 20.04.5 LTS\r\n * ThingsBoard: v3.4 (ThingsBoard Professional Edition)\r\n * Browser: Google Chrome, Mozilla Firefox, Edge\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7653/comments",
    "author": "tecnicos-computrol",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-11-18T16:02:23Z",
        "body": "```\r\n    console.log(self.ctx.gauge.gauge.value)\r\n```"
      }
    ]
  },
  {
    "number": 7650,
    "title": "How to fetch all attributes from a device which is related to an other device",
    "created_at": "2022-11-18T13:38:30Z",
    "closed_at": "2024-07-29T14:22:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7650",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n\r\n * Rule Engine\r\n\r\n\r\n**Description**\r\nIs there a way to fetch to a rule chain node the attribute value from all contained devices under an other device?\r\nFor example we have a deviceA that contains 2 more devices (tagA,tagB). Each of these devices has a client attribute named tagID, my goal is to fetch both tagIDs and add them to the OUT payload.\r\n\r\nClosest i came so far is by using \"related device attributes\" node, but seems that it's only returns 1 of the 2 tagIDs from the contained tags under deviceA (possibly the tagID of the last contained tag into deviceA)\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Windows 10\r\n * ThingsBoard: demo.thingsboard.org\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7650/comments",
    "author": "PanGian97",
    "comments": [
      {
        "user": "liotys",
        "created_at": "2022-11-21T18:12:11Z",
        "body": "Hi,\r\nI guess you can use a combination of 4 rule nodes. Duplicate to related + originator fields + change originator + script.\r\nWhen you duplicate to related you create a message for each tag connected. After you can use originator fields to add the field name to metadata, then change originator to come back to the main device. So you have now the name of each tag in metadata and you can use a script to add the name to the array containing all the tags. May be you should empty the field before duplicate to related..."
      },
      {
        "user": "PanGian97",
        "created_at": "2022-12-06T10:07:45Z",
        "body": "Hi, sorry for the late reply, i had some other things to test first before going back to this issue. I did what u suggested, but here is the problem, i end up with multiple messages as INPUTS (cause of duplicate to each related device).\r\n\r\n In my case let's say we have a car (main device)if we say this car can have multiple drivers (related devices), i want to check when a driver gets inside of the car, if there is a violation or not (if driver's tag exists as  related device to car device then no violation).\r\n \r\n So as you understand the final script decides if violation exists when a driver tag's is readed or not. The problem stand with the fact that many inputs will come to the script, so let's say we have 4 inputs and 3 are going to \"no violation\" and one to \"violation\" this creates confusion cause if violation alarm starts, the next tag that passes as \"no violation\" will cancel it.\r\n \r\n What i want from here is a way to combine all duplicated messages to a signle message, is there a way?  Thanks a lot!!"
      },
      {
        "user": "liotys",
        "created_at": "2022-12-09T17:02:35Z",
        "body": "Hi,\r\nI guess you won't be able to aggregate all duplicated messages. It's the reason that you need to maintain an array (violation array) at the level of the main device (it's the trace of the passed duplicated messages). If there is a tag in this array don't clear the alarm."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-29T14:22:36Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 7647,
    "title": "[Question] How to return an HTTP code different from 200 with the REST Call Reply Node",
    "created_at": "2022-11-18T10:53:50Z",
    "closed_at": "2024-05-22T12:12:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7647",
    "body": "### **Component**\r\n * Rule Engine\r\n\r\n### **Environment**\r\n * ThingsBoard: 3.4.1 Professional Edition\r\n\r\n### **Description**\r\nThe documentation does not explain how to return an HTTP code different from 200, is this possible? If yes, how?\r\nIf not, is it planned?\r\n\r\nI am using custom REST API routes to authenticate requests I make to an external API. This external API returns an HTTP code that should be returned with the REST Call Reply Node.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7647/comments",
    "author": "Nolat",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T12:12:06Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 7631,
    "title": "[Question] Timeout to process [N] messages",
    "created_at": "2022-11-16T13:18:22Z",
    "closed_at": "2023-06-28T12:54:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7631",
    "body": "After running thingsboard for some time it studdenly stops processing mqtt messages. The only log entry i found after which it stops working is this:\r\n\r\n```\r\n2022-10-17 00:31:23,000 [tb-rule-engine-consumer-39-thread-2 | Main-9] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - Timeout to process [2] messages\r\n2022-10-17 00:31:23,000 [tb-rule-engine-consumer-39-thread-2 | Main-9] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [3e29c6a0-ff3b-11ea-a52a-7f158647914a] Timeout to process message: TbMsg(queueName=Main, id=d9bc1523-8cd1-4731-b97b-69144b273d43, ts=1665959480998, type=CONNECT_EVENT, originator=68a82c50-0152-11eb-959f-ed0c475a700f, customerId=null, metaData=TbMsgMetaData(data={deviceType=bf410, scope=SERVER_SCOPE, deviceName=11658 Test-Device R SW112}), dataType=JSON, data={\"lastConnectTime\":1665959480998,\"lastActivityTime\":1665704810389,\"lastDisconnectTime\":1665704810391,\"lastInactivityAlarmTime\":1665705437343,\"inactivityTimeout\":600000}, ruleChainId=null, ruleNodeId=null, ruleNodeExecCounter=0, callback=org.thingsboard.server.common.msg.queue.TbMsgCallback$1@3758d70b), Last Rule Node: null\r\n```\r\n\r\nI don't see any errors or warnings, it just stops processing the mqtt messages.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04.5 LTS\r\n * ThingsBoard: 3.2.2\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7631/comments",
    "author": "hberg539",
    "comments": [
      {
        "user": "youngSpring",
        "created_at": "2022-12-05T01:15:34Z",
        "body": "first,change your log level \r\n`<logger name=\"org.thingsboard.server.actors\" level=\"TRACE\" /> <logger name=\"org.thingsboard.server.service.queue\" level=\"TRACE\" />`\r\nto find the detail log of your application\r\nsecond,enter the bash terminal, input \r\n`jstack -l 1 | grep -A 10 rule-dispatch`\r\nif the number of the thread less then 4 ,reboot the pod will solve your problem"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T12:54:29Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7620,
    "title": "[Question] Putting values in the metadata with IoT gateway",
    "created_at": "2022-11-15T13:28:38Z",
    "closed_at": "2022-12-27T14:34:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7620",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * IoT gateway\r\n\r\n**Description**\r\nHello Thingsboard, \r\n\r\nAt this moment I am working with a custom REST converter for the IoT gateway, but as far as I know, I am not able to send metadata values. Maybe I missed something or does the IoT gateway only support sending telemetry and attributes?\r\n\r\nThank you in advance.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  POP_OS 22.04\r\n * ThingsBoard: CE version 3.4.1\r\n * Browser: Google chrome\r\n * Docker images:\r\n    *  thingsboard/tb-postgres\r\n    *  thingsboard/tb-gateway\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7620/comments",
    "author": "Lenteguppie",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-11-16T12:41:07Z",
        "body": "Both TB server API and TB gateway which is using that API as well supports only telemetry and attributes.\r\nWhat did you mean by metadata?"
      }
    ]
  },
  {
    "number": 7607,
    "title": "[Question] Dashboard Cell Style Function with Customer Attribute",
    "created_at": "2022-11-14T08:19:30Z",
    "closed_at": "2024-08-01T12:17:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7607",
    "body": "In our dashboard of device list, we need to display the cell color based on the device's reading and a customer's attribute. Therfore, we need to use Dashboard's cell style function to retrieve customer's attribute and compare with device's reading.\r\n\r\nHowever, the cell style function is a synchronouse call which returns a style. While to retrieve customer's attribute, we need to use callback function of attributeService like following, which is not a synchronouse call.\r\n```\r\nattributeService.getEntityAttributes(\r\n        {'entityType': 'CUSTOMER', 'id': customerId}, 'SERVER_SCOPE')\r\n    .subscribe(function(attributes) {\r\n        ...;\r\n    });\r\n```\r\n    \r\nI tried to convert the callback to promise and use \"async\" function and \"await\". However, they are not supported in ThingsBoard.\r\n\r\nSo how should I do it to achieve my goal?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7607/comments",
    "author": "sunyong-mwi",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-11-14T11:30:34Z",
        "body": "+1 \r\nFor me it is also a challenge to retrieve related entities data. In some cases I solve it with the help of Rule Chains by observing when attributes/fields of customer or some other related entity has been changed and then duplicate this information to all devices/assets. Not ideal but works"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-01T12:17:56Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 7604,
    "title": "Slow Database performance when switching from local PostgresSQL to AWS RDS",
    "created_at": "2022-11-12T06:02:16Z",
    "closed_at": "2023-01-19T16:46:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7604",
    "body": " * Database Issue\r\n\r\n**Description**\r\nSwitched over from a windows-based thingsboard version to a linux-based server running on an EC2 instance.  Tested with a locally installed DB first, and performance is good. When switching over to RDS however it takes minutes to load a dashboard that shows a list of about 200+ devices whereas before it didn't have this issue.  I tried the same remote AWS RDS database on the Windows machine and have no issue.   Any ideas what could be causing the slow down? Bandwidth restriction maybe?\r\n\r\n**Environment**\r\n * OS: Ubuntu 20.04\r\n * ThingsBoard C.E.: 3.3.2\r\n * Browser: Chrome 106.0.5249.119\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7604/comments",
    "author": "sferguson-ISI",
    "comments": [
      {
        "user": "YevhenBondarenko",
        "created_at": "2023-01-19T14:01:22Z",
        "body": "Hi @sferguson-ISI,\r\ndefinitely problem related to the db indexes, plz check for example device table `\\d device`, if indexes are absent I can send you list of queries for re-creating all indexes. \r\n\r\nPlz write your TB version: 3.3.2 CE or PE.\r\n\r\nNow we are investigating this issue and for helping us, plz provide us with the postgres versions (from/to), and commands which you used for switching."
      },
      {
        "user": "sferguson-ISI",
        "created_at": "2023-01-19T16:46:58Z",
        "body": "H3llo @YevhenBondarenko I figured out the issue, it was related to the fact that I had my EC2 instance in a different availability zone than my RDS instance.  As long as they're in the same zone, then the lag isn't as bad. "
      }
    ]
  },
  {
    "number": 7603,
    "title": "[Question] How can I filter telemetries by topic in a dashboard?",
    "created_at": "2022-11-11T16:57:27Z",
    "closed_at": "2024-05-21T14:34:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7603",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nI would like to know if there is a way to filter incoming telemetries by topic in a dashboard. We have a gateway collecting data from various sensors and I would like the gateway to send all the data to the same device on ThingsBoard with different topics for each sensor and then, in the dashboard, filter the telemetries by topic (e.g., in widget A, I want to show variables from the topic gateway/sensor1 and in widget B, I want to show variables from the topic gateway/sensor2). I tried to add a filter, but the only filter types are \"Attribute\", \"Entity field\" and \"Timeseries\".\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.4.1\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7603/comments",
    "author": "hsanderr",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-05-21T14:34:46Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 7590,
    "title": "[Question] ESP32 GPIO Control throwing a request timeout",
    "created_at": "2022-11-09T15:11:50Z",
    "closed_at": "2024-07-08T10:21:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7590",
    "body": "I am trying to control GPIO pins on ESP32 with GPIO Control widget. My arduino code ias below. The control throws Request timeout and I am not able to communicate with the GPIO.\r\n\r\n`#include \"DHT.h\"\r\n#include <WiFi.h>\r\n\r\n#include <ThingsBoard.h>\r\n\r\n#define WIFI_AP \"FRITZ!Box 7530 @ 433\"\r\n#define WIFI_PASSWORD \"84546779845604506115\"\r\n\r\n#define TOKEN \"ESP32_TEST\"\r\n\r\n\r\n// DHT\r\n#define DHTPIN 4          \r\n#define DHTTYPE DHT22\r\n\r\n#define GPIO21 21\r\n#define GPIO22 22\r\n#define GPIO23 23\r\n\r\n#define GPIO21_PIN 42\r\n#define GPIO22_PIN 39\r\n#define GPIO23_PIN 36\r\n\r\nchar thingsboardServer[] = \"192.168.178.52\";\r\n\r\nWiFiClient wifiClient;\r\n\r\nPubSubClient client(wifiClient);\r\n// Initialize DHT sensor.\r\nDHT dht(DHTPIN, DHTTYPE);\r\n\r\nThingsBoard tb(wifiClient);\r\n\r\nint status = WL_IDLE_STATUS;\r\nunsigned long lastSend;\r\n\r\n// We assume that all GPIOs are LOW\r\nboolean gpioState[] = {false, false, false};\r\n\r\nvoid setup()\r\n{\r\n  Serial.begin(115200);\r\n  dht.begin();\r\n\r\n  pinMode(GPIO21, OUTPUT);\r\n  pinMode(GPIO22, OUTPUT);\r\n  pinMode(GPIO23, OUTPUT);\r\n  \r\n  delay(10);\r\n  InitWiFi();\r\n  lastSend = 0;\r\n\r\n  client.setServer( thingsboardServer, 1883);\r\n  client.setCallback(on_message);\r\n}\r\n\r\nvoid loop()\r\n{\r\n  if ( !client.connected() ) {\r\n    reconnect();\r\n  }\r\n\r\n  client.loop();\r\n\r\n  /*if ( !tb.connected() ) {\r\n    reconnect();\r\n  }\r\n\r\n\r\n  if ( millis() - lastSend > 1000 ) { // Update and send only after 1 seconds\r\n    getAndSendTemperatureAndHumidityData();\r\n    lastSend = millis();\r\n  }\r\n\r\n  tb.loop();*/\r\n}\r\n\r\nvoid getAndSendTemperatureAndHumidityData()\r\n{\r\n  Serial.println(\"Collecting temperature data.\");\r\n\r\n  // Reading temperature or humidity takes about 250 milliseconds!\r\n  float humidity = dht.readHumidity();\r\n  // Read temperature as Celsius (the default)\r\n  float temperature = dht.readTemperature();\r\n  float gasSensorValue = analogRead(35);\r\n\r\n  // Check if any reads failed and exit early (to try again).\r\n  if (isnan(humidity) || isnan(temperature)) {\r\n    Serial.println(\"Failed to read from DHT sensor!\");\r\n    return;\r\n  }\r\n\r\n  Serial.println(\"Sending data to ThingsBoard:\");\r\n  Serial.print(\"Humidity: \");\r\n  Serial.print(humidity);\r\n  Serial.print(\" %\\t\");\r\n  Serial.print(\"Temperature: \");\r\n  Serial.print(temperature);\r\n  Serial.println(\" *C \");\r\n\r\n  Serial.println(\"Gas Sensor Value: \");\r\n  Serial.print(gasSensorValue);\r\n\r\n  tb.sendTelemetryFloat(\"LPG Concentration in ppm\", gasSensorValue);\r\n  tb.sendTelemetryFloat(\"Temperature in C\", temperature);\r\n  tb.sendTelemetryFloat(\"Humidity in %\", humidity);\r\n}\r\n\r\nvoid on_message(const char* topic, byte* payload, unsigned int length) {\r\n\r\n  Serial.print(\"On message\");\r\n\r\n  char json[length + 1];\r\n  strncpy (json, (char*)payload, length);\r\n  json[length] = '\\0';\r\n\r\n  Serial.print(\"Topic: \");\r\n  Serial.println(topic);\r\n  Serial.print(\"Message: \");\r\n  Serial.println(json);\r\n\r\n  // Decode JSON request\r\n  StaticJsonDocument<200> jsonDoc;\r\n  DeserializationError err = deserializeJson(jsonDoc, (char*)json);\r\n\r\n  if (err)\r\n  {\r\n    Serial.print(\"Deserialization() failed with code:\");\r\n    Serial.println(err.c_str());\r\n    return;\r\n  }\r\n\r\n  // Check request method\r\n  String methodName = String((const char*)jsonDoc[\"method\"]);\r\n\r\n  if (methodName.equals(\"getGpioStatus\")) {\r\n\r\n    Serial.print(\"Get Method\");\r\n    // Reply with GPIO status\r\n    String responseTopic = String(topic);\r\n    responseTopic.replace(\"request\", \"response\");\r\n    client.publish(responseTopic.c_str(), get_gpio_status().c_str());\r\n  } else if (methodName.equals(\"setGpioStatus\")) {\r\n    // Update GPIO status and reply\r\n    set_gpio_status(jsonDoc[\"params\"][\"pin\"], jsonDoc[\"params\"][\"enabled\"]);\r\n    String responseTopic = String(topic);\r\n    responseTopic.replace(\"request\", \"response\");\r\n    client.publish(responseTopic.c_str(), get_gpio_status().c_str());\r\n    client.publish(\"v1/devices/me/attributes\", get_gpio_status().c_str());\r\n  }\r\n}\r\n\r\nString get_gpio_status() {\r\n  Serial.print(\"Inside get\");\r\n  // Prepare gpios JSON payload string\r\n  StaticJsonDocument<200> jsonDoc;\r\n\r\n  JsonObject data = jsonDoc.to<JsonObject>();\r\n\r\n  data[String(GPIO21_PIN)] = gpioState[0] ? true : false;\r\n  data[String(GPIO22_PIN)] = gpioState[1] ? true : false;\r\n  data[String(GPIO23_PIN)] = gpioState[2] ? true : false;\r\n  char payload[256];\r\n  serializeJson(jsonDoc, payload);\r\n  //data.printTo(payload, sizeof(payload));\r\n  String strPayload = String(payload);\r\n  Serial.print(\"Get gpio status: \");\r\n  Serial.println(strPayload);\r\n  return strPayload;\r\n}\r\n\r\nvoid set_gpio_status(int pin, boolean enabled) {\r\n  Serial.print(\"Inside Set\");\r\n  if (pin == GPIO21_PIN) {\r\n    // Output GPIOs state\r\n    digitalWrite(GPIO21, enabled ? HIGH : LOW);\r\n    // Update GPIOs state\r\n    gpioState[0] = enabled;\r\n  } else if (pin == GPIO22_PIN) {\r\n    // Output GPIOs state\r\n    digitalWrite(GPIO22, enabled ? HIGH : LOW);\r\n    // Update GPIOs state\r\n    gpioState[1] = enabled;\r\n  } else if (pin == GPIO23_PIN) {\r\n    // Output GPIOs state\r\n    digitalWrite(GPIO23, enabled ? HIGH : LOW);\r\n    // Update GPIOs state\r\n    gpioState[2] = enabled;\r\n  }\r\n}\r\n\r\n\r\nvoid InitWiFi()\r\n{\r\n  Serial.println(\"Connecting to AP ...\");\r\n  // attempt to connect to WiFi network\r\n\r\n  WiFi.mode(WIFI_STA);\r\n  WiFi.begin(WIFI_AP, WIFI_PASSWORD);\r\n  while (WiFi.status() != WL_CONNECTED) {\r\n    delay(500);\r\n    Serial.print(\".\");\r\n  }\r\n  Serial.println(\"Connected to AP\");\r\n}\r\n\r\n\r\nvoid reconnect() {\r\n  // Loop until we're reconnected\r\n  while (!tb.connected()) {\r\n    status = WiFi.status();\r\n    if ( status != WL_CONNECTED) {\r\n      WiFi.begin(WIFI_AP, WIFI_PASSWORD);\r\n      while (WiFi.status() != WL_CONNECTED) {\r\n        delay(500);\r\n        Serial.print(\".\");\r\n      }\r\n      Serial.println(\"Connected to AP\");\r\n    }\r\n    Serial.print(\"Connecting to ThingsBoard node ...\");\r\n    if ( tb.connect(thingsboardServer, TOKEN) ) {\r\n      Serial.println( \"[DONE]\" );\r\n      client.subscribe(\"v1/devices/me/rpc/request/+\");\r\n      // Sending current GPIO status\r\n      Serial.println(\"Sending current GPIO status ...\");\r\n      client.publish(\"v1/devices/me/attributes\", get_gpio_status().c_str());\r\n    } else {\r\n      Serial.print( \"[FAILED]\" );\r\n      Serial.println( \" : retrying in 5 seconds]\" );\r\n      // Wait 5 seconds before retrying\r\n      delay( 5000 );\r\n    }\r\n  }\r\n}\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7590/comments",
    "author": "Sushmitha-rao",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-08T10:21:20Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 7582,
    "title": "Update locale.constant-zh_CN.json",
    "created_at": "2022-11-09T10:01:35Z",
    "closed_at": "2024-04-01T13:41:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7582",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\nChanged\r\nUnified translation of \"layout\"\r\nUnified translation of \"widget-action\"\r\nUnified translation of \"custom\"\r\nUnified translation of \"language\"\r\nMatch the line numbers of the two files, locale.constant-zh_CN.json and locale.constant-en_US.json, to ensure consistency\r\nAdded\r\nAdd translation of smpp-provider\r\nAdd translation of lwm2m-security-config\r\nAdd translation of lwm2m\r\nAdd translation of snmp\r\nAdd translation of markdown\r\nAdd translation of server-error\r\nAdd translation of widgets\r\n\r\n**Description**\r\nThe localization resource files in Chinese and English are numbered aligned, and all the content that is not translated in version 3.4.2 is added. If there is any incorrect place, please correct me.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  windows 10\r\n * ThingsBoard: 3.4.2\r\n * Browser: chrome 107.0.5304.106\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7582/comments",
    "author": "struggle3",
    "comments": [
      {
        "user": "xalt7x",
        "created_at": "2024-01-26T15:50:05Z",
        "body": "@struggle3 , I assume that this issue is related to PR #7581 , and therefore it is no longer relevant."
      }
    ]
  },
  {
    "number": 7532,
    "title": "[Question] Sorting a string with values via rulechain?",
    "created_at": "2022-11-02T13:25:26Z",
    "closed_at": "2022-12-27T14:45:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7532",
    "body": "Hello,\r\n\r\nI have a problem with the rulechain. \r\nEarlier I got a string with a keya and their values in it, always in the same order.\r\nNow the values aren´t always in the same order, so the values get extracted incorrectly.\r\n\r\nMy current rulechain looks like that:\r\n\r\n`if (!('values' in msg))\r\n    return { msg: msg, metadata: metadata,  msgType: msgType };\r\n\r\nvar data = JSON.parse(msg.values.replaceAll('\\'','\"'));\r\n\r\ndata = {\r\n    \"Tagesenergie\": data[0].v = parseInt(data[0].v,16)/10,\r\n    \"Strom DC\": data[1].v = parseInt(data[1].v,16)/100,\r\n    \"Energie Total\": data[2].v = parseInt(data[2].v,16),\r\n    \"Monatsenergie\": data[3].v = parseInt(data[3].v,16),\r\n    \"SAL\": data[4].v = parseInt(data[4].v,16),\r\n    \"SYS\": data[5].v = parseInt(data[5].v,16),\r\n    \"Jahresenergie\": data[6].v = parseInt(data[6].v,16),\r\n    \"Spannung DC\": data[7].v = parseInt(data[7].v,16)/10,\r\n    \"aktuelle Leistung\": data[8].v = parseInt(data[8].v,16)/2/1000\r\n};\r\n\r\nreturn {\r\n    msg: data, \r\n    metadata: metadata, \r\n    msgType: msgType\r\n};`\r\n\r\nThe string looks like that:\r\n{\r\n   \"values\": \"[{'id': 'PV-001.Solarmax3000S.Daten.KDY', 'v': '4B'}, {'id': 'PV-001.Solarmax3000S.Daten.IDC', 'v': '12E'},\r\n}\r\n\r\nNow I would need some function which search for a cretain keyword in a string and safe the value in the correct varable.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7532/comments",
    "author": "rungg12",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-11-03T18:21:22Z",
        "body": "How about mapping table:\r\n```\r\nvar newData = {};\r\nvar mappings = {\r\n    'KDY' : { 'name': 'Tagesenergie', 'divider': 10 },\r\n    'IDC' : { 'name': 'Strom DC', 'divider': 100 }\r\n};\r\nfor (var i = 0; i < data.length; ++i) {\r\n    var shortName = data[i].id.substr(data[i].id.lastIndexOf('.') + 1); \r\n    var mappingRule = mappings[shortName ];\r\n    newData[mappingRule.name] = parseInt(data[i].v,16) / mappingRule.divider;\r\n}\r\nreturn {\r\nmsg: newData ,\r\nmetadata: metadata,\r\nmsgType: msgType\r\n};\r\n```"
      },
      {
        "user": "rungg12",
        "created_at": "2022-11-04T12:17:27Z",
        "body": "Thank you!\r\n\r\nBut now the variable \"data\" is not defined ..."
      },
      {
        "user": "devaskim",
        "created_at": "2022-11-04T12:27:57Z",
        "body": "Did you try to init `data` from `msg` fields? \r\nI gave your idea but not out the box solution"
      },
      {
        "user": "rungg12",
        "created_at": "2022-11-04T13:39:55Z",
        "body": "yes i got it working, thanks"
      }
    ]
  },
  {
    "number": 7513,
    "title": "ThingsBoard Build error at UI",
    "created_at": "2022-10-31T18:08:37Z",
    "closed_at": "2024-06-18T14:29:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7513",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nWhile Building ThinbsBoard, getting error while compiling the UI module as follows:\r\n[error] HookWebpackError: EIO\r\n    at makeWebpackError (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\@angular-devkit\\build-angular\\node_modules\\webpack\\lib\\HookWebpackError.js:48:9)\r\n    at C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\@angular-devkit\\build-angular\\node_modules\\webpack\\lib\\Compilation.js:2515:12\r\n    at eval (eval at create (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:98:1)\r\n-- inner error --\r\nError: EIO\r\n    at new Worker (node:internal/worker:259:19)\r\n    at ThreadPool._addNewWorker (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\piscina\\dist\\src\\index.js:395:24)\r\n    at ThreadPool._ensureMinimumWorkers (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\piscina\\dist\\src\\index.js:390:18)\r\n    at new ThreadPool (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\piscina\\dist\\src\\index.js:385:14)\r\n    at new Piscina (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\piscina\\dist\\src\\index.js:722:45)\r\n    at C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\@angular-devkit\\build-angular\\src\\webpack\\plugins\\javascript-optimizer-plugin.js:118:36\r\n    at fn (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\@angular-devkit\\build-angular\\node_modules\\webpack\\lib\\Compilation.js:508:19)\r\n    at _next3 (eval at create (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:89:17)\r\n    at eval (eval at create (C:\\Users\\Administrator\\OneDrive\\Desktop\\Thingsboard\\ui-ngx\\node_modules\\tapable\\lib\\HookCodeFactory.js:33:10), <anonymous>:111:1)\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Windows 10 64 bit\r\n * ThingsBoard: 3.4.2\r\n * Cloned from GitHub\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7513/comments",
    "author": "Hecky30",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2024-06-18T14:29:02Z",
        "body": "If the problem described in this issue can be reproduced in the latest version, please create a new ticket with a concise description of the problem."
      }
    ]
  },
  {
    "number": 7476,
    "title": "TPE all in one gateway integration with node red",
    "created_at": "2022-10-24T08:34:45Z",
    "closed_at": "2024-05-21T13:02:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7476",
    "body": "Hello\r\nI'm using thingspark network server actility that comes with the gateway TPE all-in-one and using Node-Red to get the data to my server\r\nIs there anyone who knows how to make the node red inject data to the network server?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7476/comments",
    "author": "Agroses",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-13T11:32:34Z",
        "body": "Hello @Agroses, what do you mean about the network server? \r\nPlease describe your logic in more detail."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T13:02:06Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 7460,
    "title": "[Question] How to broadcast message to all devices?",
    "created_at": "2022-10-20T10:37:29Z",
    "closed_at": "2022-10-21T02:26:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7460",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nFor example, system need to send alarm to all device when some error happend.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  all\r\n * ThingsBoard: 3.4.2\r\n * Browser: all\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7460/comments",
    "author": "lincoln310",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-10-20T16:34:53Z",
        "body": "As of TB CE 3.4.1 there is no message broadcasting mechanism. But you could implement it with rule chains (to get group of devices) and shared attributes / RPC calls to deliver the data. \r\nIn PE version there is *Entity groups* feature that may (not sure) make easier broadcasting implementation"
      },
      {
        "user": "ChrisEvisi",
        "created_at": "2022-10-20T17:57:21Z",
        "body": "Yes, PE has a 'Duplicate to Groups' rulenode which is like broadcasting message to all entities in an Entity Group."
      },
      {
        "user": "lincoln310",
        "created_at": "2022-10-21T02:26:56Z",
        "body": "@ChrisEvisi @devaskim thanks! I will try it!"
      }
    ]
  },
  {
    "number": 7433,
    "title": "[Question] Saving Attribute From Custom Widget",
    "created_at": "2022-10-17T10:11:25Z",
    "closed_at": "2022-10-19T10:09:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7433",
    "body": "I'm trying to save a value as an attribute.\r\nI'm using\r\n```\r\nattributeService = self.ctx.$scope.$injector.get('attributeService');\r\nattributeService.saveEntityAttributes(entityId,attributeScope,attributes);\r\n```\r\nI get this error\r\n```\r\nUncaught NullInjectorError: R3InjectorError(class extends o{})[attributeService -> attributeService -> attributeService -> attributeService]: \r\n  NullInjectorError: No provider for attributeService!\r\n```\r\nWhat is the solution for this?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7433/comments",
    "author": "inanlia",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-10-17T13:30:11Z",
        "body": "```\r\nself.ctx.$scope.$injector.get(self.ctx.servicesMap.get('attributeService'));\r\n```"
      },
      {
        "user": "inanlia",
        "created_at": "2022-10-19T08:49:00Z",
        "body": "Thank you for your response. The error is gone but the custom widget still does not save the value.\r\nI'm using a latest values custom widget. \r\n\r\nMy code is like this:\r\n       \r\n```\r\nsetTimeout(function() {\r\n        var entityType = \"DEVICE\";\r\n        var entityId = self.ctx.defaultSubscription.data[0].datasource.entityId;\r\n        var attributeScope = \"SERVER_SCOPE\";\r\n        var attributes = [{key:\"key\",value:\"value\"}];\r\n        let attributeService = self.ctx.$scope.$injector.get(self.ctx.servicesMap.get('attributeService'));\r\n        attributeService.saveEntityAttributes(entityId,attributeScope,attributes);\r\n    }, 2500);\r\n```\r\nkey  is already created in device page as a JSON type with \"{}\" as a value.\r\nWidget is supposed to do something else with value before arriving at this part. After doing everything else it is supposed to do it should save the final value as a attribute.\r\n\r\nCan you help with this?"
      },
      {
        "user": "devaskim",
        "created_at": "2022-10-19T09:30:06Z",
        "body": "1. Argument `entityId` should be the following:\r\n```\r\nlet entityId = { id: self.ctx.defaultSubscription.data[0].datasource.entityId, entityType: 'DEVICE' };\r\n```\r\n2. Subscribe for `saveEntityAttributes` result\r\n```\r\nattributeService.saveEntityAttributes(entityId,attributeScope,attributes).subscribe(\r\n    result => console.log('Attribute saved'),\r\n    error => console.log('Error: ', error)\r\n);\r\n```"
      },
      {
        "user": "inanlia",
        "created_at": "2022-10-19T10:09:41Z",
        "body": "Thank you very much. It worked as intended."
      }
    ]
  },
  {
    "number": 7391,
    "title": "[Question] Does thingsboard support another relational database?",
    "created_at": "2022-10-07T02:47:23Z",
    "closed_at": "2022-10-11T08:51:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7391",
    "body": "**Question**\r\nAfter some googling, I cannot find other database supported information.\r\nAs question describing, documentation is shown that supported postgreSQL, does thingsboard support MS SQL or Oracle database? Because our project has asked specific database brands.\r\n\r\n**Version**\r\n* v3.4\r\n\r\nFeel free to close if issue is duplicated.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7391/comments",
    "author": "kuen-hong",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-10-08T08:29:40Z",
        "body": "Only PostgreSQL "
      },
      {
        "user": "kuen-hong",
        "created_at": "2022-10-11T00:25:42Z",
        "body": "Got it. Thanks."
      }
    ]
  },
  {
    "number": 7344,
    "title": "Remove sign up from thingsboard login",
    "created_at": "2022-09-28T05:47:53Z",
    "closed_at": "2023-07-27T12:11:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7344",
    "body": "Kindly suggest how to remove sign up option on the thingsboard white labelled login page. I have explored self registration option, but i couldn't see any option to disable sign up.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7344/comments",
    "author": "mubashirp",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2022-09-29T14:16:30Z",
        "body": "You can delte the self registration settings."
      },
      {
        "user": "mubashirp",
        "created_at": "2022-09-30T06:13:56Z",
        "body": "@Backdraft007  I have not given any settings under self registration to delete. It Is completely blank, also the delete button is disbaled. I checked under self registration to find any option to disable sign up option on the white labelled login page, but I couldn't find any options.\r\nCan you kindly suggest how we can remove sign up option on the login page.\r\n\r\n\r\n"
      },
      {
        "user": "Civilduino",
        "created_at": "2022-10-01T22:24:21Z",
        "body": "I am having exactly the same problem. I am using PE in the Cloud.\r\n\r\nRelated to issue #6660, but there are no settings to delete in the Cloud, all is empty."
      },
      {
        "user": "Civilduino",
        "created_at": "2022-10-01T22:46:34Z",
        "body": "Basically I want to remove this div from the login webpage.\r\n\r\n`<div _ngcontent-hfr-c211=\"\" fxlayout=\"row\" class=\"no-account-section\" style=\"flex-direction: row; box-sizing: border-box; display: flex;\"><span _ngcontent-hfr-c211=\"\" translate=\"\" class=\"no-account-message\">Do not have an account?</span><a _ngcontent-hfr-c211=\"\" routerlink=\"/signup\" href=\"/signup\">Sign up</a></div>`"
      },
      {
        "user": "dhaval2017",
        "created_at": "2022-10-02T02:14:05Z",
        "body": "Did you tried to use css?"
      },
      {
        "user": "Civilduino",
        "created_at": "2022-10-02T11:26:44Z",
        "body": "I tried CSS and it \"works\". I could not hide the main `div` using the `class=\"no-account-section\"` because I see that the display options are giving explicitly in the `div` itself, overriding the class?\r\n\r\nI could hide the `class=\"no-account-message\"` and the `<a>` element with this code:\r\n\r\n```\r\n.no-account-message{\r\n    display: none;\r\n}\r\n\r\na[href^=\"/signup\"] {\r\n  display: none;\r\n}\r\n```\r\n\r\n**Update1**\r\n\r\nI think I figured out a more simple way, using:\r\n```\r\n.no-account-section{\r\n    visibility: hidden;\r\n}\r\n```\r\n\r\nThanks @dhaval2017 for the idea and hope it helps :)"
      },
      {
        "user": "mubashirp",
        "created_at": "2022-10-04T05:35:38Z",
        "body": "Wow, that works!!!! Thank you @dhaval2017 @Civilduino @Backdraft007 "
      },
      {
        "user": "Civilduino",
        "created_at": "2022-10-12T09:49:31Z",
        "body": "Close issue if you are happy with the solution :)"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-07-27T12:11:36Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7332,
    "title": "ota mqtt Issued, When the device does not have a subscription, it does not receive a message and the switch version on the page is sent off but is stationary",
    "created_at": "2022-09-25T10:55:41Z",
    "closed_at": "2024-08-13T12:20:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7332",
    "body": "**Description**\r\nHello dear thingsboard officials, I found the following problem when using thingsboard: \r\nWhen my device is not subscribed to thingsboard, the attributes sent by ota cannot be received (of course), but when I restart subscribing, I definitely expect thingsboard to re-distribute this information, but I may not be able to do this in actual use, and if I want this OTA version to be re-distributed in the page, it does not seem feasible (Can I remove the judgment logic that the same version is not issued in the code and then modify the logic of the page at the same time? But this may have some unforeseen problems, I don't know if it is feasible), I don't know if this problem is by design, if I want to receive it on the device Can I resend the message sent by ota without any reply within a certain period of time? If this problem is a generic problem, how can I fix it? Looking forward to your reply.XD\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  win10\r\n * ThingsBoard: 3.3cve\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7332/comments",
    "author": "LongMaxK",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-13T12:20:08Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 7329,
    "title": "push metadata and telemetry data to Kafka",
    "created_at": "2022-09-24T14:39:54Z",
    "closed_at": "2023-06-28T12:59:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7329",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nHi ThingsBoard: How to push metadata and telemetry data to Kafka without using rules engine, hope to get an idea. thanks\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  windows 10\r\n * ThingsBoard: 3.4.0\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7329/comments",
    "author": "struggle3",
    "comments": [
      {
        "user": "aangstrom",
        "created_at": "2023-02-24T11:07:56Z",
        "body": "MQTT ?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T12:59:28Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7318,
    "title": "[Question] How can I use the substring function in the \"Use label function\" field",
    "created_at": "2022-09-22T15:49:52Z",
    "closed_at": "2024-05-28T14:10:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7318",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nI want to return a substring of the entityName in my label function. How can I use JavaScript's substring in the html field? I've tried adding the script in a <script> tag but this causes the label to not render. I'm currently using the following function;\r\n\r\n`return '<body> <span style=\"color:blue;\", id=\"myLabel\">${entityName}</span></body>';`\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Windows 10\r\n * ThingsBoard: cloud\r\n * Browser: FireFox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7318/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-09-27T17:36:23Z",
        "body": "Note: use ` instead of '\r\n```\r\nlet newName = entityName.substring(0, Math.floor(entityName.length / 2));\r\nreturn `<body> <span style=\"color:blue;\", id=\"myLabel\">${newName}</span></body>`;\r\n```"
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-09-28T15:14:31Z",
        "body": "> Note: use ` instead of '\r\n> \r\n> ```\r\n> let newName = entityName.substring(0, Math.floor(entityName.length / 2));\r\n> return `<body> <span style=\"color:blue;\", id=\"myLabel\">${newName}</span></body>`;\r\n> ```\r\n\r\nThis doesn't work unfortunately. The label does not render in the image map widget when I try to use a local variable inside the html template literal."
      },
      {
        "user": "devaskim",
        "created_at": "2022-09-29T06:41:25Z",
        "body": "Did you try to do same as I suggested but without local variable? And are you sure the function is being called, i.e. is label blue-colored?\r\n```\r\nreturn `<body> <span style=\"color:blue;\", id=\"myLabel\">${entityName.substring(0, Math.floor(entityName.length / 2))}</span></body>`;\r\n```"
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-09-30T15:24:46Z",
        "body": "> `` return `<body> <span style=\"color:blue;\", id=\"myLabel\">${entityName.substring(0, Math.floor(entityName.length / 2))}</span></body>`; ``\r\n\r\nYes, the function does get called. It does come back blue but when I add the substring code it stops working, even without a var."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-28T14:10:57Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 7305,
    "title": "[Question] Uplink Data converter : How to update the device profile if the deviceType has changed in the data converter ?",
    "created_at": "2022-09-20T13:10:35Z",
    "closed_at": "2022-09-29T14:11:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7305",
    "body": "Hello, I would like to know how to update the profile of a device if its deviceType has changed in the data converter (uplink).\r\nFor example : \r\n\r\nI have a device that has the deviceType equal to \"Version_1.0.0\" in Thingsboard.\r\n\r\nThen after a while, I change the payload sent by this device and I want that this device has now the deviceType : \"Version_1.0.1\".\r\n\r\nIs it possible to automatically assign the new profile \"Version_1.0.1\" to this device ? \r\nThe thing that I don't understand, is : \r\nIn my events tab of my data converter, the device has the correct deviceType (the new one) in the output of my data converter.\r\nBut in the list of all of my devices, this device keeps having the old device Profile.\r\nHow to keep the deviceProfile up to date ?\r\nThanks in advance,\r\n\r\nLucas",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7305/comments",
    "author": "lucasKapf",
    "comments": [
      {
        "user": "lucasKapf",
        "created_at": "2022-09-20T15:42:38Z",
        "body": "I have achieved it with a Rule Chain, but maybe an easier way exists ?"
      },
      {
        "user": "lucasKapf",
        "created_at": "2022-09-21T09:26:55Z",
        "body": "In fact my Rule Chain doesn't work properly. Issue re opened"
      },
      {
        "user": "Lenteguppie",
        "created_at": "2023-03-22T16:12:53Z",
        "body": "Hello @lucasKapf, \r\n\r\nWere you able to find a fix for this issue? I am encountering the same issue at the moment."
      }
    ]
  },
  {
    "number": 7291,
    "title": "thingsboard-java-client-sdk",
    "created_at": "2022-09-16T09:05:35Z",
    "closed_at": "2022-10-11T07:02:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7291",
    "body": "Is there a thingboard-java-client-sdk project",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7291/comments",
    "author": "struggle3",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2022-09-16T17:13:19Z",
        "body": "Hi, please tell more about what exactly you are looking for.\r\nThingsBoard can work with different devices or even with program emulators\\apps\\script that will send telemetry to ThingsBoard server."
      }
    ]
  },
  {
    "number": 7286,
    "title": "[Question] How can I update/add a server side attribute in a rule chain?",
    "created_at": "2022-09-15T15:49:52Z",
    "closed_at": "2023-07-03T12:29:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7286",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nIs it possible to change/add a server attribute based on incoming telemetry? I want to add a timestamp server attribute based on a telemetry value. I understand there is a save attributes node but this expects POST_ATTRIBUTES_REQUEST message types, whereas I need to add server attributes based on POST_TELEMETRY_REQUEST messages.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Linux\r\n * ThingsBoard: Cloud\r\n * Browser: FireFox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7286/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-09-15T15:57:50Z",
        "body": "You can save your telemetry and, after that, use the transformation script rule node to add the timestamp attribute to the message and change the message type to POST_ATTRIBUTES_REQUEST. Next, just add a save attributes rule node."
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-09-15T15:59:31Z",
        "body": "> You can save your telemetry and, after that, use the transformation script rule node to add the timestamp attribute to the message and change the message type to POST_ATTRIBUTES_REQUEST. Next, just add a save attributes rule node.\r\n\r\nYes I just managed it. Before when I tried setting msgType in the transformation script it said read only. I'm just setting it in the return statement now."
      },
      {
        "user": "ashvayka",
        "created_at": "2022-09-16T05:58:15Z",
        "body": "@OzyOzk , please share your script/rule chain for everyone else to save time on similar tasks. "
      },
      {
        "user": "devaskim",
        "created_at": "2022-09-16T17:26:50Z",
        "body": "> I tried setting msgType in the transformation script it said read only\r\n\r\nDon't try to change existing `msg` object. Instead create new one, set there _POST_ATTRIBUTES_REQUEST_ type and return it."
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-09-16T20:18:38Z",
        "body": "Here's the transformation script. This script should feed into a save attributes node to save the server side attribute. This will add \"last_unique_telemetry_ts\" to your device's server side attributes.\r\n\r\n`return {msg: {last_unique_telemetry_ts: Date.now()}, metadata: metadata, msgType: \"POST_ATTRIBUTES_REQUEST\"};`\r\n"
      },
      {
        "user": "jiekechoo",
        "created_at": "2022-09-22T03:39:02Z",
        "body": "I create a new attribute to device, but I can't use the new attribute in **Device Profile's Alarm Rules**. I have to modify the attribute manully. reference #7313 "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-07-03T12:29:32Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 7283,
    "title": "[Question] Combine exported pages in one new dashboard, unique IDs?",
    "created_at": "2022-09-15T09:01:59Z",
    "closed_at": "2022-11-07T16:39:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7283",
    "body": " * UI\r\n\r\n**Description**\r\nI want to combine two dashboards (pages) in one new dashboard by editing the json file so I don't have to do all the work again.\r\n\r\nIn the json file there are a lot of ID numbers,  do I need to change them?\r\n\"id\": \"bfca0f00-c159-937b-4e6b-4f3d393b5d78\"\r\n(I don't want widgets to be changed if the other dashboard changes)\r\n\r\nI assume when you import something it creates new ID's?\r\n(I also import the same dashboards so I don't have to start from nothing for a new one.)\r\n\r\n**Environment**\r\n * OS:  Ubuntu\r\n * ThingsBoard: PE 3.3.3\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7283/comments",
    "author": "KenSense",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2022-09-16T11:26:29Z",
        "body": "If you imported a dashboard that you already have and changed it, this change will not happen in another dashboard. Because the new dashboard was created with a different id.\r\nBut if you want to combine 2 dashboards into one, you need unique widget id inside one dashboard. Also the state coordinates of the widget must not overlap."
      }
    ]
  },
  {
    "number": 7279,
    "title": "[Question] Does using the \"Save time series\" rule node in a non-root rule chain cause the message to propagate through the root rule chain again?",
    "created_at": "2022-09-14T14:06:16Z",
    "closed_at": "2024-05-27T08:59:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7279",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nIf I were to have a rule chain A, which was used in the root rule chain, would a \"save time series\" rule node in rule chain A cause the message that's been passed to rule chain A to be propagated through the root rule chain again? The reason I'm asking is because I've been having duplicate telemetries come into rule chain A from the root rule chain.\r\n\r\n**Environment**\r\n * OS: AWS-Linux\r\n * ThingsBoard: 3.3.4.1PE-1\r\n * Browser: FireFox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7279/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2022-09-16T11:39:36Z",
        "body": "This can happen if you have a branching to \"save telemetry\" and \"go to rule chain A\". You have several options if you want only rule chain \"A\" to be used:\r\n* set a filter before the branching, which will forward the messages\r\n* create a device profile, assign a rule chain to it and add the device profile to the device. So the messages will not go to the root rule chain but will be processed immediately in the \"A\" rule chain."
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-09-19T21:23:06Z",
        "body": "> This can happen if you have a branching to \"save telemetry\" and \"go to rule chain A\". You have several options if you want only rule chain \"A\" to be used:\r\n> \r\n>     * set a filter before the branching, which will forward the messages\r\n> \r\n>     * create a device profile, assign a rule chain to it and add the device profile to the device. So the messages will not go to the root rule chain but will be processed immediately in the \"A\" rule chain.\r\n\r\nRule chain A is fed from the save tiemseries attribute of the root rule chain. I was under the impression that this would not cause telemtery duplication as all incoming messages have a unique message ID, so any save-timeseries node in rule chain A would just overwrite the original saved timeseries from the root rule chain. \r\n\r\nIs there a safe way of doing this? I need to edit and save additional telemetries in rule chain A so that I can send alarms correctly. The telemetry duplication is causing rule chain A to raise duplicate alarms."
      },
      {
        "user": "pon0marev",
        "created_at": "2024-05-15T13:23:21Z",
        "body": "If your issue is still relevant, export your rule chains and attach them to a request. So i can investigate the logic of your rule chains."
      },
      {
        "user": "pon0marev",
        "created_at": "2024-05-27T08:59:46Z",
        "body": "The issue has been closed due to inactivity. If you have additional questions or comments, you can reopen it."
      }
    ]
  },
  {
    "number": 7272,
    "title": "[Question] Reusing widget",
    "created_at": "2022-09-14T01:22:31Z",
    "closed_at": "2023-06-28T13:01:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7272",
    "body": "Hi,\r\n   I just wanna ask how do you guys reuse your widget. I'm trying to reuse my custom widget but the data overlaps because the container has the same div ID.  Any ideas?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7272/comments",
    "author": "Cmonkz",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-09-14T11:08:18Z",
        "body": "For what purpose are you using div ID?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:01:29Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7262,
    "title": "Interface 'IRenderer' incorrectly extends interface",
    "created_at": "2022-09-12T06:35:00Z",
    "closed_at": "2022-09-14T01:51:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7262",
    "body": "Error: node_modules/react-ace/src/types.ts:131:11 - error TS2430: Interface 'IRenderer' incorrectly extends interface 'VirtualRenderer'.\r\n  Property 'scroller' is optional in type 'IRenderer' but required in type 'VirtualRenderer'.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7262/comments",
    "author": "cr1405284875",
    "comments": [
      {
        "user": "amirmamaghani",
        "created_at": "2022-10-13T16:01:29Z",
        "body": "Having the same issue, any news?"
      }
    ]
  },
  {
    "number": 7226,
    "title": "[Question] Rule chain - Node to retrieve all related entities",
    "created_at": "2022-09-07T12:17:52Z",
    "closed_at": "2023-06-28T13:01:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7226",
    "body": "**Component**\r\n\r\n * Rule Engine\r\n\r\n**Description**\r\n\r\nWe would like to know if it is possible (or planned if not) to have the ability for a node to retrieve all related entities (all devices of an asset, or all assets of a client...), not only the first one as stated in the documentation :\r\n\"If multiple Related Entities are found, only the first Entity is used as new originator, other entities are discarded.\"\r\n\r\nFor instance if we want to retrieve an attribute from all devices under an asset, when the rule chain originator is an asset.\r\nThanks\r\n\r\n**Environment**\r\n\r\nCloud docker deployment with official Thingsboard PE images\r\nThingsBoard Version 3.4.1PE\r\nOS Name and Version: Docker host is debian buster, Docker version 20.10.12\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7226/comments",
    "author": "elietaillardat",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2022-11-24T15:14:25Z",
        "body": "ThingsBoard PE has a rule node \"duplicate to related\" that may duplicate messages to multiple other originators. So, you may use \"duplicate to related\" and then \"related attributes\" to process the incoming messages for each related entity. But you can't get the attribute for all related devices. The reason for this is basically a performance consideration. We don't want one message to cause a fetch of the attribute for 1000 related entities. \r\n\r\n Is this sufficient for your case?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:01:37Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7220,
    "title": "[MQTT Shared Attributes] how to fetch all shared attributes through MQTT at once from a device",
    "created_at": "2022-09-06T20:34:55Z",
    "closed_at": "2024-05-22T12:05:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7220",
    "body": "Component\r\n\r\n * Generic\r\n\r\n**Description**\r\nWe know that it is possible to request, using MQTT, one shared attribute from device to the server thorugh the path \"v1/devices/me/attributes/request/\", with the proper json string containing the keys we´d like to gatther. We also know that, before to send the request, it is necessary to subscribe to the topic \"v1/devices/me/attributes/response/+\". \r\n\r\nMy question is: how to retrieve all the shared attributes at once also using MQTT? I haven´t found any information about that in the documentation.\r\n\r\n\r\n**Environment**\r\n * OS:  Linux Ubuntu 22.04\r\n * ThingsBoard: 3.4.0-1\r\n * Browser: Chrome 105.0.5195.53\r\n * Device platform: ESP32-WROOM-32 (it is where the MQTT request comes from)\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7220/comments",
    "author": "mcavalcante",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T12:05:03Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 7205,
    "title": "[Question] ThingsBoardInstallation failed!",
    "created_at": "2022-09-04T23:23:29Z",
    "closed_at": "2022-09-09T06:51:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7205",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n \r\n**Description**\r\nWhen I install ThingsBoard v3.4.1, the installation does not complete and console display following errors:\r\n\r\nError creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\nThingsBoard installation failed!\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  ubuntu 20.04.05 LTS\r\n * ThingsBoard: v3.4.1\r\n * Browser: none\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7205/comments",
    "author": "SungWoo-Byun",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-09-05T11:16:55Z",
        "body": "Check your Postgres credentials and if thingsboard can connect to your Postgres database. "
      },
      {
        "user": "rsebi",
        "created_at": "2022-09-07T18:40:43Z",
        "body": "> \r\n\r\nHad the same issue, mine had special char '(' in the password, i removed all special characters and it worked."
      },
      {
        "user": "ashaforost",
        "created_at": "2022-09-08T07:09:57Z",
        "body": "If you do have special characters in your postgres password, you can just add quotation marks to the thingsboard.conf postgres pass: export SPRING_DATASOURCE_PASSWORD=\"password:):)\""
      },
      {
        "user": "rsebi",
        "created_at": "2022-09-08T16:23:37Z",
        "body": "> If you do have special characters in your postgres password, you can just add quotation marks to the thingsboard.conf postgres pass: export SPRING_DATASOURCE_PASSWORD=\"password:):)\"\r\n\r\nThanks for the insight @ashaforost i managed to successfully deploy a copy on-prem."
      },
      {
        "user": "drcanalli",
        "created_at": "2022-12-07T20:54:48Z",
        "body": "Yes, I had the same problem installing ThingsBoard, I removed the special characters and everything worked. I didn't try to put quotes with the recommended @ashaforost.\r\nMany thanks @ashaforost and @rsebi"
      }
    ]
  },
  {
    "number": 7191,
    "title": "[Question] Permanent API key for REST?",
    "created_at": "2022-09-01T18:02:37Z",
    "closed_at": "2024-05-13T13:34:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7191",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nIs it possible to create a long-lasting API key for REST services like ITTT to use? For instance I'd like the ability to update a device attribute from a REST API using a static URL (with an embedded API key).",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7191/comments",
    "author": "stopthatcow",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-09-02T07:27:43Z",
        "body": "As for 3.4.1 TB doesn't support API key "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-13T13:34:07Z",
        "body": "Closed to inactivity"
      }
    ]
  },
  {
    "number": 7188,
    "title": "Spring cloud",
    "created_at": "2022-09-01T13:35:24Z",
    "closed_at": "2024-05-13T13:33:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7188",
    "body": "I want  use  spring's cloud on this ,but  i find  same question .  I   want  yours  help me",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7188/comments",
    "author": "bxt001",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-13T13:33:46Z",
        "body": "Closed due to inactivity "
      }
    ]
  },
  {
    "number": 7170,
    "title": "Old thingsboard data into new one (same versions) using cassandra backup (var/lib/cassandra)",
    "created_at": "2022-08-30T10:37:06Z",
    "closed_at": "2022-09-07T06:47:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7170",
    "body": "Hey! \r\nI Have an old back up file (var/lib/cassandra) into an external drive from a thingsboard that i used in past. i just setup a new thingsboard and cassandra with the same versions as then (tb 2.4.4 / cassa 3.11 / ubuntu latest)  and in the cassandra yaml file i change the data_file directories from the local hdd (var/lib/cassandra/data) into the external one(/media/external_drive/backup/cassandra/data) etc. Then i try to start cassandra and i see the followings errors \r\n\r\nDEBUG [main] 2022-08-30 12:20:38,273 DatabaseDescriptor.java:497 - Error checking disk space\r\njava.nio.file.AccessDeniedException: /media/vasilis/External_Drive/OLD_M3_cassandra_backup/commitlog\r\n\r\nERROR [main] 2022-08-30 12:24:02,941 CassandraDaemon.java:803 - Exception encountered during startup\r\norg.apache.cassandra.exceptions.ConfigurationException: Unable to check disk space available to /media/vasilis/External_Drive/OLD_M3_cassandra_backup/commitlog. Perhaps the Cassandra user does not have the necessary permissions\r\n\r\n(same errors for the other directories like data, hints etc)\r\n\r\nAny idea on how to fix it? ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7170/comments",
    "author": "Vasilis-Dim",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2022-08-31T14:01:46Z",
        "body": "Perform a clean installation of the cassandra database. Then set an empty folder for the cassandra data in the configuration. Create a thingsboard keyspace and then restore the data to .../cassandra/data/thingsboard"
      },
      {
        "user": "Vasilis-Dim",
        "created_at": "2022-09-07T06:47:29Z",
        "body": "> Perform a clean installation of the cassandra database. Then set an empty folder for the cassandra data in the configuration. Create a thingsboard keyspace and then restore the data to .../cassandra/data/thingsboard\r\n\r\nThis did not help. I solve the problem when i change the database type from sql to cassandra in thingsboard.yml!\r\nThanks for your time! "
      }
    ]
  },
  {
    "number": 7167,
    "title": "[Question] Image map - image (disable drag - drop)",
    "created_at": "2022-08-30T02:44:21Z",
    "closed_at": "2024-05-20T12:44:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7167",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nCan I freeze image in the Image Map widget?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7167/comments",
    "author": "DaiNgocVu",
    "comments": [
      {
        "user": "rajSilikon",
        "created_at": "2022-11-15T01:55:07Z",
        "body": "Were you able to find a solution to this? I also want to freeze the image.\r\n\r\nI'm having issues wherein user are able to drag the image."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-14T14:14:18Z",
        "body": "Hi. Not sure if it is still relevant. \r\nThere is no standard functionality to disable dragging in Image Map, but you can try to use the next CSS snippet in Widget Settings → Widget Card → Card Style → Advanced Widget Style → Widget CSS:\r\n```\r\n.leaflet-grab {\r\n cursor: default !important;\r\n}\r\n.leaflet-pane.leaflet-map-pane {\r\n transform: none !important;\r\n}\r\n```"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-20T12:44:27Z",
        "body": "I close this ticket due to inactivity. Feel free to comment on it, and I will re-open it."
      }
    ]
  },
  {
    "number": 7160,
    "title": "Can we use authService with or without $injector inside the custom widget?",
    "created_at": "2022-08-27T06:28:08Z",
    "closed_at": "2022-11-05T11:47:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7160",
    "body": "**Component**\r\n * UI\r\n * Generic\r\n\r\n**Description**\r\nCan we use authService inside the custom widget?\r\n\r\n**Environment**\r\n * ThingsBoard: PE and CE\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7160/comments",
    "author": "dhaval2017",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-08-28T12:10:10Z",
        "body": "```\r\nlet authService = self.ctx.$scope.$injector.get(self.ctx.servicesMap.get('authService '));\r\n```"
      },
      {
        "user": "dhaval2017",
        "created_at": "2022-11-05T11:47:48Z",
        "body": "@devaskim thanks"
      }
    ]
  },
  {
    "number": 7152,
    "title": "[Question] widget compile error ",
    "created_at": "2022-08-26T03:12:25Z",
    "closed_at": "2022-11-29T15:31:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7152",
    "body": "\r\n**Description**\r\n  1. when to add widget to dashboard , chrome console logs : \r\n     errorMessages: (2) ['Failed to load default widget types!', 'Failed to compile widget html. \\n Error: JIT compiler unavailable']\r\n     widgetInfo: {type: 'latest', widgetName: 'Error loading widget', alias: 'error', sizeX: 8, sizeY: 6\r\n\r\n \r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7152/comments",
    "author": "langlichong",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2022-08-31T15:26:35Z",
        "body": "What version of thingsboard do you have? What widget do you add? Do you get this error when adding any widget or a specific one? Does it happen when adding a widget to a specific dashboard or to any dashboard?"
      }
    ]
  },
  {
    "number": 7149,
    "title": "[Question] Is it possible to limit which widgets / dashboard states a customer can see using permissions in TB-PE?",
    "created_at": "2022-08-25T14:52:23Z",
    "closed_at": "2024-05-23T15:29:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7149",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nI'm trying to limit how much a customer can see on the dashboard, i'd prefer not to create multiple dashboards since that becomes harder to maintain for the amount of devices & widgets per dashboard.\r\nBut some widgets have controls & views that I don't want the customer to use/see.\r\nI did find out you can read permissions of the user in the widget, but there's seems to be no way to set a custom permission resource that I can check for.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  PhotonOS\r\n * ThingsBoard: Thingsboard PE - 3.3.4.1PE running in a docker container\r\n * Browser: Chrome 104.0.5112.102\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7149/comments",
    "author": "DejonckheereWard",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T15:29:33Z",
        "body": "No way, you won't be able to differentiate widgets for different customers using RBAC or another standard ThingsBoard functionality. "
      }
    ]
  },
  {
    "number": 7147,
    "title": "Thingsboard 3.4.0 to 3.4.1 upgrade error",
    "created_at": "2022-08-24T15:03:20Z",
    "closed_at": "2022-08-25T13:43:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7147",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n\r\n**Description**\r\nInstallation error when upgrading from version 3.4.0 to 3.4.1\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 22.04.1 LTS\r\n * ThingsBoard: 3.4.0\r\n * Browser: Chrome\r\n\r\n-----------------------------------------------------------------------------------------------------------------------------------------------\r\nUnexpected error during ThingsBoard installation!\r\njava.lang.RuntimeException: org.postgresql.util.PSQLException: ERROR: no partition of relation \"error_event\" found for row\r\n  Detail: Partition key of the failing row contains (ts) = (1589794897763).\r\n  Where: SQL statement \"INSERT INTO error_event\r\n    SELECT id,\r\n           tenant_id,\r\n           ts,\r\n           entity_id,\r\n           body ->> 'server',\r\n           body ->> 'method',\r\n           body ->> 'error'\r\n    FROM\r\n    (select id, tenant_id, ts, entity_id, to_safe_json(body) as body\r\n     FROM event WHERE ts >= start_ts_in_ms and ts < end_ts_in_ms AND event_type = 'ERROR' AND to_safe_json(body) ->> 'server' IS NOT NULL\r\n    ) safe_event\r\n    ON CONFLICT DO NOTHING\"\r\nPL/pgSQL function migrate_regular_events(bigint,bigint,integer) line 51 at SQL statement\r\n        at org.thingsboard.server.dao.sql.event.SqlEventCleanupRepository.callMigrateFunction(SqlEventCleanupRepository.java:106)\r\n        at org.thingsboard.server.dao.sql.event.SqlEventCleanupRepository.callMigrateFunctionByPartitions(SqlEventCleanupRepository.java:90)\r\n        at org.thingsboard.server.dao.sql.event.SqlEventCleanupRepository.migrateEvents(SqlEventCleanupRepository.java:59)\r\n        at org.thingsboard.server.dao.sql.event.SqlEventCleanupRepository$$FastClassBySpringCGLIB$$c5eb007e.invoke(<generated>)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n        at org.thingsboard.server.dao.sql.event.SqlEventCleanupRepository$$EnhancerBySpringCGLIB$$1ce8a57f.migrateEvents(<generated>)\r\n        at org.thingsboard.server.dao.sql.event.JpaBaseEventDao.migrateEvents(JpaBaseEventDao.java:266)\r\n        at org.thingsboard.server.dao.event.BaseEventService.migrateEvents(BaseEventService.java:139)\r\n        at org.thingsboard.server.service.install.update.DefaultDataUpdateService.updateData(DefaultDataUpdateService.java:176)\r\n        at org.thingsboard.server.install.ThingsboardInstallService.performInstall(ThingsboardInstallService.java:227)\r\n        at org.thingsboard.server.ThingsboardInstallApplication.main(ThingsboardInstallApplication.java:48)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:467)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: no partition of relation \"error_event\" found for row\r\n  Detail: Partition key of the failing row contains (ts) = (1589794897763).\r\n  Where: SQL statement \"INSERT INTO error_event\r\n    SELECT id,\r\n           tenant_id,\r\n           ts,\r\n           entity_id,\r\n           body ->> 'server',\r\n           body ->> 'method',\r\n           body ->> 'error'\r\n    FROM\r\n    (select id, tenant_id, ts, entity_id, to_safe_json(body) as body\r\n     FROM event WHERE ts >= start_ts_in_ms and ts < end_ts_in_ms AND event_type = 'ERROR' AND to_safe_json(body) ->> 'server' IS NOT NULL\r\n    ) safe_event\r\n    ON CONFLICT DO NOTHING\"\r\nPL/pgSQL function migrate_regular_events(bigint,bigint,integer) line 51 at SQL statement\r\n        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\r\n        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\r\n        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\r\n        at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\r\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\r\n        at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\r\n        at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:153)\r\n        at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)\r\n        at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)\r\n        at org.thingsboard.server.dao.sql.event.SqlEventCleanupRepository.callMigrateFunction(SqlEventCleanupRepository.java:102)\r\n        ... 25 common frames omitted\r\nUnexpected error during ThingsBoard installation!\r\nThingsBoard upgrade failed!\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7147/comments",
    "author": "MCPule",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2022-08-25T08:19:21Z",
        "body": "It seems like the timestamp for some specific error event is out of bounds of migrating procedure. It is either a bug or invalid data on this particular event.\r\n\r\nYou can workaround this issue by truncating the table \"event\" before the upgrade. You will only lose your debug data as it only stores statistics, lifecycle, and debug events."
      },
      {
        "user": "MCPule",
        "created_at": "2022-08-25T08:59:13Z",
        "body": "@trikimiki, thanks for your response.\r\n\r\nHowever, I get the following error when I try to truncate the tables \"event\" or \"error_event\":\r\n\r\n---------------------------------------------------------------------------------------------------------------------------------\r\n\r\npostgres=# TRUNCATE TABLE event;\r\nERROR:  relation \"event\" does not exist\r\npostgres=# TRUNCATE TABLE error_event;\r\nERROR:  relation \"error_event\" does not exist\r\npostgres=#"
      },
      {
        "user": "trikimiki",
        "created_at": "2022-08-25T11:55:05Z",
        "body": "I think you are connected to the wrong DB: `postgres=#`\r\nTry connecting to \"thingsboard\" before executing the query:\r\n```\r\n\\c thingsboard\r\n```"
      },
      {
        "user": "MCPule",
        "created_at": "2022-08-25T13:43:32Z",
        "body": "@trikimiki, thanks for your support. We managed to upgrade with success."
      }
    ]
  },
  {
    "number": 7146,
    "title": "Is it possible to get the thingsbaord from ubuntu to windows",
    "created_at": "2022-08-24T12:55:43Z",
    "closed_at": "2022-08-31T07:50:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7146",
    "body": "I have installed Thingsboard on ubuntu and now i want to run it on windows, but I don't want to start over again",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7146/comments",
    "author": "gruberphilipp",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2022-08-25T08:13:54Z",
        "body": "You can backup your DB on Ubuntu, and restore it to your DB on Windows. "
      },
      {
        "user": "KenSense",
        "created_at": "2022-08-25T14:56:57Z",
        "body": "I moved from Windows to Ubuntu, same database.\r\nBut it's strongly recommended for PE to use Ubuntu instead of Windows so I would keep your setup."
      }
    ]
  },
  {
    "number": 7143,
    "title": "[Question] Admin User cannot edit dashboard",
    "created_at": "2022-08-24T10:23:08Z",
    "closed_at": "2022-08-29T09:57:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7143",
    "body": "I added a new admininistrator to a particular customer in order to allow him to edit his own dashboards.\r\nFor some reason at this particular customer the administrator does not see the pencil icon in the lower right corner of the dashboard which the admin needs to edit it. \r\nWith other customers where I did exactly the same thing the admin sees the pencil icon and can edit his dashboard.\r\nI haven't changed any rights at all but used always default configuration.\r\n\r\nAny idea why at a particular customer it is not possible? \r\nIs there any configuration required to make this work.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7143/comments",
    "author": "achenje",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-08-29T09:51:11Z",
        "body": "Hi @achenje \r\n\r\nMake sure that this customer user has read/write rights for the dashboard, dashboard group, widget type, and widget bundle resources. If all is in check, also ensure that your customer user has a direct link to the dashboard in question, as if you open this dashboard via 'navigate to other dashboard' action, write users won't be able to edit it anyway. "
      },
      {
        "user": "achenje",
        "created_at": "2022-08-29T09:57:56Z",
        "body": "Hi Anna,\r\n\r\nthanks for the reply and the hints. \r\nIn fact I resolved the issue by unchecking standard dashboard at the administrator user management.\r\n   "
      }
    ]
  },
  {
    "number": 7126,
    "title": "[Question] your title here",
    "created_at": "2022-08-22T07:49:21Z",
    "closed_at": "2022-09-06T09:41:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7126",
    "body": "Server attributes are not working through rule chain \r\n\r\n\r\n * Generic\r\n\r\n**Description**\r\nI have a feature where i need to create some server attributes for a device when it is created. So i created a rule chain to create those attributes. And based on the attribute value(true/false) i should generate an alarm. When i created the server attribute through rule chain that is not working(means alarm is not generating) until i update value in device server attributes. Or if i create the server attribute manually then alarm is generating. So to create server attribute through rule chain do we need to do any extra configurations to make it work? \r\n\r\n**Environment**\r\n * OS:  linux\r\n * ThingsBoard: 3.3.4.1\r\n \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7126/comments",
    "author": "laxmiprasannaBorigi",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-08-24T06:26:54Z",
        "body": "By design there is no additional rule chain notification about attribute was created/update from within rule chain. So you need to restructure your chains to cover such case manually."
      },
      {
        "user": "laxmiprasannaBorigi",
        "created_at": "2022-08-24T07:44:12Z",
        "body": "here my problem is attributes are not working through rule chain.. if i create manually or after update the created attributes from rule chain it is working..\r\nDo we need to do any configurations for the attributes we create from rule chain?"
      },
      {
        "user": "devaskim",
        "created_at": "2022-08-24T08:07:10Z",
        "body": "To create or update attribute from rule chain you need at least two nodes: (1) Transformation node and (2) Save attributes node.\r\n(1) In script windows add something like\r\n```\r\nreturn {msg: { 'YOUR_ATTR_NAME' : 12345 }, metadata: metadata, msgType: 'POST_ATTRIBUTES_REQUEST'};\r\n```\r\n(2) Select _Server attributes_ option"
      },
      {
        "user": "laxmiprasannaBorigi",
        "created_at": "2022-09-06T09:42:15Z",
        "body": "Working fine with solution provided\r\n"
      }
    ]
  },
  {
    "number": 7114,
    "title": "[Question] Rule Chain: Update Attribute and Delete relation ",
    "created_at": "2022-08-18T13:33:28Z",
    "closed_at": "2023-06-28T13:02:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7114",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nHello Thingsboard community. I am created my first rule chains and I would like to continue and make one which should:\r\n\r\n1. Detect a change in server attribute active (determined by Thingsboard) - When value changes to false - returns false.\r\n2. Deletes existing cointains relation. \r\n\r\nI am struggling with detecting that attribute change and sending related msg.\r\n\r\n\r\nThanks in advance for every tip!\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Win\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7114/comments",
    "author": "samokomo",
    "comments": [
      {
        "user": "serfreeman1337",
        "created_at": "2022-08-18T15:28:08Z",
        "body": "1. There is \"Activity Event\", \"Inactivity Event\" links from \"message type switch\" node. They both set \"active\" server attribute.\r\n\"Inactivty Event\" link will mean that \"active\" is false.\r\n2. There is \"delete relation\" node."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:02:02Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 7080,
    "title": "Rule Engine node timeout",
    "created_at": "2022-08-14T23:17:17Z",
    "closed_at": "2022-09-20T03:18:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7080",
    "body": "From ThingsBoard log file, there are many instances for rule engine node timeout (see example below). Such timeout happened at different nodes in the Rule Engine. Also for the scheduler report, the generated PDF file has no data inside due to timeout. I tried to set the following timeout setting in configuration file, but no effect.\r\nexport TB_QUEUE_RULE_ENGINE_PACK_PROCESSING_TIMEOUT_MS=10000\r\nexport TB_QUEUE_RE_MAIN_PACK_PROCESSING_TIMEOUT_MS=10000\r\n\r\nMay I know is this a bug or configuration issue?\r\n\r\nTimeout example: the Device Type Switch node contains only one line of code \"return metadata.deviceType\". However, timeout happened in this node which doesn't seem correct.\r\n2022-08-11 00:01:39,257 [tb-rule-engine-consumer-55-thread-29 | QK(Main,TB_RULE_ENGINE,system)-0] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [e808d060-1f71-11ec-8c21-71b893816a63] Timeout to process message: TbMsg(queueName=Main, id=a31083f7-6932-4a97-af7a-baef9f905025, ts=1660147297256, type=POST_TELEMETRY_REQUEST, originator=eeec2c30-aa7a-11ec-83ef-4d8b3f0dbb4a, customerId=68702bc0-aa75-11ec-83ef-4d8b3f0dbb4a, metaData=TbMsgMetaData(data={deviceType=tempSensor, ss_tempCalibrParaA=1, ss_tempCalibrParaB=0, deviceName=tff-emonth7, ts=1660147297254}), dataType=JSON, data={\"rssi\":-77}, ruleChainId=ba983400-437e-11ec-b25b-6fcda39d5495, ruleNodeId=ba9f8700-437e-11ec-b25b-6fcda39d5495, ctx=org.thingsboard.server.common.msg.TbMsgProcessingCtx@5012bc26, callback=org.thingsboard.server.common.msg.queue.TbMsgCallback$1@26247868), Last Rule Node: [RuleChain: Root Rule Chain PE|RuleNode: Device Type Switch(ba9f8700-437e-11ec-b25b-6fcda39d5495)]",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7080/comments",
    "author": "sunyong-mwi",
    "comments": [
      {
        "user": "Yuvi-gh",
        "created_at": "2022-08-17T05:53:40Z",
        "body": "I am too experiencing the same in v3.4.0. All the dataconverters and rulechains which worked very well in my previous version(3.2.1) is producing timeout errors in v3.4.0"
      },
      {
        "user": "sunyong-mwi",
        "created_at": "2022-08-18T01:53:57Z",
        "body": "I managed to solve the timeout issue by configuring the timeout setting in ThingsBoard database \"queue\" table. ThingsBoard reads the queue settings from database instead of from configuration file. Then what's the usage of the configuration file for the queues?"
      },
      {
        "user": "sunyong-mwi",
        "created_at": "2022-09-20T03:18:33Z",
        "body": "I just found that the queue timeout can be configured using system admin account."
      }
    ]
  },
  {
    "number": 7079,
    "title": "Calculate Storage based on Data Point ",
    "created_at": "2022-08-13T23:56:22Z",
    "closed_at": "2024-05-13T13:55:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7079",
    "body": "Hello everyone. Where can I calculate the total amount of storage I use? (for example, in MB, GB, or KB)? Because in the API usage, there are only storage data points in units of Million (M), not MB GB or KB\r\n\r\nHow to measure or convert data point size in MB, GB or KB\r\n\r\nThanks all. ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7079/comments",
    "author": "portalteknik",
    "comments": [
      {
        "user": "epalchenko",
        "created_at": "2024-05-13T13:55:34Z",
        "body": "Hello @portalteknik,\r\nThe ThingsBoard Platform does not have this functionality, because ThingsBoard does not have a built-in database. Here you need to look in postgres (or cassandra if you are using the hybrid) and write a query that will calculate this for you. We can only suggest you to use TTL (TimeToLive) to avoid eternal data and volumetric growth (if you need it, of course)."
      }
    ]
  },
  {
    "number": 7071,
    "title": "[Question] Can we change to a specific originator?",
    "created_at": "2022-08-11T11:25:08Z",
    "closed_at": "2024-06-11T13:25:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7071",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nIf a device belongs to two different assets, how can I change the originator to a specific one? In the documentation for the change originator node, it says that it will change to the first one. Is there a way around this?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS: Windows\r\n * ThingsBoard: Cloud\r\n * Browser: Mozilla\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7071/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-08-11T12:43:19Z",
        "body": "I think as of v3.4.0 it is possible only if device is binded with assets with different relation types, for example, CONTAINS and MANAGES and etc."
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-08-11T12:56:55Z",
        "body": "> I think as of v3.4.0 it is possible only if device is binded with assets with different relation types, for example, CONTAINS and MANAGES and etc.\r\n\r\nThanks. I think this will work for me right now, but it would be good to be able to choose the asset"
      },
      {
        "user": "myroslav-tb",
        "created_at": "2024-05-30T07:39:22Z",
        "body": "Hi @OzyOzk, in the latest version of Thingsboard (3.6.4), you can specify the asset name as the relation type.\r\n\r\nBest regards,\r\nMyroslav"
      },
      {
        "user": "myroslav-tb",
        "created_at": "2024-06-11T13:25:16Z",
        "body": "I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 7068,
    "title": "About syntaxerror of referencing parts through TB dashboard state",
    "created_at": "2022-08-11T03:09:53Z",
    "closed_at": "2024-07-02T15:14:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7068",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nHello:\r\n1. Open dashbaord\r\n2. Add a state named \"test\"\r\n3. Add a map to the state named \"test\" and set the data source\r\n4. Add a markdown / HTML card part in the state named \"default\"\r\n5. Add the following code to the markdown / HTML pattern in the markdown / HTML card component:\r\n```html\r\n<div class=\"market-layout\" style=\"width: 100%; height: 100%; padding: 0;\" fxLayout=\"column\">\r\n    <tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"false\" stateId=\"test\"></tb-dashboard-state>\r\n<div>\r\n```\r\n7. The prompt error contents are as follows:\r\n```json\r\nmessage: \"Expected \\\"=\\\", \\\"}\\\", or identifier but end of input found.\"\r\nname: \"SyntaxError\"\r\n```\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  centos 7\r\n * ThingsBoard: 3.3.3\r\n * Browser: Chrome 104.0.5112.81\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7068/comments",
    "author": "struggle3",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-08-11T05:57:55Z",
        "body": "Try to use brackets around _stateId_\r\n```\r\n[stateId]=\"'test'\"\r\n```\r\nor\r\n```\r\n[stateId]=\"test\"\r\n```"
      },
      {
        "user": "Backdraft007",
        "created_at": "2022-08-11T06:32:40Z",
        "body": "Your div doesn't close."
      },
      {
        "user": "struggle3",
        "created_at": "2022-08-11T13:48:02Z",
        "body": "> Try to use brackets around _stateId_\r\n> \r\n> ```\r\n> [stateId]=\"'test'\"\r\n> ```\r\n> \r\n> or\r\n> \r\n> ```\r\n> [stateId]=\"test\"\r\n> ```\r\n\r\nModify the code to [stateid] = \"test\" and still prompt syntax error"
      },
      {
        "user": "struggle3",
        "created_at": "2022-08-11T13:52:57Z",
        "body": "> Try to use brackets around _stateId_\r\n> \r\n> ```\r\n> [stateId]=\"'test'\"\r\n> ```\r\n> \r\n> or\r\n> \r\n> ```\r\n> [stateId]=\"test\"\r\n> ```\r\n\r\n```html\r\n<tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"false\" [stateId]=\"test\"></tb-dashboard-state>\r\n```"
      },
      {
        "user": "pon0marev",
        "created_at": "2022-08-11T14:13:45Z",
        "body": "Please try this:\r\n`<div class=\"market-layout\" style=\"width: 100%; height: 100%; padding: 0;\" fxLayout=\"column\">\r\n    <tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"false\" stateId=\"test\"></tb-dashboard-state>\r\n</div>`"
      },
      {
        "user": "struggle3",
        "created_at": "2022-08-12T13:11:02Z",
        "body": "> Please try this: `\r\n> \r\n> \r\n> <tb-dashboard-state [ctx]=\"ctx\" [syncParentStateParams]=\"false\" stateId=\"test\">\r\n> `\r\n\r\nThat's not good. I originally wrote this code. I was successful in thingsboard PE, but I was not successful in thingsboard CE."
      },
      {
        "user": "pon0marev",
        "created_at": "2024-06-19T14:34:54Z",
        "body": "Is this error reproduced on the latest version?"
      },
      {
        "user": "pon0marev",
        "created_at": "2024-07-02T15:14:14Z",
        "body": "The issue has been closed due to inactivity. If you have additional questions or comments, you can reopen it."
      }
    ]
  },
  {
    "number": 7065,
    "title": "Trendz analytics integration.",
    "created_at": "2022-08-10T10:41:57Z",
    "closed_at": "2022-08-29T15:21:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7065",
    "body": "How is thingsboard integrated with trendz analytics? Which protocol is exactly used by trendz analytics to pick up data from thingsboard?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7065/comments",
    "author": "primakovch",
    "comments": [
      {
        "user": "vparomskiy",
        "created_at": "2022-08-10T11:36:42Z",
        "body": "Trendz communicate with ThingsBoard via REST API"
      }
    ]
  },
  {
    "number": 7023,
    "title": "Calculate Price via two telemetry",
    "created_at": "2022-08-02T06:09:55Z",
    "closed_at": "2022-08-25T18:17:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/7023",
    "body": "Hey everyone,\r\nI need to calculate some prices in a dashboard.\r\nI have two telemetry-data: price and the value.\r\nI created a input field, where i am able to access and change the price, then i would need to multiply \"value * price\" and display that on a simple card. How could I access the data in \"data processing function\", cause it only allows me to use one of the value, but not both.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/7023/comments",
    "author": "rungg12",
    "comments": [
      {
        "user": "serfreeman1337",
        "created_at": "2022-08-02T15:56:15Z",
        "body": "* **Rule chains** - process price and value attributes update and set their multiplication result as new attribute\r\n  * \"message type switch\" node with \"Attrubtes Updated\" link\r\n  * \"check existence field\" node to check if price or value were updated\r\n  * use \"enrichment\" node to get other attribute (price or value)\r\n  * in \"script\" node perform multiplication and set result in new attribute name\r\n  * \"save attributes\" node\r\n* **Markdown/HTML Card** widget has function value where it possible to access any attrbiute.\r\n* Hacky way using **HTML Value Card** widget:\r\n  * ```html\r\n    <h1>Result title</h1>\r\n    <div class='column'>\r\n\t    <span id='my-value-123'></span> units.\r\n\t    <script>document.getElementById('my-value-123').innerHTML = ${price} * ${value};</script>  \r\n    </div>\r\n    ```"
      }
    ]
  },
  {
    "number": 6997,
    "title": "[Question] How to divide certain datakeys from [ctx]=\"ctx\" into different angular tabs",
    "created_at": "2022-07-27T10:02:34Z",
    "closed_at": "2024-06-12T14:28:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6997",
    "body": "**Widget**\r\n\r\nUpdate multiple attributes\r\n\r\n<tb-multiple-input-widget \r\n    [ctx]=\"ctx\">\r\n</tb-multiple-input-widget>\r\n\r\n\r\n * UI\r\n\r\n\r\n**Description**\r\n \r\nHaving many attributes in one datasource to update I'd love to have them sorted in angular tabs \r\n\r\n```\r\n<mat-tab-group>\r\n        <mat-tab label=\" First three attributes\">\r\n        </mat-tab>\r\n        <mat-tab label=\"Next three attributes\">\r\n        </mat-tab>\r\n        \"\"and so on...\"\"\r\n</mat-tab-group> \r\n```\r\n\r\nlike so, but I have not yet discovered any way how to access the datakeys present in the html/angular link \r\n\r\n```\r\n<tb-multiple-input-widget \r\n    [ctx]=\"ctx\">\r\n</tb-multiple-input-widget>\r\n\r\n```\r\n\r\n\r\nI'd appreciate it a lot if someone has found a solution to this or a way to make this work. ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6997/comments",
    "author": "X1folta",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-06-12T14:28:16Z",
        "body": "\r\nAs the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n\r\n"
      }
    ]
  },
  {
    "number": 6993,
    "title": "[Question] How to use Dashboard tooltip function with if statement?",
    "created_at": "2022-07-26T13:02:48Z",
    "closed_at": "2022-08-26T07:53:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6993",
    "body": "**Component**\r\n * UI\r\n\r\n**Description**\r\nI'm using latest (3.4) version from TB Comminity Edition. I have some Devices with different Device Profile and some Dashboards to visualize Timeseries from these Devices. As Dashboard Datasource I have two Devices with different Timeseries. I'd like to use Image Map's Tooltip function with If statement. \r\n\r\nExample: I have Device1 with DeviceProfile1 and Device2 with DeviceProfile2. I like to visualize Device1's Timeseries if DeviceType == \"DeviceProfile1\".\r\n\r\nI'm using the following Tooltip script:\r\n\r\n```\r\nvar deviceType = dsData[dsIndex]['Type'];\r\nif (typeof deviceType !== undefined) {\r\nif (deviceType == \"DeviceProfile1\") {\r\nreturn '{energy:2} kWt';\r\n} \r\n\r\nelse if (deviceType == \"DeviceProfile2\") {\r\nreturn '{temperature:2} °C';\r\n}\r\n}\r\n\r\n```\r\n\r\nBut the same thing happens in all cases. If its manage to display the desired key, it will be displayed on all devices, not only on those for which the condition applies. If its failed to display the desired keys, then nothing is displayed in the text bubble. I'd like to get your help in this issue. If you need more information about the error, please let me know.\r\n\r\nThanks in advance.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: 3.4\r\n * Browser: Mozilla 102.0.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6993/comments",
    "author": "peterandthejetsons",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-08-08T12:46:32Z",
        "body": "Use _console.log()_ to debug and look at output in browser DevTools in Console tab:\r\n```\r\nconsole.log('Data: ', dsData[dsIndex])\r\n```"
      },
      {
        "user": "peterandthejetsons",
        "created_at": "2022-08-26T07:53:36Z",
        "body": "Dear devaskim!\r\n\r\nSorry for my late answer, i tried your suggestion and its working now. Thank you for your help.\r\n\r\nBest regards,\r\nPeter"
      }
    ]
  },
  {
    "number": 6992,
    "title": "[Question] Edit ThingsBoard login page HTML code.",
    "created_at": "2022-07-26T09:03:41Z",
    "closed_at": "2023-06-28T13:04:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6992",
    "body": "\r\nHi, I want to know if it is possible to edit the HTML code for ThingsBoard's login page (not Whitelabeling or just css). Basically I want to run a custom script when the page loads.\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.04.3 LTS\r\n * ThingsBoard: 3.2.2 PE\r\n * Browser: Google Chrome \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6992/comments",
    "author": "ghost",
    "comments": [
      {
        "user": "skewty",
        "created_at": "2022-07-31T16:45:25Z",
        "body": "Yes. Extract contents of thingsboard jar file. Make the changes to the source code and create the jar file again.\r\nIf you are looking for a GUI to change every bit of the app, it doesn't exist.\r\n\r\nThe ThingsBoard client side code is mostly Angular version 11 components."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:04:33Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6974,
    "title": "Unable to open thingsboard account on thingsboard PE cloud",
    "created_at": "2022-07-20T09:54:28Z",
    "closed_at": "2022-08-25T18:14:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6974",
    "body": "I tried updating my free trail thingsboard PE cloud account. After giving card details, the process was interrupted by an error.\r\nNow when I try to login my account it is showing the following error\r\nGET: /api/billing/tenant/customer\r\n404: OK\r\nand I am unable to login.\r\nPlease help me ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6974/comments",
    "author": "mubashirp",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2022-08-08T16:31:02Z",
        "body": "Hello,\r\nDo you can log in from Private\\Incognito window or different browser?\r\nAlso do you try to login again after some time?"
      }
    ]
  },
  {
    "number": 6927,
    "title": "Configure data converter using Gateway Configuration Widget",
    "created_at": "2022-07-12T10:49:06Z",
    "closed_at": "2024-06-12T15:04:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6927",
    "body": "Gateway Configuration Widget\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Widget\r\n\r\n**Description**\r\nIs there a way to configure custom data converter using the gateway configuration widget?\r\n\r\ncurrent gateway configuration widget create thinsboard_gateway.yaml file without the configuration option.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6927/comments",
    "author": "yohnniebabe",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-06-12T15:04:15Z",
        "body": "Closed due to obsolete widget."
      }
    ]
  },
  {
    "number": 6925,
    "title": "Do have any example of customize widget that enable the function export widget data to excel?",
    "created_at": "2022-07-12T10:05:04Z",
    "closed_at": "2024-07-17T13:50:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6925",
    "body": "Hi, currently I  am using TB server with the CE edition.\r\n\r\nDo have any recommendation if I try to do the feature at the widget to export the data from the widget to excel form?\r\nI have review some similar question about it can be done by using custom widget, any recommendation? Is that possible?\r\n\r\nOr do have any example code/sample custom widget to review to do custom widget that enable the export widget data to excel?\r\n\r\nAny suggestion is appreciated.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6925/comments",
    "author": "ngsuityan",
    "comments": [
      {
        "user": "dmglogowskiOS",
        "created_at": "2023-06-19T14:18:42Z",
        "body": "Any info on this?\r\nWe have a need to create a custom widget to export all requested DataSources from a given timeframe into a .csv file."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-17T13:50:45Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6902,
    "title": "[Question] How to get device (connected, disconnected) logs.",
    "created_at": "2022-07-08T03:46:40Z",
    "closed_at": "2022-12-27T15:14:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6902",
    "body": "**Component**\r\n * UI\r\n * Rule Engine\r\n * Generic\r\n\r\n**Description**\r\nHow to get device (connected, disconnected) logs.\r\n\r\n**Environment**\r\n * OS:  SentOS 8\r\n * ThingsBoard: 3.3.4.1 pe\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6902/comments",
    "author": "psxbox",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-07-08T14:41:09Z",
        "body": "As I know, out of the box you can get current connectivity status of device from value of server-side attribute called `active` or subscribe to its changes."
      },
      {
        "user": "ashaforost",
        "created_at": "2022-08-30T11:38:07Z",
        "body": "You can also try changing the state.persistToTelemetry thingsboard.yml parameter to true. This will allow you to have a record of device state changes in the device's telemetry."
      }
    ]
  },
  {
    "number": 6890,
    "title": "rpc call response changed between 3.1.0 and 3.3.4.1",
    "created_at": "2022-07-07T03:05:09Z",
    "closed_at": "2022-08-25T18:13:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6890",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nthe way that deal with rpc call is different between 3.1.0 and 3.3.4.1,in 3.1.0 it won't return util device response is returned,but in 3.3.4.1,it will return immediatly without waiting for device reponse,only return rpcId,actually you can query rpc response from database,but i'am wondering why would be designed like this in 3.3.4.1?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6890/comments",
    "author": "john1337",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2022-07-11T11:47:55Z",
        "body": "Hi @john1337,\r\nTo return the previous behavior of RPC commands, use the **persistent** parameter set to **false**. This was given for sending commands to active devices once every sub-hour or hour."
      }
    ]
  },
  {
    "number": 6877,
    "title": "Is it possible to create pop up alarm window with Thingsboard when the main window is minimized but Browser is open?",
    "created_at": "2022-07-05T05:03:46Z",
    "closed_at": "2023-05-17T13:23:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6877",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6877/comments",
    "author": "patilnikii",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2023-01-13T15:01:39Z",
        "body": "hi, there isn't such feature for now.\r\nas workaround you can create a Rule Chain with REST API call that will send you message via SMS or messenger apps (telegram or chat apps)"
      }
    ]
  },
  {
    "number": 6874,
    "title": "[Question] “generate report” node in an endless loop",
    "created_at": "2022-07-04T14:13:10Z",
    "closed_at": "2022-08-25T15:41:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6874",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nWe have a rule chain that receives messages from an IoT device. \r\nWe add server side attributes with the getClientAttributes. \r\nWe then do some post processing in a script node. \r\nFinally we want to generate a report and send it out by mail. \r\n\r\nOur problem: the node \"generate report\" generates PDF reports in an endless loop. \r\n\r\nInteresting: when the script node is not connected to the \"generate report\" out script performes as expected. But when connected, it seems to get stuck where it sends out the message and repetitively sends out the similar message. \r\n\r\n**Environment**\r\nWe use the generate report node in the rulechain feature in TBv3.3.4.1PE. \r\nFirefox 101\r\n\r\nIs this a known behavior? Any hints how to debug? \r\n\r\nAny help greatly apreciated. \r\n\r\nThanks, \r\nChris",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6874/comments",
    "author": "chriebeck",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2022-07-11T07:01:18Z",
        "body": "Can you please post a screenshot of your rule chain?"
      },
      {
        "user": "pon0marev",
        "created_at": "2022-08-11T14:48:57Z",
        "body": "Please attach thingsboard logs and how your rule chain is configured."
      }
    ]
  },
  {
    "number": 6873,
    "title": "[Question] Same dashboard for all customers",
    "created_at": "2022-07-04T11:49:42Z",
    "closed_at": "2023-06-29T13:33:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6873",
    "body": "**Component**\r\n * UI\r\n * Generic\r\n\r\n**Description**\r\n\r\nI have a project with one device profile, many devices and customers. All customers will use mobile application to access their unique devices. I've installed thingsboard server, created a device profile, a device (with the created profile), a customer, and a user for that customer. Then thanks to your ESP8266 GPIO control guide, i could realize a working platform that i can control my ESP8266 board with Android mobile application (with necessary dashboard). In device profile, Mobile Dashboard is also changed to the GPIO dashboard.\r\n\r\nSo far, everything is ok. But there is one thing i don't understand. If customers will not be assigned to the dashboard, it will not be visible for users, and i get permission error (With adb chrome debug). Tried to make dashboard public, but nothing has changed. Should i create new dashboard for every customer or assign all customers to the dashboard? Looked in to the dashboard table in database and it doesn't look possible to add too many customers, because of the structure (assigned_customers header). I want to show the same dashboard for all users.\r\n\r\nThanks.\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: 3.3.4\r\n * Browser: Google Chrome 103.0.5060.66\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6873/comments",
    "author": "Orion4048",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-07-04T15:15:16Z",
        "body": "I didn't hear what there are any limits to number of assigned customers."
      },
      {
        "user": "Orion4048",
        "created_at": "2022-07-05T06:32:39Z",
        "body": "Technically you can, but customers are being added in one field with json format like this:\r\n\r\n[{\"customerId\":{\"entityType\":\"CUSTOMER\",\"id\":\"cc8ff620-e658-11ec-8bb1-7f06850a62ef\"},\"title\":\"Adam\",\"public\":false},{\"customerId\":{\"entityType\":\"CUSTOMER\",\"id\":\"6ad181e0-e00b-11ec-b7b9-ef840862eb43\"},\"title\":\"Public\",\"public\":true}]\r\n\r\nI don't know, if too many customers were added to this field, performance might be effected as well. Didn't test it though. This field's character limit is 1000000. But if this is the only way to share the same dashboard, then it is ok for me.\r\n\r\nThanks."
      },
      {
        "user": "wifff",
        "created_at": "2022-07-07T08:41:22Z",
        "body": "Hi Orion4048,\r\nI have a quite similar problem to solve. A \"one-page\" dashboard for each customer accessible via browser and mobile.\r\nI would like to switch off the navigation options and standard menus (shown in the sidebar) except the logout button.\r\nI am using the CE of Thingsboard.\r\n\r\nBest regards and many thanks \r\nWolfgang"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:33:39Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6870,
    "title": "[Question] 'onLoaded' callback method for custom map widget?",
    "created_at": "2022-07-04T08:11:56Z",
    "closed_at": "2024-05-13T14:18:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6870",
    "body": "I've created a little custom map widget which uses         `self.ctx.dashboard.dashboardTimewindowChangedSubject.next(newDashboardtimewindow);` to change the dashboard's timewindow within the \"onInit\"-method. \r\n\r\nHowever, this change of the timewindow doesn't become apparent for the other widgets of the dashboard (chart widget still showing default timewindow).\r\n\r\nOnly after using `updateAliases()`  this change becomes effective. \r\nYet, this needs to happen **AFTER**  the map widget has been loaded. \r\nIf I put  `self.ctx.updateAliases()` at the end of the onInit()-Method of my custom widget, this is too early.\r\n\r\nIs there something like an `onLoaded()`-method which triggers after the Widget has been fully loaded?\r\nI believe this would be the proper location for updateAliases()",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6870/comments",
    "author": "eeitnn",
    "comments": [
      {
        "user": "mde2017",
        "created_at": "2022-07-04T12:29:54Z",
        "body": "Hi @eeitnn,\r\n\r\nHave you tried using the following function to set the dashboard timewindow? \r\nI previously used this with `onInit()` for a line chart.\r\n\r\n`self.ctx.timewindowFunctions.onUpdateTimewindow(startTimeMs, endTimeMs);`"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-13T14:18:06Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 6850,
    "title": "[Question] Is there a way to hide, protect or lock rule chains?",
    "created_at": "2022-06-29T08:00:45Z",
    "closed_at": "2023-05-17T13:24:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6850",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nWe develop an application for the customer that consists of, among other things, specific rule chains.\r\n\r\nIn addition, we also want to give the customer the opportunity to develop rule chains themselves (next to the rule chains we created).\r\n\r\nWe just don't want the customer to also view or change the rule chains that we have developed. That is why we want to protect it from the customer, i.e. hide or lock them. To make sure we protect our intellectual property but also to make sure nothing is changed that will break our logic.\r\n\r\nIs there a way to get this done?\r\n\r\nWe tried using different tenant and customer environments but to no avail.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6850/comments",
    "author": "technorabilia",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2023-01-13T15:37:48Z",
        "body": "unfortunately, ThingsBoard doesn't have such feature.\r\nyou can't hide or lock Rule Chain from other user under one tenant and allow them create create different ones.\r\nunder single Tenant you can only change full right to write\\read\\create\\delete on all Rule Chains."
      }
    ]
  },
  {
    "number": 6828,
    "title": "where is ota package that i have upload",
    "created_at": "2022-06-27T01:07:08Z",
    "closed_at": "2022-08-25T15:49:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6828",
    "body": " i want to know when i upload an ota package, where is it on my pc directory ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6828/comments",
    "author": "onoeono",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2022-08-08T16:36:20Z",
        "body": "Hi, all thingsboard data stored in PostgreSQL in any type of setup (PostgreSQL or Hybrid).\r\nAll packages are stored in `ota_package` table in PSQL database.\r\nAnd FOTA and SOTA."
      }
    ]
  },
  {
    "number": 6826,
    "title": "[Question] How to use  Entity view in RPC widget ",
    "created_at": "2022-06-26T09:50:19Z",
    "closed_at": "2024-08-01T12:49:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6826",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n \r\n**Description**\r\nIf I want to share the same device on multiple dashboards, I will use entity view, but entity view cannot be used in RPC widget. In multiple RPC widgets, how can I use entity view?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: 3.3.2\r\n * Browser: Google chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6826/comments",
    "author": "pegah-mir",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-01T12:49:35Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6792,
    "title": "implementing PostgreSQL in Custom rulenode ",
    "created_at": "2022-06-22T12:58:52Z",
    "closed_at": "2022-07-05T07:32:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6792",
    "body": "i was creating custom rule node based on my requirement and saving the data to DB is also a requirement, so that we can keep a track back processing data. can i implement db in custom rule node??\r\n\r\n**Environment**\r\n * OS:  Windows and 10\r\n * ThingsBoard: 3.3.4\r\n * Browser: ,chrome and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6792/comments",
    "author": "RajeshSavanth",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2022-06-22T14:21:24Z",
        "body": "You can check out the \"save to custom table\" rule node code, if you want to implement something similar - this node saves data to a custom Cassandra table.\r\n\r\nIf you are not strictly required to use Postgres for timeseries data - I would recommend using this node instead."
      }
    ]
  },
  {
    "number": 6789,
    "title": "[Question] Add user to multiple groups (PE)",
    "created_at": "2022-06-22T11:20:43Z",
    "closed_at": "2022-06-22T14:58:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6789",
    "body": "**Component**\r\n\r\n * UI\r\n\r\n**Description**\r\nPE user guide states that \"One user can simultaneously belong to several user groups\"\r\nHow it is possible to manage user<->relationship ?\r\n\r\n**Environment**\r\n * OS:  any\r\n * ThingsBoard: 3.2.2 PE\r\n * Browser: any\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6789/comments",
    "author": "ganzuoni",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2022-06-22T14:10:13Z",
        "body": "You can mark a user an then you can click on the rounded + (Add to group) in the right top corner."
      },
      {
        "user": "ganzuoni",
        "created_at": "2022-06-22T14:58:32Z",
        "body": "OMG\r\nThank you"
      }
    ]
  },
  {
    "number": 6766,
    "title": "compile error",
    "created_at": "2022-06-21T06:51:10Z",
    "closed_at": "2024-04-25T07:09:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6766",
    "body": "when i compile thingsboard with `mvn clean install -DskipTests`to ui-ngx module, mavne run `yarn install` command, my computer remind me that `this application can't run on your pc`\r\nbut i can use `yarn install` command in ui-ngx directory with cmd, and it goes success. ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6766/comments",
    "author": "onoeono",
    "comments": [
      {
        "user": "knva",
        "created_at": "2025-02-14T02:22:02Z",
        "body": "Because Maven downloads node.exe to the location ui-ngx/target/node, it cannot run."
      }
    ]
  },
  {
    "number": 6765,
    "title": "thingsboard failed",
    "created_at": "2022-06-21T06:12:35Z",
    "closed_at": "2022-08-04T14:05:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6765",
    "body": "****\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  windows 10 and latest\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n\r\n\r\nC:\\Program Files (x86)\\Thingsboard\\thingsboard>install.bat -loadDemo\r\nDetecting Java version installed.\r\nCurrentVersion 110\r\nJava 11 found!\r\nInstalling thingsboard ...\r\nThingsBoard installation failed!C:\\Program Files (x86)\\Thingsboard\\thingsboard>install.bat -loadDemo\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6765/comments",
    "author": "Rujanth-c6",
    "comments": [
      {
        "user": "onoeono",
        "created_at": "2022-06-21T06:45:07Z",
        "body": "maybe u can try to run ThingsboardInstallApplication.java with --loaddemo argument in application module.\r\nremember to copy dao/src/main/resources/sql directory to application/src/main/data before u run"
      },
      {
        "user": "trikimiki",
        "created_at": "2022-06-22T14:28:53Z",
        "body": "I think there is a typo in your command - you should run with parameter `--loadDemo`, not `-loadDemo`\r\n\r\nIf you will still have issues - could you please share installation logs? They are located in `C:\\Program Files (x86)\\thingsboard\\logs\\intstall.log` by default "
      }
    ]
  },
  {
    "number": 6755,
    "title": "which protobuf plugin should i used?",
    "created_at": "2022-06-20T10:30:24Z",
    "closed_at": "2024-04-26T06:36:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6755",
    "body": "i'm using idea 2021.3.3,i have already compile thingsboard,but there is two error in org/thingsboard/server/service/apiusage/TbApiUsageStateService.java and org/thingsboard/server/service/apiusage/DefaultTbApiUsageStateService.java.\r\nthe error said Cannot resolve symbol 'TransportProtos' on import org.thingsboard.server.gen.transport.TransportProtos.ToUsageStatsServiceMsg; and\r\nimport org.thingsboard.server.gen.transport.TransportProtos.UsageStatsKVProto;\r\ni found that protobuf has bundled in idea 2021.1x and above. i found there is many protobuf plugins in idea plugin market. so which protobuf plugin should i use to resolve that error.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6755/comments",
    "author": "onoeono",
    "comments": [
      {
        "user": "JcBernack",
        "created_at": "2022-06-20T16:51:11Z",
        "body": "First you should make sure that the whole thing builds with maven, i.e. `mvn clean package -DskipTests` in the root folder. This will also compile the protobuf schemas and generate corresponding java sources.\r\n\r\nAfterwards you should be able to fix the missing symbols in IDEA by properly marking the generated sources directories.\r\nFor example, there is `common/cluster-api/target/generated-sources/protobuf/java`, right click -> mark directory as -> generated sources root. There might be more of these that you need to mark."
      },
      {
        "user": "onoeono",
        "created_at": "2022-06-21T02:18:36Z",
        "body": "According to what u said, i checked my directory,that is already marked as generated sources root, but the error still exists in my project&nbsp;org/thingsboard/server/service/state/DefaultDeviceStateService.java --&nbsp;import org.thingsboard.server.gen.transport.TransportProtos;\r\nso what should i do?\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"thingsboard/thingsboard\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2022年6月21日(星期二) 凌晨0:51\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [thingsboard/thingsboard] which protobuf plugin should i used? (Issue #6755)\r\n\r\n\r\n\r\n\r\n\r\n \r\nFirst you should make sure that the whole thing builds with maven, i.e. mvn clean package -DskipTests in the root folder. This will also compile the protobuf schemas and generate corresponding java sources.\r\n \r\nAfterwards you should be able to fix the missing symbols in IDEA by properly marking the generated sources directories.\r\n For example, there is common/cluster-api/target/generated-sources/protobuf/java, right click -&gt; mark directory as -&gt; generated sources root. There might be more of these that you need to mark.\r\n \r\n—\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nYou are receiving this because you authored the thread.Message ID: ***@***.***&gt;"
      }
    ]
  },
  {
    "number": 6753,
    "title": "[Question]  store value in the widget setting",
    "created_at": "2022-06-20T04:29:16Z",
    "closed_at": "2024-06-12T14:18:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6753",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nI want to   store some value in the widget setting when button is click. I can update them with \"self.ctx.settings.propertyName = Value\". The value is update to advance setting, But is not saved. When I refresh the page all setting will be gone. After I click the button, I have to click edit(pen)>>save(checkmark) to save the setting.\r\nI can change \"self.ctx.widgetConfig\" and everything is saved, but why \"self.ctx.settings\" not save?\r\n\r\nAre there anyway to save setting the setting from js part?\r\nOr are there better way to store some data in the widget itself?\r\n\r\n\r\nI understand the subscription process and get data from device itself, but this way would work better in my case because I am working on central widget which need to know last set state. \r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6753/comments",
    "author": "Nonta-w",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-06-12T14:18:04Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 6751,
    "title": "[Question] How to deal with firmware delta ota",
    "created_at": "2022-06-18T15:19:30Z",
    "closed_at": "2024-06-11T13:29:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6751",
    "body": "**Component**\r\n * OTA\r\n\r\n**Description**\r\nVersion 002 delta ota is used to upgrade firmware version from 001 to 002\r\nVersion 003 delta ota is used to upgrade firmware version from 002 to 003\r\n\r\nIf a device is in version 001 and it is in shutdown status, then we apply version 002 and 003 delta ota to it in sequence, then we boot up the device, what will happen?\r\n\r\n**Environment**\r\n * ThingsBoard: 3.3.4.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6751/comments",
    "author": "maksonlee",
    "comments": [
      {
        "user": "myroslav-tb",
        "created_at": "2024-05-31T05:53:19Z",
        "body": "Hi @maksonlee, the Thingsbord starts the update process only when the device is active. If you apply version 002 when device is shutdown Thingsbord will not send it to the device. If you apply version 003 after and device became active Thingsboard will send version 003 to the device.\r\n\r\nBest regards,\r\nMyroslav"
      },
      {
        "user": "myroslav-tb",
        "created_at": "2024-06-11T13:29:57Z",
        "body": "I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 6738,
    "title": "Custom Validator  on FormArray-level prevents submit in custom action?",
    "created_at": "2022-06-17T09:53:57Z",
    "closed_at": "2024-05-14T14:52:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6738",
    "body": "I've managed to include a custom validator into my form within a custom-action with html-template.\r\nFor this, I've simply defined a class and created an object from it:\r\n\r\n```\r\n    class customValidator {\r\n        constructor(){\r\n            this.isModelValid=true;\r\n        }\r\n        validate(c){        \r\n            let vals = c.value.map(item=>item.field2);\r\n            let sum = vals.reduce((previousValue, currentValue) => previousValue + currentValue,0);\r\n            return sum != 100 ? {'adduperror':true}: {'adduperror':false};\r\n        }\r\n        \r\n    }\r\n    vm.addupValidator= new customValidator();\r\n```\r\n\r\nThis validator was added to the fb.array-method of the instance.\r\n\r\n```\r\n     vm.addEntityFormGroup = vm.fb.group({\r\n     entityName: [''],\r\n     entityType: ['DEVICE'],\r\n     entityLabel: [null],\r\n\r\n     // similar to how relations-list is constructed\r\n     myarr: vm.fb.array([     vm.fb.group({\r\n        field1: [null, [vm.validators.required]],\r\n        field2 [null, [vm.validators.required,\r\n                      vm.validators.pattern(/^[0-9][0-9]?$|^100$/),\r\n                      ]]\r\n     })],[vm.addupValidator])\r\n     \r\n    });\r\n```\r\nValidation does indeed work as expected. However, the validator somehow doesn't allow me to submit the form (greyed out submit button)\r\n\r\nWhat am I missing?\r\nIs there another method I need to add to my validator class?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6738/comments",
    "author": "eeitnn",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-06-17T10:20:04Z",
        "body": "Validator should return not an object but `null` in case of no error."
      },
      {
        "user": "eeitnn",
        "created_at": "2022-06-17T10:33:32Z",
        "body": "@devaskim : that fixed it. Thank you"
      },
      {
        "user": "clemjrt",
        "created_at": "2023-03-27T14:55:14Z",
        "body": "Can you please provide the HTML of your custom widget ?\r\nI am facing some issues while using FormArray in a FormControl. \r\nTy by advance."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-14T14:52:13Z",
        "body": "Closed due to inactivity."
      }
    ]
  },
  {
    "number": 6723,
    "title": "[Question] Failed to build source code. Maven",
    "created_at": "2022-06-15T10:50:09Z",
    "closed_at": "2023-06-28T13:04:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6723",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n\r\n**Description**\r\nMaven failed to build source code. 32/46 - Thingboards Server UI\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Win 10\r\n * ThingsBoard: community\r\n * Browser: Opera\r\n\r\n[INFO] Reactor Summary for Thingsboard 3.3.4-SNAPSHOT:\r\n[INFO]\r\n[INFO] Thingsboard ........................................ SUCCESS [ 17.613 s]\r\n[INFO] Netty MQTT Client .................................. SUCCESS [  3.647 s]\r\n[INFO] Thingsboard Server Commons ......................... SUCCESS [  0.826 s]\r\n[INFO] Thingsboard Server Common Data ..................... SUCCESS [ 10.418 s]\r\n[INFO] Thingsboard Server Common Utils .................... SUCCESS [  1.853 s]\r\n[INFO] Thingsboard Server Common Messages ................. SUCCESS [  3.963 s]\r\n[INFO] Thingsboard Actor system ........................... SUCCESS [  1.962 s]\r\n[INFO] Thingsboard Server Stats ........................... SUCCESS [  0.759 s]\r\n[INFO] Thingsboard Server Common Cluster API .............. SUCCESS [ 11.118 s]\r\n[INFO] Thingsboard Server Queue components ................ SUCCESS [  6.023 s]\r\n[INFO] Thingsboard Server Common Cache .................... SUCCESS [  1.849 s]\r\n[INFO] Thingsboard Server Commons ......................... SUCCESS [  0.255 s]\r\n[INFO] Thingsboard Server Common Transport components ..... SUCCESS [  6.295 s]\r\n[INFO] Thingsboard MQTT Transport Common .................. SUCCESS [  3.451 s]\r\n[INFO] Thingsboard HTTP Transport Common .................. SUCCESS [  1.660 s]\r\n[INFO] Thingsboard CoAP server ............................ SUCCESS [  1.607 s]\r\n[INFO] Thingsboard CoAP Transport Common .................. SUCCESS [  3.457 s]\r\n[INFO] Thingsboard LwM2M Transport Common ................. SUCCESS [  4.374 s]\r\n[INFO] Thingsboard SNMP Transport Common .................. SUCCESS [  3.156 s]\r\n[INFO] Thingsboard Server Common DAO API .................. SUCCESS [  2.083 s]\r\n[INFO] Thingsboard Server Remote Edge wrapper ............. SUCCESS [  6.372 s]\r\n[INFO] Thingsboard Extensions ............................. SUCCESS [  0.186 s]\r\n[INFO] Thingsboard Rule Engine API ........................ SUCCESS [  2.873 s]\r\n[INFO] Thingsboard Server DAO Layer ....................... SUCCESS [ 12.592 s]\r\n[INFO] Thingsboard Rule Engine Components ................. SUCCESS [  7.660 s]\r\n[INFO] Thingsboard Server Transport Modules ............... SUCCESS [  0.070 s]\r\n[INFO] Thingsboard HTTP Transport Service ................. SUCCESS [ 24.939 s]\r\n[INFO] Thingsboard MQTT Transport Service ................. SUCCESS [ 23.298 s]\r\n[INFO] Thingsboard CoAP Transport Service ................. SUCCESS [ 22.806 s]\r\n[INFO] Thingsboard LwM2m Transport Service ................ SUCCESS [ 23.591 s]\r\n[INFO] Thingsboard SNMP Transport Service ................. SUCCESS [ 22.144 s]\r\n[INFO] ThingsBoard Server UI .............................. FAILURE [ 22.888 s]\r\n[INFO] Thingsboard Server Tools ........................... SKIPPED\r\n[INFO] Thingsboard Rest Client ............................ SKIPPED\r\n[INFO] ThingsBoard Server Application ..................... SKIPPED\r\n[INFO] ThingsBoard Microservices .......................... SKIPPED\r\n[INFO] ThingsBoard Docker Images .......................... SKIPPED\r\n[INFO] ThingsBoard JavaScript Executor Microservice ....... SKIPPED\r\n[INFO] ThingsBoard Web UI Microservice .................... SKIPPED\r\n[INFO] ThingsBoard Node Microservice ...................... SKIPPED\r\n[INFO] ThingsBoard Transport Microservices ................ SKIPPED\r\n[INFO] ThingsBoard MQTT Transport Microservice ............ SKIPPED\r\n[INFO] ThingsBoard HTTP Transport Microservice ............ SKIPPED\r\n[INFO] ThingsBoard COAP Transport Microservice ............ SKIPPED\r\n[INFO] ThingsBoard LWM2M Transport Microservice ........... SKIPPED\r\n[INFO] ThingsBoard SNMP Transport Microservice ............ SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  04:16 min\r\n[INFO] Finished at: 2022-06-15T12:43:59+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.12.1:yarn (yarn install) on project ui-ngx: Failed to run task: 'yarn install --network-timeout 1000000' failed. org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1) -> [Help 1]\r\n\r\nMAVEN:\r\nmvn --version\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: C:\\apache-maven-3.8.6\r\nJava version: 18.0.1.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-18.0.1.1\r\nDefault locale: pl_PL, platform encoding: UTF-8\r\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\r\n\r\nNODE:\r\nnode --version\r\nv18.3.0\r\n\r\nYARN:\r\nyarn --version\r\n1.22.15\r\n\r\nI tried to modify .pom files and change yarn/lobock etc. to newest ones. Im also changed frontend-maven-plugin to 1.12.1 from 1.12.0.\r\n\r\nAny tips ?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6723/comments",
    "author": "SebPieniazek",
    "comments": [
      {
        "user": "SebPieniazek",
        "created_at": "2022-06-15T11:29:56Z",
        "body": "delete this file @geoman-io+leaflet-geoman-free+2.11.4 helps. Hope it's wont affect in the future :D "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:04:49Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6722,
    "title": "[Question] Disable certificate validation when using REST API Call Node in rule chain",
    "created_at": "2022-06-15T09:26:14Z",
    "closed_at": "2024-05-22T12:01:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6722",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nI want to disable certificate validation when calling one of my server from a _REST API Call Node_ in the rule engine. It is using self signed certificate. The call ends up with this failure:\r\n`unable to find valid certification path to requested target`\r\n\r\nHow can I disable certificate verification?\r\n\r\n**Environment**\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.2.0 PE\r\n * Browser: Firefox 99\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6722/comments",
    "author": "bbrenne",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T12:01:37Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 6720,
    "title": "[Question] Estimated release date 3.4",
    "created_at": "2022-06-15T08:10:08Z",
    "closed_at": "2022-08-25T18:15:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6720",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nHello,\r\n\r\nI am interested in quite a few features of version 3.4 and would like to know if there is an estimated release date for it.\r\n\r\nThank you very much.\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6720/comments",
    "author": "Borch97",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2022-08-10T14:24:35Z",
        "body": "Hi, 3.4 is already releashed."
      }
    ]
  },
  {
    "number": 6693,
    "title": "How can I have a generator in a rule-chain that only runs when its triggered?",
    "created_at": "2022-06-10T15:51:55Z",
    "closed_at": "2022-08-25T15:36:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6693",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n\r\n**Description**\r\nHi all. I want to schedule a rule chain to execute at 12pm every day. The rule-chain is simply a generator that post telemetry as an Asset to reset a \"count\" field.\r\n\r\nThere are no options to make the generator run only when triggered as I have to choose a period. How can I get it to only run on schedule, without having to simply make and run the rule chain at 12pm exactly.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Linux\r\n * ThingsBoard: Cloud\r\n * Browser: FireFox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6693/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "basor-dali",
        "created_at": "2022-06-10T18:41:48Z",
        "body": "One option would be to run generator node every minute for example, and right after that node have script node where you grab time of day, and if time of day is 12 PM exactly, then you can go ahead and execute other logic in your rule. This isn't ideal, but it would work for what you need. Hope this helps  "
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-06-12T20:05:40Z",
        "body": "> \r\n\r\nI think this is the only way to achieve this in TB right now. The scheduler only post attributes unfortunately. Would be good to have it post telemetry too."
      },
      {
        "user": "ashaforost",
        "created_at": "2022-08-12T07:18:27Z",
        "body": "Hi @OzyOzk \r\n\r\nA generator rule node is not an ideal solution to implement a scheduled message generation; a better way to do it is to use the Scheduler feature in thingsboard. You can schedule an event that will be processed by the rule chain of the message originator.\r\nIn this rule chain, you can use this event to route the message to the rule nodes that need to be triggered at 12pm. \r\n\r\nFor example, on the scheduled \"Update attributes\"  event in the root rule chain, route the message to the rule chain that contains your script rule node, which composes the telemetry message, and a node to post telemetry.\r\n"
      }
    ]
  },
  {
    "number": 6681,
    "title": "[Question] How to fix a Dashboard that hangs, street MAP fails to load. No Edit option?",
    "created_at": "2022-06-10T08:59:43Z",
    "closed_at": "2023-07-03T11:19:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6681",
    "body": " * UI\r\n**Description**\r\nThe map widget today failed to load some 'cloud blue map' isn't loading.\r\nBut because the map widget is hanging the edit button also doesn't come active.\r\nSo I have no way to fix the dashboard....\r\n\r\n**Environment**\r\n * OS:  Ubuntu LTS 20.04\r\n * ThingsBoard: 3.3.3\r\n * Browser: Edge and Firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6681/comments",
    "author": "KenSense",
    "comments": [
      {
        "user": "mde2017",
        "created_at": "2022-06-10T11:02:51Z",
        "body": "Hi @KenSense,\r\n\r\nyou could export the dashboard as JSON, edit the JSON config in order to fix the problem & upload it back to ThingsBoard Server afterwards."
      },
      {
        "user": "KenSense",
        "created_at": "2022-06-10T13:57:57Z",
        "body": "I did try that but when I tried to remove the map widget everything else didn't load anymore, just blank.\r\nMaybe it would be better if there is a timeout in the widget so it is skipped if it can't load in a reasonable time."
      },
      {
        "user": "KenSense",
        "created_at": "2022-06-14T09:55:29Z",
        "body": "The problem turns out to be a new device that had an integer type longitude instead of double.\r\ncombined with cluster setting it hangs. (because there was a very large number in the longitude field since the decimal separator was ignored.)"
      },
      {
        "user": "dhaval2017",
        "created_at": "2022-06-14T13:16:46Z",
        "body": "You can use swagger to directly fetch and update the widget"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-07-03T11:19:58Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 6679,
    "title": "[Question] What is the purpose of the scheduleAlarmHarvesting function in TbDeviceProfileNode",
    "created_at": "2022-06-10T02:11:38Z",
    "closed_at": "2024-06-13T14:15:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6679",
    "body": "Hello, \r\nWhat is the purpose of the scheduleAlarmHarvesting function in TbDeviceProfileNode.java?\r\n\r\nI found that i have set the alarm duration in the device configuration. The alarm will still be triggered if the duration is not exceeded. It \r\n\r\nseems that this function is working. What is the purpose of this function?I'm confused.\r\n\r\nThanks.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6679/comments",
    "author": "xiddjp",
    "comments": [
      {
        "user": "xiddjp",
        "created_at": "2022-06-14T00:56:00Z",
        "body": "Is this project still maintained? Why is there no one to discuss the problem?"
      },
      {
        "user": "AlexDoanTB",
        "created_at": "2024-06-13T14:15:39Z",
        "body": "Hi @xiddjp, there is no problem with the method. \r\nIt is used for complex alarm rules (rules with duration) to schedule regular self-tics to check if the configured *Duration* period has passed or not. If passed, the alarm will be created, and if not, the rule node will wait for another self-ping.      "
      }
    ]
  },
  {
    "number": 6663,
    "title": "[Question] Receiving Http requests on a Https Web",
    "created_at": "2022-06-08T12:50:49Z",
    "closed_at": "2024-05-15T13:16:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6663",
    "body": "Hey guys, I've secured my Thingsboard with Https, but I wanted to know if is it possible to configure Thingsboard to still receive http requests from device, maybe changing something on .yml",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6663/comments",
    "author": "GabrielMarconS",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2024-05-15T13:16:38Z",
        "body": "It depends on your way of implementing HTTPS\r\nIf that was via YML file - the only option would be to deploy MSA service of HTTP transport.\r\nIf that was done via load-balancer (e.g. LB receives HTTPS, terminates the SSL and forwards traffic to TB via HTTP) - that is all up to LB configuration."
      }
    ]
  },
  {
    "number": 6660,
    "title": "[Question] Remove Sign up in Login White Labeling",
    "created_at": "2022-06-08T10:13:01Z",
    "closed_at": "2022-08-29T15:55:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6660",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nHow to remove sign-up text in login white labeling.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: Cloud\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6660/comments",
    "author": "kochapong",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2022-06-17T06:20:30Z",
        "body": "Hi @kochapong,\r\nTo delete the sign-up text on the login page, your need to delete the setting on the Self Registration page, available from TB PE 3.3.3."
      }
    ]
  },
  {
    "number": 6658,
    "title": "[Question] thingsboard way to publish data to csv on a FTP",
    "created_at": "2022-06-08T06:36:17Z",
    "closed_at": "2024-05-22T11:58:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6658",
    "body": "**Components**\r\n * Generic\r\n * Data handling\r\n\r\n**Description**\r\nI need to publish data I handle with thingsboard to a csv which I then will have to publish to a ftp server.\r\n\r\nWhat would be the thingsboard way to do this?\r\n\r\n**Situation**\r\nI have an asset that contains all relevant assets that contain all relevant devices (2 kinds of devices).\r\n\r\nrelations look like this:\r\n\r\nALL_ASSES > ASS > DEVICES_T1 , DEVICES_T2\r\n\r\nEvery 15 mins I have to ask all DEVICES_T1 inside of an ASS that is inside of ALL_ASSES for telemetry data, and make a csv that contains all asked devices' data. then will have to publish to a ftp server.\r\n\r\nI am not very experienced with this. My first Idea was to use a python script that sends API requests to tb and gets the timeseries data this way, parses the data with panda library, and then publishes to ftp. \r\n \r\nHowever, it would be quite cumbersome to configure all the device that are to be requested upon. \r\nIs this where the python tb lib comes in ? \r\nCan I call groups of devices by relation and such ? \r\n\r\n**Environment**\r\n * docker deployment\r\n * ThingsBoard v.3.3.4.1PE\r\n * Browser: latest Chrome\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6658/comments",
    "author": "medutySMST",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T11:58:49Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. Feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6636,
    "title": "[Question] how to send custom response code for rest api request in rule chain",
    "created_at": "2022-06-03T19:10:23Z",
    "closed_at": "2022-08-29T15:56:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6636",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nI want to use the REST API as a connection method for a backend server. That server handles requests originated by users and forwards them to thingsboard. The requests payload is then stored in the \"shared attributes\" for a MQTT connected device. For example I want to set something like `turn_on` to true but only if that `turn_on` is not already true. If it is true, I want to respond with a custom error code (e.x. 501). How would I accomplish that in a rule-chain (or somehow else if possible)?\r\n\r\n**Environment**\r\n * OS:  Debain\r\n * ThingsBoard: 3.3.4\r\n * Browser: Firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6636/comments",
    "author": "longGr",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-06-05T04:17:39Z",
        "body": " I am not sure that it is possible as of 3.3.4.1"
      },
      {
        "user": "longGr",
        "created_at": "2022-08-29T17:46:10Z",
        "body": "For anyone having the same issue, it is possible to achieve that via a RPC call. You can handle the callbacks and return error codes. "
      }
    ]
  },
  {
    "number": 6629,
    "title": "Change Ip Address of the PC with the server Things Board",
    "created_at": "2022-06-03T02:59:52Z",
    "closed_at": "2022-06-20T08:36:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6629",
    "body": "hi, can i ask if I want to change the IP address of the PC that has things board server, what i need to check before change the IP address?\r\nbecause I want to change the server with things board to the server room for better protection, any recommendation?\r\nCurrently using method install locally the things board in the window. Just scare in case if changing the IP address with cause the things board unable to use.\r\n\r\nThings Board Version: 3.3.4\r\nInstallation: Window\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6629/comments",
    "author": "ngsuityan",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2022-06-10T08:40:18Z",
        "body": "You want to move the service to another server. This is possible. \r\nYou need to make backup the database, then restore it to the server. And install the same version of thingsboard that you had. \r\nAlso, if your devices were sending requests by ip address, you will need to change the endpoint. Or use the dns name."
      }
    ]
  },
  {
    "number": 6622,
    "title": "[Question] How to specify sortOrder from custom widget",
    "created_at": "2022-06-01T13:08:04Z",
    "closed_at": "2022-06-01T14:33:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6622",
    "body": "**Component**\r\n\r\n * UI\r\n\r\n**Description**\r\nI try to specify a sortOrder into a pageLink to get my results sorted (in this case devices sorted by name).\r\n\r\n**Environment**\r\n * OS:  name and version\r\n * ThingsBoard: 3.1 PE\r\n * Browser: Firefox\r\n\r\nWhen developing custom widget you can request devices assigned to a certain customer using this call:\r\n`self.ctx.deviceService.getCustomerDevices(customerId, pageLink).subscribe(....`\r\n\r\nThis works fine with default pageLink that you obtain like this:\r\n\r\n`self.ctx.pageLink()`; \r\n\r\nor even like this \r\n\r\n`self.ctx.pageLink(200, 0, '', null);  `\r\n\r\nwhere 200 is the max page size, 0 is the current page, '' is the search string and I guess last parameter is the sortOrder.\r\n\r\nNow I don't know how to specify sortOrder. The closest I got was with this:\r\n```\r\n       var pl = self.ctx.pageLink(200, 0, '', null);\r\n       pl['sortOrder'] = {};\r\n       pl.sortOrder['direction'] = 'ASC';\r\n       pl.sortOrder['key'] = {};\r\n       pl.sortOrder.key['key'] = 'name';\r\n       pl.sortOrder.key['type'] = 'ENTITY_FIELD';\r\n```\r\n\r\nwhich succeed to inject sortOrder in the request but not the sortProperty.\r\n\r\n/devices?pageSize=200&page=0&sortProperty=undefined&sortOrder=ASC&type=\r\n\r\nLogically resulting in a 500 server error with that error:\r\n\r\n`org.hibernate.QueryException: could not resolve property: undefined of: org.thingsboard.server.dao.model.sql.DeviceEntity [SELECT d FROM org.thingsboard.server.dao.model.sql.DeviceEntity d WHERE d.tenantId = :tenantId AND d.customerId = :customerId AND LOWER(d.searchText) LIKE LOWER(CONCAT(:searchText, '%')) order by d.undefined asc]; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: undefined of: org.thingsboard.server.dao.model.sql.DeviceEntity [SELECT d FROM org.thingsboard.server.dao.model.sql.DeviceEntity d WHERE d.tenantId = :tenantId AND d.customerId = :customerId AND LOWER(d.searchText) LIKE LOWER(CONCAT(:searchText, '%')) order by d.undefined asc]`\r\n\r\nSo what is the proper way of performing this request with sort order on a field?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6622/comments",
    "author": "bbrenne",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-06-01T14:20:06Z",
        "body": "Try `self.ctx.pageLink(200, 0, '', {property: 'YOUR_KEY_NAME', direction: 'ASC'});`"
      },
      {
        "user": "bbrenne",
        "created_at": "2022-06-01T14:32:43Z",
        "body": "It's working, thanks a lot."
      }
    ]
  },
  {
    "number": 6620,
    "title": "[Question] How to access datapoint timestamp in widget",
    "created_at": "2022-06-01T07:41:35Z",
    "closed_at": "2022-06-01T10:38:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6620",
    "body": "**Components**\r\n * Generic\r\n * Dashboard \r\n * Data Object\r\n\r\n**Description**\r\nWithin the advanced settings of the map widget (or any other), with a `function(data, dsData, dsIndex)` snippet, what fields does the data object hold? \r\n\r\nMore specifically, let's say I have a Device that measures temperature, as datapoint and that device publishes temp to tb with the `valueKey` then I know that data.valueKey will return the latest measurement of my device.\r\n\r\nNow, how can I access the ts of the measurement? ( imagine data.valueKey.ts or data.ts )\r\n\r\nThe end goal would be to show in the tooltip or label when the last measurement was taken. \r\n\r\n**Environment**\r\n * docker deployment\r\n * ThingsBoard v.3.3.4.1PE\r\n * Browser: latest Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6620/comments",
    "author": "medutySMST",
    "comments": [
      {
        "user": "mde2017",
        "created_at": "2022-06-01T08:55:24Z",
        "body": "Hi @medutySMST;\r\n\r\nyou can access the timestamp in the datakey settings function of the widget\r\nRefer to issue #6527 "
      },
      {
        "user": "medutySMST",
        "created_at": "2022-06-01T10:38:34Z",
        "body": "Thank you, \r\n\r\nthis gives me the tools I need. \r\n\r\nHowever things become a bit more complicated if you really need data.key to be a float. (eg when checking for certain values afterwards and colorizing icons and such)\r\n\r\nOnly easy solution I can think of is editing the datasource of 'key' with post-processing and returning an object with value and timestamp. \r\n\r\nAny ideas ? "
      }
    ]
  },
  {
    "number": 6587,
    "title": "Hi. How can I find the sub package 'gen' under the 'org.thingsboard.server.queue.provider'",
    "created_at": "2022-05-23T13:27:34Z",
    "closed_at": "2022-11-07T16:42:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6587",
    "body": "import org.thingsboard.server.gen.transport.TransportProtos.ToCoreMsg;\r\n\r\nI missing this package gen \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6587/comments",
    "author": "wangpanwangpan",
    "comments": [
      {
        "user": "den1jkee",
        "created_at": "2022-10-28T07:48:22Z",
        "body": "Hi, \r\ntry to build with\r\n`mvn install -DskipTests`"
      }
    ]
  },
  {
    "number": 6579,
    "title": "[Question] Rule Chain unusual behavior",
    "created_at": "2022-05-20T19:24:15Z",
    "closed_at": "2022-08-29T15:57:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6579",
    "body": "**Component**\n * Rule Engine\n\n**Description**\n\nI have 4 of the same custom node instantiated in a rule chain, which are \"fired\" with a different generator each.  \nThe custom node just makes a get query to an ip camera with digest auth and listens for the camera to generate an event.  This listening is done in a separate thread and every time the camera generates an event, the node outputs an out message.  \nSo I get a input message, generated by the generator and then they are all outs messages. \nAt the time of initializing the rule chain, this flow works fine, but after a few hours, the entire rule chain stops working, except for the custom nodes.  \nThat is, if i send telemetry through api, the message does not appear in the rule chain and from the custom nodes, the output they generate does not go to the script node they have connected. \nNothing comes in the logs, does anyone know what could be happening?\n\n**Environment**\n<!-- Add information about your environment and ThingsBoard version if applicable -->\n * ThingsBoard: 3.3.3 CE",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6579/comments",
    "author": "Borch97",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2022-05-22T23:09:36Z",
        "body": "When you declare variables in your custom scripts are you making sure to declare them all liek `var x = 10`? If you are in the habit of writing just `x = 10` then you will have issues. See #5270 if this is possible.\r\n\r\nIt's possible that the error is happening in your TB instance, not in the rule node. I'd have a look at the TB error logs. Can't recall exactly how to do that right now but the process is documented somewhere on the TB website."
      }
    ]
  },
  {
    "number": 6575,
    "title": "[Question] How is it possible to change the Map widget Marker images based on alarms created in rule chains?",
    "created_at": "2022-05-19T15:46:12Z",
    "closed_at": "2022-06-23T11:25:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6575",
    "body": "How is it possible to change the Map widget Marker images in Marker image function based on the alarms created in Rule chains?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6575/comments",
    "author": "IrmantasKa",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2022-05-22T23:10:12Z",
        "body": "Alarm triggers > sets an attribute flag on the device > map widget contains switch statement on attribute"
      }
    ]
  },
  {
    "number": 6572,
    "title": "[Question] Failed to process message - TB CE After does not started after rebooting it.",
    "created_at": "2022-05-19T09:38:14Z",
    "closed_at": "2022-06-23T11:24:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6572",
    "body": "Hello,\r\nWhile editing the Rule chain, some error occurred and ThingsBoard CE stopped. After rebooting it does not started. \r\nWe suppose that this is related to this error:\r\n\r\n2022-05-18 13:13:13,613 [tb-rule-engine-consumer-43-thread-26 | Main-5] INFO o.t.s.s.q. DefaultTbRuleEngineConsumerService - [43d14620-9d13-11eb-85fb-eb5238a23606] Failed to process message: TbMsg(queueName=Main, id=a8961b84-60f6-43e7-b7bd-fcb0f86bd128, ts=1652868793577, type=POST_TELEMETRY_REQUEST, originator=159de470-d2dc-11ec-8d19-bf0e6dcc624d, customerId=null, metaData=TbMsgMetaData(data={deviceType=VDU_DC_durys, deviceName=24E124136B051909, ts=1652868793577}), dataType=JSON, data={\"data_data\": \"A2fSAARoVwUAAA\\u003d\\u003d\",\"data_deviceName\":\"24E124136B051909\",\"dr\":5,\"fcnt\":1169,\"fport\":85}, ruleChainId=e1e08b70-d5e1-11ec-8d19-bf0e6dcc624d, ruleNodeId=null, ruleNodeExecCounter=0, callback=org. thingsboard.server.common.msg.queue.TbMsgCallback$1@4ee04de7), Last Rule Node: [RuleChain: Customer_VDU-pratrintas|RuleNode: load Customer VDU settings(e217a100-d5e1-11ec-8d19-bf0e6dcc624d)]\r\n\r\nHow can I fix this? ThingsBoard does not start so I need to fix it in the file system. Is it possible to fix it?\r\n\r\nIrmantas\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6572/comments",
    "author": "IrmantasKa",
    "comments": [
      {
        "user": "mistadave",
        "created_at": "2022-11-30T11:01:08Z",
        "body": "is there a solution for this issue ? I'm getting the same log outputs. Or is this just a log bug ?\r\n\r\n`2022-11-30 10:53:14,021 [tb-rule-engine-consumer-62-thread-6 | QK(Main,TB_RULE_ENGINE,system)-5] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [b78e54d0-146a-11ec-9d30-a19c86b1b8ac] Failed to process message: TbMsg(queueName=Main, id=435dfbd4-0e1e-4bcd-93a7-83d2dff1fa7b, ts=1669805593454, type=POST_TELEMETRY_REQUEST, originator=255e4860-a469-11ec-9100-adc63701484f, customerId=80bc9010-a04d-11ec-9100-adc63701484f, metaData=TbMsgMetaData(data={deviceType=Temperaturfühler_Raum, deviceName=1110ffff-aef7-406e-97f1-000ccfd1d0e5, ts=1669805504044}), dataType=JSON, data={\"MW01\":23.19999885559082}, ruleChainId=ef8291c0-c6b3-11ec-a9f4-8fd4f9706d7d, ruleNodeId=d47d15c0-63f8-11ed-b8f3-d724cd1326cb, ctx=org.thingsboard.server.common.msg.TbMsgProcessingCtx@6582b29f, callback=org.thingsboard.server.common.msg.queue.TbMsgCallback$1@9353ce4), Last Rule Node: [RuleChain: Root Rule Chain|RuleNode: Save Timeseries(d47d15c0-63f8-11ed-b8f3-d724cd1326cb)]`"
      }
    ]
  },
  {
    "number": 6547,
    "title": "How to set device label in the gateway?",
    "created_at": "2022-05-13T07:56:10Z",
    "closed_at": "2022-05-17T07:38:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6547",
    "body": "Hi， Is there any way to set device label when send telemetry in gateway?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6547/comments",
    "author": "xiddjp",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-05-13T11:25:48Z",
        "body": "No, only name and type"
      },
      {
        "user": "xiddjp",
        "created_at": "2022-05-17T07:38:55Z",
        "body": "> No, only name and type\r\n\r\nok, thanks for your answer."
      }
    ]
  },
  {
    "number": 6527,
    "title": "How to show date and time with the value in the Simple card widget?",
    "created_at": "2022-05-05T10:47:36Z",
    "closed_at": "2022-06-01T12:25:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6527",
    "body": "I am using the Simple Card widget to show the values but I also want to show the timestamp/ time in the dd-mm-yy hh-mm format.\r\nWhen the telemetry doesn't have any latest data the client is not able to differentiate whether it is latest or old data. Need timestamp to differentiate it.\r\n\r\nHow to show both the value and the time?\r\n\r\nI'm using Thingsboard version 3.3.2 \r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6527/comments",
    "author": "hetvishah08",
    "comments": [
      {
        "user": "ribera01",
        "created_at": "2022-05-06T12:13:55Z",
        "body": "You can put the same attribute with post-processing function \"return new Date(time).toLocaleString();\""
      },
      {
        "user": "devaskim",
        "created_at": "2022-05-07T14:43:23Z",
        "body": "According to source code of the widget @hetvishah08 asked it can show only single value.\r\nAs @ribera01 suggested you can add timestamp with post-processing function, for example:\r\n```\r\nreturn value + ' / ' + new Date(time).toLocaleString();\r\n```\r\nwhere *value* - is your telemetry value"
      },
      {
        "user": "hetvishah08",
        "created_at": "2022-05-11T10:55:44Z",
        "body": "@ribera01 and @devaskim yes I could show both the values with this. Thank you."
      },
      {
        "user": "hetvishah08",
        "created_at": "2022-05-11T11:41:36Z",
        "body": "How to change the font size and font weight of value and time? Is it possible in post-processing function or in widget style? \r\n\r\nI tried using fontSize in widget style and it didn't reflect any changes.\r\n\r\nAlso tried fontsize() in post processing. It works in card with text and not with numeric ones. They keep on loading. What is the issue?"
      },
      {
        "user": "devaskim",
        "created_at": "2022-05-11T15:48:52Z",
        "body": "Post-processing function cannot tune style.\r\nFont size of this widget has been calculated based on widget width and height. So to change it you may patch source code of this widget in *Widget Library* -> *Cards bundle* -> *Simple card* and save it as new widget."
      },
      {
        "user": "hetvishah08",
        "created_at": "2022-05-12T08:50:18Z",
        "body": "okay, will try this thank you."
      }
    ]
  },
  {
    "number": 6513,
    "title": "[Question] For what does customer entity exist? (TB CE)",
    "created_at": "2022-05-02T16:14:19Z",
    "closed_at": "2022-05-08T16:18:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6513",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nIt would be great if I can log in as a customer (not customer's user), have some dashboards to review my users, their devices and etc. At the moment (v3.3.4.1) I can only create such entity type and that is all. Could someone explain how can I use it in my business purposes?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6513/comments",
    "author": "devaskim",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2022-05-02T22:12:39Z",
        "body": "This functionality is added in TB PE via Role-based Access Control (RBAC). I would not expect it to become a feature of CE in the near future :L"
      }
    ]
  },
  {
    "number": 6509,
    "title": "[Question] display timeseries metdata on dashboard",
    "created_at": "2022-04-30T15:36:58Z",
    "closed_at": "2022-08-29T15:59:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6509",
    "body": "hello,\r\n\r\nI would like to display some metadata in the timeseries table widget. - However I am only able to access the entities timeseries values.\r\n\r\nI would like to display the originatorName alongside the timeseries value, as the value can be set from dashboard aswell as from the IoT device itself. - I would like to be able to trace and display who made the change to the setting.\r\nIn the rule chain I can access the metadata using metadata.originatorName.\r\n\r\nthank you in advance and regards from Austria :)",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6509/comments",
    "author": "MaxMakerMan",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-05-02T05:35:31Z",
        "body": "Maybe the `Entities table` widget (Card bundle) would be better choice."
      }
    ]
  },
  {
    "number": 6507,
    "title": "[Question] How to increase the storage space of Asset-Attributes or save Files(images, jpeg, png, pdf & Co) to the Filestorage",
    "created_at": "2022-04-29T10:00:26Z",
    "closed_at": "2024-05-15T13:09:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6507",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nWhat I have done so far:\r\nI take an image with a tablet in the mobileApp and save the image as a Base64Encoded String in the attributes of an asset. The problem is that the file size can only be up to 1MB, if it is larger it gives the \"413 Entity Too Large\" error.\r\n\r\nQuestion1: Is there any way to increase the file size of the asset attributes?\r\n\r\nQuestion2:\r\nNew idea:\r\nI take an image with a tablet in the mobileApp and want to save it in the Thingsboard fileStorage. (How) can I save this image in the fileStorage?\r\n\r\nAny recommendations on where and how to save the images?\r\n \r\n**Environment**\r\n * ThingsBoard: PE\r\n * Browser: Microsoft EDGE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6507/comments",
    "author": "danielivaneza",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2024-05-15T13:09:25Z",
        "body": "You can use base64 compressed images. However, it is not good practice to use images larger than 1 MB, as this can cause performance degradation. It is better to send links to images stored on AWS S3 or an FTP server to ThingsBoard. "
      }
    ]
  },
  {
    "number": 6481,
    "title": "collect remote data from Thingsboard",
    "created_at": "2022-04-26T09:19:16Z",
    "closed_at": "2022-08-29T15:59:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6481",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\n\r\nWe have Thingboard Server at location A and the devices that collect the data at location B.\r\n\r\nLocation B has a dynamic IP so it is impossible for us to create connection rules between both locations. \r\n\r\nIs there any way that thingboard can collect remote data by somehow making a request to location B via DDNS and thus avoid the devices having to connect to ThingBoard Server? \r\n\r\nThanks\r\n\r\n**Environment**\r\n\r\n * OS:  Ubuntu 22.04\r\n * ThingsBoard: 3.3.3\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6481/comments",
    "author": "mikiht",
    "comments": [
      {
        "user": "qwykx",
        "created_at": "2022-04-29T08:11:11Z",
        "body": "Hello @mikiht are you talking about edge devices or simple devices e.g. sensors?\r\n\r\nCheers"
      }
    ]
  },
  {
    "number": 6465,
    "title": "[Question] Subscribe to alarms using SubscriptionApi from widget",
    "created_at": "2022-04-22T13:02:23Z",
    "closed_at": "2024-05-23T15:34:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6465",
    "body": "**Component**\r\n\r\n * UI\r\n\r\n**Description**\r\nI would like to get the list of alarms associated to an Asset developing a custom  \"Latest Value\" widget.\r\nIs it possible to use subscriptionApi from a \"latest value\" widget to get alarm starting from an entityId?\r\n\r\n**Environment**\r\n * ThingsBoard: 3.3.3\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6465/comments",
    "author": "RiccardoFelicetti",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T15:34:39Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 6445,
    "title": "Create rabbitmq quorum queues instead of classic.",
    "created_at": "2022-04-19T23:20:40Z",
    "closed_at": "2024-08-01T12:55:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6445",
    "body": "RABBITMQ queues get created by default in classic mode.\r\nIs there a way to change this to type: streaming or quorum by default?\r\n\r\n\r\n * OS:  ubuntu 20.04\r\n * ThingsBoard: 3.3.3\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6445/comments",
    "author": "arkastratuscent",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-01T12:55:05Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6407,
    "title": "does thingsboard have any plan to make all tenants use same rule chain",
    "created_at": "2022-04-13T06:38:01Z",
    "closed_at": "2024-07-17T13:48:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6407",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nnow all versions of thingsboard is using rule chain for one tenant(rule chain is tenant isolated),but in some cases, we want all tenant to use one rule chain,which is much convient.\r\nso i'm wondering do you guys have any plan to develop such feature to use same rule chain for all tenants,if not why?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6407/comments",
    "author": "john1337",
    "comments": [
      {
        "user": "john1337",
        "created_at": "2022-04-13T06:38:26Z",
        "body": "why isolate rule chain from every tenant?"
      },
      {
        "user": "john1337",
        "created_at": "2022-04-13T07:54:46Z",
        "body": "now message flow in thingsboard is app-actor->tenant-actor->rulechain-actor->rulenode-actor,in some way which all tenants use the same rule-chain config, i think removing tenant-actor is much better,that means rule-chain config is moved to system config not tenant configuration"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-17T13:48:14Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6403,
    "title": "\"Widget displays 1024 out of ... entities\"",
    "created_at": "2022-04-12T12:26:03Z",
    "closed_at": "2022-05-16T13:58:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6403",
    "body": "**Component**\r\nWidgets\r\n\r\n**Description**\r\nI have a \"latest values\" widget. In the dashboard itself, I see the following message: \"Widget displays 1024 out of 1874 entities\". I want to display **all** entities, and completely remove this limitation. How can I achieve that?\r\n\r\nThank you.\r\n\r\n**Environment**\r\nThingsBoard: 3.3.3\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6403/comments",
    "author": "MichaelRHaddad",
    "comments": [
      {
        "user": "mikelfo",
        "created_at": "2022-04-20T10:41:48Z",
        "body": "We are experiencing this same issue in a widget exporting a list of devices with a specific attribute value. As soon as the number goes over 1024 we get this warning, and the list is truncated to that length."
      },
      {
        "user": "MichaelRHaddad",
        "created_at": "2022-04-27T07:39:56Z",
        "body": "@mikelfo Have you managed to solve this issue?"
      },
      {
        "user": "AlexDoanTB",
        "created_at": "2022-04-27T09:10:32Z",
        "body": "@mikelfo @MichaelRHaddad have you tried to change server.ws.max_entities_per_data_subscription property in yaml file? It seems you need to increase the default limit  "
      },
      {
        "user": "MichaelRHaddad",
        "created_at": "2022-04-27T09:20:47Z",
        "body": "> @mikelfo @MichaelRHaddad have you tried to change server.ws.max_entities_per_data_subscription property in yaml file? It seems you need to increase the default limit\r\n\r\nThanks. This attribute is configured to 10000 entities, so it seems to not be the problem.\r\n\r\n\r\n\r\n\r\n\r\n"
      },
      {
        "user": "ashvayka",
        "created_at": "2022-04-27T12:56:05Z",
        "body": "\"1024\" is a hard-coded value on the UI side for a default entity data query. It is used by all \"latest values\" widgets except the Map Widget which has the parameter configurable in the advanced settings of the widget. CE users may change this in the source code. We will introduce the configuration parameter in the \"Data Settings\" of the widget in release 3.4."
      },
      {
        "user": "MichaelRHaddad",
        "created_at": "2022-04-27T14:03:47Z",
        "body": "@ashvayka  Thank you for the reply. We are using PE so I assume we should also be able to change this hard-coded value in the source code. We did try to, but we did not find this attribute. Could you please guide me and show me where we can change it?"
      },
      {
        "user": "phamhaidang112000",
        "created_at": "2023-02-09T04:44:05Z",
        "body": "@MichaelRHaddad  how to show widget data settings, please show me. I can't find it"
      },
      {
        "user": "uhofemeier",
        "created_at": "2023-03-30T17:08:35Z",
        "body": "@phamhaidang112000 , Click on Dashboards, click edit mode (orange pencil bottom right corner), click the little pencil for the widget that has a device list or otherwise. This is where you'll find data settings. "
      }
    ]
  },
  {
    "number": 6398,
    "title": "[Question] How to speed up migration ?",
    "created_at": "2022-04-11T22:10:42Z",
    "closed_at": "2022-07-22T14:33:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6398",
    "body": "**Component**\r\n\r\n * Installation\r\n\r\n**Description**\r\nHi, we're migrating our thingsboard installation from 2.4 to the latest version and it's taking 24hours + (we have a lot of data).\r\nIs there a way to speed things up by buffing the server and modifying the thingsboard conf to use more memory or something to do with postgres ? Thanks \r\n\r\n\r\n**Environment**\r\n * OS:  Centos\r\n * DB : Postgres\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6398/comments",
    "author": "tdsimpro",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2022-07-20T17:21:15Z",
        "body": "Hi, unfortunately, migration from PostgreSQL to Hybrid takes time.\r\nDatabase migration from SQL to Hybrid (SQL and NoSQL) database required refactoring for all entities and configurations.\r\nAnd before making it - always create backups. With a huge amount of data any system can stuck on some moment, so check CPU\\RAM\\Persistant memory consumption.\r\n"
      }
    ]
  },
  {
    "number": 6396,
    "title": "[Question] Deleted assets can't be re-created?",
    "created_at": "2022-04-11T13:07:56Z",
    "closed_at": "2022-04-20T17:23:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6396",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nHi, I've deleted some Assets but it was a mistake. I want to re-create them but I've a message \"Asset with such name already exists!\" and it's not created. \r\nI can't find them anywhere in menubar but they are present in lists of assets when I have to choose an Asset.\r\nAny idea to re-create them?\r\nThanks.\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n\r\n * ThingsBoard: Thingsboard cloud\r\n * Browser: Microsoft Edge 100.0.1185.36\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6396/comments",
    "author": "liotys",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2022-04-13T02:35:26Z",
        "body": "I've had this problem before. What you need to do is use the REST api to check for and delete the asset. \r\n\r\n\r\nSearch Thingsboard JWT\r\nfollow the process to get a JWT token for yourself\r\n\r\nSearch Thingsboard Swagger\r\nIn the url, change the domain to yours.\r\n\r\nAuthorise the Swagger UI with your token (It will need to be in form 'Bearer #' where '#' is your token.\r\n\r\nNow you can use the listed API calls to try and find your device."
      },
      {
        "user": "liotys",
        "created_at": "2022-04-20T17:23:18Z",
        "body": "Thanks a lot @JacksonBowe , I need a little time to understand that I need another url than demo.thingboard.io...\r\nI now have delete the Assets and I have re-create them."
      }
    ]
  },
  {
    "number": 6394,
    "title": "API Usage - how to request these data thru API?",
    "created_at": "2022-04-11T10:03:37Z",
    "closed_at": "2024-08-01T13:03:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6394",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nWe got lot of interesting information on API Usage screen, we would like to get these information thru API calls but we did not found the corresponding API, so the question, is it possible to request these values such as `transport hourly activity` and `rule engine hourly activity` with API calls?\r\n\r\n**Environment**\r\n * N/A\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6394/comments",
    "author": "hallard",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-01T13:03:59Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6367,
    "title": "[Question] Unable to read input values using $scope",
    "created_at": "2022-04-05T05:36:20Z",
    "closed_at": "2024-05-20T14:09:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6367",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Generic\r\n\r\n**Description**\r\n`    <md-input-container class=\"attr-input\">\r\n        <label>test</label>\r\n        <input  type=\"text\" name=\"w1\" ng-model=\"w1\" >\r\n    </md-input-container>`\r\nThis is my sample input HTML.\r\nI am trying to read value in javascript as below\r\n`const w1 = $scope.w1;`\r\n\r\nBut I am getting undefined value. Is there any solution to this?\r\n\r\n**Environment**\r\n\r\n * OS:  Ubuntu20.04\r\n * ThingsBoard: v3.3.4\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6367/comments",
    "author": "akashtalole",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T14:09:34Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 6355,
    "title": "[Question] How can thingsboard gateway connect multiple OPC servers?",
    "created_at": "2022-04-01T06:17:56Z",
    "closed_at": "2022-04-02T03:15:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6355",
    "body": "The usage scenario is as follows: each device has an independent OPC server. Now I can correctly collect the device through the thingsboard gateway, but opcua In the configuration of JSON, the address of an OPC server corresponding to each device cannot be configured.\r\nIn the seemingly TB configuration, the \"opc-ua\" scenario only supports one server corresponding to multiple devices.\r\nHow can I configure the gateway to support one configuration and access all devices?\r\n\r\nI need to configure an array \"server\"？\r\nor\r\nI need to configure multiple \"opcua. json\"\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6355/comments",
    "author": "bggmjxh",
    "comments": [
      {
        "user": "devaskim",
        "created_at": "2022-04-01T11:21:35Z",
        "body": "You need to move this question to thingsboad-gateway project.\r\nBut I try to answer. You can create multiple configuration files opcua1. json, opcua2. json, opcua3. json and link each of them to corresponding OPC UA connector in the gateway configuration file. For example:\r\n```yaml\r\nconnectors:\r\n  -\r\n    name: 1 OPC\r\n    type: opcua\r\n    configuration: opcua1.json\r\n  -\r\n    name: 2 OPC\r\n    type: opcua\r\n    configuration: opcua2.json\r\n```"
      },
      {
        "user": "bggmjxh",
        "created_at": "2022-04-02T03:15:39Z",
        "body": "@devaskim Thanks very much!"
      }
    ]
  },
  {
    "number": 6347,
    "title": "[Question] Showing zero when new telemetry data stops coming",
    "created_at": "2022-03-31T11:16:38Z",
    "closed_at": "2022-06-01T12:19:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6347",
    "body": "<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nWhen telemetry data stops coming in, I want my widgets to show the value of 0. Or if there is a way to show that the device stopped transmitting, I would like to know about it. Thanks in advance.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Windows 11\r\n * ThingsBoard: 3.3.3\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6347/comments",
    "author": "inanlia",
    "comments": [
      {
        "user": "Civilduino",
        "created_at": "2022-04-04T19:37:46Z",
        "body": "It depends if you are using a Data Converter or just the default Rule Chain. You could modify one of those so when `nan` or `null` is received you change it to `0`.\r\nNow if your device stops working, there is no way that Thingsboard will figure that out! Therefore, without a signal telling that there is no more data, you won't be able to achieve what you want(in my opinion and my knowledge). "
      }
    ]
  },
  {
    "number": 6341,
    "title": "[Question] thingsboard edge Login failed",
    "created_at": "2022-03-30T14:01:15Z",
    "closed_at": "2023-06-19T14:35:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6341",
    "body": "**Component**\r\ntenant@thingsboard.org\r\ntenant \r\nInvalid username or password\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6341/comments",
    "author": "1103283969",
    "comments": [
      {
        "user": "emry78",
        "created_at": "2022-10-07T08:57:32Z",
        "body": "HI All,\r\nNeed help. Same to me after install thingsboard edge on my devide. Thingsboard edge login failed. Using tenant username and password still cannot access the thingsboard edge. Please advice.Thanks"
      },
      {
        "user": "volodymyr-babak",
        "created_at": "2023-01-30T15:34:31Z",
        "body": "@emry78 @1103283969 \r\nthe root cause of these issues that ThingsBoard Edge was not synced properly with ThingsBoard Server and no users were pushed from the cloud to the edge.\r\nPlease attach **/var/log/tb-edge/tb-edge.log** file to the ticket. "
      }
    ]
  },
  {
    "number": 6296,
    "title": "Is it possible to pull telemetry data from Thingsboard Cloud?",
    "created_at": "2022-03-21T12:06:58Z",
    "closed_at": "2023-06-19T14:37:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6296",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nCan I pull telemtery data down to my local PC from Thingsboard Cloud?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Windows\r\n * ThingsBoard: Cloud\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6296/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2022-03-23T00:26:28Z",
        "body": "Yes, you will need to use the API. Search \"Thingsboard Cloud Swagger\""
      },
      {
        "user": "OzyOzk",
        "created_at": "2022-05-13T16:43:39Z",
        "body": "I found that you can do this through the dashboard itself. TB will export data as a csv, at least on pro versions."
      }
    ]
  },
  {
    "number": 6292,
    "title": "Error when installing Thingsboard CE on Ubuntu OS",
    "created_at": "2022-03-21T03:27:08Z",
    "closed_at": "2023-07-03T11:34:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6292",
    "body": "Hi everyone!\r\nI'm installing Thingsboard CE following the installation guides for ubuntu os. When i executed this command: \"sudo /usr/share/thingsboard/bin/install/install.sh --loadDemo\"\r\nand this error appeared: \"rg.postgresql.util.PSQLException: ERROR: constraint \"fk_device_profile_ota_package\" for relation \"ota_package\" already exists\".\r\n\r\nHere is my full log report:\r\n\r\nStarting ThingsBoard Installation...\r\nInstalling DataBase schema for entities...\r\nInstalling SQL DataBase schema part: schema-entities.sql\r\nUnexpected error during ThingsBoard installation!\r\norg.postgresql.util.PSQLException: ERROR: constraint \"fk_device_profile_ota_package\" for relation \"ota_package\" already exists\r\n        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\r\n        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\r\n        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\r\n        at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\r\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\r\n        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322)\r\n        at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308)\r\n        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284)\r\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279)\r\n        at org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.executeQueryFromFile(SqlAbstractDatabaseSchemaService.java:82)\r\n        at org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:63)\r\n        at org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:57)\r\n        at org.thingsboard.server.install.ThingsboardInstallService.performInstall(ThingsboardInstallService.java:239)\r\n        at org.thingsboard.server.ThingsboardInstallApplication.main(ThingsboardInstallApplication.java:46)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:467)\r\nUnexpected error during ThingsBoard installation!\r\nThingsBoard installation failed!\r\n\r\nAnybody please help me! Thank you all!\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6292/comments",
    "author": "nhp14",
    "comments": [
      {
        "user": "mde2017",
        "created_at": "2022-03-21T09:26:29Z",
        "body": "Hi @nhp14,\r\n\r\nis this a clean installation? Or did you use previous tb versions?\r\n\r\nIf it's a fresh installation, try to delete the thingsboard database in postgres and create it again afterwards. Then start the installation script.\r\n"
      },
      {
        "user": "nhp14",
        "created_at": "2022-03-21T13:51:25Z",
        "body": "Hi @mde2017,\r\n\r\nI did a clean installation and came into this error. I'll try your advice to see whether it works or not. Thank you!"
      },
      {
        "user": "gonzalomartinezg",
        "created_at": "2022-06-17T12:06:41Z",
        "body": "Did you solve it? I have the same error."
      },
      {
        "user": "enesekin",
        "created_at": "2022-06-22T08:17:42Z",
        "body": "Hi @gonzalomartinezg,\r\nI did installation by following the thingsboard documentation and I had created a database before. I deleted the database that was I created earlier and the problem solved\r\n"
      },
      {
        "user": "KhanhTea",
        "created_at": "2023-01-09T08:02:36Z",
        "body": "Drop database thingsboard in your postgres and reinstall "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-07-03T11:34:00Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 6288,
    "title": "[Question] Dashboard for browsing received timeseries data - Timeline browsing",
    "created_at": "2022-03-19T08:53:04Z",
    "closed_at": "2023-06-28T13:07:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6288",
    "body": "**Component**\r\n\r\n * UI\r\n\r\n**Description**\r\nI want to create a dashboard to browse the data that I receive in realtime (so as timeseries) by one vehicle.\r\nI have seen that in the sample use case \"Fleet Tracking\", there is a widget that show the trip made by the vehicle. \r\nBut It isn't sufficient, because I haven't the possibility to see other data (not only GPS coord) in other widget (not in the map).\r\nI would know id exist a timeline widget with with I can \"scroll\" in the time, and when I stop the mouse on this \"timeline\", the data of timeseries are loaded (in relation to this specif time ).\r\nI hope to have explained my question.\r\n\r\nThanks in advance\r\n\r\n**Environment**\r\n * OS: Windows 10\r\n * ThingsBoard: CE 3.3.3\r\n * Browser: Chrome last version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6288/comments",
    "author": "DanyHubGit",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2023-01-11T15:20:49Z",
        "body": "Hi\r\nIf this is still relevant, there is no widget in ThingsBoard that could simultaneously display the location of the device on the map for a certain period of time and all telemetry. For this, you will need to use two widgets:\r\nnew trip animation - geolocation at the required time.\r\nNew Timeseries Table - any telemetry for the required time, but there is no way to select the moment of time with the mouse.\r\nBest regards,\r\nMykhailo"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:07:19Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6281,
    "title": "[Question] data converter fails to insert new data for multiple devices ",
    "created_at": "2022-03-17T19:28:24Z",
    "closed_at": "2024-06-12T13:11:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6281",
    "body": "Hi\r\n\r\nwe are using batch syntax to insert multiple device data points in one return\r\n\r\nproblem is, if one of the devices in the batch payload does not exist in the system, and integration is set NOT to allow creation of new devices and assets\r\n\r\nbecause of that it seems that the whole payload fails and no new data is inserted. If we enable device creation it succeed, but we need to keep that permission disabled.\r\n\r\nexample payload: assume the first device does not exist in the platform, and the other 2 do exist. This will result in error and no data will be inserted by the data converter.\r\n\r\nany workaround for this?\r\n\r\n\r\n```\r\n[{\r\n    \"deviceName\": \"249F895384C0\",\r\n    \"deviceType\": \"DefaultSensor\",\r\n    \"groupName\": \"Refrigerations\",\r\n    \"attributes\": {\r\n        \"integrationName\": \"Refrigerations-DefaultSensor\",\r\n        \"gatewayId\": \"A8032AF8D008\",\r\n        \"active\": true,\r\n        \"excessiveMsg\": 1\r\n    },\r\n    \"telemetry\": [{\r\n        \"ts\": 1647524001268,\r\n        \"values\": {\r\n            \"battery\": 3.01,\r\n            \"temperature\": 19.87,\r\n            \"rssi\": -81\r\n        }\r\n    }]\r\n}, {\r\n    \"deviceName\": \"D02EABBD91B7\",\r\n    \"deviceType\": \"DefaultSensor\",\r\n    \"groupName\": \"Refrigerations\",\r\n    \"attributes\": {\r\n        \"integrationName\": \"Refrigerations-DefaultSensor\",\r\n        \"gatewayId\": \"A8032AF8D008\",\r\n        \"active\": true,\r\n        \"excessiveMsg\": 1\r\n    },\r\n    \"telemetry\": [{\r\n        \"ts\": 1647524006569,\r\n        \"values\": {\r\n            \"battery\": 3,\r\n            \"temperature\": 19.37,\r\n            \"temperature-int\": 19.23,\r\n            \"rssi\": -81\r\n        }\r\n    }]\r\n}, {\r\n    \"deviceName\": \"D02EABBD93CB\",\r\n    \"deviceType\": \"DefaultSensor\",\r\n    \"groupName\": \"Refrigerations\",\r\n    \"attributes\": {\r\n        \"integrationName\": \"Refrigerations-DefaultSensor\",\r\n        \"gatewayId\": \"A8032AF8D008\",\r\n        \"active\": true,\r\n        \"excessiveMsg\": 1\r\n    },\r\n    \"telemetry\": [{\r\n        \"ts\": 1647524011309,\r\n        \"values\": {\r\n            \"battery\": 3.09,\r\n            \"temperature\": 19.81,\r\n            \"temperature-int\": 19.93,\r\n            \"rssi\": -76\r\n        }\r\n    }]\r\n}]\r\n```\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6281/comments",
    "author": "t0mZ4",
    "comments": [
      {
        "user": "t0mZ4",
        "created_at": "2022-03-17T19:58:29Z",
        "body": "the desire here is that only the payload of the device that is not CREATED fail, and not all 3 of them.\r\n\r\nhere is the error from the logs\r\n```\r\n2022-03-17 19:57:39,883 [nioEventLoopGroup-4-3] WARN  o.t.i.api.util.ExceptionUtil - [005b3b20-a213-11ec-9df9-93fb802473db] Unknown error during message processing\r\norg.thingsboard.server.exception.ThingsboardRuntimeException: Creating devices is forbidden!\r\n\tat org.thingsboard.server.service.integration.DefaultPlatformIntegrationService.processGetOrCreateDevice(DefaultPlatformIntegrationService.java:714)\r\n\tat org.thingsboard.server.service.integration.DefaultPlatformIntegrationService.getOrCreateDevice(DefaultPlatformIntegrationService.java:638)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor322.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\r\n\tat com.sun.proxy.$Proxy281.getOrCreateDevice(Unknown Source)\r\n\r\n```"
      },
      {
        "user": "JacksonBowe",
        "created_at": "2022-03-17T21:31:47Z",
        "body": "There's probably no way you can get around this cleanly. If you only want to allow certain devices then you need to put a lookup table in the decoder and filter out devices that aren't in the lookup. But it's not scalable."
      },
      {
        "user": "t0mZ4",
        "created_at": "2022-03-18T11:28:25Z",
        "body": "@JacksonBowe I know I was thinking the same thing and really am trying to avoid that lookup table i'll have to manually handle.\r\n\r\n"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-06-12T13:11:53Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6280,
    "title": "[Question] filter datasource alias entities table widget",
    "created_at": "2022-03-17T17:41:47Z",
    "closed_at": "2023-06-28T13:07:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6280",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nI have entities table widget with all device AND an asset \"STREET A\"\r\nIF i create a relation query alias I can view in the widget ONLY DEVICE that have a relation with STREET A\r\nI want other entities table widget that show ONLY DEVICE that NOT have a relation with STREET A\r\nI thought that i can create a NEGATE relation query but isn't possible.,...\r\nis there a way to filter datasource of widget  with an implementation on custom action OR editing on \"self.onInit\" OR \"self.onDataUpdated\" OR with filter or with other type of alias?\r\n\r\n\r\n**Environment**\r\n * ThingsBoard: 3.3.3\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6280/comments",
    "author": "albtareng",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2023-01-10T15:39:50Z",
        "body": "Hi\r\nIf this request is still relevant, then such functionality is not provided by ThingsBoard, the only thing that can be done is to create another asset that will contain all the other devices you need.\r\nBest regards,\r\nMykhailo"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:07:23Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6272,
    "title": "[Question] Thingsboard PE -> Rule - How to implement average value group by a message field?",
    "created_at": "2022-03-16T21:25:29Z",
    "closed_at": "2023-06-28T13:07:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6272",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Analytics Nodes\r\n * Aggregate Stream Node\r\n * Average value\r\n\r\n**Description**\r\nI try to use Aggregate Stream Node to get average value grouped by a field. I can't find an option to do it.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: 3.3.2 PE\r\n * Browser: Mac os Firefox 97.0.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6272/comments",
    "author": "soyoeml",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2023-01-10T14:46:07Z",
        "body": "Hi.\r\nIf it's still relevant, then you can try aggregate latest node which was added in the latest update (3.4.3)\r\nBest regards,\r\nMykhailo"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:07:27Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6270,
    "title": "Is it possible to get aggregation type in the data post-processing function?",
    "created_at": "2022-03-16T15:35:54Z",
    "closed_at": "2024-05-23T10:38:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6270",
    "body": "Hi all,\r\n\r\nCan you determine what type of aggregation (average, sum, etc) a plot is using in the post processing function? ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6270/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-05-23T10:38:27Z",
        "body": "Hello @OzyOzk,\r\n\r\nIn older versions, there was no option to determine what type of aggregation (average, sum, etc.) a plot was using in the post-processing function.\r\nHowever, this possibility is already available in newer versions of Thingsboard."
      }
    ]
  },
  {
    "number": 6269,
    "title": "thingsboard dashboard export to mobile application",
    "created_at": "2022-03-16T12:54:57Z",
    "closed_at": "2023-06-28T13:07:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6269",
    "body": "\r\n * Installation\r\n\r\n\r\n**Description**\r\nhello i wanna ask you about community service please , \r\ni have iot project for school i need to know if it's possible to implement dashboard from thingsboard to my mobile application android studio please ? \r\nthank you !\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6269/comments",
    "author": "ahmedjomaa1234",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2022-11-03T11:55:08Z",
        "body": "Hello ahmedjomaa1234\r\nPlease let me know if your issue is still relevant. Perhaps you have already found a solution?\r\nAlso prompt, whether the corresponding rights to the user in roles are issued.\r\nBest regards,\r\nMykhailo"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:07:31Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6261,
    "title": "[Question] JSON payload schema, default MQTT Converter?",
    "created_at": "2022-03-15T15:46:07Z",
    "closed_at": "2024-05-22T11:53:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6261",
    "body": "**Description**\r\nWhen using the Thingsboard MQTT interface and your IoT device has a not changeable json structure.\r\nthen it needs to be parsed/converted to the Thingsboard JSON format.\r\nI assume it can be done in the rule engine.\r\nBut is there a way to do it with the Thingsboard PE Data converters?\r\nor can this only be used when you connect to another server (integrations)\r\n\r\n**Environment**\r\n<!-- Add information about your environment and Thingsboard version if applicable -->\r\n * OS:  Ubuntu LTS 20.04\r\n * Thingsboard: 3.3.3\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6261/comments",
    "author": "KenSense",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2022-03-20T22:01:13Z",
        "body": "Yeah do it in the converters."
      },
      {
        "user": "KenSense",
        "created_at": "2022-03-21T08:09:05Z",
        "body": "> Yeah do it in the converters.\r\n\r\nHow can I link a converter to a default MQTT proflle (not an integration)?"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T11:53:56Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 6260,
    "title": "[Question] How to catch \"No data to display on widget\" error",
    "created_at": "2022-03-15T15:05:29Z",
    "closed_at": "2022-05-11T13:40:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6260",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\n\r\nI developed a custom slider button that moves according to whether its connected attribute is \"on/off/auto\" and can be pressed to change that attribute to one of these three states. To be able to link the attribute to the widget I started from the widget type **Latest Values**. My issue is what happens when the linked entity doesnt have that attribute. It then shows me the error **\"No Data to display on widget\"**. That wouldnt be a problem if I could catch the error, but it seems this is not possible through the Javascript section available through the Widget Editor. Some users will have that attribute, some will not.\r\n\r\nI need a way to catch the error of \"No Data to display on widget\" inside javascript, if possible. I first suspected ngZone could help but to no avail.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  WIn10\r\n * ThingsBoard: 3.2.x\r\n * Browser: Mozilla Firefox 98.0 (64-Bit)\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6260/comments",
    "author": "X1folta",
    "comments": [
      {
        "user": "lucasKapf",
        "created_at": "2022-03-23T14:56:09Z",
        "body": "Hello @X1folta, I think that you can use the data post processing function on the attribute and return something specific if the value doesn't exist ?\r\nThe code of the data post processing function would be like this : \r\n```\r\nif(value) {\r\n return value\r\n} else {\r\n return \"Error\"\r\n}\r\n```\r\nThen you could check that if the value of the attribute is equal to \"Error\", then you are in the case where there is a \"No Data to display on Widget\".\r\nBest regards,\r\n\r\nLucas"
      },
      {
        "user": "X1folta",
        "created_at": "2022-05-11T13:40:33Z",
        "body": "Thanks lucas, I will try that approach!"
      }
    ]
  },
  {
    "number": 6255,
    "title": "[Question] How to integrate external API call in Thingsboard custom widget",
    "created_at": "2022-03-15T05:10:03Z",
    "closed_at": "2024-06-18T13:27:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6255",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\n\r\nI am working on a project where I have multiple destination points and I want to calculate the optimized route between those points for a bike/ bicycle traveling mode.\r\n\r\nwe have created a custom widget and we are trying to add our own javaScript code to call google maps direction API but our request getting blocked.\r\n\r\nwe are using the community edition of Thingsboard.\r\n\r\n\r\n**Environment**\r\n\r\n * OS:  GKE on GCP \r\n * ThingsBoard: release-3.3.4\r\n * Browser: Chrome and 99.0.4844.51\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6255/comments",
    "author": "Aviijit",
    "comments": [
      {
        "user": "lucasKapf",
        "created_at": "2022-03-24T08:44:37Z",
        "body": "Hello, \r\nI also tried to do API calls from widget but I didn't achieved it.\r\nMaybe you can use the REST API Call Rule Node inside a Rule Chain ?\r\nBest regards,\r\n\r\nLucas"
      },
      {
        "user": "bhaveshgohel",
        "created_at": "2024-02-16T10:24:29Z",
        "body": "Hi @Aviijit did you find the solution for calling external API call withing widget? "
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-06-12T13:22:59Z",
        "body": "Hi. For such purpose, you will need to use `self.ctx.http.post() `service with necessary API endpoint parameteres."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-06-18T13:27:44Z",
        "body": "I closed this ticket due to inactivity. If this question is still relevant to you, feel free to open a new ticket with full description of your request"
      }
    ]
  },
  {
    "number": 6252,
    "title": "[Question] Custom rule nodes - Failed to load configuration ui resources",
    "created_at": "2022-03-14T17:57:15Z",
    "closed_at": "2023-06-29T13:35:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6252",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nCreated a custom RuleNode from rule-node-examples project and customized the component ui starting from rule-node-examples-ui-ngx project.\r\nThe custom RuleNode is visible, but not the structure of the form. The error says: \"Failed to load configuration ui resources\".\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  MS Windows 10 Pro\r\n * ThingsBoard: 3.3.3\r\n * Browser: Google Chrome 99.0.4844.51\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6252/comments",
    "author": "marbrune",
    "comments": [
      {
        "user": "t0mZ4",
        "created_at": "2022-04-10T11:23:53Z",
        "body": "@marbrune did you find a solution to this ?"
      },
      {
        "user": "marbrune",
        "created_at": "2022-04-11T07:30:27Z",
        "body": "> @marbrune did you find a solution to this ?\r\n\r\nNot really. I found my js file from ui project compiled with Yarn on Windows machine is different from the same file compiled on a Linux machine where the issue is not present."
      },
      {
        "user": "t0mZ4",
        "created_at": "2022-04-12T08:23:06Z",
        "body": "@marbrune  hey mate, so turn out the issue for me was in the browser cache\r\n\r\ndisabling cache or loading the site in private mode / different laptop - and the issue was gone\r\n\r\n\r\n\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:35:22Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6248,
    "title": "Sending downlink message from Thingsboard to the source.",
    "created_at": "2022-03-14T09:03:43Z",
    "closed_at": "2024-05-03T14:37:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6248",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n \r\n * Rule Engine -> IoT Gateway\r\n * Generic\r\n\r\n**Description**\r\nI am receiving JSON data from device to the TB server by HTTP and 'statusCode:200' is sent back alright. But 'this device' needs a particular message ('81') in return to confirm that it has sent the message alright. Else it will continually try to to send the same message. \r\nIs it possible to sent back such downlink message by HTTP from ThingsBoard to the source (device)? \r\n\r\nIs Rule Chain of any help in achieving this? \r\n\r\nupdate: from the net I have gathered that TB PE have such option. But I am using CE at present. Someone suggested IoT Gateway REST connector may solve this issue. But could not found how to approach. \r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: version 3.3.2\r\n * Browser: Google Chrome Version 99.0.4844.51 (Official build) (64-bit) \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6248/comments",
    "author": "debacs83",
    "comments": [
      {
        "user": "lincoln310",
        "created_at": "2022-10-20T02:44:33Z",
        "body": "Any answer? I have the similar question."
      },
      {
        "user": "debacs83",
        "created_at": "2022-10-20T15:18:55Z",
        "body": "Don't know if it is possible with Thingsboard CE. I did it by using a local server by using PHP. It receives the payload from GW (receiving data from sensors) and send that to TB and also return the desired Response to the sender (for me it was a GW). The local server was acting as a middle-man. "
      },
      {
        "user": "lincoln310",
        "created_at": "2022-10-21T02:30:24Z",
        "body": "> Don't know if it is possible with Thingsboard CE. I did it by using a local server by using PHP. It receives the payload from GW (receiving data from sensors) and send that to TB and also return the desired Response to the sender (for me it was a GW). The local server was acting as a middle-man.\r\n\r\nI think you can just implement it in GW? We can add custom process to specific topic. I have not use it yet. So i don't know whether it works."
      }
    ]
  },
  {
    "number": 6247,
    "title": "[Question] how to deploy Rule Engine as a separate Micro service",
    "created_at": "2022-03-14T01:46:42Z",
    "closed_at": "2024-05-15T08:44:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6247",
    "body": "**Component**\r\n* Rule Engine\r\n\r\n**Description**\r\nAccording to Release Note: Ability to launch Rule Engine as separate microservice; but I can not find a spring-boot launch class.\r\n\r\n**Environment**\r\n * ThingsBoard: 2.5+\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6247/comments",
    "author": "makerlee",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T08:44:05Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 6239,
    "title": "navigate to new dashboard state with action custom",
    "created_at": "2022-03-11T09:55:22Z",
    "closed_at": "2022-08-25T15:40:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6239",
    "body": "Hey I would really appreciate some help,\r\nDoes anyone know how a can navigate to new dashboard state with action custom :\r\nthis is the  code im using but i have no response :\r\n\r\nvar $injector = widgetContext.$scope.$injector;\r\n$injector.get('deviceService').getDevice(entityId.id).then(function(device) {\r\n    if(device.type == 'Energy sensor1') {\r\n      openDashboardState('energy_state');\r\n    } else if (device.type == 'Water sensor1') {\r\n      openDashboardState('water_state');\r\n    } else {\r\n      openDashboardState('temperature_state');\r\n    }\r\n  });\r\n\r\nfunction openDashboardState(statedId) {\r\n  var params = {\r\n    entityId: entityId,\r\n    entityName: entityName\r\n  };\r\n\r\n  widgetContext.stateController.openState(statedId, params, false);\r\n}",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6239/comments",
    "author": "ImNotitsami",
    "comments": [
      {
        "user": "yungwenpeng",
        "created_at": "2022-04-13T04:17:55Z",
        "body": "Hi ,\r\nI'm not sure it's right or not. you can try to set a alert to display your params : alert(JSON.stringify(params)), and compare it to the other correct widget's params.\r\n\r\nfunction openDashboardState(statedId) {\r\nvar params = {\r\nentityId: entityId,\r\nentityName: entityName\r\n};\r\nalert(JSON.stringify(params));\r\nwidgetContext.stateController.openState(statedId, params, false);\r\n} \r\n\r\nI think it should be like : params:{\"targetEntityParamName\":{\"entityId\":{\"id\":\"entityId\",\"entityType\":\"entityType\"},\"entityName\":\"entityName\",\"entityLabel\":\"entityName\"},\"targetEntityParamName\":\"targetEntityParamName\"}"
      },
      {
        "user": "ssakharova",
        "created_at": "2022-08-11T16:10:04Z",
        "body": "Hello @ImNotitsami,\r\n\r\nAfter the ThingsBoard v.3.0, you need to use the subscribe method. Please use this code instead: \r\n\r\nvar $injector = widgetContext.$scope.$injector;\r\n$injector.get(widgetContext.servicesMap.get('deviceService')).getDevice(entityId.id).subscribe((device) => {\r\nif(device.type == 'Energy sensor1') {\r\nopenDashboardState('energy_state');\r\n} else if (device.type == 'Water sensor1') {\r\nopenDashboardState('water_state');\r\n} else {\r\nopenDashboardState('temperature_state');\r\n}\r\n\r\n});\r\n\r\nfunction openDashboardState(stateId) {\r\n\r\nvar params = {\r\nentityId: entityId,\r\nentityName: entityName\r\n};\r\n\r\nwidgetContext.stateController.openState(stateId, params, false);\r\n}\r\n\r\nRegards,"
      }
    ]
  },
  {
    "number": 6226,
    "title": "[Question] Mobile browsing problems",
    "created_at": "2022-03-09T09:00:43Z",
    "closed_at": "2024-08-06T12:49:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6226",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nThere are problems with the navigability of dashboards on mobile devices. If there are charts in the dashboard for example, when I try to scroll down, the action generates a zoom on the chart and therefore it is impossible to navigate down. How can you solve this problem? Can I disable zooming on charts? Are there other solutions?\r\n\r\nThank you\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6226/comments",
    "author": "shaphiro",
    "comments": [
      {
        "user": "gednz",
        "created_at": "2022-08-18T04:13:04Z",
        "body": "I find this to be a major issue on mobile too.\r\n\r\nA secondary consideration would be the option to disable zoom completely for all devices. \r\nI have cases where the Timewindow settings are relevant to the chart title and/or the post-processing calculations, therefore being able to change the timewindow makes the chart incorrect.\r\n\r\nIt seems strange that we can disable the display of the timewindow to the user but they can still over-ride it by swiping or click-dragging.\r\n\r\n\r\nRegards\r\nGed"
      },
      {
        "user": "gednz",
        "created_at": "2023-07-13T03:59:15Z",
        "body": "I have found a work around while we wait for this feature to be added.\r\nThis will disable zooming on mobile and desktop.\r\n\r\nCreate a custom Timeseries widget and add/amend the following functions:\r\n```\r\nfunction killZoom() {\r\n    var o = self.ctx.flot.plot.getOptions();\r\n    //o.selection.mode = null; // should have worked but dosen't\r\n    o.selection = null;\r\n}\r\nself.onInit = function() {\r\n    self.ctx.flot = new TbFlot(self.ctx); \r\n    killZoom();\r\n}\r\nself.onDataUpdated = function() {\r\n    self.ctx.flot.update();\r\n    killZoom();\r\n}\r\nself.onResize = function() {\r\n    self.ctx.flot.resize();\r\n    killZoom();\r\n}\r\nself.onEditModeChanged = function() {\r\n    self.ctx.flot.checkMouseEvents();\r\n    killZoom();\r\n}\r\n```"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-06T12:49:31Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6220,
    "title": "[Question] Kafka pod: No space left on device",
    "created_at": "2022-03-08T14:26:54Z",
    "closed_at": "2022-03-15T17:00:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6220",
    "body": "**Component**\r\nKafka Pod\r\n\r\n * Installation\r\n\r\n**Description**\r\nHello, I finally was able to install the PE 3.3.2 version On Premise in our Azure  subscription. \r\n\r\nAfter 3 days working, with 18 devices sending telemetry via 1 MQTT subscription (4 variables) every 2 minutes, the TB stopped receiving MQTT messages.\r\n\r\nI check the pods and I found an error in one of the kafka pods that no space left on device. I didn't change any of the yml files from the installation. Do I need to make any change in the configuration?\r\n\r\n**Environment**\r\n * OS:  Azure Microservices\r\n * ThingsBoard: 3.3.2\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6220/comments",
    "author": "ivangarcialopez",
    "comments": [
      {
        "user": "ivangarcialopez",
        "created_at": "2022-03-15T17:01:17Z",
        "body": "Finally by deleting the kafka logs and redeploying the system started to work."
      },
      {
        "user": "amarkevich",
        "created_at": "2022-06-09T23:08:56Z",
        "body": "in my case `logs` volume needs to be increased. still growing; main consumption comes from \r\n`1.0G    tb_rule_engine.main.0-0/`"
      },
      {
        "user": "hsanderr",
        "created_at": "2022-09-08T19:40:43Z",
        "body": "how do i increase these logs volume?"
      }
    ]
  },
  {
    "number": 6219,
    "title": "[Question] Navigate to List of Devices From Pie Chart",
    "created_at": "2022-03-08T12:29:38Z",
    "closed_at": "2022-03-10T11:03:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6219",
    "body": "**Component**\r\nPie Chart Widget\r\n * UI\r\n\r\n**Description**\r\nMy question consists of two parts:\r\n* I want to group multiple devices' data and show that data on a pie chart. For example, I created an asset named doors and I want to show the situation of doors on a pie chart like 3 doors are open and 2 doors are closed. \r\n* After that, I want to add an action to navigate to a dashboard state that shows doors with clicked statuses. Assume that I clicked on the slice which shows the open doors, then I want to navigate to a dashboard state and add an entity table that will show me just the open doors. \r\n\r\nCan I do something like that? Thank you for your time.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  MACOS\r\n * ThingsBoard: v3.3.3\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6219/comments",
    "author": "emrekardaslar",
    "comments": [
      {
        "user": "mde2017",
        "created_at": "2022-03-10T11:00:46Z",
        "body": "Hi @emrekardaslar \r\n\r\n> I want to group multiple devices' data and show that data on a pie chart. For example, I created an asset named doors and I want to show the situation of doors on a pie chart like 3 doors are open and 2 doors are closed\r\n\r\nAre you using PE Version of ThingsBoard? If yes, you could aggregate the door states e.g. open_count or closed_count via Analytics Rule Nodes (aggregate latest or aggregate stream) and store the resulting telemetries for the asset. Then select the Asset as entity alias for the dashboards and configure the pie chart.\r\n\r\n> After that, I want to add an action to navigate to a dashboard state that shows doors with clicked statuses. Assume that I clicked on the slice which shows the open doors, then I want to navigate to a dashboard state and add an entity table that will show me just the open doors.\r\n\r\nI don't think this is possible via the default pie chart widget. But it could be doable with a custom widget implementation.\r\nAlternatively other workarounds may work for you with lesser effort e.g. Entities Table with list of all devices and Actions or two Card Widgets with Hyperlinks to the dashboards states.\r\n"
      },
      {
        "user": "emrekardaslar",
        "created_at": "2022-03-10T11:03:55Z",
        "body": "Okay, thanks for the reply 👍  "
      }
    ]
  },
  {
    "number": 6206,
    "title": "[Question] OTA update logic with rule engine",
    "created_at": "2022-03-06T16:17:20Z",
    "closed_at": "2024-05-23T21:41:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6206",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n\r\n**Description**\r\n\r\nI am trying to implement OTA update logic via the rule engine. What I would like to achieve is when a device updates a client attribute  ( firmware version ) I want to to check if there is another OTA package that meets some criteria and if so assign it to the device. Is this kind of thing possible ? Is there any nodes that can help me get the OTA updates that I have uploaded ? \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6206/comments",
    "author": "lidavid",
    "comments": [
      {
        "user": "epalchenko",
        "created_at": "2024-05-23T21:41:16Z",
        "body": "Hello,\r\nAs the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 6202,
    "title": "[Question] how to detect timewindow change of dashboard inside static widget",
    "created_at": "2022-03-04T08:26:34Z",
    "closed_at": "2022-05-04T13:42:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6202",
    "body": "**Component**\r\n\r\n * UI / Widget development\r\n\r\n**Description**\r\nI have a static widget which purpose it is to show the current day of the dashboards timewindow. The clients can only jump back in intervals of days in this specific dashboard. I get the widget to initiate with the correct day by fetching endTime through\r\n\r\n`$scope.ctx.dashboardTimewindow.history.fixedTimewindow.endTimeMs`\r\n\r\nBut when I go any day back it doesnt update the time as I dont have yet a way to detect if timewindow of dashboard has been changed. As I understand OnDataUpdated only triggers if an availabe datasource's change has been detected or at least `self.onDataUpdated = function() {}` didnt detect the change of timewindow in the dashboard. \r\n\r\n**Environment**\r\n\r\n * OS:  Win10\r\n * ThingsBoard: 3.2.X version\r\n * Browser: Mozilla Firefox 97.0.1 (64-Bit)\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6202/comments",
    "author": "X1folta",
    "comments": [
      {
        "user": "WilerMS",
        "created_at": "2022-04-13T10:59:37Z",
        "body": "Could you solve this issue? "
      },
      {
        "user": "Civilduino",
        "created_at": "2022-04-14T00:09:37Z",
        "body": "I am having a similar problem in a custom timeseries widget where the data is not being updated when the time windows change to historical values.\r\nI found this issue #1268 which might give some hints but I haven't figured it out yet."
      },
      {
        "user": "X1folta",
        "created_at": "2022-05-04T13:41:48Z",
        "body": "I bypassed the problem by having the very same custom widget executing the timewindowchange track the change and display it. For example like this custom action to go back one day on html click and display it:\r\n\r\n`\r\n\r\nif (widgetContext.dashboard.dashboardTimewindow.history.historyType === 1){ \r\n    \r\n    \r\n    var date = new Date(widgetContext.dashboard.dashboardTimewindow.history.fixedTimewindow.startTimeMs);\r\n    var yesterday = new Date(date.getFullYear(), date.getMonth(), date.getDate()-1,0);\r\n\r\n    var toDay = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0);\r\n    var timeShow = yesterday.toLocaleString('default', { weekday:\"short\", month:\"short\", day:\"numeric\", year: \"numeric\"});\r\n    \r\n\r\n    \r\n    yesterday = yesterday.getTime();\r\n    toDay = toDay.getTime();\r\n}\r\n\r\n\r\n    \r\nif (widgetContext.dashboard.dashboardTimewindow.history.historyType === 2){ \r\n    \r\n    var date = new Date(Date.now());\r\n    var yesterday = new Date(date.getFullYear(), date.getMonth(), date.getDate()-1,0);\r\n\r\n    var toDay = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0);\r\n    var timeShow = yesterday.toLocaleString('default', { weekday:\"short\", month:\"short\", day:\"numeric\", year: \"numeric\"});\r\n    \r\n    yesterday = yesterday.getTime();\r\n    toDay = toDay.getTime();\r\n    \r\n}\r\n\r\n    document.getElementById('txt').innerHTML = timeShow;\r\n\r\n\r\n\r\nconst newDashboardtimewindow = {\r\n    aggregation: {\r\n        limit: 25000,\r\n        type: \"AVG\"\r\n    },\r\n    hideAggInterval: false,\r\n    hideAggregation: false,\r\n    hideInterval: false,\r\n    history: {\r\n        historyType: 1,\r\n        interval: 180000,\r\n        fixedTimewindow: {\r\n            startTimeMs:  yesterday,\r\n            endTimeMs: toDay,\r\n        }\r\n    },\r\n    selectedTab: 1\r\n};\r\nwidgetContext.dashboard.dashboardTimewindowChangedSubject.next(newDashboardtimewindow);\r\n\r\n`\r\nThis works for me because I set all dashboards to history and current intervals, this is why it checks for the historyType at the beginning. Its not elegant yet but this may help some of you."
      }
    ]
  },
  {
    "number": 6187,
    "title": "[Question] Show Button in Entities Table widget depending on attribute value of entity",
    "created_at": "2022-03-02T15:00:34Z",
    "closed_at": "2022-03-03T08:20:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6187",
    "body": "Hello,\r\n\r\nI have an Entities table widget which displays all my Customers.\r\nIf some Customers are Service Providers, they have an boolean attribute \"is_service_provider\" equal to true. \r\nThis attribute is false otherwise.\r\nI would like to show or hide a button depending on the value of the attribute \"is_service_provider\".\r\nI have tried this code in the show/hide function of button but it does not work.\r\n\r\n```\r\n let $injector = widgetContext.$scope.$injector;\r\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\r\n\r\nattributeService.getEntityAttributes(data.id, 'SERVER_SCOPE', ['is_service_provider']).subscribe(\r\n                   function (attributes) {\r\n\t\t\t\tif(attributes[0]) {\r\n\t\t\t\t\treturn attributes[0].value;\r\n\t\t\t\t}   \r\n\t\t  }\r\n);\r\n```\r\n\r\nIs it because the return is inside the subscribe ?\r\nIs there any other way to do what I want ?\r\nBest Regards,\r\n\r\nLucas",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6187/comments",
    "author": "lucasKapf",
    "comments": [
      {
        "user": "vparomskiy",
        "created_at": "2022-03-02T18:21:34Z",
        "body": "In your example, you return Observable instead of boolean value.\r\nThe easiest option is to add the field 'is_service_provider' in the widget datasource. And in show/hide function check it directly. Something like :\r\n\r\n> return data && data.is_service_provider;"
      },
      {
        "user": "lucasKapf",
        "created_at": "2022-03-03T08:20:22Z",
        "body": "Hello @vparomskiy thank you very much for your quick answer. I achieved it by doing what you said.\r\nI have just put \r\n`return data && data.is_service_provider === \"true\"`\r\nOtherwise it just checks if the attribute is_service_provider exists."
      }
    ]
  },
  {
    "number": 6185,
    "title": "[Assets] See the attributes received",
    "created_at": "2022-03-02T14:06:05Z",
    "closed_at": "2024-05-15T09:33:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6185",
    "body": "\r\n * Generic\r\n\r\n**Description**\r\nHello! I would like to create any assets (cows), my device is a weighting sensor and I need to send attributes for the assets, but I just see the attribute valor in the page device. How I create a relation between assets and devices? \r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6185/comments",
    "author": "Victorio1209",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2022-03-02T15:54:18Z",
        "body": "@Victorio1209 \r\nyou need to setup rulechain\r\nso when device send the data it will stored into the related asset \r\n\r\nThanks"
      },
      {
        "user": "Victorio1209",
        "created_at": "2022-03-02T16:18:44Z",
        "body": "Thank you! Do you know any example of this? What nodes do I need for it?\r\n\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T09:33:21Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 6175,
    "title": "[Question] Create Control Widget with subscription ( similar to Switch)",
    "created_at": "2022-02-28T17:29:04Z",
    "closed_at": "2023-06-29T13:35:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6175",
    "body": "**Component**\r\n\r\n * UI\r\n\r\n\r\n**Description**\r\nIs it possible to create a custom widget (CONTROL WIDGET) using the Web UI that use subscription to timeserie to retrieve data and RPC to send command? Like the Switch does.\r\n\r\n\r\n**Environment**\r\n * ThingsBoard: 3.3\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6175/comments",
    "author": "RiccardoFelicetti",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2022-02-28T17:30:38Z",
        "body": "@RiccardoFelicetti \r\nyes you can"
      },
      {
        "user": "RiccardoFelicetti",
        "created_at": "2022-02-28T17:37:18Z",
        "body": "How can I use the subscription api ?\r\nDoing something like this `self.ctx.subscriptionApi.createSubscriptionFromInfo (.....)`."
      },
      {
        "user": "dhaval2017",
        "created_at": "2022-02-28T17:42:05Z",
        "body": "yes \r\nor if you have alias created for same \r\nyou can use alias in widget  and get all data directly at self.ctx.data"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:35:30Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 6166,
    "title": "[Question] Submitting telemetries with compression (gzip) enabled.",
    "created_at": "2022-02-27T18:58:29Z",
    "closed_at": "2022-02-28T18:04:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6166",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI'm trying to submit a group of telemetries with gzip compression enabled in the header but I'm getting web server error 500 with no description of the issue. Is this supported at all?\r\n\r\n**Environment**\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.3.2\r\n * Browser: Chrome, submitted via python post request\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6166/comments",
    "author": "admiralmaggie",
    "comments": [
      {
        "user": "vparomskiy",
        "created_at": "2022-02-28T14:52:15Z",
        "body": "As I know, gzip compression is not supported in HTTP transport"
      },
      {
        "user": "admiralmaggie",
        "created_at": "2022-02-28T18:04:58Z",
        "body": "> \r\n\r\nThank you. I thought it might something I can activate in Spring framework but it seems like Spring doesn't support it. It is supported only with Tomcat."
      }
    ]
  },
  {
    "number": 6148,
    "title": "[Question] How to update the QR code from within the widget's javascript section?",
    "created_at": "2022-02-23T10:58:13Z",
    "closed_at": "2024-06-12T13:27:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6148",
    "body": "**Component**\r\n Generic\r\n\r\n**Description**\r\nI have a QR widget.  How can I dynamically update the QR code from within the widget's javascript section?\r\n\r\nI have tried to manually change the `qrCodeTextFunction` but it seems to not be bound to the QR image itself:\r\n`self.ctx.settings.qrCodeTextFunction = \"return '\" + dynamicallyGeneratedString + \"';\";`\r\n\r\n**Environment**\r\nThingsBoard: 3.3.3",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6148/comments",
    "author": "MichaelRHaddad",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-06-12T13:27:19Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6116,
    "title": "[Question] How to change owner of device or asset with entity Admin widget",
    "created_at": "2022-02-16T13:31:43Z",
    "closed_at": "2024-07-16T11:05:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6116",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n\r\n**Description**\r\nCurrently I cannot find a way to change the owner of a device or asset on a dashboard. On earlier versions of Thingsboard TB2.5 this was possible by using the entity admin widget by the use of a predefined action (Change Owner). \r\n\r\nIn this predefined action it was realised the call: $q = $injector.get('$q') \r\n\r\nOn TB 3.3.2 this call fails and therefore I cannot change owner of device or asset. \r\n\r\nIs there an alternative to realise this? Any help is highly appreciated.\r\n\r\nRegards\r\n\r\n**Environment**\r\n * ThingsBoard: 3.3.2\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6116/comments",
    "author": "ThomasBaumgartner",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-16T11:05:54Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 6107,
    "title": "[Question] How can we optimize the database",
    "created_at": "2022-02-15T10:54:40Z",
    "closed_at": "2024-05-15T11:13:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6107",
    "body": "We are having a problem with the Thingsboard Database size. Can you help with solving the problem?\r\nWe are using the Thingsboard database PostgreSQL. Apart from audit logs, rule chain debug and logs in the database, other logs take up too much space. First of all, can we keep the logging part only as a file? If this is possible, we welcome your suggestion on this.\r\nIf this is not possible, do you have a suggestion for a solution to delete the logs in the database as daily and file size? We are requesting information. Finally, how can we limit these files in logging as log or file size?\r\n\r\n**Server Environment**\r\nown setup\r\ndocker deployment\r\nOS: Linux(Ubuntu 20.04)\r\n\r\n**Client Environment**\r\nOS: Linux(Ubuntu)\r\nBrowser: Chrome, Firefox\r\nVersion Ubuntu Version 20.04\r\n\r\nBest Regards,\r\n**Gohm Team**",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6107/comments",
    "author": "gohm-tech",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T11:13:14Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 6088,
    "title": "[Question] Assign, enable dashboard during claiming device",
    "created_at": "2022-02-11T11:55:34Z",
    "closed_at": "2024-05-20T15:01:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6088",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\n\r\nIs it possible to assign a user default dashboard or share selected dashboards during the claiming device, depending on some device feature, e.g. device attributes, device profile, device group?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: Cloud\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6088/comments",
    "author": "eRJx",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-05-20T15:01:21Z",
        "body": "Hello @eRJx,\r\n\r\nIf the logic is not complicated, we can recommend adding an alias to the dashboard that will display all devices that the user has access to, thus also showing the devices that have been claimed. \r\nIf your logic is more complex, use rule chains and Rest API.\r\n\r\n"
      }
    ]
  },
  {
    "number": 6082,
    "title": "TCP Integration UNAVAILABLE: io exception!",
    "created_at": "2022-02-11T09:06:22Z",
    "closed_at": "2022-05-27T10:03:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6082",
    "body": "TCP Integration help needed\r\n\r\n * Installation\r\n\r\n\r\n**Description**\r\nI am trying to implement TCP Integration now and although I can send message just fine to the remote server from Hercules (simulating TCP client) however the message is not relayed to the ThingsBoard. I opened the \"tb-tcp-udp-integration.log\" to see what is wrong and this what I got:\r\n\r\n2022-02-11 09:01:08,923 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.\r\n2022-02-11 09:01:09,135 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 0 Redis repository interfaces.\r\n2022-02-11 09:01:11,512 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)\r\n2022-02-11 09:01:11,558 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler [\"http-nio-0.0.0.0-8082\"]\r\n2022-02-11 09:01:11,563 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]\r\n2022-02-11 09:01:11,568 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]\r\n2022-02-11 09:01:11,908 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext\r\n2022-02-11 09:01:11,909 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8048 ms\r\n2022-02-11 09:01:13,335 [main] WARN  o.s.h.c.j.Jackson2ObjectMapperBuilder - For Jackson Kotlin classes support please add \"com.fasterxml.jackson.module:jackson-module-kotlin\" to the classpath\r\n2022-02-11 09:01:13,656 [main] INFO  o.t.i.storage.EventStorageReader - Initializing from state file: [/usr/share/tb-tcp-udp-integration/bin/./data_1642668506262.txt:0]\r\n2022-02-11 09:01:15,284 [main] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:01:16,280 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'\r\n2022-02-11 09:01:18,355 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoint(s) beneath base path '/actuator'\r\n2022-02-11 09:01:18,473 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [\"http-nio-0.0.0.0-8082\"]\r\n2022-02-11 09:01:18,532 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''\r\n2022-02-11 09:01:18,570 [main] INFO  o.t.i.ThingsboardTcpUdpIntegrationApplication - Started ThingsboardTcpUdpIntegrationApplication in 16.886 seconds (JVM running for 19.632)\r\n2022-02-11 09:01:46,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:01:46,263 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:01:49,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:01:49,268 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:01:52,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:01:52,264 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:01:55,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:01:55,263 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:01:58,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:01:58,263 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:01,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:01,266 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:04,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:04,264 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:07,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:07,264 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:10,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:10,264 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:13,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:13,263 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:16,264 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:16,278 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:19,261 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:19,264 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:22,261 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:22,264 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:25,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:25,263 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:28,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:28,264 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:31,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:31,263 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:34,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:34,263 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n2022-02-11 09:02:37,260 [pool-4-thread-1] INFO  o.t.i.s.RemoteIntegrationManagerService - Trying to reconnect due to the error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception!\r\n2022-02-11 09:02:37,266 [pool-4-thread-1] INFO  o.t.i.rpc.IntegrationGrpcClient - [a6850483-b9bd-624d-973a-a5dc83a29eff] Sending a connect request to the TB!\r\n\r\n\r\n**Environment**\r\n\r\nOS: Ubuntu 20.04 (LTS) x64\r\nThingsBoard: 3.2.2\r\nBrowser: Chrome 97.0.4692.99\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6082/comments",
    "author": "kelvinsutandars",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-02-17T13:56:43Z",
        "body": "Hi @kelvinsutandars \r\n\r\nPlease check that the rpc port of the remote integration matches the rpc port in the thingsboard.yml file.\r\nthingsboard.yml:\r\n`integrations.rpc.port : \"${INTEGRATIONS_RPC_PORT:9090}\"`\r\n\r\ntb-tcp-udp-integration.conf:\r\n`export RPC_PORT=9090`"
      },
      {
        "user": "kelvinsutandars",
        "created_at": "2022-03-08T07:40:48Z",
        "body": "Hey Anna, I've checked the tb-tcp-udp-integration.conf. Where to find the thingsboard.yml file?"
      },
      {
        "user": "ashaforost",
        "created_at": "2022-05-10T09:09:49Z",
        "body": "Hi @kelvinsutandars ,\r\n\r\nYou can find the thingsboard.yml file in the /usr/share/thingsboard/conf directory."
      }
    ]
  },
  {
    "number": 6053,
    "title": "Is it safe to use Delay Rule Node or Do I need to use something else ?",
    "created_at": "2022-02-08T09:05:50Z",
    "closed_at": "2022-02-09T13:37:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/6053",
    "body": "Hello,\r\n\r\nI have created a RuleChain that is triggered when attributes are updated. This RuleChain makes an API call to nominatim and get the latitude and longitude from an adress and a city in the attributes of the asset.\r\nI also have a dashboard which can create assets for customers. Those asset are of two types : building and equipment.\r\nWhat I try to do is to have a Rule Chain which places the asset in the good asset group of the customer. I do this by using the \"add to group\" node, and I use it for each type of asset. I want the assets to be placed in the \"buildings\" and \"equipments\" asset groups.\r\nThe thing is sometimes it works, and sometimes it doesn't. But in the debug of the Rule Chain it tells Success everytime.\r\nI just saw that an asset group \"equipments\" was created at the root level of the tenant, but is empty. So it seems to mean that my asset is placed in this group, then is transfered in the \"all\" group of the customer assets.\r\n\r\nNote : I change the asset owner programmatically in my widget using custom action.\r\nThe code is this.\r\n\r\n```\r\nvm.save = function() {\r\n  vm.addEquipementFormGroup.markAsPristine();\r\n\t\tlet asset = {\r\n\t\t\tname: vm.addEquipementFormGroup.get('equipementName').value,\r\n\t\t\ttype: vm.addEquipementFormGroup.get('assetType').value,\r\n\t\t\tlabel: vm.addEquipementFormGroup.get('equipementName').value\r\n\t\t};\r\n        \r\n               assetService.saveAsset(asset).subscribe(\r\n                 function (asset) {\r\n\t\t\t\twidgetContext.rxjs.forkJoin([\r\n                                 saveAttributes(asset.id),\r\n\t\t\t\tsaveRelations(asset.id)\r\n\t\t\t\t]).subscribe(\r\n                                   function () {\r\n                                                //The owner is the client in which I am located in the dashboard\r\n\t\t\t\t\t\tvar owner = widgetContext.stateController.stateObject[1].params.entityId;\r\n\t\t\t\t\t\tentityGroupService.changeEntityOwner(owner,asset.id).subscribe(\r\n\t\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t\t\twidgetContext.updateAliases();\r\n\t\t\t\t\t\t\t\tvm.dialogRef.close(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n                                 }\r\n\t\t\t    );\r\n              }\r\n           );\r\n  };\r\n```\r\n\r\nBest regards,\r\n\r\nLucas\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/6053/comments",
    "author": "lucasKapf",
    "comments": [
      {
        "user": "lucasKapf",
        "created_at": "2022-02-08T10:30:32Z",
        "body": "I added a Customer Detail Node in my Rule Chain : it seems that sometimes my asset is assigned to a Customer, and sometimes it isn't. I saw in my Root Rule Chain that the message type OWNER_CHANGED seems to happen sometimes before the message type ATTRIBUTES_UPDATED, and sometimes after. I don't know how to make the change of owner happen everytime before the update of the attributes ? \r\n\r\nDo I have to use the \"Delay\" Rule Node even if it is deprecated ? The two events seems to be only one second apart."
      },
      {
        "user": "volodymyr-babak",
        "created_at": "2022-02-09T12:38:52Z",
        "body": "@lucasKapf \r\nI would recommend having a single trigger in place - OWNER_CHANGED or ATTRIBUTES_UPDATED.\r\nYou cannot guarantee the order of the messages in your case, even with the usage of the Delay node.\r\nSo you should trigger **REST API Call** and **Add to group** nodes only on OWNER_CHANGED events.\r\n"
      },
      {
        "user": "lucasKapf",
        "created_at": "2022-02-09T12:51:47Z",
        "body": "Hi @volodymyr-babak, thank you for your answer. \r\nI will do it this way."
      }
    ]
  },
  {
    "number": 5987,
    "title": "Creation of a generic dashboard",
    "created_at": "2022-01-31T08:40:58Z",
    "closed_at": "2022-01-31T13:46:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5987",
    "body": "Hello,\r\n\r\nI would like to know if it is possible to create a generic dashboard for several customers ? \r\nIn fact I just want to parametrize one entity alias depending on the Customer Name containing the dashboard.\r\nIf it is possible, I will be able to create one unique dashboard for all my customers, and this dashboard will show only the informations of the customer.\r\n\r\nBest regards,\r\n\r\nLucas\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5987/comments",
    "author": "lucasKapf",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-01-31T09:15:18Z",
        "body": "Hi @lucasKapf \r\n\r\nYou can create one dashboard on a tenant's level, for example, grant viewing/edition permissions for this dashboard to any user group you need with the Roles feature, available in PE edition and thingsboard.cloud.\r\nThen, on a dashboard, your customers will always see only the entities they have access to, so by adding, for example, devices of customers A, B, C, the tenant will see all the devices, and each customer will access only their corresponding devices.\r\n\r\nIn your generic role, make sure to grant the reading permissions for a dashboard, dashboard group, widget type, and widget bundle resources."
      },
      {
        "user": "lucasKapf",
        "created_at": "2022-01-31T09:20:04Z",
        "body": "Hi @ashaforost, thank you for your quick answer, this helps a lot.\r\nI will look at it"
      }
    ]
  },
  {
    "number": 5980,
    "title": "[Question] MQTTS and \"unknown_ca\" error",
    "created_at": "2022-01-28T14:20:11Z",
    "closed_at": "2024-05-15T11:33:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5980",
    "body": "Hello,\r\n\r\nI'm struggeling to get an IoT-Device to connect to TB by MQTTS with PEM cert. I have many devices running fine with the same configuration, but this one stopped two day ago to send data. Since then, I can't get it to connect again. Nothing was changed in software. The only hint I have is from the thingsboard.log when I start the script on the mentioned gateway.\r\n\r\nHope someone can help...\r\n\r\n\r\n**Component**\r\n * Generic\r\n\r\n**Description**\r\n\r\n2022-01-28 15:06:36,642 [nioEventLoopGroup-6-9] ERROR o.t.s.t.mqtt.MqttTransportHandler - [6c0e6b1e-e96d-4e37-beb1-65f17ab14f3e] Unexpected Exception\r\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:477)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\r\n\tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:185)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:681)\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:636)\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:454)\r\n\tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:433)\r\n\tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)\r\n\tat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1341)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1234)\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1283)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\r\n\t... 17 common frames omitted\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.04.3 and version\r\n * ThingsBoard: 3.3.3PE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5980/comments",
    "author": "andreas-jankowski",
    "comments": [
      {
        "user": "iwas108",
        "created_at": "2023-11-18T15:57:25Z",
        "body": "Any update on this? I Got this error after upgrading to 3.6.0\r\n\r\n```io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:499)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: unknown_ca\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:347)\r\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:186)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:681)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:636)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:454)\r\n        at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:433)\r\n        at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)\r\n        at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:297)\r\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1353)\r\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246)\r\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468)\r\n        ... 17 common frames omitted\r\n```"
      },
      {
        "user": "iwas108",
        "created_at": "2023-11-19T09:48:44Z",
        "body": "My problem was solved. Just come back to share my solution to other unfortunate soul.\r\n\r\nFirstly, make sure your self signed certificate is in a good condition. In my case my certif is fine, I follow  the step from good CA, good intermediate CA, and finally the good server certificate. Takes note that openssl have a configuration file that can be selected to create server cert, client cert, email cert, etc. The common name, the domain/DNS and the IP on the SNI section must match. The last one, make sure you put your .crt.pem and .key.pem in /etc/thingsboard/conf/ and set the permission as the same as thingsboard.conf.\r\n\r\nSecondly, the root of my problem so I lost the entire night to figure it out, it was the machine that I use to compile my code. Before, I use Ubuntu, everything works fine. Then, I switch to Windows, then everything was puffedup.  I figured it out that my Windows machine results a mess in my CA Root code that I flash to the ESP32. I still don't know what it was, the line ending or what. Just tried to change the line ending in Visual Studio Code to LR and other, but no luck. So the last resort I switch back to Ubuntu and my life is back. I hope this help others."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T11:33:24Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5973,
    "title": "Cannot see Debug events (Debug mode is ON)",
    "created_at": "2022-01-27T08:56:46Z",
    "closed_at": "2024-06-17T16:30:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5973",
    "body": "**MQTT Integration Debug**\r\n\r\n * Generic\r\n\r\n**Description**\r\nMQTT is being installed locally on the same Ubuntu server. MQTT Integration presumably works fine because it can add device when there are incoming messages, telemetry from all the devices are also fine. However, even when I turn the Debug Mode of MQTT Integration on, there is no event recorded. Any idea on why this is?\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.04 (LTS) x64\r\n * ThingsBoard: 3.2.2\r\n * Browser: Chrome 97.0.4692.99 ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5973/comments",
    "author": "kelvinsutandars",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2022-01-28T12:58:11Z",
        "body": "The default rate limits for debug events is 50K events per hour. Are you sure you are not affected by the limits?"
      },
      {
        "user": "kelvinsutandars",
        "created_at": "2022-02-08T03:16:48Z",
        "body": "Hi @ashvayka ,\r\n\r\nYes, right now the only telemetries being sent is from 2 devices generated by the Generator on the rule chain, each sending MQTT telemetry per 30 seconds. So I think it should be fine?\r\n\r\nWhy this concerns me is that I am trying to implement TCP Integration now and although I can send message just fine to the remote server from Hercules (simulating TCP client), ThingsBoard doesn't receive this telemetry and that's why I am trying to figure out what's wrong using the Debug Mode. "
      },
      {
        "user": "epalchenko",
        "created_at": "2024-05-29T14:17:33Z",
        "body": "Hello,\r\nPlease explain your workflow more precisely. \r\nDo I understand correctly that you generate telemetry through the generator node and want to see these messages in the Debug event in integration?\r\nIn this case, you will not see anything in the integration debug events, and this is the normal behavior of the platform. \r\nIf you still have not resolved this issue or have similar problems, please re-create a new ticket with detailed steps to reproduce."
      }
    ]
  },
  {
    "number": 5972,
    "title": "[Question] detectChanges for other widget",
    "created_at": "2022-01-27T04:07:32Z",
    "closed_at": "2024-05-20T14:04:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5972",
    "body": "Description:\r\nWhen we want trigger change detection of current widget, we use code like this `self.ctx.detectChanges` \r\n\r\nMy question is how to do this change detection running for other widget,\r\nif in a dashboard I have 2 custom widget, widget A and Widget B\r\n\r\nfrom widget A, what code I can use to trigger change detection of widget B? so widget B will be updated?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5972/comments",
    "author": "evanderbird",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T14:04:43Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 5971,
    "title": "[Question] Is it possible to know the number of users currently logged in?",
    "created_at": "2022-01-26T23:10:06Z",
    "closed_at": "2024-05-15T11:42:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5971",
    "body": "**Metrics ?**\r\n\r\n * Generic\r\n\r\n**Description**\r\nIs there a way to know the number of users logged in in the platform? \r\nI did not find an api endpoint for that and I did not find this information in the metrics.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu Docker\r\n * ThingsBoard: 3.3.1\r\n * Browser: N/A\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5971/comments",
    "author": "kastayou",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T11:42:38Z",
        "body": "Unfrotnuetly, no"
      }
    ]
  },
  {
    "number": 5967,
    "title": "[Question] Separate mobile dashboard for each device",
    "created_at": "2022-01-26T13:48:52Z",
    "closed_at": "2022-02-04T14:08:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5967",
    "body": "Does thingsboard allow customer users to select entity aliases on the dashboard? When I log in to thingsboard with Flutter webview with user, I cannot select entity aliases and assign new device. Our main goal is for the user to enter the entity aliases in the dashboard and assign a new device. Do you have an idea for a way to do this?\r\n\r\n**Server Environment**\r\nown setup\r\ndocker deployment\r\nOS: Linux(Ubuntu 20.04)\r\n\r\n**Client Environment**\r\nOS: Linux(Ubuntu)\r\nBrowser: Chrome, Firefox\r\nVersion Ubuntu Version 20.04\r\n\r\nBest Regards,\r\n**Gohm Team**",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5967/comments",
    "author": "gohm-tech",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-01-27T09:37:35Z",
        "body": "Hi @gohm-tech,\r\n\r\nYou can either grant all of your users the permissions to edit the dashboard (in PE edition generic role with the dashboard, dashboard group, widget bundle, widget type resources) or you if your design logic allows, you can add one entity alias (for all devices, for example) and each logged in user will only see the devices he has access to.\r\n\r\nPlease let me know if you have any further questions.\r\n"
      }
    ]
  },
  {
    "number": 5958,
    "title": "why AbstractCassandraBaseTimeseriesDao.convertResultToTsKvEntry return fake TsKvEntry  when there's no data",
    "created_at": "2022-01-25T00:14:09Z",
    "closed_at": "2024-07-16T11:09:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5958",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nwhy AbstractCassandraBaseTimeseriesDao.convertResultToTsKvEntry return fake TsKvEntry  when there's no data\r\n\r\nhere's the code in thingsboard3.3.x\r\n\r\n    protected TsKvEntry convertResultToTsKvEntry(String key, Row row) {\r\n        if (row != null) {\r\n            Optional<String> foundKeyOpt = getKey(row);\r\n            long ts = row.getLong(ModelConstants.TS_COLUMN);\r\n            return new BasicTsKvEntry(ts, toKvEntry(row, foundKeyOpt.orElse(key)));\r\n        } else {\r\n            return new BasicTsKvEntry(System.currentTimeMillis(), new StringDataEntry(key, null));\r\n        }\r\n    }\r\n\r\nwhy would it return one fake BasicTsKvEntry rather then null??\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  ubuntu20l04\r\n * ThingsBoard: 3.3\r\n * Browser: chrome \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5958/comments",
    "author": "john1337",
    "comments": [
      {
        "user": "john1337",
        "created_at": "2022-01-25T00:34:01Z",
        "body": "TimeseriesService.findAllLatest and TimeseriesService.findLatest is different,apprently findAllLatest  didn't fake any data like findLatest,i think faking data is kind of innappopriate"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-16T11:09:26Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 5943,
    "title": "[Question] Manage multipart response rule chain node",
    "created_at": "2022-01-20T19:38:35Z",
    "closed_at": "2024-05-15T13:41:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5943",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nI am creating a Node for the rule chain that sends a GET request to an endpoint, and this establishes a connection by sending a multipart/x-mixed-replace packet every time there is an event on the server.\r\n\r\nThis way, I need to always be connected to that endpoint and every time I receive a new part from the server, pick it up and send it as output from the node.\r\n\r\nI'm still trying to solve the Java part, how to collect the part each time one arrives without waiting for the request to finish (suggestions are accepted), but when I solve it, it is possible to have an input to the node, from a generator for example , but several exits?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.3.2.CE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5943/comments",
    "author": "Borch97",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T13:41:47Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5939,
    "title": "[Question] MQTT Profile /telemetry and /telemetry1 also to Telemetry Topic filter",
    "created_at": "2022-01-20T14:23:01Z",
    "closed_at": "2024-07-19T11:29:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5939",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nTransport Configuration: MQTT Device Profile Topic Filter\r\nCan I define some variations of names, the wild cards do not seem to allow that?\r\nI want like:\r\n/telemetry and /telemetry1 and /telemetry2 to Telemetry topic\r\n/attributes and /attributes1 and /attributes2 to Attributes topic\r\n\r\nThanks\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: 3.3.2\r\n \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5939/comments",
    "author": "KenSense",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-19T11:29:46Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 5934,
    "title": "ThingsBoard : How to access list of users via JavaScript in the Dashboard?",
    "created_at": "2022-01-20T11:30:23Z",
    "closed_at": "2023-06-28T13:08:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5934",
    "body": "**Component**\r\n * UI\r\n\r\n**Description**\r\nWe have one dashboard where a list of customers are displayed. \r\nThere is an action button provided on each row called \"Manage Users\" which will take to another dashboard state where a list of users are displayed.\r\nWith \"Add\" action provided on header, a popup dialog opens to create new user under that customer.\r\nWhen we logged in as a Tenant Admin & use this \"Add New User\" option, it's not creating user under that particular customer instead it's creating user at Tenant level.\r\nAfter reading the JavaScript written for the \"Add New User\" action, there is missing \"Customer\" details.\r\nSo, how to access customer details from the parent dashboard state into JavaScript?\r\n\r\nPlease, your help would be very much appreciated.\r\n\r\n**Environment**\r\n * OS:  Windows 10\r\n * ThingsBoard: 3.3.x ( PaaS Instance )\r\n * Browser: Chrome 97.0\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5934/comments",
    "author": "bhimashankarP",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2022-02-01T02:02:41Z",
        "body": "Assuming you have your dashboard set up such that the selected customer is the active \"state entity\". In this case you pass the state entity (the selected customer) into the widget you mentioned above, from here you can access the customerId in the code for the \"Add\" header button.\r\n\r\nJust my best guess from the details you've provided, gl"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:08:42Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 5920,
    "title": "Can tb-navigation-card-widget will navigate outside the thingsboard like www.google.com",
    "created_at": "2022-01-18T19:08:18Z",
    "closed_at": "2022-01-20T09:37:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5920",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n \r\n\r\n**Description**\r\nI am using navigation card ,which is currently only rendering inside thingsboard ,So  need card which can render outside the thingsboard\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.2\r\n * Browser: chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5920/comments",
    "author": "BhushanPDS",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-01-20T09:18:55Z",
        "body": "Hi @BhushanPDS \r\n\r\nThe navigation card was developed to add links only to the internal thingsboard components.\r\nIf you want to create a button that will redirect you to another service, you can use an HTML card widget, which is most commonly used for the static image display and link insertion."
      }
    ]
  },
  {
    "number": 5916,
    "title": "What is the optimal value of ui.dashboard.max_datapoints_limit, DASHBOARD_MAX_DATAPOINTS_LIMIT?",
    "created_at": "2022-01-18T13:59:53Z",
    "closed_at": "2022-01-22T10:33:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5916",
    "body": "I want to know what is the optimal value of the DASHBOARD_MAX_DATAPOINTS_LIMIT in the yml file as i changed it to 2 million to get monthly data on my custom dashboard from that day onwards my server gets error whenever i open the dashboard. \r\nCan anyone help me out with this scenario. I only changed the value of this parameter do i need to change some other parameters also in order to work in an optimized way\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5916/comments",
    "author": "Zangetu121345",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-01-18T16:33:39Z",
        "body": "@Pankaj9410557422 Hello,\r\nThe optimal value is precisely 50,000, but everyone can change it to suit their needs. Please provide the error that appears after changing this parameter to help you."
      }
    ]
  },
  {
    "number": 5914,
    "title": "[Question] Custom Latest Values Widget",
    "created_at": "2022-01-18T11:15:01Z",
    "closed_at": "2024-05-15T13:14:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5914",
    "body": " * UI\r\n\r\n \r\nI want to create a custom latest values widget that will only show currently transmitting data. If a certain telemetry data stop transmitting it will be removed from the widget, but if it starts transmitting again it needs to show up again. \r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5914/comments",
    "author": "inanlia",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T13:14:57Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5901,
    "title": "[Question] Charts in the frequency domain not in the time domain",
    "created_at": "2022-01-16T21:33:29Z",
    "closed_at": "2024-05-15T13:16:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5901",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n\r\n**Description**\r\nHi, I am looking for a way to create charts in the frequency domain not in the time domain. Does anyone have a clue?\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5901/comments",
    "author": "gzlz",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T13:16:04Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5900,
    "title": "MQTT-SN on ThigsBoard ?",
    "created_at": "2022-01-15T14:17:43Z",
    "closed_at": "2024-05-15T13:16:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5900",
    "body": "How we can use MQTT-SN with ThingsBoard ?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5900/comments",
    "author": "MartinSokolov15",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T13:16:53Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5894,
    "title": "[Question] Risk Assessment PE version: License servers will stay on in case the network is cut in the Ukraine?",
    "created_at": "2022-01-14T10:02:44Z",
    "closed_at": "2022-01-14T13:35:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5894",
    "body": "Most or all Thingsboard PE developers are located in Kyiv, Ukraine correct?\r\nThe license servers are run on amazon cloud, correct? So that should be ok I think.\r\n\r\nSo the basic question is IF Ukraine gets cut off for a few weeks/months (no matter the reason), would it affect it the minimum required PE services?\r\n\r\nObviously we hope business can keep going as usual and the appropriate precautions are taken from your side.\r\n\r\nThanks\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5894/comments",
    "author": "Ken26M",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2022-01-14T13:29:09Z",
        "body": "License servers are outside Ukraine. In fact, we have zero servers in Ukraine. The database is on AWS RDS with HA mode. Appropriate precautions are taken. Everything should be fine :ukraine: "
      }
    ]
  },
  {
    "number": 5888,
    "title": "[Question] How to send repeated RPC commands until a condition is met using Integration Downlink?",
    "created_at": "2022-01-14T08:37:32Z",
    "closed_at": "2022-01-19T07:58:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5888",
    "body": "I'm using Integration Downlink (Chirpstack) to receive telemetry (Modbus RTU responses) from a RAK7431 end node and send RPC commands switching (On/Off) the Modbus relay connected to it. In the TB, the RPC command is initiated from the Switch Control (Control Widget) in the dashboard. Here, the Switch Control Subscribes for Timeseries (On/Off status of the relay). \r\n\r\nDepending on the network condition and radio environment (LoRaWAN), every RPC command does not necessarily reach the end node (RAK7431). Moreover, Integration Downlink supports only one-way RPC (although I've not figured out yet about using the getValue method if it would have supported two-way too). \r\n\r\nIn this condition, I want to (a) send RPC from by clicking a button in Switch Control, (b) add delay for a few milliseconds (give some time to operate), and (c) Check the Timeseries (On/Off status of the relay), if the status is unchanged, send the RPC again. \r\n\r\nHow can I achieve it? \r\n\r\nThank you. \r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.3.2PE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5888/comments",
    "author": "santobedi",
    "comments": [
      {
        "user": "santobedi",
        "created_at": "2022-01-19T07:58:56Z",
        "body": "Solved it by designing our own Control Widget. "
      },
      {
        "user": "xiaoyu4122",
        "created_at": "2023-03-20T08:08:31Z",
        "body": "Hi，I met the same peoblem. Would you mind sharing the way?"
      }
    ]
  },
  {
    "number": 5877,
    "title": "[Question] Create new Asset from Public Dashboard",
    "created_at": "2022-01-13T14:16:20Z",
    "closed_at": "2022-08-26T16:22:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5877",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI have created a dashboard with a form, where any user with the dashboard link can access. I would like that as soon as the form data is submitted, an asset is created with the data from that form.\r\n\r\nThe logic is developed in the widget, and if I access the dashboard with an authenticated user, the asset is generated correctly and assigned to the active user.\r\nThe problem comes when the panel is public and the user who accesses it is not authenticated. It gives me an error that I do not have sufficient permissions since it cannot assign the asset to any Tenant since there are none authenticated.\r\n\r\nI would like to know if through the assetService.saveAsset function or some similar one, it would be possible to indicate the TenantId to which to save it and thus not give the permission error.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.3.2 CE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5877/comments",
    "author": "Borch97",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2022-01-14T13:52:02Z",
        "body": "The check for the permission is on the server-side. So if you pass the tenantId/UserId parameters, you will still receive an error. Actually, this is not doable in CE without code changes. And it is a security issue since public users are disallowed to create assets intentionally."
      },
      {
        "user": "ashvayka",
        "created_at": "2022-01-14T13:52:15Z",
        "body": "The check for the permission is on the server-side. So if you pass the tenantId/UserId parameters, you will still receive an error. Actually, this is not doable in CE without code changes. And it is a security issue since public users are disallowed to create assets intentionally."
      }
    ]
  },
  {
    "number": 5867,
    "title": "[Question] Display second to last and not the latest values",
    "created_at": "2022-01-13T00:17:56Z",
    "closed_at": "2024-07-16T11:12:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5867",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nMy devices are sending a group of timeseries values in ThingsBoard (e.g. Timestamp, Latitude, Longitude etc.). \r\nIn a dashboard I would like to show not the latest but the second to last (penultimate) values.\r\nFor example let's say that I have the following values \r\nTimestamp=t \r\nLatitude=y(t)\r\nLongitude=x(t)\r\nand those are the latest ones.\r\n\r\nI would like to be able to get the values at T=(t-1) for all of them so in the above example I would like to be able to get\r\nTimestamp=t-1\r\nLatitude=y(t-1)\r\nLongitude=x(t-1) \r\nwhere \"t-1\" means one value before the latest (second to last or penultimate).\r\n\r\nI understand that I may be able to get a part of this by adjusting the timeframe at the dashboard but this doesn't help because not all devices transmit at the same time.\r\n\r\nSo, could this be achieved somehow either by manipulating the widgets or the rule chains or with any other way?\r\n\r\nI am looking forward to hear your thoughts and ideas!\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS: CentOS v.8 (latest)\r\n * ThingsBoard: 3.3.2\r\n * Browser: Firefox 96 and/or Chrome 97 and/or Safari 15 (for both desktop and mobile devices)\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5867/comments",
    "author": "irdet2",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2022-01-13T07:07:46Z",
        "body": "@irdet2 \r\nWhat do you think of storing t-1 telemetry value as different key and update in rulechain whenever there is update in telemetry value\r\n\r\nlets say current telemetry value is\r\nTimestamp=t\r\nLatitude=y\r\nLongitude=x\r\n\r\nnow when get new data \r\nTimestamp=t2\r\nLatitude=y2\r\nLongitude=x2\r\n\r\nin rulechain first get the latest telemetry which is \r\nTimestamp=t\r\nLatitude=y\r\nLongitude=x \r\n\r\nupdate it with \r\n_Timestamp=t\r\n_Latitude=y\r\n_Longitude=x \r\nTimestamp=t2\r\nLatitude=y2\r\nLongitude=x2\r\n\r\n\r\non dashboard you can show below values for t-1 value\r\n_Timestamp=t\r\n_Latitude=y\r\n_Longitude=x \r\n"
      },
      {
        "user": "irdet2",
        "created_at": "2022-01-13T23:34:37Z",
        "body": "Hi! Thanks for pointing this out. Besides that I think that I would also need to do a comparison between the already existing data and the newly arrived because is doesn't mean that the new one would be different. \r\n\r\nSo, thinking of it again I don't actually need the exact previous value but the previous value that is different from the new one. \r\nWhat do you think about it? Would your suggestion work including a comparison?\r\n\r\nBut what if I want to keep/show the last five that are different from one another? How would I achieve that? Is there a more efficient way?\r\n\r\nThanks!"
      },
      {
        "user": "dhaval2017",
        "created_at": "2022-01-14T01:20:26Z",
        "body": "@irdet2 \r\nNo need to do comparision\r\nWhen you fetch the already existing data. latest data will be stored in different variable name compare to newly arrived data"
      },
      {
        "user": "irdet2",
        "created_at": "2022-01-15T22:24:37Z",
        "body": "Hello @dhaval2017,\r\n\r\nI am sorry but I don't get it how this can be done.\r\n\r\nLet's say a device transmits location coordinates in two variables (longitude, latitude) and those are stored in ThingsBoard db.\r\n\r\nIn a few minutes it transmits them again but are the same so I don't need a new variable since I already have them stored. This can be done many times until at some point the location changes. So, this is the point that I want a new variable with the new coordinates to be stored. \r\nThat's why I am saying I would need comparison, in order to see if it has changed with the previous or not and if so then it should be stored to a new variable. Maybe there is an automatic way that I am not aware so please elaborate if you can!\r\n\r\nAdditionally, is there a way for this to auto scale for the different locations every time or should I have let's say hard-coded the number of previous locations that can be stored?\r\n\r\nThank you!"
      },
      {
        "user": "dhaval2017",
        "created_at": "2022-01-17T04:24:11Z",
        "body": "@irdet2 can you use server attribute?\r\n\r\nwhenever you get new coordinates do following\r\n\r\nCompare with previous coordinates which is stored as server attribute of device/asset\r\nif both are same and no need to update ignore it\r\nelse update coordinates in server attribute\r\n\r\nvisualize that server attribute at place where you want to show location coordinates for t-1 time\r\n\r\n\r\n**Additionally, is there a way for this to auto scale for the different locations every time or should I have let's say hard-coded the number of previous locations that can be stored?**\r\nI didnt got your this question"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-16T11:12:21Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5847,
    "title": "[Question] No telemetry data",
    "created_at": "2022-01-10T22:17:22Z",
    "closed_at": "2022-01-12T21:15:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5847",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Data Converters and Integrations\r\n * Generic\r\n\r\n**Description**\r\nWhen I send sensor binary data, there is no telemetry data showed. \r\nI send data with this command:\r\necho -e -n '\\x06\\x01\\x16\\x31\\x32\\x33\\xFF' | nc -q1 -w1 127.0.0.1 10560\r\n\r\nI can see debug events from data converters:\r\n{\r\n    \"deviceName\": \"Temp Sensor 01\",\r\n    \"deviceType\": \"default\",\r\n    \"attributes\": {\r\n        \"model\": \"01\",\r\n        \"serialNumber\": \"SB001\",\r\n        \"integrationName\": \"Temp_Integration\"\r\n    },\r\n    \"telemetry\": {\r\n        \"temperature\": \"22\",\r\n        \"rawData\": [1, 22, 49, 50, 51, 255]\r\n    }\r\n}\r\n\r\nI also can see rule save timeseries events. \r\n2022-01-10 13:15:43ip-172-31-18-220INDEVICEc2d472e3-fda0-4244-a7b8-f1ee3b789538POST_TELEMETRY_REQUESTPost telemetry\r\n\r\n{\r\n    \"temperature\": 22,\r\n    \"rawData\": [1, 22, 49, 50, 51, 255]\r\n}\r\n\r\n\r\nIt's successfully saved. I also can query it from psql in tables: ts_kv_latest and ts_kv_2022_01. \r\nBut there is no telemetry data anywhere. Please help me to take a look.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04 focal\r\n * ThingsBoard: thingsboard-3.3.2pe\r\n * Browser: Firefox 95.0 64bit\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5847/comments",
    "author": "soyoeml",
    "comments": [
      {
        "user": "kalutkaz",
        "created_at": "2022-01-12T15:13:46Z",
        "body": "Hi, @soyoeml could you add some more information,  for example, some screenshots from rule chains in debug mode and widget configuration where you visualization the information. It`s hard to find reason without that."
      },
      {
        "user": "soyoeml",
        "created_at": "2022-01-12T21:15:16Z",
        "body": "I deleted hidden device \"Temp Sensor 01\" and created a new device \"Temp Sensor 01\" manually, then it shows now."
      }
    ]
  },
  {
    "number": 5830,
    "title": "[Question] Programmatically change widget timewindow",
    "created_at": "2022-01-07T10:04:18Z",
    "closed_at": "2022-01-07T10:23:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5830",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nI've created a custom widget derived from the alarms-table-widget.\r\nNow I need to modify the timewindow within the onInit-function.\r\n\r\nI know how to change the timewindow for the whole dashboard\r\nThis can be achieved by passing a Dashboardtimewindow-object to self.ctx.dashboard.dashboardTimewindowChangedSubject.next(...).\r\n\r\nIs there a similar approach for the widget ?\r\n\r\n\r\n**Environment**\r\n * OS:  Win10\r\n * ThingsBoard: 3.3.1 PE\r\n * Browser: Latest Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5830/comments",
    "author": "eeitnn",
    "comments": [
      {
        "user": "eeitnn",
        "created_at": "2022-01-07T10:23:24Z",
        "body": "Nevermind. Found a solution."
      },
      {
        "user": "richqqrd",
        "created_at": "2023-04-19T12:24:07Z",
        "body": "> Nevermind. Found a solution.\r\n\r\nI got a similiar problem, can you maybe share your solution? I would really appreciate that"
      },
      {
        "user": "Nathan-ma",
        "created_at": "2023-10-09T19:39:36Z",
        "body": "I'm also having a similar problem, Mind Sharing @eeitnn ?"
      }
    ]
  },
  {
    "number": 5828,
    "title": "Moving simple Python App from Demo to Cloud",
    "created_at": "2022-01-06T14:57:49Z",
    "closed_at": "2024-05-15T13:54:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5828",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n\r\n * Generic\r\n\r\n**Description**\r\n**Background**\r\nI have simple Python app which I have used to capture remote data on Raspi Zero and send via MQTT to thingsboard.demo.  It all works and i have setup dashboards on the Demo version fine.  I have setup the params in Python for Thingsboard host ('demo.thingsboard.io'),  port 1883 , access-token as per instructions and when i call the mqtt commands all works fine.  When i want to send data the program uses the line ...\r\n\r\n_client.publish('v1/devices/me/telemetry', json.dumps(sensor_data),1)_\r\n\r\nThis all works fine, although i am intrigued what the _'v1/devices/me/telemetry_' parameter refers to , is this the topic ?  Anyway... as I have now reached the demo data limit I have tried to move to the basic cloud version\r\n\r\n**Query**\r\nI am not sure what settings to setup, having moved to the paid-for 'thingsboard cloud' environment.  As far as i can tell\r\nThingsboard host should now be set to 'thingsboard.cloud', port again 1883,  access_token is changed (I grabbed this from a new device I setup) .  What no longer seems to work is the client.publish,  and I am  not sure what to put in the first parameter ?  Is this the topic,  I which case how/where do I setup topic ?\r\n\r\nI have looked at Raspberry Pi (Deb) Installation,  which seems to require gateway setup,  but I did not previously need gateway setup,  so not sure this is the answer and it looks like a fair bit of work.  Is theer a really basic setup without tb-gateway\r\n\r\nAny help gratefully received\r\nThanks\r\nSteve\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Debian/Raspbian V10 Buster\r\n * ThingsBoard: version 2.0\r\n * Browser: N/A\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5828/comments",
    "author": "fulburncams",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T13:54:29Z",
        "body": "Closed due to intactivity"
      }
    ]
  },
  {
    "number": 5817,
    "title": " Is there any way for thingsboard alarm type components to obtain data",
    "created_at": "2022-01-05T00:45:23Z",
    "closed_at": "2022-02-16T11:25:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5817",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\n其他类型的部件例如最新值可以获取到data，而告警类型的data为undefined\r\nOther types of widgets, such as the latest value, can obtain data, while the data of alarm type is undefined\r\n\r\n现在的需求是在告警类型的部件中得到后端传上来的值\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5817/comments",
    "author": "fanbingbing16",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-02-02T08:58:57Z",
        "body": "Hello @fanbingbing16 \r\nTell us your problem in more detail, preferably in English, it will speed up the solution of your problem"
      }
    ]
  },
  {
    "number": 5808,
    "title": "[Question] OTA Firmware, get URL storage?",
    "created_at": "2022-01-03T11:16:31Z",
    "closed_at": "2024-05-15T13:53:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5808",
    "body": "Hi,\r\n\r\nIs it possible to get an URL of the stored firmware that you uploaded in Thingsboard or do you have to fully commit and change the client software to the way the firmware update works in Thingsboard?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04 LTS\r\n * ThingsBoard: 3.3.2",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5808/comments",
    "author": "Ken26M",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-15T13:53:58Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5807,
    "title": "[Question] Command or Method to check & delete Database entries ?",
    "created_at": "2022-01-03T09:53:38Z",
    "closed_at": "2024-05-16T08:52:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5807",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nWhat is the quickest way to know which Device's Timeseries or a node's debug logs are taking the maximum database space?\r\n\r\nI need to delete the unnecessary data from the database. I tried deleting the suspected devices but it does not seem to work. My database size has grown to 30+ GB for about 80 devices running since last 1 year with varying payload.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.2.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5807/comments",
    "author": "232485",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-16T08:52:02Z",
        "body": "Hello @232485 \r\nwill show you the 20 largest tables in your database:\r\n`SELECT nspname || '.' || relname AS \"relation\", pg_size_pretty(pg_relation_size(C.oid)) AS \"size\"\r\n  FROM pg_class C\r\n  LEFT JOIN pg_namespace N ON (N.oid = C.relnamespace)\r\n  WHERE nspname NOT IN ('pg_catalog', 'information_schema')\r\n  ORDER BY pg_relation_size(C.oid) DESC LIMIT 20;`"
      }
    ]
  },
  {
    "number": 5763,
    "title": "Edit device label in Dashboard",
    "created_at": "2021-12-22T09:21:54Z",
    "closed_at": "2024-07-16T11:18:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5763",
    "body": "In Update Multiple Attributes dashboard widget, I can add device label to display it. However, when I try to edit the label from dashboard, a server attribute \"label\" is added. The device's label is not changed. How to change the device label in the dashboard?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5763/comments",
    "author": "sunyong-mwi",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-12-28T11:05:27Z",
        "body": "Hi @sunyong-mwi,\r\nUpdate Multiple Attributes dashboard widget, not support update entity fields \"label.\" \r\nYou can create a custom widget action to update the entity field \"label.\""
      },
      {
        "user": "sunyong-mwi",
        "created_at": "2022-01-03T09:12:41Z",
        "body": "May I know how to create custom widget to update \"label\"? Is there any sample to follow?"
      },
      {
        "user": "sunyong-mwi",
        "created_at": "2022-09-21T07:04:55Z",
        "body": "Any update?"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-16T11:18:23Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 5756,
    "title": "[Question] if possible assign a device profile to customer then customer can got all device  permission  ?",
    "created_at": "2021-12-21T02:55:44Z",
    "closed_at": "2024-05-22T11:41:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5756",
    "body": " about  \"Manage device\" in  \"Customers' module, \r\n\r\n    \r\nif possible assign a device profile to customer then customer can got all device  permission  ?\r\n\r\ncurrently, administrator have to add device one by one, that  waste much time ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5756/comments",
    "author": "icoco",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T11:41:09Z",
        "body": "I closed this ticket due to inactivity. If this question is still relevant to you, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 5742,
    "title": "[Question] MQTT-Subscription failed",
    "created_at": "2021-12-17T17:17:41Z",
    "closed_at": "2023-06-28T13:09:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5742",
    "body": "**MQTT Subscribtion**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Subscription the the TB-broker with mqtt/Java (Paho)\r\n\r\n\r\n**Description**\r\nHi,\r\nI have some trouble in subscribing at the topic v1/devices/me/telemetry. I have no problems in subscribing on v1/devices/me/**attributes** There I can get new attributes when I post them in the UI. So my Java-Program seems to runs fine (see bottom).\r\n\r\nI get the following at the console:\r\n\r\n_Subscriber running\r\nchecking\r\nMqtt Connecting to broker: tcp://192.168.1.25:1883\r\nMqtt Connected\r\nMqttException (128)\r\nMqttException (128)\r\n\tat org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:438)\r\n\tat org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:406)\r\n\tat Test.MqttSubscriber.subscribe(MqttSubscriber.java:57)\r\n\tat Test.MqttSubscriber.main(MqttSubscriber.java:30)_\r\n\r\n\r\nI guess that Error Code 128 means that the subscription was pulled back.\r\n\r\nWhat am I doing wrong? Publishing content to thingsboard at that topic is no problem. Do I have to activate the broker somehow? Or do I have to realise it with the IoT gateway? \r\n\r\nI hope someone can help :)\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  win10 and ubuntu\r\n * ThingsBoard: CE and PE\r\n * Browser: name and version\r\n\r\n\r\n`       package Test;\r\n\r\n        import org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\n        import org.eclipse.paho.client.mqttv3.MqttCallback;\r\n        import org.eclipse.paho.client.mqttv3.MqttClient;\r\n        import org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\n        import org.eclipse.paho.client.mqttv3.MqttException;\r\n        import org.eclipse.paho.client.mqttv3.MqttMessage;\r\n        import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n        \r\n        public class MqttSubscriber implements MqttCallback  {\r\n\r\n\t\r\n\tprivate static final String brokerUrl =\"tcp://192.168.1.25:1883\"; //Broker\r\n\r\n\t\r\n\tprivate static final String clientId = \"test\"; //Client-ID\r\n\r\n\t\r\n\tprivate static final String topic = \"v1/devices/me/telemetry\"; //Topic\r\n\t\r\n\tprivate static final String user = \"AT2\"; // Accesstoken von Device in TB!\r\n\t\r\n\tprivate static final String pw = \"test\";\r\n\t\r\n\tprivate static final char[] password = pw.toCharArray();\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(\"Subscriber running\");\r\n\t\tnew MqttSubscriber().subscribe(topic);\r\n\t}\r\n\r\n\tpublic void subscribe(String topic) {\r\n\t\r\n\t\tMemoryPersistence persistence = new MemoryPersistence();\r\n\r\n\t\ttry\r\n\t\t{\r\n\r\n\t\t\tMqttClient sampleClient = new MqttClient(brokerUrl, clientId, persistence);\r\n\t\t\tMqttConnectOptions connOpts = new MqttConnectOptions();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tconnOpts.setCleanSession(true);\r\n\t\t\tconnOpts.setUserName(user);\r\n\t\t\tconnOpts.setPassword(password);\r\n\r\n\t\t\tSystem.out.println(\"checking\");\r\n\t\t\tSystem.out.println(\"Mqtt Connecting to broker: \" + brokerUrl);\r\n\r\n\t\t\tsampleClient.connect(connOpts);\r\n\t\t\tif (sampleClient.isConnected()==true) System.out.println(\"Mqtt Connected\");\r\n\t\t\telse System.out.println(\"could not connect\");\r\n\r\n\t\t\tsampleClient.setCallback(this);\r\n\t\t\tsampleClient.subscribe(topic);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tSystem.out.println(\"Subscribed\");\r\n\t\t\tSystem.out.println(\"Listening\");\r\n\r\n\t\t} catch (MqttException me) {\r\n\t\t\tSystem.out.println(me);\r\n\t\t\tme.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t //Called when the client lost the connection to the broker\r\n\tpublic void connectionLost(Throwable arg0) {\r\n\t\t\r\n\t}\r\n\r\n\t//Called when a outgoing publish is complete\r\n\tpublic void deliveryComplete(IMqttDeliveryToken arg0) {\r\n\r\n\t}\r\n\r\n\tpublic void messageArrived(String topic, MqttMessage message) throws Exception {\r\n\r\n\t\t\r\n\t\tSystem.out.println(\"| Topic:\" + topic);\r\n\t\tSystem.out.println(\"| Message: \" +message.toString());\r\n\t\tSystem.out.println(\"-------------------------------------------------\");\r\n\t\r\n\t}\r\n\r\n}`\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5742/comments",
    "author": "m4ld3",
    "comments": [
      {
        "user": "GeirFrimann",
        "created_at": "2022-01-01T21:09:15Z",
        "body": "Try changing sampleClient.setCallback(this) to sampleClient.setCallback(messageArrived)"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:09:00Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 5736,
    "title": "[Question] Want widget to generate action in Rulechain",
    "created_at": "2021-12-15T21:21:44Z",
    "closed_at": "2023-07-03T11:24:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5736",
    "body": "**Component**\r\n\r\n * UI\r\n * Rule Engine\r\n\r\n**Description**\r\nI have created a widget, very simple push button that I want to start some events to perform a rest api call using the Rulechain node.\r\nTrying to understand how I can create the event/signal/message that will be sent from the widget button to the Rulechain input where I can then action the rest-api-call.\r\n\r\nCurrently the button is generating a custom action to log to the console to validate the click.\r\nHow can I get the button click event into the Rulechain.\r\n\r\nAny help appreciated.\r\n\r\nThank you.\r\n\r\n**Environment**\r\n * ThingsBoard: 3.3.1 CE\r\n * Browser: Chrome and Edge\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5736/comments",
    "author": "purplehorace",
    "comments": [
      {
        "user": "Raven888888",
        "created_at": "2021-12-30T01:50:22Z",
        "body": "Looking for the same too. Bump"
      },
      {
        "user": "dhaval2017",
        "created_at": "2021-12-30T02:04:05Z",
        "body": "@Raven888888 \r\nWhen You update server attribute inside custom widget\r\nYou will get event on rule chain \r\nIf you like you can store that value else ignore it \r\n"
      },
      {
        "user": "Raven888888",
        "created_at": "2021-12-30T02:06:59Z",
        "body": "@dhaval2017 thanks for your quick response\r\n got it now"
      },
      {
        "user": "purplehorace",
        "created_at": "2022-01-09T21:05:57Z",
        "body": "yes also managed to get that to work. thank you."
      }
    ]
  },
  {
    "number": 5718,
    "title": "Dashboard: switch controls send oneway REST request in case \"Subscribe for attribute\" configured",
    "created_at": "2021-12-13T10:01:31Z",
    "closed_at": "2024-05-17T06:19:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5718",
    "body": "**Component**\r\n * UI\r\n\r\n**Description**\r\nIn case \"Subscribe for attribute\" no request expected.\r\n\r\n**Environment**\r\n * OS: client: Windows 10 Enterprise 21H1 64-bit; server: docker@gke\r\n * ThingsBoard: 3.3.2PE\r\n * Browser: Firefox 95.0 (64-bit)\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5718/comments",
    "author": "amarkevich",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-17T06:19:39Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5714,
    "title": "[Question] How to resolve the thingsboard event log missing when having the same timestamp ?",
    "created_at": "2021-12-13T07:05:48Z",
    "closed_at": "2024-05-17T06:20:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5714",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nThingsboard event log missing when having two same timestamp event. For example, when two telemetry event is published to the thingsboard at the same ts: 1639106013029, then Thingsboard server might have just replaced the status of the latest one. Is there a way to keep all the data although it having the same ts ?\r\n\r\nTelemetry:\r\nPublishing to v1/devices/me/telemetry: { \"ts\": \"1639106013029\", \"values\": {\"event\": \"2. Command dpkg-query -f '${binary:Package}\\\\n' -W completed, but will log instead to file: /var/lib/dispatcher/upload/dpkg-query_-f_'${binary:Package}\\\\n'_-W_10-12-2021-03:13:33\"}}\r\nPublishing to v1/devices/me/telemetry: { \"ts\": \"1639106013029\", \"values\": {\"event\": \"3. SOTA Internally Running command: apt-get -yq upgrade\"}}\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: v3.3.1-1\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5714/comments",
    "author": "lim-chris",
    "comments": [
      {
        "user": "Nathan-ma",
        "created_at": "2021-12-13T13:23:54Z",
        "body": "Someone, please correct me ln this if I'm wrong but I think the TimeStamp is the unique key in the telemetry's table on the database.\r\n\r\nIf that's the case, the answer would be a no."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-17T06:20:31Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5700,
    "title": "[Question] How can I Add Remote PostgreSQL Database?",
    "created_at": "2021-12-09T07:03:08Z",
    "closed_at": "2021-12-21T11:54:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5700",
    "body": "Hi, I want to change the Thingsboard PostgreSQL database from local to remote. Therefore, I created a docker-compose.yml file in the following. Here, the remote PostgreSQL database has PostgreSQL and user permissions such as in the following.\r\nversion: '2.2'\r\nservices:\r\n  mytb:\r\n    restart: always\r\n    image: \"thingsboard/tb-postgres\"\r\n    ports:\r\n      - \"8080:8080\"\r\n      - \"1883:1883\"\r\n      - \"7070:7070\"\r\n      - \"5683-5688:5683-5688/udp\"\r\n    environment:\r\n      TB_QUEUE_TYPE: in-memory\r\n      HTTP_BIND_PORT: 8080\r\n      SPRING_DATASOURCE_URL: jdbc:postgresql://xx.xxx.xxx:5432/thingsboard\r\n      SPRING_DATASOURCE_USERNAME: thingsboard\r\n      SPRING_DATASOURCE_PASSWORD: thingsboard\r\n    volumes:\r\n      - ~/.mytb-data:/data\r\n      - ~/.mytb-logs:/var/log/thingsboard\r\nHowever, I give an error in the following. How can I add a remote PostgreSQL database in Thingsboard?\r\nmytb_1  | 2021-12-09 06:13:32,023 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: relation \"admin_settings\" does not exist",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5700/comments",
    "author": "gohm-tech",
    "comments": [
      {
        "user": "gohm-tech",
        "created_at": "2021-12-21T11:54:22Z",
        "body": "It should be run\r\ndocker run -it -p 8080:9090 -p 1883:1883 -p 5683:5683/udp --name tb --restart always -e SPRING_DATASOURCE_URL='jdbc:postgresql://*******:5432/things' -e SPRING_DATASOURCE_USERNAME='postgres' -e SPRING_DATASOURCE_PASSWORD='postgres' thingsboard/tb-postgres"
      },
      {
        "user": "DEV-ONI",
        "created_at": "2023-01-16T05:50:59Z",
        "body": "I can't seem to get `thingsboard/tb-postgres` image to acknowledge these variables. \r\n```\r\nSPRING_DATASOURCE_URL: jdbc:postgresql://xx.xxx.xxx:5432/thingsboard\r\nSPRING_DATASOURCE_USERNAME: thingsboard\r\nSPRING_DATASOURCE_PASSWORD: thingsboard\r\n```\r\nDid you do something else to get this to work? "
      },
      {
        "user": "gohm-tech",
        "created_at": "2023-03-13T16:01:26Z",
        "body": "What kind of error are you getting?"
      }
    ]
  },
  {
    "number": 5692,
    "title": "How to find the Dashboard State updated",
    "created_at": "2021-12-07T07:13:03Z",
    "closed_at": "2022-08-26T16:25:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5692",
    "body": "In dashboard how to listen the dashboard state update or not.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5692/comments",
    "author": "akmahi",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-12-08T10:12:00Z",
        "body": "Are you talking about a custom widget inside the dashboard state or other function? Please provide more details"
      }
    ]
  },
  {
    "number": 5690,
    "title": "What is template literal value in HTML value card if it doesn't exists ?",
    "created_at": "2021-12-06T16:55:44Z",
    "closed_at": "2024-06-05T15:01:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5690",
    "body": "Hello, I'm using the HTML value card widget. \r\nIn the HTML code, I inserted a JS script and I would like to know the value of the template literals specified in the datasource to display or not certain information if they exists or not.\r\nI thought the value of ${entityName} would be undefined if it doesn't exists/isn't set ? Apparently this is not the case...\r\nIt seems that they are \"empty\" : I tried to assign a variable to a template literal doing this : \r\nvar v = ${error};\r\n(I have the error specified in the datasource)\r\nand I got: SyntaxError: Unexpected token ';' in the console.\r\n\r\nBest regards,\r\n\r\nLucas",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5690/comments",
    "author": "lucasKapf",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-06-05T15:01:33Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 5689,
    "title": "[Question] how to setup a staging environment in clustered mode - licence key conflict",
    "created_at": "2021-12-06T16:51:43Z",
    "closed_at": "2021-12-08T14:48:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5689",
    "body": "**Component**\r\n * Installation\r\n\r\n**Description**\r\nI'm trying to setup a staging environment in my company to test changes for my tenants before applying them on the production environment.\r\nBoth environments are running TB PE 3.3.1 with hybrid storage (postgres+cassandra).\r\nI want the staging environment to be a copy of the production environment data-wise, so I purchased another TB licence to run the staging environment, then tried to dump & restore the postgres database from the production instance on the staging instance.\r\nHowever the production database somehow contains the licence information embedded in it.\r\nNow my staging environment does not start and I have no idea how to reapply my 2nd license key while keeping the rest of the data.\r\n\r\nHow should I proceed ?\r\n\r\n**Environment**\r\n * OS:  ubuntu\r\n * ThingsBoard: 3.3.1PE running on docker-compose\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5689/comments",
    "author": "ThomasPrioul",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-12-08T10:23:47Z",
        "body": "There is no license information in the database. All the license info is stored in the license.data file. Maybe you have copied the volumes (and not only the database). Then this is the root cause. Just\r\n1) shut down dev TB instance\r\n2) remove the license.data file\r\n3) make sure the correct license key is used.\r\n4) start it again."
      },
      {
        "user": "ThomasPrioul",
        "created_at": "2021-12-08T14:48:11Z",
        "body": "Thanks for your answer.\r\nI had probably corrupted something else, my TB instance was not starting and I had no license.data file at all.\r\nWhat I did was **remove the old instance from the license server**, reset everything and the staging instance came back to life.\r\nI had not copied the volume, I did a SQL dump from the running postgres container in production."
      }
    ]
  },
  {
    "number": 5683,
    "title": "[logging] Error opening log file '/var/log/thingsboard/tb-core1/gc.log': No such file or directory",
    "created_at": "2021-12-05T15:17:13Z",
    "closed_at": "2021-12-08T10:28:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5683",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n[logging] Error opening log file '/var/log/thingsboard/tb-core1/gc.log': No such file or directory\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5683/comments",
    "author": "gdgzlxf",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-12-08T10:28:56Z",
        "body": "The description is extremely insufficient. So I am closing this. "
      },
      {
        "user": "gdgzlxf",
        "created_at": "2021-12-08T10:29:19Z",
        "body": "\n     您好，我已经收到你的邮件，我会尽快回复您的邮件。"
      },
      {
        "user": "a-sapuppo",
        "created_at": "2022-10-21T13:58:05Z",
        "body": "Starting ThingsBoard installation ...\r\n[0.001s][error][logging] Error opening log file '/var/log/thingsboard/tb-core1-gc.log': Permission denied\r\n[0.001s][error][logging] Initialization of output 'file=/var/log/thingsboard/tb-core1-gc.log' using options 'filecount=10,filesize=10M' failed.\r\nInvalid -Xlog option '-Xlog:gc*,heap*,age*,safepoint=debug:file=/var/log/thingsboard/tb-core1-gc.log:time,uptime,level,tags:filecount=10,filesize=10M', see error log for details.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.``"
      },
      {
        "user": "gdgzlxf",
        "created_at": "2022-10-21T13:58:27Z",
        "body": "\n     您好，我已经收到你的邮件，我会尽快回复您的邮件。"
      },
      {
        "user": "a-sapuppo",
        "created_at": "2022-10-21T14:02:29Z",
        "body": "```\r\nmkdir -p ~/.mytb-logs && sudo chown -R 799:799 ~/.mytb-logs\r\nmkdir -p ~/.mytb-data && sudo chown -R 799:799 ~/.mytb-data\r\n```\r\n\r\nsame"
      }
    ]
  },
  {
    "number": 5674,
    "title": "[Question] OTA timeout",
    "created_at": "2021-12-02T21:19:45Z",
    "closed_at": "2024-06-11T13:26:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5674",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nI would like to set a timeout for OTA update. If an OTA update has not completed after x minutes set the job to failed.\r\nIs there any best practice for this? Preferably not relying on action from the device, more like the state transfer from Queued -> Initiated.\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5674/comments",
    "author": "tobbelin",
    "comments": [
      {
        "user": "myroslav-tb",
        "created_at": "2024-05-30T08:17:32Z",
        "body": "Hi @tobbelin, when an OTA update is initiated, and Thingsboard cannot proceed with the update for some reason (device offline, bad connection, the device doesn't respond, etc.), Thingsboard makes several retry attempts before returning the status failed.\r\n\r\nBest regards,\r\nMyroslav"
      },
      {
        "user": "myroslav-tb",
        "created_at": "2024-06-11T13:26:56Z",
        "body": "I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 5670,
    "title": "Creation of Custom HTML Value Card Widget with multiple datasources",
    "created_at": "2021-12-02T13:19:19Z",
    "closed_at": "2021-12-02T15:27:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5670",
    "body": "Hello,\r\nI am trying to create a widget similar to the HTML Value Card Widget but with multiple datasources.\r\nFor the moment I started with the original HTML Value Card Widget Code :\r\nI just changed the maxDataSources value to 2 and the singleEntity to false inside the self.typeParameters function.\r\nBut when I use my custom widget, only the first datasource is taken into account.\r\nI think that I have to modify/add more code inside my custom widget but I don't know where to start.\r\n\r\nThe goal of this widget is to be able to have two datasources : \r\nOne for an entity which represents a Customer, and one for an entitycount which counts the number of assets contained in this customer.\r\nThen I would display the customer info and this count on the widget.\r\n\r\nBest regards,\r\n\r\nLucas\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5670/comments",
    "author": "lucasKapf",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-12-02T17:34:39Z",
        "body": "Have you found out how to do this?"
      },
      {
        "user": "lucasKapf",
        "created_at": "2021-12-03T08:11:08Z",
        "body": "@ashvayka Yes it works, I just didn't \"refresh\" my custom widget when I was testing it.\r\nI only changed the code as said in my first post."
      }
    ]
  },
  {
    "number": 5662,
    "title": "Is it possible to have multiple datasources in the HTML Value Card Widget ?",
    "created_at": "2021-12-01T15:59:23Z",
    "closed_at": "2021-12-02T13:18:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5662",
    "body": "Hello,\r\n\r\nI would like to know if it is possible to add multiple datasources in the HTML value card widget : \r\nI want to display the client and its information, and display the number of assets that this client contains on the same widget.\r\nIs it possible ?\r\n\r\nBest regards,\r\n\r\nLucas",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5662/comments",
    "author": "lucasKapf",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2021-12-01T16:01:48Z",
        "body": "Hi @lucasKapf \r\nYou can achieve it by developing custom widget"
      },
      {
        "user": "lucasKapf",
        "created_at": "2021-12-02T08:11:32Z",
        "body": "Hi @dhaval2017 thanks for your quick answer.  I'm gonna do this"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-12-02T17:38:00Z",
        "body": "There is indeed only one data source allowed. But I can't recall the specific reason for this. I believe we can add multiple data sources support in future releases."
      }
    ]
  },
  {
    "number": 5652,
    "title": "[Question] Alarm Node repeatedly creates alarm message",
    "created_at": "2021-12-01T07:11:43Z",
    "closed_at": "2022-01-31T10:45:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5652",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n\r\n**Description**\r\nThe device uploads data every 5 seconds , At the same event time , alarm node  sometimes creates the  'Created' message twice for two messages at an interval of the same device. This affects subsequent nodes，how can i solve it?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n \r\n * ThingsBoard: 3.2.2CE\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5652/comments",
    "author": "biggiao",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2022-01-28T09:52:40Z",
        "body": "Hi @biggiao,\r\n\r\nDue to the platform's design, where the alarm creation operation is concurrent and not transactional, sometimes duplicate alarms can be created. This feature was implemented as a tradeoff between availability and consistency, as it's better to create two identical alarms in periods of high load rather than miss out on some crucial alarm if the message processing slowed down for some reason.\r\n\r\nIn order to avoid this issue, you can use the checkpoint rule node to change the queue to Sequential By Originator, so messages are processed one by one, eliminating the situation where two alarms can be created simultaneously. "
      }
    ]
  },
  {
    "number": 5646,
    "title": "[Question] REST upload ota package",
    "created_at": "2021-11-30T13:13:04Z",
    "closed_at": "2021-11-30T22:58:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5646",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\n\r\nTrying to upload OTA file using the REST api with python requests.\r\nFirst I post a package using /api/otaPackage and giving it the json\r\n`json = {\r\n        \"tenantId\": {\r\n        \"id\": tenantId,\r\n        \"entityType\": \"TENANT\"\r\n    },\r\n        \"deviceProfileId\": {\r\n        \"id\": deviceProfileId,\r\n        \"entityType\": \"DEVICE_PROFILE\"\r\n    },\r\n    \"type\": \"FIRMWARE\",\r\n    \"title\": \"FS\",\r\n    \"version\": tag,\r\n    \"tag\": \"FS \" + tag,\r\n    \"fileName\": tag,\r\n    \"hasData\": True,\r\n    \"contentType\": \"application/octet-stream\",\r\n    \"checksumAlgorithm\": \"SHA256\",\r\n    \"checksum\": hash,\r\n    \"dataSize\": len(data),\r\n    \"additionalInfo\": {}\r\n    }`\r\n\r\nI have tried with various amount of data in the json, with without the checksums, with hasData set to true, false and so.\r\n\r\nThen I try to post the data using /api/otaPackage/{packageId} \r\nwhere packageId is the id created above.\r\ndata is the binary of the file I want to upload\r\nadding the \"checksumAlgorithm\": \"SHA256\" parameter.\r\n\r\nWhen I execute I get response status 500 and errorCode: 2\r\n\r\nAny tips on how to find what I am doing wrong?\r\n\r\nBest\r\nTobias\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  docker\r\n * ThingsBoard: 3.3.2PE\r\n * Browser: Python\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5646/comments",
    "author": "tobbelin",
    "comments": [
      {
        "user": "tobbelin",
        "created_at": "2021-11-30T22:58:48Z",
        "body": "Found the problem, I just needed to send with files instead of data in the requests module."
      },
      {
        "user": "RudraNathPalit",
        "created_at": "2023-02-22T07:29:37Z",
        "body": "Hi, Can you share the code that finally worked."
      }
    ]
  },
  {
    "number": 5641,
    "title": "Can Thingsboard 3.3.0 PE be downgraded?",
    "created_at": "2021-11-29T19:11:46Z",
    "closed_at": "2021-12-01T02:07:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5641",
    "body": "I have a production system which is no longer operable and need to downgrade to a earlier release, are there downgrade instructions from 3.3.0?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5641/comments",
    "author": "aortega1",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2021-11-30T09:59:34Z",
        "body": "Hi,\r\nfrom which version do you have done the upgrade?\r\nWhat is the problem with your system?"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-11-30T11:01:58Z",
        "body": "ThingsBoard stores dashboards, rule chains, and other entities in the database. So, to downgrade, you should install old package and restore the backup of the database. Make sure you also use old (pre-upgrade) versions of thingsboard.yml and thingsboard.conf"
      },
      {
        "user": "aortega1",
        "created_at": "2021-12-01T02:08:00Z",
        "body": "Closing as no longer relevant.  I was able to wipe the server and get 3.3.2 functional...to a point, more on that in another issue."
      }
    ]
  },
  {
    "number": 5640,
    "title": "RPC over mqtt failing after 3.3.0  PE upgrade",
    "created_at": "2021-11-29T19:11:01Z",
    "closed_at": "2021-12-01T02:08:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5640",
    "body": "I am getting the following error in thingsboard.log after upgrading to version 3.3.0 PE.  \r\n\r\n2021-11-29 13:08:35,005 [tb-rule-engine-consumer-49-thread-11 | HighPriority-9] INFO  o.t.s.s.q.DefaultTbRuleEngineConsumerService - [223f0e30-7585-11eb-b4f7-5f42f713d3ac] Failed to process message: TbMsg(queueName=HighPriority, id=9042ea7d-99bf-4c3c-a139-4184c885a9ea, ts=1638212914967, type=RPC_CALL_FROM_SERVER_TO_DEVICE, originator=f5eae130-828e-11eb-b324-f9e86544a51d, customerId=null, metaData=TbMsgMetaData(data={deviceType=renu_bridge, originServiceId=ip-************, requestUUID=b95369ea-1ad2-4053-996e-e253aa769cae, expirationTime=1638212914926, persistent=false, deviceName=RB-Herald, oneway=true}), dataType=JSON, data={\"error\":\"NO_ACTIVE_CONNECTION\"}, ruleChainId=230e1e00-7585-11eb-b4f7-5f42f713d3ac, ruleNodeId=231486a0-7585-11eb-b4f7-5f42f713d3ac, ruleNodeExecCounter=0, callback=org.thingsboard.server.common.msg.queue.TbMsgCallback$1@58bd4361), Last Rule Node: null\r\n\r\nThe device is able to send telemetry, however as soon as I attempt to make a RPC request to the device, it gives this error and the device can no longer send telemetry to the Server.\r\n\r\n\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5640/comments",
    "author": "aortega1",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-11-30T10:18:19Z",
        "body": "The \"NO_ACTIVE_CONNECTION\" means that the device is not connected (I assume it is not the case) or the device has not subscribed for MQTT topic: v1/devices/me/rpc/request/+"
      },
      {
        "user": "aortega1",
        "created_at": "2021-11-30T15:03:27Z",
        "body": "Hello, yes it seems that was the case.  \r\n\r\nDid the way Two way mqtts connections with x509 change in 3.3PE? \r\n\r\nI am reading through the documentation, and it seems different.  Such as the Java Keystore is now deprecated in favor of pem.  Is there a better walkthrough on how to create the pem certificate chain, or in general a tutorial on how to create a self signed pem certificate for the Server, and then issue certificates for each device (I have ~1000 devices which no longer will connect since the upgrade to 3.3PE)\r\n"
      },
      {
        "user": "aortega1",
        "created_at": "2021-12-01T02:08:27Z",
        "body": "Opening a new issue to better reflect current state."
      }
    ]
  },
  {
    "number": 5620,
    "title": "[Question] How to use Google maps street view?",
    "created_at": "2021-11-25T05:36:11Z",
    "closed_at": "2024-05-16T13:22:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5620",
    "body": "The maps widget provides many settings and a useful selection of maps provider.\r\nBut is there a solution to use google maps street view in Thingsboard?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5620/comments",
    "author": "guifran",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-16T13:22:50Z",
        "body": "No, Google Street View didn't support ThingsBoard."
      }
    ]
  },
  {
    "number": 5618,
    "title": "[Question] How can I restore to the previous version if the Upgrade Fails (Again)",
    "created_at": "2021-11-24T14:35:33Z",
    "closed_at": "2022-01-22T10:33:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5618",
    "body": "Thingsboard PE upgrade stuck after\r\nsudo /usr/share/thingsboard/bin/install/upgrade.sh --fromVersion=3.3.1\r\nThingsBoard upgrade failed!\r\n\r\nI only use a postgresql database.\r\n\r\nDo I need to restore the whole VM or can I just replace the config files and start the service again?\r\n\r\n**Environment**\r\n * Ubuntu 20.04 LTS\r\n * ThingsBoard PE 3.3.1\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5618/comments",
    "author": "KenSense",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-01-18T17:02:56Z",
        "body": "Hello @KenSense,\r\nIs your problem up to date? \r\nIf so, please provide the full output of the upgrade command\r\nand the steps of your upgrade.\r\nAlso, we strongly recommend backing up your database before any upgrade."
      },
      {
        "user": "KenSense",
        "created_at": "2022-01-19T07:37:03Z",
        "body": "I eventually got it completing by disabling the TLS setting and then fixed that problem later.\r\nThe question was in case I'm stuck is there a way to go back to the previous version assuming you have a backup of the database before you started the upgrade or is full VM restore advised/required?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2022-01-19T13:33:31Z",
        "body": "If you have a database backup, of course, you can revert to a previous version. For example, you had a version 3.3.1, and you failed to upgrade to 3.3.2:\r\n1. install TB 3.3.1 to which the backup database belongs.\r\n2. Restore database from backup (TB 3.3.1 version)\r\n3. Start ThingsBoard."
      },
      {
        "user": "KenSense",
        "created_at": "2022-01-19T13:45:26Z",
        "body": "Any removal steps?\r\n\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2022-01-19T16:53:59Z",
        "body": "@KenSense, Yes, before restoring need to connect to PSQL and run\r\n\r\n```\r\ndrop database thingsboard;\r\ncreate database thingsboard;\r\n```\r\n\r\nand after that \r\n\r\n`psql -U postgres -d thingsboard -W < /path_to_backup/backup.sql.bak`\r\n\r\nWe also advise you to make a backup with \r\n`pg_dump thingsboard > /path_to_backup/backup.sql.bak`\r\n"
      },
      {
        "user": "KenSense",
        "created_at": "2022-01-20T07:11:24Z",
        "body": "That is for the database but what about the install files?\r\nJust run the old install and script again?\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2022-01-20T09:16:49Z",
        "body": "In your case: when you only restore the backup, you need just run your thingsboard service and didn't install any (Or delete files).\r\n\r\n\r\nI advise you to try these actions on some virtual machine so that there is no misunderstanding of backup algorithms on your main server."
      }
    ]
  },
  {
    "number": 5613,
    "title": "[Question] Set Is Gateway Checkbox with Rest API",
    "created_at": "2021-11-24T07:03:18Z",
    "closed_at": "2021-11-24T13:43:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5613",
    "body": "Hi, \r\nI want to create a Gateway automatically. I can create Gateway with Rest API. However, I can't set the \"is gateway\" checkbox. How can I set this checkbox in Rest API? Also, I am using Device Profile and can I set this checkbox with Device Profile.\r\n\r\n**Server Environment**\r\nown setup\r\ndocker deployment\r\nOS: Linux(Ubuntu 20.04)\r\n\r\n**Client Environment**\r\nOS: Linux(Ubuntu)\r\nBrowser: Chrome, Firefox\r\nVersion Ubuntu Version 20.04\r\n\r\nBest Regards,\r\n**Gohm Team**",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5613/comments",
    "author": "gohm-tech",
    "comments": [
      {
        "user": "Alentus",
        "created_at": "2021-11-24T08:45:10Z",
        "body": "Hi, i am don't  check this but maybe you need add additionalInfo in request body like\r\n\r\n```\r\n{\r\n  \"id\": {\r\n    \"id\": \"784f394c-42b6-435a-983c-b7beff2784f9\",\r\n    \"entityType\": \"DEVICE\"\r\n  },\r\n  \"tenantId\": {\r\n    \"id\": \"784f394c-42b6-435a-983c-b7beff2784f9\",\r\n    \"entityType\": \"TENANT\"\r\n  },\r\n  \"customerId\": {\r\n    \"id\": \"784f394c-42b6-435a-983c-b7beff2784f9\",\r\n    \"entityType\": \"CUSTOMER\"\r\n  },\r\n  \"name\": \"A4B72CCDFF33\",\r\n  \"type\": \"Temperature Sensor\",\r\n  \"label\": \"Room 234 Sensor\",\r\n  \"deviceProfileId\": {\r\n    \"id\": \"784f394c-42b6-435a-983c-b7beff2784f9\",\r\n    \"entityType\": \"DEVICE_PROFILE\"\r\n  },\r\n  \"deviceData\": {\r\n    \"configuration\": {},\r\n    \"transportConfiguration\": {}\r\n  },\r\n  \"firmwareId\": {\r\n    \"id\": \"784f394c-42b6-435a-983c-b7beff2784f9\",\r\n    \"entityType\": \"OTA_PACKAGE\"\r\n  },\r\n  \"softwareId\": {\r\n    \"id\": \"784f394c-42b6-435a-983c-b7beff2784f9\",\r\n    \"entityType\": \"OTA_PACKAGE\"\r\n  },\r\n  \"additionalInfo\": {\r\n    \"gateway\": true\r\n   }\r\n}\r\n```\r\nIf you have last version it's (3.3.2) has good new documentation in YOR_IP:PORT/swagger-ui/#"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-11-24T13:43:14Z",
        "body": "@Alentus is correct. Add \"gateway\":true to the \"additionalInfo\""
      }
    ]
  },
  {
    "number": 5581,
    "title": "[Question] problem with reset password",
    "created_at": "2021-11-17T20:07:58Z",
    "closed_at": "2021-11-25T14:25:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5581",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nI have a problem when I want to send a reset password. I get this error.\r\n\r\n` [http-nio-0.0.0.0-8080-exec-7] WARN  o.t.server.controller.AuthController - Error occurred: You don't have permission to perform 'WRITE' operation with 'PROFILE' resource!`\r\n\r\nCan anybody point me towards what right is missing? When creating a new user the mail works fine.\r\n\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  docker \r\n * ThingsBoard: 3.3.2PE\r\n * Browser: Edge\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5581/comments",
    "author": "tobbelin",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2021-11-17T22:54:51Z",
        "body": "Check your roles. What role is assigned to the account you are trying to use here. Does it have permission ``` Profile: All ```.\r\n"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-18T11:33:44Z",
        "body": "This is a standard tenant user account, autogenerated roles. It has Profile:All, All: Read.\r\nIs the reset of password depending on the user roles?\r\n\r\nBest\r\nTobias"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-19T00:02:39Z",
        "body": "Is there nobody else with this problem? Any tips on how to debug this further from our side?"
      },
      {
        "user": "JacksonBowe",
        "created_at": "2021-11-19T00:09:58Z",
        "body": "Clarify something for me quickly. Are you on an account A (with role tenant user), and trying to send a password reset to an account B?\r\n"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-19T00:13:08Z",
        "body": "I created a new user to test this. Set it up as a normal user.\r\nThen in incognito mode trying to log in as that user, pressing reset password.\r\nThen I get this logmessage on the server and no mail goes out to the user.\r\n"
      },
      {
        "user": "JacksonBowe",
        "created_at": "2021-11-19T00:15:48Z",
        "body": "Have you logged in at least once successfully before trying to reset password?"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-19T00:15:52Z",
        "body": "All users I have tried has the same problem though.  Same for a tenant admin user."
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-19T00:17:49Z",
        "body": "Not on the test user I created. But the user noticing the problem had.\r\nAnd I did not find a quick solution for that other than recreating that user so that they could reactivate, those mails actually works."
      },
      {
        "user": "JacksonBowe",
        "created_at": "2021-11-19T00:31:16Z",
        "body": "I just created a tenant user, logged in, logged out, clicked forgot password, entered the email address for the account, and then received the password reset in my inbox.\r\n\r\nThis was on TB3.1.1 PE"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-19T00:40:56Z",
        "body": "On my test user I had accidentally not added it to a group. (sorry!) Not sure how I missed that.\r\nNow my test user actually gets mail.\r\nTomorrow will test with a user that had the problems before. That user is in the tenant admin group and has always been.\r\nSo the group problem was only with my test account.\r\nI have updated TB since I hade to recreate the user, so maybe it just works now. 🤞 \r\n"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-25T14:10:10Z",
        "body": "I think the problem is that the emails are case sensitive. And the user was created with big first letter.\r\nIs this by design or a bug? I would not want that behavior.\r\n"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-11-25T14:25:31Z",
        "body": "My bad, that was a setting missing. "
      }
    ]
  },
  {
    "number": 5561,
    "title": "Multiple alarms of same type for same device",
    "created_at": "2021-11-16T07:33:03Z",
    "closed_at": "2024-05-27T14:11:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5561",
    "body": "Whenever a device triggers an alarm of some type, say \"high temperature\", the alarm needs to be cleared, before a new \"high temperature\" alarm can be created. If the previous alarm is not cleared, it us simply updated.\r\nIt does not matter whether the alarm was created by the \"createAlarm\" rule-chain node or the rest api.\r\n\r\nAs an example, take the following message-payload:\r\n\r\n```\r\n{\r\n  \"status\": \"ACTIVE_UNACK\",\r\n  \"ackTs\": 0,\r\n  \"clearTs\": 0,\r\n  \"details\": {\r\n    \"Temp\": 100.0\r\n  },\r\n  \"type\": \"high temp\",\r\n\t \"originator\": {\r\n   \"entityType\": \"DEVICE\",\r\n   \"id\": \"b427e9c0-25ac-11ec-bde5-63c1a7e5914f\"\r\n  },\r\n\t\"severity\": \"CRITICAL\"\r\n}\r\n```\r\n\r\nSend this payload as a POST-request to the endpoint \"/api/alarm\".\r\n\r\nThe response will look something like:\r\n\r\n```\r\n{\r\n  \"tenantId\": {\r\n    \"entityType\": \"TENANT\",\r\n    \"id\": \"207d8760-fa74-11eb-af75-038d007dac7c\"\r\n  },\r\n  \"customerId\": {\r\n    \"entityType\": \"CUSTOMER\",\r\n    \"id\": \"9dac2530-25ac-11ec-bde5-63c1a7e5914f\"\r\n  },\r\n  \"type\": \"high temp\",\r\n  \"originator\": {\r\n    \"entityType\": \"DEVICE\",\r\n    \"id\": \"b427e9c0-25ac-11ec-bde5-63c1a7e5914f\"\r\n  },\r\n  \"severity\": \"CRITICAL\",\r\n  \"status\": \"ACTIVE_UNACK\",\r\n  \"startTs\": 1636995244097,\r\n  \"endTs\": 1636995244097,\r\n  \"ackTs\": 1636994788308,\r\n  \"clearTs\": 1636994788308,\r\n  \"details\": {\r\n    \"Temp\": 100.0\r\n  },\r\n  \"propagate\": false,\r\n  \"propagateRelationTypes\": [],\r\n  \"id\": {\r\n    \"entityType\": \"ALARM\",\r\n    \"id\": \"a3bd5220-4634-11ec-b660-810f721d3f60\"\r\n  },\r\n  \"createdTime\": 1636995244098,\r\n  \"name\": \"high temp\"\r\n}\r\n```\r\n\r\nThen I try to save a new alarm with the following payload:\r\n\r\n```\r\n{\r\n  \"status\": \"ACTIVE_UNACK\",\r\n  \"ackTs\": 0,\r\n  \"clearTs\": 0,\r\n  \"details\": {\r\n    \"Temp\": 105.0\r\n  },\r\n  \"type\": \"high temp\",\r\n\t \"originator\": {\r\n   \"entityType\": \"DEVICE\",\r\n   \"id\": \"b427e9c0-25ac-11ec-bde5-63c1a7e5914f\"\r\n  },\r\n\t\"severity\": \"CRITICAL\"\r\n}\r\n```\r\n\r\nAs a result, the previous alarm-entity is updated. The details-object, as well aus endTs is updated. \r\nThis is not what we want.\r\nWe need thingsboard to be able to record multiple \"high temp\" alarms with the status \"ACTIVE_UNACK\".\r\nThe only workaround I have found is clearing a newly created alarm immediately after it was created.\r\nApparently it is possible to have multiple alarms of the status \"CLEARED_UNACK\"\r\n\r\nIs there some workaround to have multiple unacknowledged alarms of the same type for the same device?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5561/comments",
    "author": "eeitnn",
    "comments": [
      {
        "user": "Goran-59",
        "created_at": "2021-11-19T13:27:29Z",
        "body": "I ran into the same problem. Although, i found that on some thread from 2019 someone had the same problem. Unfortunately, developers were working on it then.  So @ashvayka , have you solved fetching alarms from multiple devices simultaneously?"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-27T14:11:34Z",
        "body": "Hi. Such kind of functionality is not possible due to design of Thingsboard. A new alarm can be created only after clearing the previous one. That is why, in this case, another logic will not be implemented."
      }
    ]
  },
  {
    "number": 5551,
    "title": "[Question] I cannot assign multiples customers to the same device",
    "created_at": "2021-11-12T15:53:49Z",
    "closed_at": "2024-07-16T14:02:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5551",
    "body": "Hi,\r\n\r\nI have a centralized device that contains multiple telemetry keys. I want to associate this device to multiple customers so I can create dashboards for each one of them.\r\n\r\nI tried to assign the \"public\" client to the device as I understand that this would allow all clients to have access to the device, but it didn't work.\r\n\r\nAny suggestions?\r\n\r\nThanks\r\n\r\n-------------------------------------------------------------------------------------------------\r\n\r\nI am using Thingsboard 3.2.2",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5551/comments",
    "author": "pnavazzotti",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-07-16T14:02:15Z",
        "body": "Hello @pnavazzotti,\r\n\r\nIf you are using Thingsboard CE, consider using Entity Views. \r\nIf you are using Thingsboard PE, you can share the device with multiple customers."
      }
    ]
  },
  {
    "number": 5535,
    "title": "[Question] How can I connect AWS s3?",
    "created_at": "2021-11-11T00:57:21Z",
    "closed_at": "2024-05-22T11:28:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5535",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI want to display files(image, text, etc.) in AWS S3 on the dashboard. \r\n\r\nBut I don't know how.\r\n\r\nPlease advise on how to connect.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: PE v3.2.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5535/comments",
    "author": "jsjang-rtdata",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-22T11:28:58Z",
        "body": "I closed this ticket due to inactivity. If this question is still relevant to you, feel free to open a new ticket."
      }
    ]
  },
  {
    "number": 5508,
    "title": "Device Profile Alarm Rule - alarm severity cannot be change from Critical to Major",
    "created_at": "2021-11-07T07:58:07Z",
    "closed_at": "2021-11-08T08:10:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5508",
    "body": "Consider the following device profile alarm rule:\r\ncreation condition 1: if device temperature > 4, create High Temperature alarm with Critical severity\r\ncreation condition 2: if device temperature > 0 and temperature <=4, create High Temperature alarm with Major severity\r\nclear condition: if device temperature < 0\r\n\r\nTest result:\r\n1. device temperature = 2, new alarm with Major severity is created => OK\r\n2. device temperature = 5, alarm is updated with Critical Severity => OK\r\n3. device temperature = 2 again, no update to alarm severity => NOT OK\r\n4. device temperature = -1, alarm is cleared => OK\r\n\r\nQuestion: in step 3,  should the alarm be updated with severity set to Major?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5508/comments",
    "author": "sunyong-mwi",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-11-08T07:58:29Z",
        "body": "It is currently implemented the way you described. For us, it seems logical and expected behavior. We assume the person who is configuring the rule is interested to know about the alarm caused by the \"maximum\" temperature. For example, if this is a fridge with something that can't be stored with temperature > 0. Then, if the temperature is -2 it is Major alarm, but if the temperature was +1, it is definitely critical, even if then, the temperature is back to -2. "
      },
      {
        "user": "sunyong-mwi",
        "created_at": "2021-11-08T08:10:35Z",
        "body": "Thanks for the explanation. I understood the logic behind now."
      }
    ]
  },
  {
    "number": 5489,
    "title": "Saving new custom widget- unable to connect error",
    "created_at": "2021-11-04T09:44:11Z",
    "closed_at": "2024-06-14T09:46:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5489",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI/Widgets\r\n\r\n**Description**\r\nI am developing a custom widget to that will visualize latest data from a sensor; problem is that I can't save it! whenever I try to save it I get the message \"Unable to connect\"!\r\n\r\nNot sure if this is relevant, but my environment uses postage DB and when I checked the widgets_bundle table is was empty although I can access and use the preinstalled widget bundles. \r\n\r\nAny advise is much appreciated, thank you.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.x, local personal server\r\n * ThingsBoard: 3.3.1\r\n * Browser: Safari\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5489/comments",
    "author": "hadawie",
    "comments": [
      {
        "user": "sferguson-ISI",
        "created_at": "2021-12-08T02:40:14Z",
        "body": "Same issue, makes it impossible to make changes to widgets.  Only started having this issue after I upgraded from 2.4.2.1.\r\nOS: Windows Server 2016\r\nThingsboard: 3.3.2\r\nBrowser: Chrome and Firefox\r\nPostgresDB hosted on AWS RDS. "
      },
      {
        "user": "sferguson-ISI",
        "created_at": "2022-01-13T00:53:21Z",
        "body": "Update on this, I think I know what might be causing this error @hadawie I believe it's a timeout issue with the database when you try to save widget changes.  For me I have Thingsboard database hosted on AWS RDP and my Thingsboard instance is on a EC2 instance.  If I remote into EC2 and then open up a browser and make my changes there, I don't get the dreaded \"unable to connect\" message.  @ashvayka is there a database timeout for widgets setting somewhere that can be adjusted?"
      },
      {
        "user": "pon0marev",
        "created_at": "2024-06-06T07:49:15Z",
        "body": "You may see this message if thignsboard could not execute the query within 30 seconds (this is a predefined timeout value).\r\nTo improve the performance of database queries, you can set the following parameters:\r\n```\r\nexport SPRING_DATASOURCE_MAXIMUM_POOL_SIZE=20\r\nexport SPRING_JPA_PROPERTIES_HIBERNATE_ORDER_BY_DEFAULT_NULL_ORDERING=none\r\n```\r\n"
      }
    ]
  },
  {
    "number": 5445,
    "title": "[Question] HTML/Markdown card widget conditional display based on attributes",
    "created_at": "2021-10-27T03:01:06Z",
    "closed_at": "2021-12-01T21:12:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5445",
    "body": "I have created a navigation menu bar using the HTML/Markdown card widget and it works great.\r\n\r\nI would like to control the visibility of some of the menu items based on my custom Server Attributes.\r\nfor example `if ${showTemperaturePage} == true` then display an object in the menu.\r\n\r\nI'm not sure how to put some java script into the widget to alter the visibility in CSS\r\n\r\nRegards\r\nGed\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5445/comments",
    "author": "gednz",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2021-10-27T06:35:53Z",
        "body": "Hi,\r\nI think in markdown it is not possible.\r\nMaybe you can use the \"data post-processing-function\" of the attribute. If its true, return your markdown for menu-item, else return nothing.\r\n"
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-10-27T09:58:02Z",
        "body": "Hi @gednz,\r\nYou can control show/hide menu items using the functionality markdown widget:\r\n1. You need an activated checkbox - \"Use markdown text function\" in the advance setting widget\r\n2. In the markdown text function, your need to write code to generate markdown text. For example: \r\n```javascript\r\nlet menu = \"\";\r\nif (data[0].showTemperaturePage == true) {\r\n menu += \"* First item\";   \r\n}\r\nmenu += \"* Second item\"; // always show this item  \r\nreturn menu;\r\n```\r\n"
      },
      {
        "user": "gednz",
        "created_at": "2021-10-28T04:34:39Z",
        "body": "Hi  Backdraft007\r\n\r\nThanks for the tip - that works perfectly. \r\n\r\n"
      },
      {
        "user": "gednz",
        "created_at": "2021-10-28T04:38:18Z",
        "body": "Hi @vvlladd28 \r\n\r\nI haven't tried this yet as the other way worked this time, however I'm interested in this method for more complex logic involving more than one attribute.\r\n\r\nIf we use the \"markdown text function\" can we still style it with CSS and HTML. I got the impression it was one or the other?\r\n\r\nRegards\r\nGed"
      }
    ]
  },
  {
    "number": 5420,
    "title": "De-serialize problem",
    "created_at": "2021-10-21T11:21:37Z",
    "closed_at": "2024-05-21T15:11:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5420",
    "body": "ESP32 with arduino\r\n\r\nDo any know how to solve the problem of \"unable to de-serialize params\" in a RPC call?\r\nIm using the ESP32 Pico Kit GPIO control example and I can´t control the LEDs with the same code\r\n\r\n  Generic\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5420/comments",
    "author": "FrenyPC",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T15:11:34Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 5386,
    "title": "[Question] Does TB PE works with Kafka 3.x.x?",
    "created_at": "2021-10-15T17:53:57Z",
    "closed_at": "2022-01-25T08:57:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5386",
    "body": "**Component**\n\n<!-- Choose one of the following and delete all others. -->\n * Kafka\n\nKafka 3.x.x comes with a lot of improvement and I would like to utilise it. Does TB PE works with it?\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5386/comments",
    "author": "WeiTangLau",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-10-19T09:19:31Z",
        "body": "Probably yes, but it is not yet verified. We will check and update the driver/code to support the new Kafka version in 3.4.x"
      },
      {
        "user": "Raven888888",
        "created_at": "2022-03-03T08:27:57Z",
        "body": "Bump. Would like to know the update. Thanks"
      }
    ]
  },
  {
    "number": 5355,
    "title": "How to pass data from custom map widget to marker image function?",
    "created_at": "2021-10-11T14:35:14Z",
    "closed_at": "2021-10-12T14:58:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5355",
    "body": "I've created a custom map widget based on the OpenStreetmap-Widget.\r\nInside the onInit()-function I'm computing some data.\r\nIs there some way to make this data available to the marker image function of the widget?\r\n\r\nSince the marker image function is passed the parameters data, images, dsData and dsIndex I was wondering if can modify the contents from within the onInit-function maybe.\r\n\r\nHowever, I'm not sure where to start. There is an object **self.ctx.data** which holds an array which looks very similar to what is inside **dsData**. \r\nBut modifying this object has no effect on the resulting dsData object.\r\n\r\nThere has to be a better way to share objects between these different scopes.\r\nAny ideas?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5355/comments",
    "author": "eeitnn",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-10-12T08:01:45Z",
        "body": "Hi @eeitnn,\r\nYou can't change the data inside the onInit()-function.\r\nTo modify the data you can use a Use data post-processing function in data-key settings or write your own function and called inside onDataUpdated-function before `self.ctx.map.update();`\r\n"
      },
      {
        "user": "eeitnn",
        "created_at": "2021-10-12T14:58:35Z",
        "body": "Hi @vvlladd28,\r\nthank you for the hint,"
      }
    ]
  },
  {
    "number": 5348,
    "title": "[Question] How to filter data in a entities table widget by view only user?",
    "created_at": "2021-10-11T11:10:22Z",
    "closed_at": "2022-07-12T08:41:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5348",
    "body": "**Component**\r\n * UI - entities table widget\r\n \r\n\r\n**Description**\r\nHow to filter data in a entities table widget by view only user?\r\nI chose the home dashboard for reading only.\r\n\r\n**Environment**\r\n\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.3.1 CE\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5348/comments",
    "author": "psxbox",
    "comments": [
      {
        "user": "ashaforost",
        "created_at": "2021-10-19T11:19:23Z",
        "body": "hi there,\r\n\r\nPlease clarify your use case in more detail. As I understood, you have several view-only users, and you want to show them the limited number of devices, depending on the user permissions. Please correct me if I'm wrong."
      }
    ]
  },
  {
    "number": 5342,
    "title": "[Question] What is the data size limit for JSON telemetry via http Integration ?",
    "created_at": "2021-10-11T07:11:36Z",
    "closed_at": "2022-07-12T08:45:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5342",
    "body": "**Component**\r\n * Integrations (HTTP)\r\n\r\n**Description**\r\nIm trying to process and save JSON telemetry value via http Integration and data converter which is about 280 kB.  The Integration processes the JSON payload and sends to Data Converter Input which can be seen in Events log, but there is no associated Data Converter record.  \r\nThis was working prior to upgrading to v3.3.1 PE so it may be that the upgrade changed this or all prev JSON msgs were smaller kB size.  Anyway, does anyone know what the kB limit is for JSON telemetry via http Integration and Data Converter ?  \r\nThanks for any help with this\r\n\r\n**Environment**\r\n\r\n * OS:  Ubuntu\r\n * ThingsBoard: 3.3.1 PE\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5342/comments",
    "author": "ChrisEvisi",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-07-12T08:45:32Z",
        "body": "There is no limit, you can raise the payload size in the ThingsBoard settings if you get more than 1MB, but we advise you not to use such a large payload."
      },
      {
        "user": "Raven888888",
        "created_at": "2024-02-20T17:53:23Z",
        "body": "@Ultrazombie May I know which setting to set? I am hitting server internal error 500 when sending 1MB message through http telemetry API."
      },
      {
        "user": "lstarke",
        "created_at": "2024-06-04T14:17:03Z",
        "body": "Any updates about this question ?"
      }
    ]
  },
  {
    "number": 5323,
    "title": "does not support  jdk17  now?",
    "created_at": "2021-10-06T03:51:00Z",
    "closed_at": "2021-10-06T11:02:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5323",
    "body": "\r\nstartup failed:\r\n  General error during conversion: Unsupported class file major version 61\r\n  \r\n  java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        at groovyjarjarasm.asm.ClassReader.<init>(ClassReader.java:189)\r\n        at groovyjarjarasm.asm.ClassReader.<init>(ClassReader.java:170)\r\n        at groovyjarjarasm.asm.ClassReader.<init>(ClassReader.java:156)\r\n        at groovyjarjarasm.asm.ClassReader.<init>(ClassReader.java:277)\r\n        at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:81)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.findDecompiled(ClassNodeResolver.java:251)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.tryAsLoaderClassOrScript(ClassNodeResolver.java:189)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.findClassNode(ClassNodeResolver.java:169)\r\n        at org.codehaus.groovy.control.ClassNodeResolver.resolveName(ClassNodeResolver.java:125)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClassNullable(AsmReferenceResolver.java:57)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveClass(AsmReferenceResolver.java:44)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveNonArrayType(AsmReferenceResolver.java:79)\r\n        at org.codehaus.groovy.ast.decompiled.AsmReferenceResolver.resolveType(AsmReferenceResolver.java:70)\r\n        at org.codehaus.groovy.ast.decompiled.MemberSignatureParser.createMethodNode(MemberSignatureParser.jav",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5323/comments",
    "author": "mylovetop",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2021-10-06T08:30:09Z",
        "body": "No, you have to use jdk11"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-10-06T11:02:03Z",
        "body": "We will add support of JDK11 later, once all dependencies will be 100% ready and tested. I believe we have time until September 2023."
      }
    ]
  },
  {
    "number": 5321,
    "title": "[Question] Rest API works only with tenant credentials ?",
    "created_at": "2021-10-05T10:41:49Z",
    "closed_at": "2021-10-07T11:20:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5321",
    "body": "**Component**\r\n * Thingsboard rest API\r\n\r\n**Description**\r\nIt looks like you need credentials at tenant level to use the rest API.  We would like to give customers acces to their device data using the REST api but this seems not possible. Is this correct ?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5321/comments",
    "author": "sebsoft",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-10-05T14:53:00Z",
        "body": "No, this is not correct, Customers may also query devices and their data. Otherwise, the dashboards you assign to customers would not be able to work."
      }
    ]
  },
  {
    "number": 5309,
    "title": "[Question] getCustomerDevices return empty array",
    "created_at": "2021-10-01T07:27:30Z",
    "closed_at": "2021-10-01T07:48:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5309",
    "body": "I'm trying to enhance an entity-table widget (the table lists all customers) by adding a custom action (with html template), where I need the list of devices for the currently selected customer.\r\n\r\nThe relevant part of my attempts looks as follows:\r\n```\r\n        let pl = new widgetContext.pageLink(10,0,null,null);\r\n        \r\n        deviceService.getCustomerDevices(entityId.id,pl,'MyDeviceProfile').subscribe(function(data){\r\n           console.log(entityId.id);\r\n           console.log(data);\r\n        });\r\n```\r\n\r\nHowever, all this returns to the console is:\r\n\r\n> 03a54e20-fe61-11eb-8c0e-ede4043c3db2\r\n> \r\n> {data: Array(0), totalPages: 0, totalElements: 0, hasNext: false}\r\n> data: []\r\n> hasNext: false\r\n> totalElements: 0\r\n> totalPages: 0\r\n> [[Prototype]]: Object\r\n\r\nI've double checked the ID of the customer and made sure he owns a couple of device with the profile \"MyDeviceProfile\".\r\nI expected to receive an array of these devices.\r\n\r\nWhere is my mistake?\r\n\r\n**Environment**\r\n * OS:  Win 10\r\n * ThingsBoard: PE 3.3.0\r\n * Browser: Chrom\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5309/comments",
    "author": "eeitnn",
    "comments": [
      {
        "user": "Mayanks2101",
        "created_at": "2024-05-16T10:07:33Z",
        "body": "Can you Please Share the solution as I am trying this but it is showing an error Like, \r\nError : widgetContext.pageLink is not a constructor"
      }
    ]
  },
  {
    "number": 5308,
    "title": "[Question] Is it not allowed upload device telemetry via Thingsboard's MQTT in rule engine?",
    "created_at": "2021-10-01T02:15:18Z",
    "closed_at": "2024-05-21T07:13:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5308",
    "body": "Rule Engine\r\n\r\nIs it not allowed upload device telemetry via Thingsboard's MQTT in rule engine? I got \"Channel is closed\" exception when sending data to MQTT (localhost) as device telemetry in Rule Engine. \r\n\r\nInstead of uploading device telemetry via MQTT in rule engine, is it possible to change the entity id and then save the timeseries as another device? \r\n\r\nOS:  Ubuntu 20.04\r\nThingsBoard: 3.3.1\r\nBrowser: Firefox, Chrome and Edge\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5308/comments",
    "author": "FacelookHK",
    "comments": [
      {
        "user": "FacelookHK",
        "created_at": "2021-10-01T16:11:21Z",
        "body": "Further testing it, looks like the \"Channel is closed!\" exception came from the rule engine sending telemetry to a \"Is Gateway\" device."
      },
      {
        "user": "epalchenko",
        "created_at": "2024-05-21T07:13:25Z",
        "body": "Hello,\r\nAs the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\nPlease re-create the fresh ticket with detailed steps to reproduce if this problem still exists."
      }
    ]
  },
  {
    "number": 5288,
    "title": "[Question] Converters creating asset - devices- and relations between them",
    "created_at": "2021-09-27T12:44:15Z",
    "closed_at": "2021-09-28T15:21:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5288",
    "body": "**Component**\r\n\r\n * Rule Engine or Data converters\r\n\r\n**Description**\r\nI have an MQTT broker sending data with a specic format\r\n{\r\n     \"equ_name\":\"equ name\",\r\n      \"latitude\":\"lat value\",\r\n       \"longitude\":\"long value\",\r\n         \"device\":{ \r\n                        \"deviceName\":\"test\",\r\n                        \"time\":1632745871,\r\n                         \"telemetry\":{\r\n                                 \"Vibration x\":0.09,\r\n                                       \"Vibration y\":0.15,\r\n                         }\r\n           }\r\n}\r\n\r\n  The equ_name is my equipment and an equipment can have multiple devices (sensors)\r\nI want when my converter receive the data to create an asset (if it does not exist) and the devices. \r\nBut most importantly to create the relation between the asset and its devices.\r\n\r\nCan it be done, directly witth the converter or should I do it with something else\r\n\r\nThank you for your answer\r\n\r\n**Environment**\r\n * ThingsBoard: PE v3.3.1\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5288/comments",
    "author": "yayaLy",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2021-09-28T04:56:01Z",
        "body": "Hi @yayaLy \r\n\r\nThe way I would approach this would be to have the converter set an attribute on the device \r\n```patentEntity: {\"type\":\"ASSET\", \"name\"}```\r\n\r\nThen inside your rule chains I would just have something that looked for messages containing key **parentEntity** and then use the **create relation** node. There's some other small steps, but this is how I've done it."
      },
      {
        "user": "yayaLy",
        "created_at": "2021-09-28T15:20:51Z",
        "body": "Hi @JacksonBowe \r\nThank you very mutch. this does help a lot. And it resolved my problem"
      }
    ]
  },
  {
    "number": 5247,
    "title": "[Question] Hierarchy widget custom action get node selected",
    "created_at": "2021-09-15T12:44:33Z",
    "closed_at": "2021-09-24T11:48:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5247",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nHow could i get the selected node  through custom action of hierarchy widget? I would like to delete the selected entity\r\n\r\n**Environment**\r\nOS: Ubuntu Server 20.04 LTS\r\nThingsBoard: 3.3.1PE\r\nBrowser: Google Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5247/comments",
    "author": "serifis84",
    "comments": [
      {
        "user": "Katekisiv",
        "created_at": "2021-09-16T14:06:36Z",
        "body": "Hi,\r\n\r\nIn the action configuration, there is the \"Action source\" field. You have to choose \"on node selected\" in this field so you will be able to perform the custom action when clicking on the desired entity in the hierarchy.\r\n\r\nBest regards,\r\nKate"
      },
      {
        "user": "serifis84",
        "created_at": "2021-09-16T14:26:38Z",
        "body": "@Katekisiv thank you for your reply!\r\n\"On node selected\" will trigger a custom action when the node is clicked. I would like to have more widget header buttons, like add or delete or edit an entity and when click them trigger a custom action. In the custom action's code get the selected nodes name or whatever, to add an extra node on the hierachy or delete"
      },
      {
        "user": "Katekisiv",
        "created_at": "2021-09-23T12:19:50Z",
        "body": "Hi,\r\n\r\nAt the moment, the Entity Hierarchy widget does not allow users to define different actions on the same \"On Node Selected\" event. We will consider such an improvement to the widget, but it may take some time. I suggest designing the dashboard using existing functionality or create a custom widget.\r\n\r\nRegards,\r\nKate"
      }
    ]
  },
  {
    "number": 5223,
    "title": "[Question] Why return value of putIfAbsent ignored",
    "created_at": "2021-09-10T03:39:21Z",
    "closed_at": "2024-05-18T14:20:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5223",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n \r\n**Description**\r\nIn method org.thingsboard.server.common.transport.service.DefaultTransportService#registerSyncSession，why return value of putIfAbsent ignored\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.2.2\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5223/comments",
    "author": "formerly11",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-18T14:20:47Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 5210,
    "title": "[Question] How to send fw_state with protobuf?",
    "created_at": "2021-09-08T02:37:32Z",
    "closed_at": "2024-05-18T14:21:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5210",
    "body": "**Description**\r\nHi guys,\r\nMy task are dealing with Protobuf and I am able to send telemetry messages with the following proto schema:\r\n\r\n```\r\nmessage Telemetry\r\n{\r\n    optional string current_fw_title = 1;\r\n    optional string current_fw_version = 2;    \r\n    optional string fw_state = 3 [json_name = \"fw_state\"];\r\n    optional string fw_error = 4 [json_name = \"fw_error\"];\r\n\r\n    optional uint32 temperature = 5;\r\n    optional double humidity = 6;\r\n    optional float illumination = 7;\r\n}\r\n```\r\n\r\nNow come to the OTA part. I cannot send the Firmware state to ThingsBoard for one reason: The key names are interpreted as CamelCases. For example when I try to publish **fw_state** by the following snippet, the **Lastest Telemetry** will show: \r\n**fwState** - **UPDATED**, and the information in Firmware Dashboard are not changed accordingly.\r\n\r\n```\r\nTelemetry tele;\r\ntele.set_fw_state(\"UPDATED\");\r\nstd::string proto;\r\ntele.SerializeToString(&proto);\r\nmqtt.publish(\"v1/devices/me/telemetry\", proto);\r\n```\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: v3.3.0 CE\r\n * Browser: Chrome\r\n\r\nPlease anybody give me some advice.\r\nThank you so much for spending time on my issue",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5210/comments",
    "author": "nguyenlam185",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-18T14:21:31Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 5176,
    "title": "[Question] Knob Control (Control Widget - Dashboard) unable to getValue ",
    "created_at": "2021-09-01T08:41:42Z",
    "closed_at": "2024-05-17T06:39:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5176",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nFor Knob Control Widget, I can set the value using setValue RPC and the data is sent to my device.\r\nBut, if we have a similar knob at the end-node and the value is changed from there, that value is not reflected from getValue RPC\r\n\r\nObservation: when we open the dashboard for the first time the getValue RPC is executed and it changes the KnobValue which it fetches from the device. But the thing is that getValue RPC is only working when dashboard is opened for the first time.\r\n\r\n**Environment**\r\ndemo.thingsboard.io\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5176/comments",
    "author": "samteck-etairos",
    "comments": [
      {
        "user": "ferchinas",
        "created_at": "2021-09-01T23:54:07Z",
        "body": "Hello this is something that I have been looking to solve for a long time.\r\nIt would be nice if the `knob widget` has that option like `New Switch Control` does.\r\n`Retrieve on / off value using method`\r\nAnd you can subscribe to changes of an Attribute or Timeseries"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-17T06:39:59Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 5168,
    "title": "[Question] your title here",
    "created_at": "2021-08-30T12:36:57Z",
    "closed_at": "2021-09-08T12:41:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5168",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nHi, is it possibe to use \"update schared Boolean attribute\" Widget to write two different integer values? \r\nI tried to use the 'data post-processing function' but didn´t get it working. Like:\r\nreturn value === 'true';\r\n\r\nSince there is no 'Tooltip value format function' I simply added:\r\nif (value == 'true') {\r\n    return '1';\r\n} else if (value == 'false' {\r\n    return '0';\r\n} else {\r\n    return '';\r\n}\r\n\r\nIs it possible / what Iam doing wrong? \r\n\r\nBest regards\r\nMirjka\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  WIN 10 pro \r\n * ThingsBoard: latest version PE\r\n * Browser: FireFox 91.0.2\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5168/comments",
    "author": "Mirjka",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2021-09-01T22:06:59Z",
        "body": "You would need to create a custom widget. It wouldn't be hard. The widget has this function\r\n`$scope.updateAttribute = function() {\r\n        if ($scope.entityDetected) {\r\n            var datasource = self.ctx.datasources[0];\r\n            attributeService.saveEntityAttributes(\r\n                datasource.entity.id,\r\n                'SHARED_SCOPE',\r\n                [\r\n                    {\r\n                        key: $scope.currentKey,\r\n                        value: $scope.checkboxValue || false\r\n                    }\r\n                ]\r\n            )`\r\n\r\nIf you change this line `value: $scope.checkboxValue || false`\r\nto \r\n`value: (($scope.checkboxValue) ? //True Condition : //False Condition)`\r\nyou should be fine\r\n\r\nWith your example:\r\n`value: (($scope.checkboxValue) ? 1 : 2)`\r\n\r\nHaven't tested it but it's definitely possible. Good luck!"
      }
    ]
  },
  {
    "number": 5159,
    "title": "Communication between Widgets ",
    "created_at": "2021-08-28T20:59:43Z",
    "closed_at": "2021-09-24T11:54:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5159",
    "body": "I'm currently using ThingsBoard 3.2.2 , I have 2 custom widgets in a dashboard , I need widget A to send events/messages to widget B.\r\n\r\nBelow is the detracted JS code for sending events between widgets.\r\n\r\nvar rxEvent = root.$on(\r\n        'widgetComms',\r\n        function(event, recievedData) {\r\n            if (recievedData) {\r\n                //do stuff\r\n            }\r\n        });\r\n\r\nfunction sendMessage() {\r\n    var scope = self.ctx.$scope;\r\n    var root = scope.$root;\r\n  \r\n    \r\n    root.$emit('widgetComms', {\r\n        message: text\r\n    });\r\n}\r\n\r\nIs there a new way of communicating between widgets in TB versions 3 and above?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5159/comments",
    "author": "CalvinG21",
    "comments": [
      {
        "user": "JacksonBowe",
        "created_at": "2021-08-29T21:58:14Z",
        "body": "Personally I would just do it via attributes of the dashboard state entity. Not the ideal solution, but one that is simple to implement.\r\n\r\nExample: \r\nWidget A takes attribute flag, represented by a html toggle.\r\nWidget B takes same attribute, and performs logic based on value."
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-08-30T08:14:08Z",
        "body": "Hi @CalvinG21,\r\nIn ThingsBoard 3.2.2, we are using Angular 10, which does not support root.$emit, root.$on.We have written our own implementation of these methods:\r\n```\r\nlet broadcast = $scope.$injector.get(self.ctx.servicesMap.get('broadcastService'));\r\n\r\nbroadcast.broadcast(\"rootEvent\", {\r\n  message: \"rootEvent Message\"\r\n})\r\n\r\nbroadcast.on(\"rootEvent\", function (event, data) {\r\n   //Event handling code\r\n}))\r\n```\r\n"
      }
    ]
  },
  {
    "number": 5146,
    "title": "[Question] How can I Provision/Claim device with Protobuf ?",
    "created_at": "2021-08-26T05:15:41Z",
    "closed_at": "2024-08-07T13:24:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5146",
    "body": "Hi guys,\r\nI am now able to publish/subscribe to Telemetry, Attributes and RPC topics using Protobuf as the proto schemas can be declared explicitly. But I have not known how to declare schema for Device Provisioning/Claiming ?\r\n\r\nMay I have some suggestion on this ?\r\n\r\nThanks in advance",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5146/comments",
    "author": "nguyenlam185",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-07T13:24:55Z",
        "body": "Hi. There is no possibility of device provision/claiming with Protobuf. \r\n"
      }
    ]
  },
  {
    "number": 5131,
    "title": "[Question] RPC and HTTP integration to control devices using the Knob control",
    "created_at": "2021-08-23T13:40:46Z",
    "closed_at": "2021-08-24T08:51:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5131",
    "body": "**Component**\r\n\r\n * Rule Engine\r\n\r\n**Description**\r\nWe have started to build a demu using the TB platform, and now trying to use the Knob control to control our devices.\r\nOur devices are connected via a third party platform that we integrate with using http platform integration. Streaming telemetry works flawlessly. However using RPC from the knob control is a bit of a problem.\r\nWe can transmit messages created by setUpdate rpc to our devices using the rest api call in the rule engine. Problem is that we get a message in the knob control saying that the message timed out.\r\nPreferably we would like to reply to the getValue rpc call in the rule engine adding a value from the devices attribute instead of going all the way out to the device. We stream the value anyway as part of our telemetry data.\r\n\r\nIs there any guide how to do this, or any best practices? Do we have to make a custom integration, can we make this in the rule engine, or any other option?\r\n\r\nThanks\r\n\r\n\r\n**Environment**\r\nThingsBoard version 3.3.0 PE\r\nMinikube",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5131/comments",
    "author": "tobbelin",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2021-08-23T13:55:51Z",
        "body": "@tobbelin \r\nYour device supports thingsboard RPC command??\r\nIf not then using custom widget will be the best way\r\n\r\nThanks"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-08-23T14:35:09Z",
        "body": "It does not support anything Thingsboard specific.\r\nI hoped we could customize rest api calls and doing so opening up to use all the features of the TB platform.\r\nIf I could only loop back the RPC requests as a response I would be able to append attribute values. Also if I could just translate the outgoing message in the rule engine to a http rest request and ack the rpc call I would be all done. :-)\r\n\r\n\r\n> @tobbelin\r\n> Your device supports thingsboard RPC command??\r\n> If not then using custom widget will be the best way\r\n> \r\n> Thanks\r\n\r\n"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-08-24T08:51:16Z",
        "body": "> @tobbelin\r\n> Your device supports thingsboard RPC command??\r\n> If not then using custom widget will be the best way\r\n> \r\n> Thanks\r\n\r\nCreated a simple widget. Thanks."
      }
    ]
  },
  {
    "number": 5118,
    "title": "[Question] your title here",
    "created_at": "2021-08-20T08:35:40Z",
    "closed_at": "2022-08-25T18:46:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5118",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI can assign a dashboard to multiple customers ,but can only assign a asset or device to one customer.  \r\nso if the dashboards are assigned to customer_A and customer_B, but the assets or devices which are the data source of the dashboard just are assigned to customer A,  customer_B will only view the dashboard which don't have any data. but customer_B also want to view the dashboard data. how to resolve this problem.\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Windows 10\r\n * ThingsBoard: 3.3\r\n * Browser: chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5118/comments",
    "author": "diegorobot",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2021-08-20T08:40:13Z",
        "body": "Hi\r\nAs I know thingsboard CE don't have option to share devices and asset between multiple customer\r\n\r\nThingsboard PE have options to share asset /devices or dashboard to share between multiple customer"
      }
    ]
  },
  {
    "number": 5099,
    "title": "Thingsboard community edition, cannt see telemetry using mqtt box, but same setup works for free cloud version",
    "created_at": "2021-08-17T21:52:52Z",
    "closed_at": "2024-05-29T12:52:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5099",
    "body": "we have things board community edition installed on server, i was able to publish mqtt messages to it a month ago.\r\nI was working on AWS for some time and when i tried to start working again with thingsboard since yesterday, i am not able to see any telemetry data.\r\n\r\ni am using mqtt box for sending data. with the same setup on mqtt box i can post on cloud version free account but not on community edition. Any help would be appreciated.\r\n\r\nThanks\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5099/comments",
    "author": "nikkal2110",
    "comments": [
      {
        "user": "jiekechoo",
        "created_at": "2021-08-18T01:53:16Z",
        "body": "The message you sent must be 'json' format, and your access_token must be equal to Thingsboard device's setup."
      },
      {
        "user": "nikkal2110",
        "created_at": "2021-08-18T17:16:09Z",
        "body": "> The message you sent must be 'json' format, and your access_token must be equal to Thingsboard device's setup.\r\n\r\nHi there,\r\n\r\nThanks for your input. I am using MQTT box for sending data. I am able to send data to thingsboard free cloud version, but using same settings i cannot send data to community edition. \r\naccess_token is equal to thingsboard device setup and format is also same (json)\r\n\r\n "
      },
      {
        "user": "trikimiki",
        "created_at": "2024-05-29T12:52:21Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\nPlease re-create the new ticket if this problem still exists. In new ticket, specify detailed steps to reproduce the issue."
      }
    ]
  },
  {
    "number": 5095,
    "title": "[0.000s][error][logging] Invalid option: filesize must be in range [0, 18446744073709551615]",
    "created_at": "2021-08-17T09:34:24Z",
    "closed_at": "2021-08-17T09:49:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5095",
    "body": "Loaded: loaded (/usr/lib/systemd/system/thingsboard.service; enabled; vendor preset: disabled)\r\n   Active: failed (Result: exit-code) since Tue 2021-08-17 17:29:06 CST; 4min 55s ago\r\n  Process: 3740133 ExecStart=/usr/share/thingsboard/bin/thingsboard.jar (code=exited, status=1/FAILU>\r\n Main PID: 3740133 (code=exited, status=1/FAILURE)\r\n\r\n8月 17 17:29:05 thringsboard systemd[1]: Started thingsboard.\r\n8月 17 17:29:06 thringsboard thingsboard.jar[3740133]: [0.000s][error][logging] Invalid option: file>\r\n8月 17 17:29:06 thringsboard thingsboard.jar[3740133]: [135B blob data]\r\n8月 17 17:29:06 thringsboard thingsboard.jar[3740133]: [170B blob data]\r\n8月 17 17:29:06 thringsboard thingsboard.jar[3740133]: Error: Could not create the Java Virtual Mach>\r\n8月 17 17:29:06 thringsboard thingsboard.jar[3740133]: Error: A fatal exception has occurred. Progra>\r\n8月 17 17:29:06 thringsboard systemd[1]: thingsboard.service: Main process exited, code=exited, stat>\r\n8月 17 17:29:06 thringsboard systemd[1]: thingsboard.service: Failed with result 'exit-code'.\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5095/comments",
    "author": "HeartsK",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-08-17T09:38:05Z",
        "body": "Please add more details what version are you using and what kind of build option? This log is insufficient to help you."
      },
      {
        "user": "HeartsK",
        "created_at": "2021-08-17T09:43:02Z",
        "body": "i use thingsboard-3.3 release,and build by source code, use local mvn clean install -DskipTests order get the thingsboard-3.3.1~SNAPSHOT-1.noarch.rpm,\r\nthen rpm -Uvh thingsboard-3.3.1~SNAPSHOT-1.noarch.rpm,then start thingsboard.service report that error"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-08-17T09:52:43Z",
        "body": "Why have you closed the issue? Is this your local modification problem? Please share with community"
      },
      {
        "user": "HeartsK",
        "created_at": "2021-08-17T09:55:29Z",
        "body": "yes is my local environment character conversion cause the error"
      }
    ]
  },
  {
    "number": 5086,
    "title": "怎么以微服务 docker部署到多台服务器上",
    "created_at": "2021-08-14T08:48:40Z",
    "closed_at": "2021-08-19T15:12:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5086",
    "body": "**Component**\r\n怎么以微服务 docker部署到多台服务器上？\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5086/comments",
    "author": "qiangwanfu",
    "comments": [
      {
        "user": "jiekechoo",
        "created_at": "2021-08-18T09:00:58Z",
        "body": "k8s"
      }
    ]
  },
  {
    "number": 5073,
    "title": "what's opening of thingsboard a definitio?",
    "created_at": "2021-08-12T09:35:45Z",
    "closed_at": "2021-09-24T12:24:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5073",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nrelease3.2\r\n\r\nA tenant administrator creates a public asset that other tenant administrators cannot see. Why?\r\n\r\nWhat does the disclosure of equipment mean? After disclosure, the equipment list of customers under the same tenant cannot be queried. Will this function be made public?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  win10\r\n * ThingsBoard: release3.2\r\n * Browser: google\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5073/comments",
    "author": "action9981",
    "comments": [
      {
        "user": "LeoMorgan113",
        "created_at": "2021-09-24T12:24:01Z",
        "body": "Hi @gogogotest,\r\n\r\n'Make entity public' means that you open access to entity out of ThingsBoard(out of account).\r\nMostly like, it is used when you want to give a person a link to the dashboard, but without creating an account.\r\nYou make the dashboard and related entities public and users outside of TB(that are not logged in to TB) can view the dashboard following the link. \r\n\r\nIf you want the tenant administrator to see an asset from another tenant, you need to create a Group role and give permission to this asset."
      }
    ]
  },
  {
    "number": 5072,
    "title": "k8s minikube 安装报错org.postgresql.util.PSQLException: The connection attempt failed",
    "created_at": "2021-08-12T02:55:26Z",
    "closed_at": "2022-01-27T11:38:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5072",
    "body": "k8s minikube方式安装tb，完全安装官方文档操作，在 ./k8s-install-tb.sh --loadDemo时，报错如下，多次尝试扔相同问题，\r\nStarting ThingsBoard Installation...\r\nInstalling DataBase schema for entities...\r\nInstalling SQL DataBase schema part: schema-entities.sql\r\nUnexpected error during ThingsBoard installation!\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:225)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:66)\r\n\tat org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:57)\r\n\tat org.thingsboard.server.install.ThingsboardInstallService.performInstall(ThingsboardInstallService.java:210)\r\n\tat org.thingsboard.server.ThingsboardInstallApplication.main(ThingsboardInstallApplication.java:44)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:107)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:467)\r\nCaused by: java.io.EOFException: null\r\n\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:443)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableGSSEncrypted(ConnectionFactoryImpl.java:436)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:144)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\t... 18 common frames omitted\r\nUnexpected error during ThingsBoard installation!\r\n另外刚开始安装时，有提示\r\nNOTES:\r\n** Please be patient while the chart is being deployed **\r\nPostgreSQL can be accessed through Pgpool via port 5432 on the following DNS name from within your cluster:\r\n\r\n    my-release-postgresql-ha-pgpool.thingsboard.svc.cluster.local\r\n\r\nPgpool acts as a load balancer for PostgreSQL and forward read/write connections to the primary node while read-only connections are forwarded to standby nodes.\r\n\r\nTo get the password for \"postgres\" run:\r\n\r\n    export POSTGRES_PASSWORD=$(kubectl get secret --namespace thingsboard my-release-postgresql-ha-postgresql -o jsonpath=\"{.data.postgresql-password}\" | base64 --decode)\r\n\r\nTo get the password for \"repmgr\" run:\r\n\r\n    export REPMGR_PASSWORD=$(kubectl get secret --namespace thingsboard my-release-postgresql-ha-postgresql -o jsonpath=\"{.data.repmgr-password}\" | base64 --decode)\r\n\r\nTo connect to your database run the following command:\r\n\r\n    kubectl run my-release-postgresql-ha-client --rm --tty -i --restart='Never' --namespace thingsboard --image docker.io/bitnami/postgresql-repmgr:11.7.0-debian-10-r87 --env=\"PGPASSWORD=$POSTGRES_PASSWORD\"  \\\r\n        --command -- psql -h my-release-postgresql-ha-pgpool -p 5432 -U postgres -d thingsboard\r\n\r\nTo connect to your database from outside the cluster execute the following commands:\r\n\r\n    kubectl port-forward --namespace thingsboard svc/my-release-postgresql-ha-pgpool 5432:5432 &  psql -h 127.0.0.1 -p 5432 -U postgres -d thingsboard\r\n请问如上几条命令是必须执行的还是只是用来测试数据库连接的",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5072/comments",
    "author": "xpbyte",
    "comments": [
      {
        "user": "lc2a",
        "created_at": "2021-09-01T14:48:44Z",
        "body": "problem resolved in new version 3.3.0.\r\nchanged all thingsboard image version from 3.2.2 to 3.3.0\r\n\r\n\r\n```\r\nuser@k8s-master:~/github/thingsboard-ce-k8s$ ./k8s-install-tb.sh --loadDemo\r\nnamespace/thingsboard unchanged\r\nContext \"kubernetes-admin@kubernetes\" modified.\r\nStarting PostgreSQL as 1001 user.\r\nconfigmap/pgpool unchanged\r\n\"bitnami\" already exists with the same configuration, skipping\r\nError: INSTALLATION FAILED: cannot re-use a name that is still in use\r\nstatefulset rolling update complete 2 pods at revision my-release-postgresql-ha-postgresql-544848c96f...\r\ndeployment \"my-release-postgresql-ha-pgpool\" successfully rolled out\r\nconfigmap/cassandra-config unchanged\r\nstatefulset.apps/cassandra configured\r\nservice/cassandra unchanged\r\npartitioned roll out complete: 3 new pods have been updated...\r\nconfigmap/tb-node-db-config unchanged\r\nconfigmap/tb-node-config unchanged\r\npod/tb-db-setup configured\r\npod/tb-db-setup condition met\r\nStarting ThingsBoard installation ...\r\n14:44:59,534 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\r\n14:44:59,535 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\r\n14:44:59,536 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/config/logback.xml]\r\n14:44:59,538 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs multiple times on the classpath.\r\n14:44:59,538 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [file:/usr/share/thingsboard/conf/logback.xml]\r\n14:44:59,538 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [file:/config/logback.xml]\r\n14:44:59,884 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\r\n14:44:59,936 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Will scan for changes in [file:/config/logback.xml]\r\n14:44:59,936 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - Setting ReconfigureOnChangeTask scanning period to 10 seconds\r\n14:44:59,942 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]\r\n14:44:59,956 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [fileLogAppender]\r\n14:44:59,981 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1757293506 - setting totalSizeCap to 3 GB\r\n14:44:59,987 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1757293506 - Archive files will be limited to [100 MB] each.\r\n14:45:00,034 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1757293506 - No compression will be used\r\n14:45:00,037 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1757293506 - Will use the pattern /var/log/thingsboard/tb-db-setup/thingsboard.%d{yyyy-MM-dd}.%i.log for the active file\r\n14:45:00,040 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@28feb3fa - The date pattern is 'yyyy-MM-dd' from file name pattern '/var/log/thingsboard/tb-db-setup/thingsboard.%d{yyyy-MM-dd}.%i.log'.\r\n14:45:00,040 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@28feb3fa - Roll-over at midnight.\r\n14:45:00,047 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@28feb3fa - Setting initial period to Wed Sep 01 14:45:00 UTC 2021\r\n14:45:00,049 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\r\n14:45:00,093 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[fileLogAppender] - Active log file name: /var/log/thingsboard/tb-db-setup/thingsboard.log\r\n14:45:00,093 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[fileLogAppender] - File property is set to [/var/log/thingsboard/tb-db-setup/thingsboard.log]\r\n14:45:00,094 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\r\n14:45:00,097 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]\r\n14:45:00,097 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\r\n14:45:00,099 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.thingsboard.server] to INFO\r\n14:45:00,099 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [com.google.common.util.concurrent.AggregateFuture] to OFF\r\n14:45:00,099 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to INFO\r\n14:45:00,099 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [fileLogAppender] to Logger[ROOT]\r\n14:45:00,100 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]\r\n14:45:00,100 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\r\n14:45:00,101 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@675d3402 - Registering current configuration as safe fallback point\r\n\r\n  ______    __      _                              ____                               __\r\n /_  __/   / /_    (_)   ____    ____ _   _____   / __ )  ____   ____ _   _____  ____/ /\r\n  / /     / __ \\  / /   / __ \\  / __ `/  / ___/  / __  | / __ \\ / __ `/  / ___/ / __  /\r\n / /     / / / / / /   / / / / / /_/ /  (__  )  / /_/ / / /_/ // /_/ /  / /    / /_/ /\r\n/_/     /_/ /_/ /_/   /_/ /_/  \\__, /  /____/  /_____/  \\____/ \\__,_/  /_/     \\__,_/\r\n                              /____/\r\n\r\n ===================================================\r\n :: ThingsBoard ::       (v3.3.0)\r\n ===================================================\r\n\r\nStarting ThingsBoard Installation...\r\nInstalling DataBase schema for entities...\r\nInstalling SQL DataBase schema part: schema-entities.sql\r\nInstalling SQL DataBase schema indexes part: schema-entities-idx.sql\r\nInstalling SQL DataBase schema PostgreSQL specific indexes part: schema-entities-idx-psql-addon.sql\r\nInstalling DataBase schema for timeseries...\r\nInstalling Cassandra DataBase schema part: schema-ts.cql\r\nLoading system data...\r\nLoading demo data...\r\nInstallation finished successfully!\r\npod \"tb-db-setup\" deleted\r\n\r\n```\r\n"
      }
    ]
  },
  {
    "number": 5055,
    "title": "Raspberry pi 3b+ installation error",
    "created_at": "2021-08-07T13:07:27Z",
    "closed_at": "2023-07-03T11:24:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/5055",
    "body": "* Installation\r\nCe edition \r\n\r\n**Description**\r\nHello everyone\r\nI'm having problems with services that are in error\r\nAnybody had this problem? \r\nThank you very much \r\n\r\n\r\nLast login: Sat Aug  7 02:32:54 2021\r\npi@raspberrypi:~ $ cat /var/log/thingsboard/thingsboard.log | grep ERROR\r\n2021-08-07 01:39:57,146 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\r\n2021-08-07 01:41:08,498 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\r\n2021-08-07 01:41:08,521 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n2021-08-07 01:41:09,751 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'thingsboardSecurityConfiguration': Unsatisfied dependency expressed through field 'oauth2AuthenticationSuccessHandler'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'oauth2AuthenticationSuccessHandler' defined in URL [jar:file:/usr/share/thingsboard/bin/thingsboard.jar!/BOOT-INF/classes!/org/thingsboard/server/service/security/auth/oauth2/Oauth2AuthenticationSuccessHandler.class]: Unsatisfied dependency expressed through constructor parameter 6; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'defaultSystemSecurityService': Unsatisfied dependency expressed through field 'mailService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultMailService': Invocation of init method failed; nested exception is org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n2021-08-07 01:41:11,423 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\npi@raspberrypi:~ $\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/5055/comments",
    "author": "Alexander-protocal",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-08-20T10:54:32Z",
        "body": "See \"Connection to localhost:5432 refused.\". This means that the database server is down. Are you sure PostgreSQL is working?"
      },
      {
        "user": "Alexander-protocal",
        "created_at": "2021-08-20T10:58:50Z",
        "body": "Yes it is started, how can I check? "
      },
      {
        "user": "Alexander-protocal",
        "created_at": "2021-08-20T10:59:50Z",
        "body": "After multiple reboot it is now working thank you "
      },
      {
        "user": "justsomeguyontheinternet",
        "created_at": "2021-08-22T15:19:18Z",
        "body": "i've also seen error logs with multiple connection refused messages before it seems to work normally. it might also be a timing issue, i.e. the database isn't up and running yet."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-07-03T11:24:36Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 4954,
    "title": "[Question] RPC getValue proper response",
    "created_at": "2021-07-22T09:39:39Z",
    "closed_at": "2022-08-25T18:47:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4954",
    "body": "RPC\r\n\r\nGeneric\r\n\r\nWhen using a widget that offers RPC from server to device with the ability to retrieve \"on/off value\" \"using call RPC getValue method\" I cannot send a proper response to the server from the device where the widget updates to the desired state. \r\nThe widget stops requesting the getValue method when I send a response but it does not update its state accordingly.\r\nI have tried the following response bodies:\r\n - {\"method\":\"getValue\",\"params\":true}\r\n - {\"method\":\"getValue\",\"params\":{\"value\":true}}\r\n - {\"value\":true}\r\n - true\r\nBut without any luck. \r\n\r\nWhen testing the RPC functionality with the RPC debug terminal I can see the device response as expected.\r\n\r\n\r\n OS:  Ubuntu 20.04\r\n ThingsBoard: v3.2.2\r\n Browser: Google Chrome 92.0.4515.107 \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4954/comments",
    "author": "pedroply",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-07-28T08:50:06Z",
        "body": "Hi @pedroply,\r\nMaybe you have such an issue #4311?\r\nIf so, this will be fixed in TB3.3.0. You can also build from source to get fix faster."
      }
    ]
  },
  {
    "number": 4941,
    "title": "Getting errors from Postgres",
    "created_at": "2021-07-21T05:19:10Z",
    "closed_at": "2022-01-25T08:52:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4941",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n\r\n**Description**\r\nTrying to run 3.2.2PE on a local server and see these errors in the log output:\r\n\r\n```\r\npostgres_1  | 2021-07-21 05:01:12.167 UTC [87] ERROR:  relation \"component_descriptor\" does not exist at character 344\r\npostgres_1  | 2021-07-21 05:01:12.167 UTC [87] STATEMENT:  select componentd0_.id as id1_7_, componentd0_.created_time as created_2_7_, componentd0_.actions as actions3_7_, componentd0_.clazz as clazz4_7_, componentd0_.configuration_descriptor as configur5_7_, componentd0_.name as name6_7_, componentd0_.scope as scope7_7_, componentd0_.search_text as search_t8_7_, componentd0_.type as type9_7_ from component_descriptor componentd0_ where componentd0_.clazz=$1\r\nmytbpe_1    | 2021-07-21 05:01:12,167 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42P01\r\nmytbpe_1    | 2021-07-21 05:01:12,168 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: relation \"component_descriptor\" does not exist\r\nmytbpe_1    |   Position: 344\r\n```\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18.04.2 LTS\r\n * ThingsBoard: 3.2.2PE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4941/comments",
    "author": "dajtxx",
    "comments": [
      {
        "user": "trypzz",
        "created_at": "2021-08-20T10:49:20Z",
        "body": "Hi,\r\nDo you upgraded before getting error? Or applyied some changes in db, etc.?\r\n"
      }
    ]
  },
  {
    "number": 4902,
    "title": "mqttserver.jks",
    "created_at": "2021-07-14T09:17:06Z",
    "closed_at": "2022-01-25T08:53:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4902",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nwhere I should add mqttclient.jks to let thingsboard see him? \r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  ubuntu and 20.04 LTS\r\n * ThingsBoard: 3.3.0\r\n * Browser: chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4902/comments",
    "author": "youhammad",
    "comments": [
      {
        "user": "faithware",
        "created_at": "2021-08-01T05:39:35Z",
        "body": "It should be copied to /etc/{SERVICE}/conf/ make sure that the thingsboard user has read access to that. "
      },
      {
        "user": "trypzz",
        "created_at": "2021-08-20T10:54:27Z",
        "body": "Hi,\r\n\r\nAnswer provided by @faithware is correct. Clarify, please, do you have additional question relation to this topic?"
      }
    ]
  },
  {
    "number": 4868,
    "title": "[Question] Extract all attributes with Originator Attributes enrichment",
    "created_at": "2021-07-06T12:44:45Z",
    "closed_at": "2021-08-20T13:47:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4868",
    "body": "**Component**\r\n\r\n * Rule Engine\r\n\r\n**Description**\r\nWith the Originator Attributes enrichment rule, how can i extract all attributes from a device without naming them individualy ?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4868/comments",
    "author": "nvandamme",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2021-07-15T05:38:26Z",
        "body": "No option to extract all attributes without naming them individually using existing rule node\r\n\r\nBut you can achieve it by making custom rule node\r\n\r\n"
      }
    ]
  },
  {
    "number": 4863,
    "title": "[Question] Close opened MQTT connection",
    "created_at": "2021-07-05T15:14:19Z",
    "closed_at": "2021-09-30T13:40:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4863",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\n\r\nSuppose we have a broken device that is sending a huge amount of data. I want to close the current connection on a specific device.\r\n\r\nI'm not finding a way to close an open connection, and I would like to know if is possible.\r\n\r\nThank you in advance\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4863/comments",
    "author": "fraucamidokura",
    "comments": [
      {
        "user": "KenSense",
        "created_at": "2021-07-12T09:43:27Z",
        "body": "If you make a new connection with the same Client ID the current one will be closed\r\n(it doesn't prevent the device to do the same reconnect and kick you off)\r\n\r\nI guess in that situation I would change the device credential settings I think so It can't keep sending data, only try to connect..\r\nIt will depend on your device firmware how long it tries before giving up."
      },
      {
        "user": "fraucamidokura",
        "created_at": "2021-07-12T10:03:42Z",
        "body": "> If you make a new connection with the same Client ID the current one will be closed\r\n> (it doesn't prevent the device to do the same reconnect and kick you off)\r\n> \r\n> I guess in that situation I would change the device credential settings I think so It can't keep sending data, only try to connect..\r\n> It will depend on your device firmware how long it tries before giving up.\r\n\r\nYou are right. Changing the credentials does stop the current device session. I may check that wrong the first time. So changing the credentials could be a valid solution to my problem.\r\n"
      }
    ]
  },
  {
    "number": 4859,
    "title": "[Question] Is it possible to pass Dashboard State/Entity to Scheduler Widget Custom Event ?",
    "created_at": "2021-07-05T09:01:41Z",
    "closed_at": "2021-09-21T14:02:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4859",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Scheduler Widget\r\n\r\n**Description**\r\nScheduler Widget is not related to any dashboard entity or state so user needs to select the originator every time although in our application scheduler widget is available to the user only at specific dashboard state ( for example and asset or a device) . Is it possible to pass this information to custom event configuration HTML?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: PE 3.2.2\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4859/comments",
    "author": "hazarmutgan",
    "comments": [
      {
        "user": "t0mZ4",
        "created_at": "2021-09-19T10:10:37Z",
        "body": "Hello any updates on this? We would like to achieve the same thing exactly. \r\n\r\n@ashvayka @YevhenBondarenko  "
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-09-21T14:02:11Z",
        "body": "Hi @hazarmutgan,\r\nAt the moment, it is impossible to implement. In future releases, we will add it."
      }
    ]
  },
  {
    "number": 4849,
    "title": "[Question] Hello, I'd like to ask why we should put it back in the queue when relationscount > 1 instead of using actor.tell ()",
    "created_at": "2021-07-02T08:49:01Z",
    "closed_at": "2024-05-20T11:23:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4849",
    "body": "**Component**\r\n\r\n * Rule Engine\r\n\r\n**Description**\r\norg.thingsboard.server.actors.ruleChain.RuleChainActorMessageProcessor.onTellNext()\r\n\r\n        try {\r\n            checkActive(msg);\r\n            EntityId entityId = msg.getOriginator();\r\n            TopicPartitionInfo tpi = systemContext.resolve(ServiceType.TB_RULE_ENGINE, msg.getQueueName(), tenantId, entityId);\r\n            List<RuleNodeRelation> relations = nodeRoutes.get(originatorNodeId).stream()\r\n                    .filter(r -> contains(relationTypes, r.getType()))\r\n                    .collect(Collectors.toList());\r\n            int relationsCount = relations.size();\r\n            if (relationsCount == 0) {\r\n                log.trace(\"[{}][{}][{}] No outbound relations to process\", tenantId, entityId, msg.getId());\r\n                if (relationTypes.contains(TbRelationTypes.FAILURE)) {\r\n                    RuleNodeCtx ruleNodeCtx = nodeActors.get(originatorNodeId);\r\n                    if (ruleNodeCtx != null) {\r\n                        msg.getCallback().onFailure(new RuleNodeException(failureMessage, ruleChainName, ruleNodeCtx.getSelf()));\r\n                    } else {\r\n                        log.debug(\"[{}] Failure during message processing by Rule Node [{}]. Enable and see debug events for more info\", entityId, originatorNodeId.getId());\r\n                        msg.getCallback().onFailure(new RuleEngineException(\"Failure during message processing by Rule Node [\" + originatorNodeId.getId().toString() + \"]\"));\r\n                    }\r\n                } else {\r\n                    msg.getCallback().onSuccess();\r\n                }\r\n            } else if (relationsCount == 1) {\r\n                for (RuleNodeRelation relation : relations) {\r\n                    log.trace(\"[{}][{}][{}] Pushing message to single target: [{}]\", tenantId, entityId, msg.getId(), relation.getOut());\r\n                    pushToTarget(tpi, msg, relation.getOut(), relation.getType());\r\n                }\r\n            } else {\r\n                MultipleTbQueueTbMsgCallbackWrapper callbackWrapper = new MultipleTbQueueTbMsgCallbackWrapper(relationsCount, msg.getCallback());\r\n                log.trace(\"[{}][{}][{}] Pushing message to multiple targets: [{}]\", tenantId, entityId, msg.getId(), relations);\r\n                for (RuleNodeRelation relation : relations) {\r\n                    EntityId target = relation.getOut();\r\n                    putToQueue(tpi, msg, callbackWrapper, target);\r\n                }\r\n            }\r\n        } catch (RuleNodeException rne) {\r\n            msg.getCallback().onFailure(rne);\r\n        } catch (Exception e) {\r\n            msg.getCallback().onFailure(new RuleEngineException(\"onTellNext - \" + e.getMessage()));\r\n        }\r\n\r\n\r\n**Environment**\r\n * OS:  Linux centos 7\r\n * ThingsBoard: 3.2.2\r\n * Browser: chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4849/comments",
    "author": "qzzhujixue",
    "comments": [
      {
        "user": "liuyibin23",
        "created_at": "2022-02-09T07:18:26Z",
        "body": "I have the same doubt"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T11:23:12Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 4847,
    "title": "[Question] looking to hire a widget developer",
    "created_at": "2021-07-02T08:37:46Z",
    "closed_at": "2023-06-29T13:39:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4847",
    "body": "**Component**\r\n * UI\r\n\r\n**Description**\r\nI'm looking to hire a Thingsboard.io widget developer. I need a modified version of the Knob Control widget. With new graphics and modified behavior. \r\n\r\nIf anyone is interested out there, please contact me.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4847/comments",
    "author": "thucar",
    "comments": [
      {
        "user": "dhaval2017",
        "created_at": "2021-07-12T06:24:39Z",
        "body": "I can help \r\ncontact me on dhaval@nistantritech.com"
      },
      {
        "user": "tobbelin",
        "created_at": "2021-08-23T11:59:08Z",
        "body": "> **Component**\r\n> \r\n> * UI\r\n> \r\n> **Description**\r\n> I'm looking to hire a Thingsboard.io widget developer. I need a modified version of the Knob Control widget. With new graphics and modified behavior.\r\n> \r\n> If anyone is interested out there, please contact me.\r\n\r\nDid you get any help with this? I have a similar problem needing a custom knob-control. "
      },
      {
        "user": "thucar",
        "created_at": "2021-08-23T12:23:57Z",
        "body": "@tobbelin Yes, @dhaval2017 is working on a new widget for me. He is doing a great job at it too, I strongly suggest you get in contact with him"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:39:03Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 4845,
    "title": "[Question]  Hello, I want to know what is the function of \"service.tenant_id\" in thingsboard.yml configuration file? What is the connection with the tenants in the business?",
    "created_at": "2021-07-02T01:40:14Z",
    "closed_at": "2021-09-10T10:21:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4845",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nHello, I want to know what is the function of \"service.tenant_id\" in thingsboard.yml configuration file? What is the connection with the tenants in the business?\r\n\r\n**Environment**\r\n * OS:  Linux centos 7\r\n * ThingsBoard: 3.2.2\r\n * Browser: chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4845/comments",
    "author": "qzzhujixue",
    "comments": [
      {
        "user": "LeoMorgan113",
        "created_at": "2021-09-10T10:21:06Z",
        "body": "Hi @qzzhujixue,\r\n\r\n'service.tenant_id' is not used by default for now. But the main idea for this is when we want to run a core or rule engine for specific tenant, we define ID and only messages for his queue will be processed."
      }
    ]
  },
  {
    "number": 4838,
    "title": "[Question] What is this \"apiUsageStateService\" for? I have used it in many places.",
    "created_at": "2021-07-01T01:18:34Z",
    "closed_at": "2021-08-20T11:09:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4838",
    "body": "What is this \"apiUsageStateService\" for? I have used it in many places.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4838/comments",
    "author": "qzzhujixue",
    "comments": [
      {
        "user": "LeoMorgan113",
        "created_at": "2021-07-15T12:06:28Z",
        "body": "Hi @qzzhujixue,\r\n\r\nWe have ApiUsage, which gathers all statistics from Thingsboard, you can view it in the 'ApiUsage' menu item.\r\nSo \"apiUsageStateService\" is needed for working with these services."
      }
    ]
  },
  {
    "number": 4817,
    "title": "[Question] Button Action Code to Post latest telemetry value to another key?",
    "created_at": "2021-06-29T12:43:15Z",
    "closed_at": "2021-07-08T15:56:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4817",
    "body": "**Component**\r\nThingsboard Webpage\r\n * UI\r\nWidget Actions\r\n\r\n**Description**\r\nI want to copy the value of the telemetry key distributionImage to distributionRefImage when they press the action button.\r\n\r\nI don't have much more than starting with \r\n\r\n_let $injector = widgetContext.$scope.$injector;\r\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));_\r\n\r\nThen I assume this but I don't know how I should translate that to javascript??\r\n(Get latest value and post it again on other key)\r\n\r\n_var sourcekey = 'distributionImage'\r\nvalue = get /api/plugins/telemetry/{entityType}/{entityId}/values/timeseries{?keys,useStrictDataTypes}_ \r\n\r\n_var targetkey = 'distributionRefImage'\r\npost /api/plugins/telemetry/{entityType}/{entityId}/timeseries/{scope}_ \r\n\r\nThanks\r\n\r\n**Environment**\r\n * OS:  Windows 10\r\n * ThingsBoard: 3.2.2\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4817/comments",
    "author": "KenSense",
    "comments": [
      {
        "user": "KenSense",
        "created_at": "2021-07-01T07:43:39Z",
        "body": "I see I may need to use getEntityTimeseries and saveEntityTimeseries from class AttributeService\r\nAn example would be nice!"
      },
      {
        "user": "KenSense",
        "created_at": "2021-07-08T07:28:52Z",
        "body": "I tried to simplify it by writing the code in the rule chain and then trigger that code with a server Attribute.\r\nSo on Action I only need to set an predefined server Attribute (no pop-up)\r\n\r\nBut it doesn't work, do you see why? (is there some way to debug to see what fails?)\r\n```\r\nlet $injector = widgetContext.$scope.$injector;\r\nlet attributeService = $injector.get(widgetContext\r\n    .servicesMap.get('attributeService'));\r\n\r\nsaveAttributes(entityId);\r\n\r\nfunction saveAttributes(entityId) {\r\n    let attributesArray = [];\r\n    attributesArray.push({\r\n        key: \"setRefTrigger\",\r\n        value: true\r\n    });\r\n    if (attributesArray.length > 0) {\r\n        return attributeService.saveEntityAttributes(\r\n            entityId, \"SERVER_SCOPE\",\r\n            attributesArray);\r\n    } else {\r\n            return false;\r\n    }\r\n}\r\n```\r\n\r\nThanks"
      },
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-07-08T14:16:27Z",
        "body": "Hello, @KenSense \r\nThe code below should help you. It is important to call _subscribe_, without this nothing will work.\r\n```\r\nsaveAttributes(entityId).subscribe(() => {\r\n//    your code\r\n});\r\n\r\nfunction saveAttributes(entityId) {\r\n    let attributesArray = [{\r\n        key: \"setRefTrigger\",\r\n        value: true\r\n    }];\r\n    return attributeService.saveEntityAttributes(\r\n        entityId, \"SERVER_SCOPE\",\r\n        attributesArray);\r\n}\r\n```\r\n"
      },
      {
        "user": "KenSense",
        "created_at": "2021-07-08T15:56:17Z",
        "body": "Thanks!\r\n\r\nThat works"
      }
    ]
  },
  {
    "number": 4792,
    "title": "[Question] How should one format  device RPC request when  transport is MQTT/protobuf?",
    "created_at": "2021-06-24T16:47:37Z",
    "closed_at": "2023-06-20T08:31:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4792",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\n\r\n\r\nI have a working system using MQTT/JSON, with telemetry, attributes and RPC which needs to use MQTT/protobuf to save bandwidth on the wire.\r\n\r\nI can specify the telemetry and attributes protobuf schema in the transport dialog of version 3.2.2., and communicate from the client devices to my TB server using MQTT/protobuf just fine\r\n\r\nHowever, RPC requests , which work using MQTT/JSON, fail to work using  MQTT/protobuf transport, and I cannot see where I would set the schema for this in order to send the RPC requests as protobuf messages\r\n\r\nAny clues much appreciated!\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4792/comments",
    "author": "ubIQio",
    "comments": [
      {
        "user": "ubIQio",
        "created_at": "2021-06-24T17:09:56Z",
        "body": "I see this was [added in April ](321fb731a6537399a6e4572837967fe41cdaf58a)(post 3.2.2)  by @ShvaykaD and the request format is\r\n\r\n`          \"package rpc;\" \r\n            \"message RpcRequestMsg {\" \r\n            \"  string method = 1;\" \r\n            \"  int32 requestId = 2;\" \r\n            \"  string params = 3;\" \r\n            \"}\";\r\n`\r\n\r\nAny idea when this will be part of a release eg 3.3?"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-06-25T09:32:57Z",
        "body": "pretty soon, by July 10. "
      }
    ]
  },
  {
    "number": 4789,
    "title": "How to update firmware of the IoT devices via GSM or Bluetooth using Thingsboard?",
    "created_at": "2021-06-24T13:34:41Z",
    "closed_at": "2023-06-28T13:14:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4789",
    "body": "I am working on a POC project that has following configurations,\r\n\r\n1. Two types of IoT devices : Device with built-in GSM module, Device with Bluetooth Module\r\n2. A Mobile Phone with Android OS\r\n3. Thingsboard\r\n\r\nI would like to update the firmware of these IoT devices via Mobile Phone as well as from Thingsboard Dashboard.\r\n\r\n- Mobile Phone connects to IoT devices via Bluetooth.\r\n- Thingsboard connects to IoT devices via GSM\r\n\r\nFor this kind of project configuration, How to update firmware of IoT devices using Thingsboard?\r\n\r\nAny suggestions, recommendations or documentation is very much welcome.\r\n\r\nThank you.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4789/comments",
    "author": "bhimashankarP",
    "comments": [
      {
        "user": "t0mZ4",
        "created_at": "2021-07-05T10:22:03Z",
        "body": "There isn't a mechanisim specifically for that that I know of in TB\r\n\r\nbut you could use attributes have and the device check in:\r\n\r\nyou can use server-side attribute called FOTA and set it to  = \"TRUE, url-to-file\"\r\n\r\nand have the device report OTA Status to Client-side attribute\r\n\r\nYou could use Group Device Attributes instead and have the devices check their group attribute for fota update.\r\n\r\n\r\nor if you keep an attribute of fw_version \r\nyou can set a rule chain that if fw_version = 1.0.1\r\nset attribute FOTA=true, file-url-1.0.2\r\n\r\nand if fw_version = 1.0.2, set FOTA=false\r\n\r\nsomething like that, to auto-set devices to receive FOTA based on their current sw_version\r\n\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:14:05Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 4784,
    "title": "[Question] Why use LSB and MSB in some entity fields, for example, DeviceId is deviceIdMSB and deviceIdLSB in the object?",
    "created_at": "2021-06-24T08:01:05Z",
    "closed_at": "2024-05-20T11:31:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4784",
    "body": "Why use LSB and MSB in some entity fields, for example, DeviceId is deviceIdMSB and deviceIdLSB in the object?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4784/comments",
    "author": "qzzhujixue",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T11:31:00Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 4768,
    "title": "[Question] 5 servers (16 cores, 32G), how many rule chains are supported? Is 1000 pieces okay?",
    "created_at": "2021-06-22T09:14:47Z",
    "closed_at": "2024-05-20T11:32:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4768",
    "body": "5 servers (16 cores, 32G), how many rule chains are supported? Is 1000 pieces okay?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4768/comments",
    "author": "qzzhujixue",
    "comments": [
      {
        "user": "qzzhujixue",
        "created_at": "2021-06-22T09:17:34Z",
        "body": "I only know that it can support many, many devices, but I am not sure about the number of supported rule chains. Is there not too many rule chains? Too many will affect performance?"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-06-22T16:07:02Z",
        "body": "It is important to understand which rule nodes are used in those rule chains. Filter, Transformation, and Action nodes are very cheap (10000s are ok). Enrichment nodes are cheap but may consume some memory to cache the values. External nodes may consume some threads. Also, we try to reuse thread pools whenever possible, some external node libraries do not allow to use shared thread pools. Azure IoT Hub and RabbitMQ nodes are probably the most expensive from the resource point of view. "
      },
      {
        "user": "qzzhujixue",
        "created_at": "2021-06-23T03:00:23Z",
        "body": "> It is important to understand which rule nodes are used in those rule chains. Filter, Transformation, and Action nodes are very cheap (10000s are ok). Enrichment nodes are cheap but may consume some memory to cache the values. External nodes may consume some threads. Also, we try to reuse thread pools whenever possible, some external node libraries do not allow to use shared thread pools. Azure IoT Hub and RabbitMQ nodes are probably the most expensive from the resource point of view.\r\n\r\nokay, thank you\r\n"
      },
      {
        "user": "qzzhujixue",
        "created_at": "2021-06-26T02:16:48Z",
        "body": "\r\n> It is important to understand which rule nodes are used in those rule chains. Filter, Transformation, and Action nodes are very cheap (10000s are ok). Enrichment nodes are cheap but may consume some memory to cache the values. External nodes may consume some threads. Also, we try to reuse thread pools whenever possible, some external node libraries do not allow to use shared thread pools. Azure IoT Hub and RabbitMQ nodes are probably the most expensive from the resource point of view.\r\n\r\nHello, similar to Kafka and rabbitmq, do they use long connections and then keep occupying threads? In other words, if I have 1000 rule chains and the final output is all kafka, what will happen?\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T11:32:44Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 4743,
    "title": "[Question] Why does thingsboard use both Maven and gradle, NPM and yarn instead of a single one",
    "created_at": "2021-06-16T07:54:50Z",
    "closed_at": "2021-09-01T11:28:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4743",
    "body": "ThingsBoard: v3.2.1\r\nWhy does thingsboard use maven, gradle, NPM and yard instead of one of them",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4743/comments",
    "author": "sharoA",
    "comments": [
      {
        "user": "LeoMorgan113",
        "created_at": "2021-09-01T11:28:22Z",
        "body": "Hi @sharoA,\r\n\r\nIt was done by architecture design for some reasons."
      }
    ]
  },
  {
    "number": 4713,
    "title": "ruleEngine slow.",
    "created_at": "2021-06-10T01:52:57Z",
    "closed_at": "2024-05-20T11:36:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4713",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n \r\n**Description**\r\nhi I use thingsboard to deploy a single instance (monolith). rabbitmq. The number of messages per second to the rule engine is about 400/s. The root rule engine will have a message type switch forwarded to 5 rule chains (each message of the root engine will be 5 messages are generated and forwarded to the queue). I found that tb_rule_engine.main queue consumption is particularly slow. But when it stops for a while, consumption will increase. I locate DefaultTbRuleEngineConsumerService.\r\n\r\n  if (!ctx.await(configuration.getPackProcessingTimeout(), TimeUnit.MILLISECONDS)) {\r\n// timeout = true;\r\n//}\r\nWill wait to increase the delay. How can I optimize?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  mac_os\r\n * ThingsBoard: 3.2.2 \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4713/comments",
    "author": "ccwxl",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T11:36:45Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4692,
    "title": "[Feature Request] How can I show combination of incoming metrics on the dashboard",
    "created_at": "2021-06-06T17:23:33Z",
    "closed_at": "2021-09-07T12:40:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4692",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nHi, I'm planning to apply this wonderful system on my new platform.\r\n\r\nFor that I need to show the combination of incoming metrics on the dashboard such as heart rate per steps every 1 minute.\r\n(Only on server side. Not like take new key and value from device)\r\n\r\nHowever, I don't know how dashboard works like whether the data is loaded from database or thingsboard core's buffer inside(I don't know if there is) to be shown on the dashboard graph.\r\n\r\nSo I'm wondering how I can show the combination of input data on dashboard and I would be grateful if you could let me know how I could do it.\r\n\r\nThank you for your input.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18.04\r\n * ThingsBoard: latest (Community Edition)\r\n * Browser: chrome",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4692/comments",
    "author": "ghost",
    "comments": [
      {
        "user": "LeoMorgan113",
        "created_at": "2021-06-11T13:08:07Z",
        "body": "Hi @saviodivelo,\r\n\r\nThingsboard platform working by this way: device sends telemetry on platform then it can be processed in rule chain, if nessacery, save data in a database(Postgre or Casandra) and only then data can be visualized on a dashboard.\r\n\r\nIf you have any further questions please ask."
      }
    ]
  },
  {
    "number": 4685,
    "title": "[Question] Does Thingsboard support Redis over TLS?",
    "created_at": "2021-06-04T10:45:57Z",
    "closed_at": "2023-06-28T13:14:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4685",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nI am currently deploying thingsboard on a k8s cluster using an external redis DB provided by Digitalocean. \r\nRedis managed by DO only supports tls connections and here comes my question: does Thingsboard support Redis over TLS? If so how do I enable it? \r\n\r\nI am thinking the issue is related to TLS because I don't see any documentation about setting this option and I am currently getting the following error: \r\n``org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: Could not get a resource from the pool``\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4685/comments",
    "author": "andreagilardoni",
    "comments": [
      {
        "user": "arminfelder",
        "created_at": "2023-05-03T11:23:35Z",
        "body": "from reading the source code, I would say, it is not supported right now, but I would need this feature as well"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-28T13:14:30Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 4677,
    "title": "JSON message truncated",
    "created_at": "2021-06-02T23:19:23Z",
    "closed_at": "2023-06-28T13:14:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4677",
    "body": "Hi,\r\nI'm interacting with a third party server for ESL device and I'm getting a truncated JSON like the below pasted one.\r\nNote that if I send an API command via Online API Testing tool, everything works fine.\r\nHow I can extend the number of characters or size of JSON message in thingsboard?\r\nNote that I have already set the parameter JSON_MAX_STRING_VALUE_LENGTH to 0 as suggested in issue #1363\r\n\r\n{\r\n    \"page\": 1,\r\n    \"size\": 100,\r\n    \"totalPage\": 1,\r\n    \"totalCount\": 10,\r\n    \"rows\": [{\r\n                \"demoId\": \"d45f6bf4e1ce4258aea3d0b52e2358f5\",\r\n                \"demoName\": \"cantina\",\r\n                \"screenSize\": {\r\n                    \"inch\": 4.2,\r\n                    \"width\": 400,\r\n                    \"height\": 300\r\n                },\r\n                \"demoData\": \"{\\\"inch\\\":4.2,\\\"size\\\":{\\\"width\\\":400,\\\"height\\\":300},\\\"transpose\\\":3,\\\"rgbtype\\\":2,\\\"text\\\":{\\\"label4\\\":{\\\"x\\\":49,\\\"y\\\":6,\\\"font-size\\\":31,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":true,\\\"prefix\\\":false,\\\"color\\\":\\\"white\\\"},\\\"label3\\\":{\\\"x\\\":235,\\\"y\\\":93,\\\"font-size\\\":12,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":false,\\\"color\\\":\\\"black\\\"},\\\"label17\\\":{\\\"x\\\":340,\\\"y\\\":211,\\\"font-size\\\":20,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":true,\\\"prefix\\\":true,\\\"color\\\":\\\"red\\\"},\\\"label7\\\":{\\\"x\\\":7,\\\"y\\\":67,\\\"font-size\\\":12,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":false,\\\"color\\\":\\\"black\\\"},\\\"label13\\\":{\\\"x\\\":7,\\\"y\\\":121,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":true,\\\"color\\\":\\\"white\\\"},\\\"label14\\\":{\\\"x\\\":114,\\\"y\\\":121,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":true,\\\"color\\\":\\\"white\\\"},\\\"label10\\\":{\\\"x\\\":289,\\\"y\\\":121,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":false,\\\"color\\\":\\\"white\\\"},\\\"label16\\\":{\\\"x\\\":169,\\\"y\\\":211,\\\"font-size\\\":20,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":true,\\\"prefix\\\":true,\\\"color\\\":\\\"red\\\"},\\\"label15\\\":{\\\"x\\\":7,\\\"y\\\":177,\\\"font-size\\\":20,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":true,\\\"prefix\\\":true,\\\"color\\\":\\\"black\\\"},\\\"label8\\\":{\\\"x\\\":7,\\\"y\\\":211,\\\"font-size\\\":20,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":true,\\\"prefix\\\":false,\\\"color\\\":\\\"red\\\"},\\\"label11\\\":{\\\"x\\\":7,\\\"y\\\":252,\\\"font-size\\\":12,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":false,\\\"color\\\":\\\"black\\\"},\\\"label19\\\":{\\\"x\\\":267,\\\"y\\\":252,\\\"font-size\\\":12,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":true,\\\"color\\\":\\\"black\\\"},\\\"label9\\\":{\\\"x\\\":103,\\\"y\\\":282,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":false,\\\"color\\\":\\\"white\\\"},\\\"label20\\\":{\\\"x\\\":7,\\\"y\\\":282,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":true,\\\"color\\\":\\\"white\\\"},\\\"label18\\\":{\\\"x\\\":192,\\\"y\\\":121,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":true,\\\"color\\\":\\\"white\\\"},\\\"label21\\\":{\\\"x\\\":214,\\\"y\\\":283,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":true,\\\"color\\\":\\\"white\\\"},\\\"label22\\\":{\\\"x\\\":306,\\\"y\\\":282,\\\"font-size\\\":16,\\\"font-family\\\":\\\"WqyBitmapSong_AlibabaPuhui\\\",\\\"align\\\":\\\"left\\\",\\\"bold\\\":false,\\\"prefix\\\":true,\\\"color\\\":\\\"white\\\"}},\\\"grapcodes\\\":{\\\"qrcode\\\":{\\\"type\\\":\\\"qr\\\",\\\"x\\\":284,\\\"y\\\":2,\\\"color\\\":\\\"black\\\",\\\"layer\\\":\\\"mono\\\",\\\"width\\\":102,\\\"height\\\":102},\\\"barcode\\\":{\\\"type\\\":\\\"code128\\\",\\\"x\\\":138,\\\"y\\\":62,\\\"color\\\":\\\"black\\\",\\\"layer\\\":\\\"mono\\\",\\\"barwidth\\\":1,\\\"barheight\\\":20}},\\\"shapes\\\":{\\\"shape1\\\":{\\\"type\\\":\\\"rectangle\\\",\\\"border\\\":1,\\\"color\\\":\\\"red\\\",\\\"x1\\\":1.5,\\\"y1\\\":0.5,\\\"x2\\\":267.5,\\\"y2\\\":47.5,\\\"fill-mode\\\":\\\"fill\\\",\\\"spec\\\":\\\"rect\\\"},\\\"shape2\\\":{\\\"type\\\":\\\"rectangle\\\",\\\"border\\\":1,\\\"color\\\":\\\"black\\\",\\\"x1\\\":0.5,\\\"y1\\\":103.5,\\\"x2\\\":402.5,\\\"y2\\\":151.5,\\\"fill-mode\\\":\\\"fill\\\",\\\"spec\\\":\\\"rect\\\"},\\\"shape3\\\":{\\\"type\\\":\\\"rectangle\\\",\\\"border\\\":1,\\\"color\\\":\\\"red\\\",\\\"x1\\\":-3.5,\\\"y1\\\":264.5,\\\"x2\\\":399.5,\\\"y2\\\":301.5,\\\"fill-mode\\\":\\\"fill\\\",\\\"spec\\\":\\\"rect\\\"},\\\"shape4\\\":{\\\"type\\\":\\\"rectangle\\\",\\\"border\\\":1,\\\"color\\\":\\\"black\\\",\\\"x1\\\":397.5,\\\"y1\\\":300.5,\\\"x2\\\":399.5,\\\"y2\\\":302.5,\\\"fill-mode\\\":\\\"fill\\\",\\\"spec\\\":\\\"rect\\\"}}}\",\r\n                \"color\": \"red\",\r\n                \"previewing\": {\r\n                    \"barcode\": null,\r\n                    \"qrcode\": null,\r\n                    \"label1\": null,\r\n                    \"labe...[truncated 324644 symbols]\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4677/comments",
    "author": "smartecons",
    "comments": [
      {
        "user": "mimegas",
        "created_at": "2023-06-14T10:25:09Z",
        "body": "Hi,\r\n\r\nHave you already solved your problem ?\r\nIf not, try to increase the parameter **TB_MAX_DEBUG_EVENT_SYMBOLS** in the **thingsboard.yml** file.\r\n\r\nHope it works !"
      }
    ]
  },
  {
    "number": 4664,
    "title": "documentation for query entity REST api",
    "created_at": "2021-06-01T12:33:19Z",
    "closed_at": "2022-02-21T09:21:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4664",
    "body": "Hi,\r\n\r\nI am working on a project to integrate with ThingsBoard using its REST APIs.\r\nI know there's Swagger documentation available, however I can't easily work out what every endpoint does, and how to populate request payloads, because the documentation is pretty basic.\r\n\r\nMost specifically I am trying to work out how to form valid request payloads when using the endpoints\r\ncountEntitiesByQuery (POST /api/entitiesQuery/count)\r\nfindEntityDataByQuery (POST /api/entitiesQuery/find)\r\n\r\nIs there some documentation resource or any examples available anywhere?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4664/comments",
    "author": "eddubeddu",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-06-01T16:20:27Z",
        "body": "This is a valid question/enhancement. We have not documented this yet. You can find the data structures examples if you browse websocket messages in Chrome network debug while browsing the complex dashboards."
      }
    ]
  },
  {
    "number": 4660,
    "title": "Support for getting topic name at rule chain nodes to process data posted from same device on different topic differently.",
    "created_at": "2021-05-31T13:09:21Z",
    "closed_at": "2024-05-20T11:44:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4660",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nI have a requirement in which a device can post different structure of JSON Payloads. Since, the payload will go through Rule Node, Is there any way to get the topic name on rule chain node using which I can determine that this payload structure will come and process accordingly. \r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4660/comments",
    "author": "ayanakshi",
    "comments": [
      {
        "user": "ayanakshi",
        "created_at": "2021-06-02T05:05:33Z",
        "body": "Hi.. Please help me in this. Is there any other way by which this can be achieved?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T11:44:04Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4641,
    "title": "[Question] Why do you commit when Kafka doesn't consume any data？",
    "created_at": "2021-05-27T09:19:07Z",
    "closed_at": "2024-05-20T11:48:26Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4641",
    "body": "**Component**\r\ncommon->queue\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\n    When no device is active, I find that Kafka's CPU utilization is very high. \r\n    By looking at Kafka's log, I find that Kafka is always deleting topics：`__ comsumer-offsets_xx`, by analyzing the contents of those topics, I found that some consumers always submit offset 0. \r\n    Through analysis, I think submission occurs in the `org.thingsboard.server.queue.common.defaulttbqueuerequesttemplate # init` method. Is this the reason for Kafka's phenomenon.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18.04.4 LTS\r\n * ThingsBoard: 3.2.2\r\n * Browser: Google Chrome 86.0.4240.75\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4641/comments",
    "author": "formerly11",
    "comments": [
      {
        "user": "kien-truong",
        "created_at": "2021-06-26T06:10:44Z",
        "body": "Yes, this is quite a big issue. Even on lightly loaded cluster, Thingsboard still commits to Kafka on the average of thousands of time per seconds. "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T11:48:26Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 4616,
    "title": "How to get historical telemetry data in custom time series widget?",
    "created_at": "2021-05-23T09:21:14Z",
    "closed_at": "2024-05-20T12:25:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4616",
    "body": "**Custom Widget Creation - for historical telemetry data**\r\n\r\n * Generic\r\n\r\n**Description**\r\nHello All, I am a newbie to ThingsBoard platform and trying to go through ThingsBoard documentation and articles. But I am unable to find a way to get specific historical telemetry data in my custom timeseries widget. If I am trying with self.ctx.defaultSubscription.data, getting only latest data value. But my goal is 'to store selected historical telemetry data into some javascript array to do some analysis'. any lead to this, will be very helpful!\r\n\r\n**Environment**\r\n * OS:  Windows\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4616/comments",
    "author": "RakeshG1",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T12:25:05Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 4614,
    "title": "how to use ctx attribute service to call getEntityTimeseries ",
    "created_at": "2021-05-22T14:57:32Z",
    "closed_at": "2021-05-24T13:16:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4614",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\n Hi,\r\nI want to call ctx.attributeservice.getEntityTimeseries  to get sum of timseries as a column in EntityTable-widget. so I called that in \r\nadvanced javascript section of widget column.\r\n\r\n\r\n**_e = entity.id; //entityId\r\nt = [\"lat\"]; //keys keys=gas,temperature\r\nn = 1479735870785; //startTs\r\ni = 1479735871858; //endTs\r\na = 100; //limit\r\no = \"SUM\" //agg\r\nu = 60000; //interval\r\np = \"AVG\"; //orderBy\r\nd = false; //useStrictDataTypes\r\nm = 1; //config\r\n\r\nsum= ctxmain.attributeService.getEntityTimeseries(\r\n    entityId = e, keys = t, startTs = n, endTs = i,\r\n    agg = o, interval = u , limit=a);        \r\nreturn sum;_**\r\n\r\n but i am witnessed this result:\r\n\r\n**_e {_isScalar: false, source: e, operator: e}\r\noperator: e {project: ƒ, thisArg: undefined}\r\nsource: e {_isScalar: false, source: e, operator: e}\r\n_isScalar: false\r\n__proto__: Object_**\r\n\r\ni expect to get a number or list of number as output, please give me a solution\r\nthanks in advance\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n\r\n * ThingsBoard: CE \r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4614/comments",
    "author": "HNKSara",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-05-24T08:20:24Z",
        "body": "Hello, @HNKSara \r\nHope, code below will help you. Also, please note, that the _getEntityTimeseries_ method is asynchronous.\r\n```\r\nconst attributeService = self.ctx.$scope.$injector.get(self.ctx.servicesMap.get('attributeService'));\r\nattributeService.getEntityTimeseries(entityId, keys, startTs, endTs, limit, agg, interval).subscribe((data) => {\r\n    console.log(data);\r\n})\r\n```"
      },
      {
        "user": "HNKSara",
        "created_at": "2021-05-24T13:13:34Z",
        "body": "Hi, @ChantsovaEkaterina\r\n**thanks, it works fine.**\r\nbut there was some edit:\r\n\"self\" was removed:\r\nconst attributeService = ctx.$scope.$injector.get(ctx.servicesMap.get('attributeService'));\r\nattributeService.getEntityTimeseries(entityId, keys, startTs, endTs, limit, agg, interval).subscribe((data) => {\r\n    console.log(data);\r\n})\r\n\r\n\r\n**the result is here:**\r\n{ workload: Array(1) }\r\nworkload: Array(1)\r\n0: {ts: 1620033938000, value: \"768\"}\r\nlength: 1\r\n__proto__: Array(0)\r\n__proto__: Object\r\n\r\n\r\n"
      }
    ]
  },
  {
    "number": 4613,
    "title": "I get the error as follows  : Cannot initialize ESP module ; No tag found ; WiFi shield not present",
    "created_at": "2021-05-22T11:01:59Z",
    "closed_at": "2024-05-20T12:25:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4613",
    "body": "13:45:28.378 -> [WiFiEsp] Initializing ESP module\r\n13:45:29.387 -> [WiFiEsp] >>> TIMEOUT >>>\r\n13:45:31.361 -> [WiFiEsp] >>> TIMEOUT >>>\r\n13:45:33.392 -> [WiFiEsp] >>> TIMEOUT >>>\r\n13:45:35.369 -> [WiFiEsp] >>> TIMEOUT >>>\r\n13:45:37.393 -> [WiFiEsp] >>> TIMEOUT >>>\r\n13:45:38.404 -> [WiFiEsp] Cannot initialize ESP module\r\n13:45:44.429 -> [WiFiEsp] >>> TIMEOUT >>>\r\n13:45:44.429 -> [WiFiEsp] No tag found\r\n13:45:44.476 -> WiFi shield not present\r\n\r\nI am trying to do the temperature and humidity project using esp9288 and dht 22.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4613/comments",
    "author": "RaduZaha",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T12:25:25Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 4611,
    "title": "[Question] Using the Request Connector, in the ThingsBoard IOT Gateway, the Device cannot be seen in the ThingsBoard Dashboard",
    "created_at": "2021-05-21T09:45:44Z",
    "closed_at": "2024-05-20T12:46:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4611",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nUsing the Request Connector, in the ThingsBoard IOT Gateway, the Device cannot be seen in the ThingsBoard Dashboard under the Relations using the From filter\r\n\r\n**Environment**\r\nThingsBoard Server running in Ubuntu\r\nThingsBoard IOT Gateway running in Ubuntu using Request Connector\r\n\r\nWhen I check for the device in the ThingsBoard Server, it is not displayed under Relations using the From filter.\r\n\r\nPlease advise.  \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4611/comments",
    "author": "karpal-Gmail",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T12:46:56Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 4604,
    "title": "Why tb-coap-transport and tb-mqtt-transport services are LoadBalancer ? ",
    "created_at": "2021-05-20T08:12:13Z",
    "closed_at": "2024-05-20T12:49:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4604",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * tb-coap-transport\r\n * tb-mqtt-transport\r\n\r\n**Description**\r\nI've installed ThingsBoard 3.2.2 on Kubernetes , and want to know why tb-coap-transport and tb-mqtt-transport serives type are LoadBalancer and not ClusterIP ? \r\n\r\nIt is configured by mistake or there is a reason behind this choice  . \r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Kubernetes 1.16 \r\n * ThingsBoard: version 3.2.2\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4604/comments",
    "author": "mrad-bilel",
    "comments": [
      {
        "user": "mrad-bilel",
        "created_at": "2021-05-24T21:09:07Z",
        "body": "Any update "
      },
      {
        "user": "mrad-bilel",
        "created_at": "2021-05-31T15:32:37Z",
        "body": "Any update"
      },
      {
        "user": "mrad-bilel",
        "created_at": "2021-06-03T14:55:24Z",
        "body": "Is there a problem in my question ! "
      },
      {
        "user": "mrad-bilel",
        "created_at": "2021-06-14T16:46:10Z",
        "body": "Any update"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T12:49:08Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4588,
    "title": "[Question] UDP using mulitple udp integrations",
    "created_at": "2021-05-17T19:46:25Z",
    "closed_at": "2024-05-20T12:53:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4588",
    "body": "**Integrations**\r\n\r\nI have an (remote) UDP itegration running which works fine.  Now i would like to add another UDP integration running on a different port.  My goal is to have devices of type A sending to port xx  and devices of type B sending data to port yy, is  this possible ?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4588/comments",
    "author": "sebsoft",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T12:53:47Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4562,
    "title": "[Question] docker-compose install can not download tb-snmp-transport and tb-lwm2m-transport",
    "created_at": "2021-05-11T02:55:51Z",
    "closed_at": "2021-05-31T06:04:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4562",
    "body": "**Component**\r\n\r\n * Installation\r\n\r\n**Description**\r\nafter run ` ./docker-start-services.sh` , docker-compose install can not download docker image `thingsboard/tb-snmp-transport:latest` and `thingsboard/tb-lwm2m-transport:latest` .\r\n```shell\r\n ./docker-start-services.sh\r\nCreating network \"docker_default\" with the default driver\r\nPulling tb-web-ui1 (thingsboard/tb-web-ui:latest)...\r\nlatest: Pulling from thingsboard/tb-web-ui\r\nDigest: sha256:259f686dfe943eac0086936bbd74cb1dbaf04ef13dc73621a19ac95d22af43cc\r\nStatus: Downloaded newer image for thingsboard/tb-web-ui:latest\r\nPulling postgres (postgres:12)...\r\n12: Pulling from library/postgres\r\nDigest: sha256:06277995d7028f4455e56f21864146ee2425c83308dc96283c7a96e6881cc826\r\nStatus: Downloaded newer image for postgres:12\r\nPulling zookeeper (zookeeper:3.5)...\r\n3.5: Pulling from library/zookeeper\r\nDigest: sha256:cb85895866f826ff53a2488fba04e5741258873548f45736a35501673e3a2cc8\r\nStatus: Downloaded newer image for zookeeper:3.5\r\nPulling redis (redis:4.0)...\r\n4.0: Pulling from library/redis\r\nDigest: sha256:2e03fdd159f4a08d2165ca1c92adde438ae4e3e6b0f74322ce013a78ee81c88d\r\nStatus: Downloaded newer image for redis:4.0\r\nPulling kafka (wurstmeister/kafka:2.13-2.6.0)...\r\n2.13-2.6.0: Pulling from wurstmeister/kafka\r\nDigest: sha256:b40a84a356310acf701edef76dcced2afd3570702689c7a03d08273c4e45062a\r\nStatus: Downloaded newer image for wurstmeister/kafka:2.13-2.6.0\r\nPulling tb-http-transport1 (thingsboard/tb-http-transport:latest)...\r\nlatest: Pulling from thingsboard/tb-http-transport\r\nDigest: sha256:022509b0898d9796d26a0617449750ea878b8d890f68a4efbbe16655808f4b29\r\nStatus: Downloaded newer image for thingsboard/tb-http-transport:latest\r\nPulling tb-js-executor (thingsboard/tb-js-executor:latest)...\r\nlatest: Pulling from thingsboard/tb-js-executor\r\nDigest: sha256:27d3d1ebe7b1f513d83d39cc6f894ea16c8b44972dd85b4506f6e5bc4dd8fb31\r\nStatus: Downloaded newer image for thingsboard/tb-js-executor:latest\r\nPulling tb-rule-engine1 (thingsboard/tb-node:latest)...\r\nlatest: Pulling from thingsboard/tb-node\r\nDigest: sha256:b4d94a2a1999d770c32cd9f4336bd39bfd1df2fbe33d6f51f4aef1aa7d81e671\r\nStatus: Downloaded newer image for thingsboard/tb-node:latest\r\nPulling tb-snmp-transport (thingsboard/tb-snmp-transport:latest)...\r\nThe image for the service you're trying to recreate has been removed. If you continue, volume data could be lost. Consider backing up your data before continuing.\r\n\r\nContinue with the new image? [yN]y\r\nPulling tb-snmp-transport (thingsboard/tb-snmp-transport:latest)...\r\npull access denied for thingsboard/tb-snmp-transport, repository does not exist or may require 'docker login': denied: requested access to the resource is denied\r\n\r\n```\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  ubuntu 16.0.4\r\n * ThingsBoard: 3.2.2\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4562/comments",
    "author": "xvjialing",
    "comments": [
      {
        "user": "xvjialing",
        "created_at": "2021-05-11T02:56:46Z",
        "body": "in the folder `docker`"
      },
      {
        "user": "iioter",
        "created_at": "2021-05-13T06:19:46Z",
        "body": "i have the same question too!"
      },
      {
        "user": "xvjialing",
        "created_at": "2021-05-14T09:43:54Z",
        "body": "> i have the same question too!\r\nthere are no image for thingsboard/tb-snmp-transport:latest and thingsboard/tb-lwm2m-transport:latest in docker hub, so i remove this two image from docker-compose config files\r\n"
      },
      {
        "user": "iioter",
        "created_at": "2021-05-15T15:42:05Z",
        "body": "> > i have the same question too!\r\n> > there are no image for thingsboard/tb-snmp-transport:latest and thingsboard/tb-lwm2m-transport:latest in docker hub, so i remove this two image from docker-compose config files\r\n\r\nwhen i remove two images from docker-compose.yml ,it make a new error:\r\nERROR: The Compose file is invalid because:\r\nService tb-lwm2m-transport has neither an image nor a build context specified. At least one must be provided.\r\n\r\ncan you help me?"
      },
      {
        "user": "pszymkowiak",
        "created_at": "2021-05-20T15:22:22Z",
        "body": "you should remove in docker-compose.kafka.yml tb-snmp-transport and tb-lwm2m-transport also in order to work."
      },
      {
        "user": "trypzz",
        "created_at": "2021-05-28T07:09:56Z",
        "body": "Hi, try to remove (or comment) lines with tb-lwm2m-transport and tb-snmp-transport in all used docker-compose files. And run docker-compose again. "
      },
      {
        "user": "iioter",
        "created_at": "2021-05-29T14:49:47Z",
        "body": "got it"
      },
      {
        "user": "trypzz",
        "created_at": "2021-05-31T06:01:35Z",
        "body": "Hi, @whdwanghaidong \r\nTell me, please, it working now?"
      },
      {
        "user": "iioter",
        "created_at": "2021-05-31T06:03:11Z",
        "body": "> Hi, @whdwanghaidong\r\n> Tell me, please, it working now?\r\n\r\nYes,it works fine."
      }
    ]
  },
  {
    "number": 4561,
    "title": "[QUESTION] Better documentation on how to build from source",
    "created_at": "2021-05-10T14:48:22Z",
    "closed_at": "2024-05-20T12:58:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4561",
    "body": "Documentation says:\r\n- install java 11\r\n- install maven\r\n- execute mvn clean install\r\n\r\nBut i'm getting failed test in the DAOLayer. It tries to connect to localhost:5432. I assume this is a postgress instance? Do i need to start a docker container manually? Or should this be started automatically (testcontainers,...).\r\nOr am i missing something?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4561/comments",
    "author": "glennvdv",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T12:58:23Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4560,
    "title": "thingsboard gateway modbus",
    "created_at": "2021-05-10T12:43:55Z",
    "closed_at": "2024-05-20T12:58:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4560",
    "body": "     i am configring thingsboard-gateway ,about modbus Connection over TCP/UDP protocol. \r\nThe data type of device is boolean type,Example:\r\n \"timeseries\": [\r\n          {\r\n            \"tag\": \"test\",\r\n            \"type\": \"bits\",\r\n            \"functionCode\": 2,\r\n            \"objectsCount\": 1,\r\n            \"address\": 1\r\n          }\r\n        ],\r\nBut all the data of device is false. use 'modbus poll' of tools test ，result  has 1(one) or  0(zero).\r\nPlease tell me how to solve this problem\r\n Tanks a lot!\r\n**Versions (please complete the following information):**\r\n - OS: [CentO S7  ]\r\n - Thingsboard IoT Gateway version [e.g. 2.6]\r\n - Python version[e.g. 3.6]\r\n - Thingsboard 3.2.2\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4560/comments",
    "author": "RenCisco",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T12:58:47Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4551,
    "title": "PSOC6 AMQP",
    "created_at": "2021-05-06T22:41:27Z",
    "closed_at": "2024-09-18T13:10:13Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4551",
    "body": "Hi All,\r\n\r\nDoes thingsboard support device connection using AMQP?\r\nWe have a psoc6 based device where the development of the firmware was done using AMQP.\r\nI dont see any documentation how to connect PSOC6 to Thingsboard when using AMQP.\r\n\r\nMany Regards,\r\nArka",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4551/comments",
    "author": "arkastratuscent",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-09-18T13:10:13Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 4544,
    "title": "REST API call 'getCustomerDevices' has changed",
    "created_at": "2021-05-06T09:44:33Z",
    "closed_at": "2021-05-06T10:33:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4544",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n * REST API\r\n\r\n**Description**\r\nREST API call 'getCustomerDevices' has changed after updating TB from **v2.4.3** to **v.3.2.2**\r\nIn v2.4.3. it was:\r\n_get /api/customer/{customerId}/devices{?type,textSearch,idOffset,textOffset,limit}_\r\n\r\nIn v3.2.2 it is\r\n_get /api/customer/{customerId}/devices{?type,textSearch,sortProperty,sortOrder,pageSize,page}_ \r\n\r\nThe problem is that with v2.4.3 API I was able to get a list of all devices that are assigned to the customer. With v.3.2.2 I have to iterate through the pages to get a complete list of assigned devices. \r\n\r\nWe use our own developped MES to show devices that are assigned to specific customers which is not possible anymore. \r\nIs there a way to use the old REST API version from v2.4.3 with the new v3.2.2?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Kybernetes installation\r\n * ThingsBoard: 3.2.2\r\n * Browser: Firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4544/comments",
    "author": "achenje",
    "comments": [
      {
        "user": "Backdraft007",
        "created_at": "2021-05-06T09:58:27Z",
        "body": "Try to set pageSize=1000 and page=0"
      },
      {
        "user": "achenje",
        "created_at": "2021-05-06T10:33:46Z",
        "body": "Thanks. It works perfectly fine!"
      }
    ]
  },
  {
    "number": 4535,
    "title": "customer user home dashboard",
    "created_at": "2021-05-03T14:58:13Z",
    "closed_at": "2024-08-07T13:09:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4535",
    "body": "\r\n * UI\r\n \r\n\r\n**Description**\r\nI created a customer group wich in it there is several customers with a user group wich has a custom role with limited ressources of visualizing dashbords and widgets only. and later i create for each customer a group of dashboards and devices and i share them with him.\r\nMy problem is when i assign a home dashbord for a user it doesn't appear in the home page only default dashboard is assigned and works as default.\r\nMy second problem is i don't want that the customer user to see the group of devices that i shared with him, (i didn't give him device ressource in the role ressources). Can i do that?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  cloud\r\n * ThingsBoard: 3.2.2 paas\r\n * Browser: chrome latest\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4535/comments",
    "author": "abdelhadi9",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-07T13:09:57Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 4518,
    "title": "[Question] Global Access of Thingsboard (on-premise) Server",
    "created_at": "2021-04-29T12:48:01Z",
    "closed_at": "2024-05-21T13:07:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4518",
    "body": "I have setup thingsboard (community edition) on-premise on my laptop using the installation guide for windows. I am able to send device telemetry data from a NodeMCU to this server. The problem is, this works only when the NodeMCU is on the local area network (same as the server) and it uses the private IP of my laptop as the thingsboard server IP to send data. \r\n\r\nWhen the NodeMCU is on a different network, it can not connect to the server using the public IP address of the laptop (which I found from an IP telling website). I know this would require some specific network configuration but I am not too sure how to sequentially go about this.\r\n\r\nI want to know the process of making this work. Any guide in this regard would be appreciated.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4518/comments",
    "author": "arsalanqasimahmed",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T13:07:25Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4485,
    "title": "How to integrate a third-party time series database?",
    "created_at": "2021-04-26T07:52:20Z",
    "closed_at": "2024-05-20T13:34:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4485",
    "body": "Telemetry data can be customized and extended to integrate other time series databases?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4485/comments",
    "author": "Doyle-net",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T13:34:42Z",
        "body": "No way, ThingsBoard only supports the databases specified in the installation instructions."
      }
    ]
  },
  {
    "number": 4461,
    "title": "[Question] Two-Way RPC with remote MQTT Integration",
    "created_at": "2021-04-21T14:19:07Z",
    "closed_at": "2024-05-20T13:32:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4461",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n * Generic\r\n\r\n**Description**\r\nI am trying to implement 2 way RPC with the remote MQTT integration. \r\n\r\nExample use-case:\r\nIn my Dashboard i have a knob-control. Using the Knob-Control for One-Way rpc (i.e. setting a value on my devices) works without any problems). When the dashboard- window reloads, the knob-control-widget tries to send a two-way RPC to get it's inital value. This RPC gets dropped in the downlink node in the rule engine, with \"java.lang.RuntimeException: Only oneway RPC calls are supported in the integration!\". That seems like wanted behaviour?\r\n\r\nIs there any way to make such two-way RPCs with the remote integration?\r\n\r\n**Environment**\r\n * OS:  Win10\r\n * ThingsBoard: thingsboard.cloud\r\n * Browser: Edge\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4461/comments",
    "author": "MarcelMann",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T13:32:17Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4458,
    "title": "Accesstoken Based Authentication not working on Enabling MQTT TLS",
    "created_at": "2021-04-21T10:44:28Z",
    "closed_at": "2024-08-07T13:08:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4458",
    "body": "**Component**\r\n * MQTT\r\n\r\n**Description**\r\nI have enabled MQTT TLS, i am able to connect and send telemetry through X509 authentication mode. my problem is when MQTT TLS enabled, other authentications modes i.e Access token and Basic Auth is not working in backend i am getting java exception saying invalid device certificate. so please let me know is this valid scenario or not. or i should not us other authentication modes on MQTT TLS enabled?\r\n\r\n**Environment**\r\nTried in multiple environment but results remain same.\r\n * OS:  Windows, Ubuntu\r\n * ThingsBoard: 3.2.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4458/comments",
    "author": "ravipras8",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-07T13:08:48Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 4449,
    "title": "Send Telemetry to multiple subscribers over one topic",
    "created_at": "2021-04-20T13:38:31Z",
    "closed_at": "2024-05-20T13:30:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4449",
    "body": "I am publishing data from my Client1 to over MQTT Thingsboard over topic say \"abc\".\r\nCan multiple subscribers can subscribe to tis topic \"abc\" .\r\nSo whenever I send data from Client1 I will get same data on Client 2 and Client 3 which are subscribed to topic \"abc\"",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4449/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T13:30:47Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4447,
    "title": "[Question] Persistent data send only lastest file in IOT gateway",
    "created_at": "2021-04-20T10:09:32Z",
    "closed_at": "2024-05-20T13:30:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4447",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n\r\n * UI\r\n\r\n**Description**\r\nI test the persistent data with unplug the LAN wire on first raspberry pi for 3 hours with setting in thingsboard-gateway like this\r\n\r\n```\r\n  type: file\r\n  data_folder_path: /var/lib/ThingsboardGateway/\r\n  max_file_count: 200\r\n  max_read_records_count: 10\r\n  max_records_per_file: 2000\r\n```\r\nin folder of 2nd raspberry pi  `/var/lib/ThingsboardGateway/`\r\nhas many file on the folder. Then I plug the LAN wire.  The chart of time series is show only the value in the last file ( I see from date create of file. the chart show from time of data create to time of data modify. )\r\n\r\nHow to config the chart to show all of persistent data in IOT gateway when is comeback to online.\r\n\r\n**Environment**\r\n\r\n * OS:  1st raspberry pi 4 ubuntu 18.04(Thingsboard) , 2nd raspberry pi 4 ubuntu 18.04 (only thingsboard gateway)\r\n * ThingsBoard: v.3.2.2 CE\r\n \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4447/comments",
    "author": "Thammaruthai",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T13:30:17Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4443,
    "title": " Send notifications using Telegram Bot",
    "created_at": "2021-04-19T15:51:10Z",
    "closed_at": "2024-05-20T13:29:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4443",
    "body": "\r\n\r\n**Description**\r\ni would like to send alarms notifications using telegram API , i followed the documentation for sending temperature alarm using API rest , the alarms were configured but i didn't receive the notification from the telegram Bot\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Mac OS\r\n * ThingsBoard: v.1.0.1\r\n * Browser: Firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4443/comments",
    "author": "fatimazahrasifer",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T13:29:30Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4419,
    "title": "[Question] Thingsboard Version Control Scope",
    "created_at": "2021-04-15T17:41:54Z",
    "closed_at": "2023-06-29T13:40:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4419",
    "body": "**Description**\r\nHello! My team and I are trying to copy our ThingsBoard dev environment into a production environment. I know that there is functionality to be able to export the dashboards and rule chains to JSON and save those, but how would I go about doing this for all aspects of our ThingsBoard environment? things like the hierarchy, white labeling configurations, entity relationships, etc. We need to be able to completely copy the environment. Any help with this would be greatly appreciated!\r\n\r\n**Environment**\r\n * OS:  windows 10\r\n * ThingsBoard: v3.1\r\n * Browser: google chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4419/comments",
    "author": "Cody-Hayes97",
    "comments": [
      {
        "user": "trypzz",
        "created_at": "2021-05-27T15:42:40Z",
        "body": "Hi. Tell me, please, server OS where you installed thingsboard. And all 3-r party applications using with thingsboard."
      },
      {
        "user": "Cody-Hayes97",
        "created_at": "2021-05-27T16:28:18Z",
        "body": "> Hi. Tell me, please, server OS where you installed thingsboard. And all 3-r party applications using with thingsboard.\r\n\r\nHello, we are using Google Cloud Platform and running our ThingsBoard instance on a VM there"
      },
      {
        "user": "trypzz",
        "created_at": "2021-05-28T06:42:02Z",
        "body": "I mean 3-r party applications. For example: Thingsboard using with **PostgresDB and Kafka**"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:40:10Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 4415,
    "title": "[Question] Thingsboard fails to run on IntelliJ with following errors:",
    "created_at": "2021-04-15T10:24:48Z",
    "closed_at": "2022-01-26T09:11:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4415",
    "body": "Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\r\n2021-04-15 12:24:03,621 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController': Unsatisfied dependency expressed through field 'lwM2MModelsRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'lwM2MModelsRepository': Unsatisfied dependency expressed through field 'contextServer'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lwM2MTransportConfigServer': Invocation of init method failed; nested exception is java.nio.file.InvalidPathException: Illegal char <:> at index 2: /C:/Users/user/AngularProjects/thingsboard/\\data\\credentials\\serverKeyStore.jks\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat org.thingsboard.server.ThingsboardServerApplication.main(ThingsboardServerApplication.java:38)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'lwM2MModelsRepository': Unsatisfied dependency expressed through field 'contextServer'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lwM2MTransportConfigServer': Invocation of init method failed; nested exception is java.nio.file.InvalidPathException: Illegal char <:> at index 2: /C:/Users/user/AngularProjects/thingsboard/\\data\\credentials\\serverKeyStore.jks\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n\t... 20 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'lwM2MTransportConfigServer': Invocation of init method failed; nested exception is java.nio.file.InvalidPathException: Illegal char <:> at index 2: /C:/Users/user/AngularProjects/thingsboard/\\data\\credentials\\serverKeyStore.jks\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:415)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n\t... 33 common frames omitted\r\nCaused by: java.nio.file.InvalidPathException: Illegal char <:> at index 2: /C:/Users/user/AngularProjects/thingsboard/\\data\\credentials\\serverKeyStore.jks\r\n\tat java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n\tat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n\tat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\tat java.base/sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:229)\r\n\tat java.base/java.nio.file.Path.of(Path.java:147)\r\n\tat java.base/java.nio.file.Paths.get(Paths.java:69)\r\n\tat org.thingsboard.server.common.transport.lwm2m.LwM2MTransportConfigServer.getInKeyStore(LwM2MTransportConfigServer.java:183)\r\n\tat org.thingsboard.server.common.transport.lwm2m.LwM2MTransportConfigServer.init(LwM2MTransportConfigServer.java:172)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)\r\n\t... 45 common frames omitted",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4415/comments",
    "author": "glenisT",
    "comments": [
      {
        "user": "finegirl2020",
        "created_at": "2021-04-26T01:50:27Z",
        "body": "update thingsboard.yaml 647 line like this  key_store_path_file: \"${KEY_STORE_PATH_FILE:/common/transport/lwm2m/src/main/resources/credentials/serverKeyStore.jks}\"\r\n     "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2022-01-26T09:11:55Z",
        "body": "Hello @glenisT\r\nIt happens when you have a broken thingsboard.yml file\r\nUsually, because you ane not merged yml file after the ThingsBoard upgrade."
      }
    ]
  },
  {
    "number": 4411,
    "title": "How to set up Kafka consumer on TB CE",
    "created_at": "2021-04-14T14:27:37Z",
    "closed_at": "2024-05-20T13:05:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4411",
    "body": "I am trying to set up a Kafka consumer on TB CE to fetch some messages from a Kafka broker. The Kafka broker seems like it is an IoT Hub instance so I have a bootstrap server address and credentials to connect to this broker. I would like to know if the CE support Kafka clients and how to set it up on the Rule Engine.\r\n\r\n * OS:  macOS\r\n * ThingsBoard version: latest\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4411/comments",
    "author": "badkoubeh",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-20T13:05:12Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4397,
    "title": "Things board installation failed",
    "created_at": "2021-04-12T07:01:16Z",
    "closed_at": "2023-06-29T13:40:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4397",
    "body": "I am trying to install the things board but i get the following error, what could be the issue.\r\n\r\n===================================================\r\n :: ThingsBoard ::       (v3.2.2)\r\n ===================================================\r\n\r\nStarting ThingsBoard Installation...\r\nInstalling DataBase schema for entities...\r\nInstalling SQL DataBase schema part: schema-entities.sql\r\nInstalling SQL DataBase schema indexes part: schema-entities-idx.sql\r\nInstalling DataBase schema for timeseries...\r\nInstalling SQL DataBase schema part: schema-ts-psql.sql\r\nUnexpected error during ThingsBoard installation!\r\norg.postgresql.util.PSQLException: ERROR: primary key constraints are not supported on partitioned tables\r\n  Position: 877\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393)\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322)\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308)\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279)\r\n\tat org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:68)\r\n\tat org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:57)\r\n\tat org.thingsboard.server.service.install.PsqlTsDatabaseSchemaService.createDatabaseSchema(PsqlTsDatabaseSchemaService.java:39)\r\n\tat org.thingsboard.server.install.ThingsboardInstallService.performInstall(ThingsboardInstallService.java:214)\r\n\tat org.thingsboard.server.ThingsboardInstallApplication.main(ThingsboardInstallApplication.java:44)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:107)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:467)\r\nUnexpected error during ThingsBoard installation!\r\nThingsBoard installation failed!\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4397/comments",
    "author": "Claireshan",
    "comments": [
      {
        "user": "luisbajr",
        "created_at": "2021-04-13T06:15:16Z",
        "body": "I had the same issue. Try to drop thingsboard table on postegresql."
      },
      {
        "user": "ashvayka",
        "created_at": "2021-04-13T13:32:13Z",
        "body": "Hi @Claireshan , what is the PostgreSQL version you are using?"
      },
      {
        "user": "luisbajr",
        "created_at": "2021-04-13T13:47:50Z",
        "body": "Now I understanding I little bit more. I'm new too. Your error was different them mine. \r\nI'm using it on my Raspberry Pi. Linux version Raspibian 3.6 (Debian) and Postgresql 11.\r\nDid you create the table thingsboard on DB before run the installation script?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:40:24Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 4389,
    "title": "How can I Ignore the Administrator REST API authentication?",
    "created_at": "2021-04-08T19:32:31Z",
    "closed_at": "2024-08-07T13:06:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4389",
    "body": "Since we are not exposing our Thingsboard server with public IP and only local requests are made how can I ignore the Administrator REST API authentication?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4389/comments",
    "author": "itsoli91",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-08-07T13:06:27Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 4378,
    "title": "Unable to read custom menu from JSON!",
    "created_at": "2021-04-07T16:54:54Z",
    "closed_at": "2022-01-25T08:47:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4378",
    "body": "Hello, \r\n\r\nI'm getting a weird issue while trying to login in thingsboard dashboard.\r\nThis is the error message i'm getting while trying to login:\r\n \"Unable to read custom menu from JSON!\"\r\n\r\nAnd the same error on thingsboard log and nothing else:\r\n\"ERROR o.t.s.dao.menu.BaseCustomMenuService - Unable to read custom menu from JSON!\"\r\n\r\nThe only thing is that the users to log in have roles. So, they have permission to see only some dasbhoards etc. We don't have custom menu for the users but it's trying to read it . What could be the cause of this issue?\r\n\r\nThingsboard version: v.3.2.1\r\nOS: Ubuntu 18.04",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4378/comments",
    "author": "Ces-Ces",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-04-08T10:28:29Z",
        "body": "please attache the network part of the console from your browser. This will help to identify which exact URL is requested, etc."
      }
    ]
  },
  {
    "number": 4367,
    "title": "What is the difference between MSG and notification definitions",
    "created_at": "2021-04-06T03:55:44Z",
    "closed_at": "2021-04-06T07:54:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4367",
    "body": "like this : ToCoreNotificationMsg ToCoreMsg ToRuleEngineNotificationMsg \r\nWhat is the difference between msg and notification definitions?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4367/comments",
    "author": "zth390872451",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-04-06T07:54:28Z",
        "body": "*NotificationMsg has a separate queue and separate processing priority. This is basically for messages with higher priority or latency requirements (like RPC calls, etc). "
      }
    ]
  },
  {
    "number": 4352,
    "title": "package org.thingsboard.server.common.msg.gen does not exist. Where to find this package",
    "created_at": "2021-04-01T08:30:01Z",
    "closed_at": "2023-06-20T08:33:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4352",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4352/comments",
    "author": "Justsmilec",
    "comments": [
      {
        "user": "ligengithub",
        "created_at": "2021-12-02T11:09:28Z",
        "body": "me too   have you resolve this problem?"
      },
      {
        "user": "zhouzhu3991",
        "created_at": "2022-07-14T04:58:14Z",
        "body": "when we run the command :mvn install -DskipTests or mvn clean install successfully, this package is generated in the cache, as long as don't run mvn clean, this package will keep remain."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-20T08:33:25Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 4351,
    "title": "Rule Chain: where to find / install ",
    "created_at": "2021-04-01T08:17:20Z",
    "closed_at": "2021-04-09T11:39:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4351",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n * Installation\r\n\r\n**Description**\r\nI´m using Thignsboard 3.2.1 PE (Maker) but there is no Rule Chain available.\r\nI can´t find the requirements or reasons. Is there a update / do I have to upgrade to prototype?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18.4\r\n * ThingsBoard: 3.2.1 PE\r\n * Browser: FireFox 87.0\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4351/comments",
    "author": "Mirjka",
    "comments": [
      {
        "user": "Delapouite",
        "created_at": "2021-04-02T14:33:35Z",
        "body": "Do you mean that the \"rule-chains\" entry does not appear int he main menu (left sidebar)?\r\n\r\nEnsure that you are connected as a tenant admin, not as sysadmin.\r\nIf you're connected as a tenant admin, verify that the menu entry has not been hidden in white labeling options."
      },
      {
        "user": "Mirjka",
        "created_at": "2021-04-09T11:39:30Z",
        "body": "We updated our TB, now we got it, thanks!"
      }
    ]
  },
  {
    "number": 4343,
    "title": " [Bug] [Question]  OTA ESP32-Arduino | Problem with widget developing, my RPC function is not working when i put it all together",
    "created_at": "2021-03-30T18:40:14Z",
    "closed_at": "2023-06-29T13:24:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4343",
    "body": "I'm trying to do OTA widget to ESP32 using Arduino framework, so im using part of OTA Widget from thingsboard, and adding RPC function (\"sendCommand\") to trigger update function in ESP32. If i create a widget with a function of sendCommand works, and if i create a widget with updateOtaConfig works to for save attribute server and shared as has to. But when i put all together i got a issue saying.\r\nMy Discord if want to talk about: 'Junior Saldanha#9714'\r\n```\r\nrejection Error: Rpc disabled!\r\n    at t.sendCommand (/5.95ab3e549a861f2f8075.js:1)\r\n    at t.sendOneWayCommand (/5.95ab3e549a861f2f8075.js:1)\r\n    at Object.sendOneWayCommand (main.0a6e29bbb731bd30b50e.js:1)\r\n    at e.$scope.sendCommand (eval at e.createWidgetControllerDescriptor (/5.95ab3e549a861f2f8075.js:1), <anonymous>:129:53)\r\n    at e_form_1_Template_form_submit_0_listener (ng:///e.js:21)\r\n    at Vu (vendor.00606cd768dc87978bae.js:1)\r\n    at i (vendor.00606cd768dc87978bae.js:1)\r\n    at HTMLFormElement.<anonymous> (vendor.00606cd768dc87978bae.js:1)\r\n    at e.invokeTask (polyfills.123009f09bd99403ce40.js:1)\r\n    at Object.onInvokeTask (vendor.00606cd768dc87978bae.js:1)\r\n```\r\n\r\nFollowing is HTML, and Javascript that im using, if someone can helpme, i'll be very happy, im stuck with this for some days. :(\r\n\r\nHTML widget\r\n```html\r\n<div tb-toast toastTarget=\"{{ toastTargetId }}\" style=\"width: 100%; height: 100%;\">\r\n    <form *ngIf=\"attributeUpdateFormGroup\"\r\n          class=\"attribute-update-form\"\r\n          [formGroup]=\"attributeUpdateFormGroup\"\r\n          [ngClass]=\"{'small-width': smallWidthContainer}\"\r\n          (ngSubmit)=\"updateOtaConfig()\"\r\n          (submit)=\"sendCommand()\">\r\n        <div style=\"padding: 0 8px; margin: auto 0;\">\r\n            <div class=\"attribute-update-form__grid\" [fxShow]=\"entityDetected && isValidParameter\">\r\n                <div class=\"grid__element\" \r\n                    [ngClass]=\"{'horizontal-alignment': isHorizontal && !changeAlignment}\">\r\n                    <mat-form-field class=\"mat-block\"\r\n                                    floatLabel=\"{{settings.showLabel ? 'auto' : 'always'}}\"\r\n                                    [hideRequiredMarker]=\"!settings.showLabel\">\r\n                        <mat-label>Target firmware version</mat-label>\r\n                        <input matInput\r\n                               formControlName=\"lastTargetFwVer\"\r\n                               (focus)=\"isFocused = true\"/>\r\n                    </mat-form-field>\r\n                    \r\n                    <mat-form-field class=\"mat-block\"\r\n                                    floatLabel=\"{{settings.showLabel ? 'auto' : 'always'}}\"\r\n                                    [hideRequiredMarker]=\"!settings.showLabel\">\r\n                        <mat-label>Target server URL</mat-label>\r\n                        <input matInput\r\n                               formControlName=\"lastTargetFwUrl\"\r\n                               (focus)=\"isFocused = true\"/>\r\n                    </mat-form-field>    \r\n                    <button class=\"test\" mat-button mat-raised-button color=\"primary\"\r\n                            type=\"submit\"\r\n                            [disabled]=\"disableButton()\"\r\n                            matTooltip=\"{{ 'widgets.input-widgets.update-attribute' | translate }}\"\r\n                            matTooltipPosition=\"above\">\r\n                        START OTA\r\n                    </button>\r\n                    <div>\r\n                        <label>RPC command response</label>\r\n                        <div style=\"width: 100%; height: 100px; border: solid 2px gray\" [innerHTML]=\"rpcCommandResponse\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    \r\n            <div style=\"text-align: center; font-size: 18px; color: #a0a0a0;\" [fxHide]=\"entityDetected\" >\r\n                {{ 'widgets.input-widgets.no-entity-selected' | translate }}\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n```\r\n\r\nJavascript widget\r\n```javascript\r\nlet $scope;\r\nlet settings;\r\nlet attributeService;\r\nlet utils;\r\nlet translate;\r\n\r\nself.onInit = function () {\r\n    self.ctx.ngZone.run(function () {\r\n        init();\r\n        self.ctx.detectChanges(true);\r\n    });\r\n};\r\n\r\nfunction init() {\r\n    $scope = self.ctx.$scope;\r\n    attributeService = $scope.$injector.get(self.ctx.servicesMap.get('attributeService'));\r\n    utils = $scope.$injector.get(self.ctx.servicesMap.get('utils'));\r\n    translate = $scope.$injector.get(self.ctx.servicesMap.get('translate'));\r\n    $scope.toastTargetId = 'input-widget' + utils.guid();\r\n    settings = utils.deepClone(self.ctx.settings) || {};\r\n    settings.showLabel = utils.defaultValue(settings.showLabel, true);\r\n    $scope.settings = settings;\r\n    $scope.isValidParameter = true;\r\n    $scope.activeVal = false;\r\n    $scope.attributeUpdateFormGroup = $scope.fb.group({\r\n        lastTargetFwVer: '',\r\n        lastTargetFwUrl: ''\r\n    });\r\n\r\n    if (self.ctx.datasources && self.ctx.datasources.length) {\r\n        let datasource = self.ctx.datasources[0];\r\n        if (datasource.type === 'entity') {\r\n            if (datasource.entityType && datasource.entityId) {\r\n                $scope.entityName = datasource.entityName;\r\n                if (settings.widgetTitle && settings.widgetTitle.length) {\r\n                    $scope.titleTemplate = utils.customTranslation(settings.widgetTitle, settings.widgetTitle);\r\n                } else {\r\n                    $scope.titleTemplate = self.ctx.widgetConfig.title;\r\n                }\r\n                $scope.entityDetected = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    $scope.updateOtaConfig = function () {\r\n        if ($scope.entityDetected) {\r\n            let datasource = self.ctx.datasources[0];\r\n            for (let i = 0; i < self.ctx.data.length; i++) {\r\n                let attributeValue = self.ctx.data[i].data[0][1];\r\n                let dataKey = self.ctx.data[i].dataKey.name;\r\n                if (dataKey === 'active') {\r\n                    $scope.activeVal = (attributeValue === 'true');\r\n                }\r\n            }\r\n            let formValue = $scope.attributeUpdateFormGroup.value;\r\n            self.ctx.rxjs.forkJoin([\r\n                attributeService.saveEntityAttributes(\r\n                    datasource.entity.id,\r\n                    'SERVER_SCOPE',\r\n                    [\r\n                        {\r\n                            key: 'lastTargetFwVer',\r\n                            value: formValue.lastTargetFwVer\r\n                        },\r\n                        {\r\n                            key: 'lastTargetFwUrl',\r\n                            value: formValue.lastTargetFwUrl\r\n                        },\r\n                        {\r\n                            key: 'lastOtaStartedOn',\r\n                            value: Date.now()\r\n                        }\r\n                    ]\r\n                ),\r\n                attributeService.saveEntityAttributes(\r\n                    datasource.entity.id,\r\n                    'SHARED_SCOPE',\r\n                    [\r\n                        {\r\n                            key: 'targetFwVer',\r\n                            value: formValue.lastTargetFwVer\r\n                        },\r\n                        {\r\n                            key: 'targetFwUrl',\r\n                            value: formValue.lastTargetFwUrl\r\n                        }\r\n                    ]\r\n                )\r\n            ]).subscribe(\r\n                function success() {\r\n                    $scope.attributeUpdateFormGroup.patchValue({\r\n                        'lastTargetFwVer': '',\r\n                        'lastTargetFwUrl': ''\r\n                    });\r\n                    if ($scope.activeVal) {\r\n                        $scope.showSuccessToast('OTA configuration saved', 2000, 'bottom', 'right', $scope.toastTargetId);\r\n                        $scope.activeVal = false;\r\n                    } else {\r\n                        $scope.showErrorToast('OTA configuration saved,  but will be sent when device become connected', 'bottom', 'right', $scope.toastTargetId);\r\n                    }\r\n                },\r\n                function fail() {\r\n                    $scope.showErrorToast('OTA configuration can not be saved', 'bottom', 'right', $scope.toastTargetId);\r\n                }\r\n            );\r\n        }\r\n    };\r\n    \r\n    $scope.sendCommand = function() {\r\n        // var rpcMethod = self.ctx.$scope.rpcMethod;\r\n        let formValue = $scope.attributeUpdateFormGroup.value;\r\n        var rpcMethod = \"RPC_runOTA\"; //temporary\r\n        var rpcParams = {\r\n            lastTargetFwVer: formValue.lastTargetFwVer,\r\n            lastTargetFwUrl: formValue.lastTargetFwUrl\r\n        };\r\n        \r\n        var timeout = self.ctx.settings.requestTimeout;\r\n        var oneWayElseTwoWay = self.ctx.settings.oneWayElseTwoWay ? true : false;\r\n\r\n        var commandObservable;\r\n        if (oneWayElseTwoWay) {\r\n            commandObservable = self.ctx.controlApi.sendOneWayCommand(rpcMethod, rpcParams, timeout);\r\n        } else {\r\n            commandObservable = self.ctx.controlApi.sendTwoWayCommand(rpcMethod, rpcParams, timeout);\r\n        }\r\n        commandObservable.subscribe(\r\n            function (response) {\r\n                if (oneWayElseTwoWay) {\r\n                    $scope.rpcCommandResponse = \"Command was successfully received by device.<br> No response body because of one way command mode.\";\r\n                } else {\r\n                    $scope.rpcCommandResponse = \"Response from device:<br>\";                    \r\n                    $scope.rpcCommandResponse += JSON.stringify(response, undefined, 2);\r\n                }\r\n                    console.log(\"response\",response);\r\n                self.ctx.detectChanges();\r\n            },\r\n            function (rejection) {\r\n                $scope.rpcCommandResponse = \"Failed to send command to the device:<br>\"\r\n                $scope.rpcCommandResponse += \"Status: \" + rejection.status + \"<br>\";\r\n                $scope.rpcCommandResponse += \"Status text: '\" + rejection.statusText + \"'\";\r\n                self.ctx.detectChanges();\r\n                console.log(\"rejection\",rejection);\r\n            }\r\n            \r\n        );\r\n    };\r\n\r\n    $scope.disableButton = function () {\r\n        let formValue = $scope.attributeUpdateFormGroup.value;\r\n        return (formValue.lastTargetFwVer === '' || formValue.lastTargetFwUrl === '');\r\n    };\r\n}\r\n\r\nself.onDataUpdated = function () {\r\n};\r\n\r\nself.typeParameters = function () {\r\n    return {\r\n        maxDatasources: 1,\r\n        maxDataKeys: 1,\r\n        singleEntity: true\r\n    };\r\n};\r\n\r\nself.onDestroy = function () {\r\n};\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4343/comments",
    "author": "juniorsaldanha",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-04-09T18:44:18Z",
        "body": "Hello, @juniorsaldanha \r\nA possible reason for the 'Rpc disabled!' error is that your widget has another type than 'Control widget'.\r\nIf you are using the 'Latest value' widget type try to use _sendOneWayRpcCommand_ and  _sendTwoWayRpcCommand_ methods from the _DeviceService_."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:24:34Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 4325,
    "title": "[Question] Support for thingsboard python client sdk ",
    "created_at": "2021-03-29T08:01:10Z",
    "closed_at": "2024-05-21T13:33:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4325",
    "body": "Could anyone from Thingsboard help me check the issue from your thingsboard python client sdk ?\r\nThis module is no more supported from Thingsboard team ?????",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4325/comments",
    "author": "pde-system-integration",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T13:33:19Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 4315,
    "title": "Device Group deletet, devices still there, but not visible",
    "created_at": "2021-03-26T14:06:59Z",
    "closed_at": "2021-03-26T16:34:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4315",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI deleted a device group and thought the devices included are beeing deleted as well automatically. But when I add a new device with the same ID, TB is telling me, the device is already existing. How can I clean / delete these devices?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18\r\n * ThingsBoard: Professional (Version...have to ask our admin...)\r\n * Browser: FireFox 78.9.0esr",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4315/comments",
    "author": "Mirjka",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-03-26T15:47:53Z",
        "body": "Hi @Mirjka,\r\nYou need to check entities in group \"All\"."
      },
      {
        "user": "ashvayka",
        "created_at": "2021-03-26T16:34:09Z",
        "body": "Deleting a group does not delete devices. Device may be a member of multiple groups. Devices are always members of group \"All\". "
      },
      {
        "user": "Mirjka",
        "created_at": "2021-03-26T21:27:25Z",
        "body": "I checked \"All\", but there weren´t any devices. After I logged out and logged in I had the licence back and the devices were gone..."
      }
    ]
  },
  {
    "number": 4308,
    "title": "[Question] make customer vie group dashboard puplic",
    "created_at": "2021-03-25T17:25:38Z",
    "closed_at": "2021-03-26T21:24:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4308",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nHi, I like to organize dashboards and devices in Customer Groups.\r\nIs there a possibility to make a puplic dashboard / puplic device? I can´t find the \"make puplic\" button and don´t find a workaround.\r\n\r\nCheers!\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18\r\n * ThingsBoard: Professional (Version...have to ask our admin...)\r\n * Browser: FireFox 78.9.0esr\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4308/comments",
    "author": "Mirjka",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-03-26T10:23:21Z",
        "body": "HI @Mirjka,\r\nIn TB PE, you can't do make a public dashboard because TB PE supports only the public dashboard group/device group. In your case, your need to create a new dashboard group and added a dashboard that you want to make public, and then make this group public."
      },
      {
        "user": "Mirjka",
        "created_at": "2021-03-26T12:54:30Z",
        "body": "Hi @ashvayka,\r\nthanks for youre advice. In that case, I have to organize the devices also outside the customer group to make them puplic aswell, don´t I?"
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-03-26T15:28:33Z",
        "body": "Hi @Mirjka,\r\nNo, you can organize a group of devices at the client and make them public"
      },
      {
        "user": "Mirjka",
        "created_at": "2021-03-26T21:24:35Z",
        "body": "Cool, I got it. \r\n\r\nThe way I solved it: After a added the customer group and a customer group user, i switch to that user. Within this profile It´s possible to add Device groups and Dashboard Groups and configure them as puplic. When I switch back to the customer group admin account, booth Devices and Dasboards are sorted in the costumer group and are marked as puplic aswell. So Iam able to creat customer groups with puplic and non-puplic dashboards, which are not able to see devices and dashboards of other customergroups  within the same tenant.\r\n\r\nCheers"
      }
    ]
  },
  {
    "number": 4302,
    "title": "[Question] How to swap Map widget provider on the fly",
    "created_at": "2021-03-24T15:53:22Z",
    "closed_at": "2024-05-21T13:37:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4302",
    "body": "I am trying to dynamically swap the map provider from Google Maps Satellite to OpenStreetMap.Mapnik and back on a user click to a widget header custom action.\r\n\r\nI can access and change the values successfully, as I can see they are reflected in the form on click, however my action doesn't succeed in refreshing or applying the new values to the widget. They do apply when I modify something via the sidebar settings menu, and apply via the orange tick button there, however I don't want a user to have to do this every time.\r\n\r\nIs there a way I can do the same as the orange tick from my custom action? \r\n\r\nAny input will be greatly appreciated.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4302/comments",
    "author": "JaMurphSmi",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T13:37:19Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4295,
    "title": "[Question] I cannot bridge MQTT message to demo.thingsboard.io",
    "created_at": "2021-03-23T21:08:58Z",
    "closed_at": "2024-05-21T13:37:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4295",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n\r\n * Generic\r\n\r\n**Description**\r\n I cannot bridge MQTT message to demo.thingsboard.io\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  CentOS 7\r\n * ThingsBoard: demo.thingsboard.io\r\n * Browser: chrome\r\n\r\nI used emqx as bridging broker. Here is some of the debug log:\r\n```\r\n2021-03-23 20:57:22.618 [debug] <<\"71f509e5-a916-4670-b814-a6efa4e37c871616532610756\">>@120.244.148.251:16135 [Channel] RECV <<192,0>>\r\n2021-03-23 20:57:22.618 [debug] <<\"71f509e5-a916-4670-b814-a6efa4e37c871616532610756\">>@120.244.148.251:16135 [Protocol] RECV PINGREQ(Q0, R0, D0)\r\n2021-03-23 20:57:22.619 [debug] <<\"71f509e5-a916-4670-b814-a6efa4e37c871616532610756\">>@120.244.148.251:16135 [Protocol] SEND PINGRESP(Q0, R0, D0)\r\n2021-03-23 20:57:24.543 [debug] [Client] SEND Data: {mqtt_packet,{mqtt_packet_header,1,false,0,false},{mqtt_packet_connect,<<\"MQTT\">>,4,false,true,false,0,false,10000,#{},<<\"emqx-client-8471f5104f0e-231eb85103f844f24008\">>,undefined,undefined,undefined,<<\"exM1biU6pwtq7j6AglMM\">>,<<\"anything\">>},undefined}\r\n2021-03-23 20:57:24.781 [debug] [Client] RECV Data: <<32,2,0,0>>\r\n2021-03-23 20:57:24.781 [info] [Bridge] Bridge emqx_bridge_worker_tb is connecting......\r\n2021-03-23 20:57:26.330 [debug] [Client] tcp_closed\r\n2021-03-23 20:57:26.330 [info] [Bridge] Bridge emqx_bridge_worker_tb diconnected\r\nreason={shutdown,tcp_closed}\r\n```\r\n\r\nfrom the log, some data with struct like this: `{mqtt_packet,{mqtt_packet_header,1,false,0,false},{mqtt_packet_connect,<<\"MQTT\">>,4,false,true,false,0,false,10000,#{},<<\"emqx-client-8471f5104f0e-231eb85103f844f24008\">>,undefined,undefined,undefined,<<\"exM1biU6pwtq7j6AglMM\">>,<<\"anything\">>},undefined}` is sent. However the response is always ` RECV Data: <<32,2,0,0>>`. In MQTT protocol, this might means it is disconnected.\r\n\r\nI also tested upload telemetry directly using mqttbox with the same token. It works as expected.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4295/comments",
    "author": "chengdi1988",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T13:37:37Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4268,
    "title": "Invalid flag --release",
    "created_at": "2021-03-18T17:39:53Z",
    "closed_at": "2024-05-21T13:39:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4268",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n\r\n\r\n**Description**\r\nWhen I run the command\r\ncd ${TB_WORK_DIR}\r\nmvn clean install -DskipTests I get the error that invalid flag --release. Whereas, if i run the same command for release-3.2 branch, I do not get this error. Any help would be appreciated. \r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Windows\r\n * ThingsBoard: master branch\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4268/comments",
    "author": "Hardikrathod01",
    "comments": [
      {
        "user": "SamueleCarboni",
        "created_at": "2021-07-02T09:56:42Z",
        "body": "Same here"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T13:39:52Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 4241,
    "title": "[Question] UI - Adding Croatian language",
    "created_at": "2021-03-13T07:31:48Z",
    "closed_at": "2021-03-23T12:49:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4241",
    "body": "**Component**\r\n\r\n* UI\r\n\r\n**Description**\r\n\r\nIs it okay if I add *Croatian* language locale in UI (ui-ngx) and make a pull request? ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4241/comments",
    "author": "alenhrga",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-03-14T11:30:08Z",
        "body": "Hi @alenhrga,\r\nYes, it will be great if you do pull request"
      },
      {
        "user": "ashvayka",
        "created_at": "2021-03-23T12:49:35Z",
        "body": "Hi @alenhrga , we welcome you to create a PR. Closing the issue due to it is obviously fine to submit PRs with translations."
      }
    ]
  },
  {
    "number": 4208,
    "title": "[Question] Is it possible to rotate between dashboard states every x seconds?",
    "created_at": "2021-03-05T09:34:39Z",
    "closed_at": "2024-05-31T10:10:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4208",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI have a dashboard with three different dashboard states. Is it possible to switch between those three dashboard states like every x seconds? And if so, how can I achieve this? I already tried with Custom Action, but this will require an interaction of the user, like clicking on a row or a button.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n* OS: Windows 10\r\n* ThingsBoard: 3.2.1 CE\r\n* Browser: Google Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4208/comments",
    "author": "JonasRueck",
    "comments": [
      {
        "user": "JonasRueck",
        "created_at": "2021-03-24T17:54:17Z",
        "body": "Any update on this?\n\n@ashvayka "
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-31T10:10:53Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If this question is still relevant to you, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 4207,
    "title": "[Question] How to handle delayed data to Rule Chain?",
    "created_at": "2021-03-05T04:06:13Z",
    "closed_at": "2024-05-21T14:23:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4207",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nMy rule chain analytics is state-based, which means the calculation depends on the value of the previous data.\r\n\r\nLet say the device generate data every second, so for 5 second there are 5 data from t=0 to t=4 (t=0, t=1, t=2, t=3, and t=4). In an ideal situation, first, the device will send the t=0 data and then Thingsboard will receive it. Next, the device will send the t=1 data and then Thingsboard will receive it. Next, the device will send the t=2 data and then Thingsboard will receive it. Therefore, Thingsboard will receive the data in chronological order based on the t value.\r\n\r\nBut due to the network issue, I faced a problem. Let say Thingsboard gets the t=3 data for now, but due to the network issue, the t=1 data just arrive exactly after the t=3 data. The t=1 should be sent and be received earlier than the t=3 data but it can happen because of a lost network connection. So the order of the data coming to the Thingsboard rule chain is broken.\r\n\r\nSo I need the Thingsboard rule chain to process the data in order based on the t value, not based on which data come first. Every message that comes to Thingsboard contains the device timestamp value on its metadata. So I think I can use that value to sort those messages.\r\n\r\nHow do I solve this?\r\n\r\nThank you\r\n\r\n**Environment**\r\n * ThingsBoard: 3.2.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4207/comments",
    "author": "shalahuddinn",
    "comments": [
      {
        "user": "mgogh",
        "created_at": "2022-09-28T09:30:06Z",
        "body": "Hi,\r\n\r\nIt's a good question ! Any answer or update about this ?\r\n\r\nRegards,"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T14:23:47Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4197,
    "title": "[Question] Use filter \"check relation\" (rule) for nested assets",
    "created_at": "2021-03-04T04:28:51Z",
    "closed_at": "2022-08-29T16:23:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4197",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nI need to get data from devices filtered by an asset of a level higher than the first.\r\nThat is, asset A (floor) contains asset B and C (rooms). Asset B contains sensor D. Asset C contains sensor E.\r\nI need to send messages about the inactivity alarm of any sensor located on floor A, i.e. sensor D or E.\r\nIf I create 2 filters \"check relation\" for assets B and C, then everything is fine. But if I create a filter \"check relation\" for asset A, then no alarm message is generated.\r\nHow to create rules correctly?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4197/comments",
    "author": "karaby",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T16:23:33Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 4194,
    "title": "Thingsboard - Is it possible to access configured \"Roles\" based on the \"userId\" in Rule Chain?",
    "created_at": "2021-03-04T03:28:05Z",
    "closed_at": "2024-05-21T14:26:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4194",
    "body": "Here is the situation.\r\n\r\nA user group is configured as follows,\r\n\r\n1. - Group Role #1 : Device #1 & Device #2 are given only read access\r\n2. - Group Role #2 : Device #3 has given read & write access\r\n3. - There a relation From User #1 to Device #4\r\n\r\nRequired Flow:\r\n\r\n1. User #1 sends data to Device #4 using it's device id in Thingsboard server. HTTP POST method is used and in URL mentioned the device id of Device #4. This data contains the target device name/id (In our case here Target devices are Device #1, #2, #3)\r\n2. Device #4 receives the data.\r\n3. A Rule chain should identify the target device based on the payload message received.\r\n4. Also should check the User Group role whether it is only read or includes write access configured.\r\n5. In our case here, if data contains \"Device #3\" id, then this User #1 can do read & write attributes, if data contains \"Device #1\" or \"Device #2\", then user can only read attributes/telemetry. With \"POST\" command to \"Device #1\" or \"Device #2\", the response should be like \"Don't have permission to perform Write operation\"",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4194/comments",
    "author": "bhimashankarP",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T14:26:01Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4193,
    "title": "Change the device type from \"default\"",
    "created_at": "2021-03-03T23:42:23Z",
    "closed_at": "2022-08-29T16:24:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4193",
    "body": "Hello !\r\nPlease tell me how can I change the device type from \"default\" to another type when an entity is created through the rule chains.\r\nIs there another way to change the device by editing device fields ? (a widget or something else ?)\r\n\r\nThank You !\r\n\r\nEnvironment\r\nThingsBoard CE 3.2.1\r\nWindows 7 x64\r\nBrowser: Chrome",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4193/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T16:24:09Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 4188,
    "title": "Get latest telemetry alarm information from rule chain",
    "created_at": "2021-03-02T16:04:15Z",
    "closed_at": "2024-05-21T14:27:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4188",
    "body": "I'd like to create a delta alarm among the latest telemetry values.\r\nThe delta must be calculated among the current value and the previous 2 hour value or, if there is a previous alarm, between the current value and the value relative to the cleared alarm timestamp.\r\n\r\nMy idea would be:\r\n1) get the latest telemetry 2 hour values \r\n2) get the latest cleared alarm timestamp (within the two hours)\r\n3) if there are no cleared alarms in the previous 2 hours compute the delta between le current value and the previous 2 hour value\r\n4) if there are cleared alarms in the previous 2 hours get the latest cleared alarm timestamp, pick up the related telemetry value and finally compute the delta between this value and the current value.\r\n\r\nThe problem? I don't know how the get related alarms information inside a rule chain. I hope my explanation is clear!\r\n\r\nAny suggestion?\r\n\r\nThanks in advance",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4188/comments",
    "author": "shaphiro",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T14:27:15Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4174,
    "title": "[Question] How can I bring Device Group Name to an Entity or Asset Card Widget?",
    "created_at": "2021-02-26T20:47:00Z",
    "closed_at": "2024-05-21T15:13:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4174",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n\r\n**Description**\r\nI would like to know if it is possible, and how to do it in a positive case, to include (or to call) the device group name as a key at entity or asset card widget in a dashboard.  Today it allows us to include as an environment key the name, label, type and creation time, is there any way to get the device group name?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18.04\r\n * ThingsBoard: 3.2.1PE\r\n * Browser: any\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4174/comments",
    "author": "FreddyHunter",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T15:13:21Z",
        "body": "One device can be in many device groups; add the name of the device group to the device attribute and show it on widgets."
      }
    ]
  },
  {
    "number": 4141,
    "title": "How to update a specified server attribute for all registered devices at the same time ?",
    "created_at": "2021-02-22T22:45:27Z",
    "closed_at": "2022-06-24T08:54:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4141",
    "body": "Hello !\r\n\r\nPlease tell me how can I update a server attribute for all registered devices.\r\nI need to update a specified server attribute for all registered devices at the same time.\r\n\r\nThank You !\r\n\r\nEnvironment\r\nOS: Windows 10\r\nThingsBoard v.3.2.1CE\r\nBrowser: Google Chrome",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4141/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-02-23T10:24:15Z",
        "body": "Hi @lmax25,\r\nYour need to used functional Scheduler from version TB PE"
      }
    ]
  },
  {
    "number": 4135,
    "title": "How can I make for loop in rule chain to call another rule chain many times?",
    "created_at": "2021-02-21T20:15:15Z",
    "closed_at": "2022-06-24T08:55:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4135",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n\r\n**Description**\r\nI need to make for loop in rule chain to call another rule chain many times but I do not know how to do that?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20\r\n * ThingsBoard: PE\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4135/comments",
    "author": "khalednoh",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-06-24T08:55:01Z",
        "body": "Is your problem still relevant?"
      }
    ]
  },
  {
    "number": 4134,
    "title": "[Question] How to call self.ctx.controlapi.sendtwowaycommand",
    "created_at": "2021-02-20T14:05:21Z",
    "closed_at": "2022-02-04T13:46:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4134",
    "body": "\r\n**Description**\r\nCould anyone pls help me how to pass deviceid into function self.ctx.controlapi.sendtwowaycommand to send rpc command to specific device with device id\r\n**Environment\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: 3.2.1 PE\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4134/comments",
    "author": "pde-system-integration",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-02-22T09:12:03Z",
        "body": "Hello,\r\nself.ctx.controlapi.sendtwowaycommand function uses as target id _targetDeviceId_ parameter, that could be found in _ctx.defaultSubscription_  for control widgets.\r\nAs an alternative to this function, you could use _sendTwoWayRpcCommand_ from _deviceService_, this function expects two parameters:  _deviceId_ and _requestBody_.\r\n"
      },
      {
        "user": "pde-system-integration",
        "created_at": "2021-02-22T14:14:27Z",
        "body": "self.ctx.controlapi.sendtwowaycommand function uses as target id targetDeviceId parameter, that could be found in ctx.defaultSubscription for control widgets.\r\n**-> could I set targetDeviceId e.g ctx.defaultSubscription.targetDeviceId = entityId ?**\r\nAs an alternative to this function, you could use sendTwoWayRpcCommand from deviceService, this function expects two parameters: deviceId and requestBody.\r\n**-> Could you give me more information about sendTwoWayRpcCommand ? if possible, pls give me some script code ?**\r\nMany thanks!"
      },
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-02-23T17:19:40Z",
        "body": "@pde-system-integration,\r\nI think it is possible to change _ctx.defaultSubscription.targetDeviceId_ parameter, but to be sure that widget behavior would be predictable it would be better to use _sendTwoWayRpcCommand_ from _deviceService_.\r\nExample of using _deviceService_:\r\n```\r\nconst $injector = self.ctx.$scope.$injector;\r\nconst deviceService = $injector.get(self.ctx.servicesMap.get('deviceService'));\r\nconst requestBody = {\r\n    method: 'string',\r\n    params: 'any',\r\n    timeout: 'number'\r\n};\r\ndeviceService.sendTwoWayRpcCommand('targetDeviceId', requestBody).subscribe(() => {\r\n    // processing request result\r\n})\r\n```\r\n"
      }
    ]
  },
  {
    "number": 4122,
    "title": "[Question] Updating telemetry data from dashboard widget",
    "created_at": "2021-02-18T12:32:32Z",
    "closed_at": "2021-03-24T11:59:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4122",
    "body": "**Component**\r\n * UI\r\n\r\n**Description**\r\nIs it possible to insert or update telemetry values from a dashboard using a widget? I know it is possible to change server attributes, but in the guides for developing widgets i can't find any mention of inserting/updating telemetry data. \r\n\r\n**Environment**\r\n * ThingsBoard: 3.1.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4122/comments",
    "author": "lorithai",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-02-22T08:38:09Z",
        "body": "Hello,\r\nTo update telemetry data you could use _Update timeseries_ widgets from _Input widgets_ bundle, also _Multiple attributes_ widget could be used, but for the last one don't forget to select _Timeseries_ data key type in the _Advanced_ data key settings."
      }
    ]
  },
  {
    "number": 4117,
    "title": "[Question] Failed to connect localhost:8080 with token $TOKEN",
    "created_at": "2021-02-17T14:16:23Z",
    "closed_at": "2021-02-18T16:00:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4117",
    "body": "I can't connect from the ide arduino software on my local server. When I tested it with the demo server it worked normally. I can access the server through the browser, but the arduino ide connection fails.\r\n\r\n * OS:  Ubuntu 20.04\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4117/comments",
    "author": "ruanfelipe7",
    "comments": [
      {
        "user": "trikimiki",
        "created_at": "2021-02-18T14:17:12Z",
        "body": "Hi!\r\n\r\nCan you please specify how are you trying to connect via Arduino and where it fails?"
      },
      {
        "user": "ruanfelipe7",
        "created_at": "2021-02-18T16:01:36Z",
        "body": "It was my mistake.\r\n"
      }
    ]
  },
  {
    "number": 4115,
    "title": "[Question] Add keys to RPC call",
    "created_at": "2021-02-17T11:09:28Z",
    "closed_at": "2024-01-12T10:53:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4115",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nI'm currently trying to get a few Mongoose OS driven devices to work hand in hand with my Thingsboard installation. Unfortunately, the RPC engine of Mongoose OS needs some extra keys like msg.id and msg.src to work properly. I couldn't get it to work with my Thingsboard instance as every message which contains more than msg.method and msg.params is blocked by the \"RPC call request\" node of my rule engine. Also I need send the request id in the message to get a response. Currently I have not implemented anything else on the device side, which would be possible.\r\n\r\nI have now switched to using shared attributes which work, but I think it's not ideal.\r\nMy question is therefore: Is there any possibility to get Thingsboard to send more than msg.method and msg.params in the RPC call to the device?\r\n\r\n**Environment**\r\n * OS:  Mongoose OS (device side), Ubuntu 20.04 (server side)\r\n * ThingsBoard: 3.2.0\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4115/comments",
    "author": "jonrot1906",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-01-12T10:53:27Z",
        "body": "closed due to inactive"
      }
    ]
  },
  {
    "number": 4093,
    "title": "[Question] Is it possible to add multiple devices with the same X.509 certificate?",
    "created_at": "2021-02-12T11:02:13Z",
    "closed_at": "2024-05-21T14:50:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4093",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nThis has been issued here #662. I couldn't find a clear answer, and the issue was old.\r\n\r\n1. Do I have to manually run `client.keygen.sh` everytime I add a new device, and manually add its certificate on the Manage Credentials section of the platform, or can I have a single certificate valid for hundreds of devices? If I am a producer and mass produce devices, is it still feasible to use a solution like ThingsBoard?\r\n\r\n2. Can I specify to use X.509 certificate by default as I add a new device, instead of a token? Can I add a new device which uses x.509 authentication from command line, instead of the GUI?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4093/comments",
    "author": "bilirubina",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T14:50:03Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4090,
    "title": "[Question] Is it possible to get TB server attribute from ESP8266?",
    "created_at": "2021-02-12T04:07:27Z",
    "closed_at": "2021-03-01T20:23:06Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4090",
    "body": "**Description**\r\nI have server attributes and I'd like to read these values from my ESP8266.\r\nI tried with RPC but I have to change the RPC code every time I have a new value.\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4090/comments",
    "author": "caiofrota",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-02-12T15:24:46Z",
        "body": "Hi @caiofrota,\r\nYou need to used shared attributes. "
      },
      {
        "user": "caiofrota",
        "created_at": "2021-02-12T15:46:55Z",
        "body": "> Hi @caiofrota,\r\n> You need to used shared attributes.\r\n\r\nThank you for answering! Do you have an example?"
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-02-12T17:40:10Z",
        "body": "Sorry, but I not have example"
      }
    ]
  },
  {
    "number": 4089,
    "title": "[Question] tb-node keeps logging \"Offset commit failed with a retriable exception. You should retry committing the latest consumed offsets.\"",
    "created_at": "2021-02-11T14:56:01Z",
    "closed_at": "2024-04-01T13:15:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4089",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * tb-node\r\n\r\n**Description**\r\nHello,\r\nI am running thingsboard on kubernetes with microservices architecture.\r\nwhen I execute `kubectl logs tb-node-0` it keeps loggin following all the time.\r\n\r\n```\r\n2021-02-11 14:28:59,404 [pool-6-thread-1] ERROR o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=transport-api-response-tb-node-0, groupId=transport-node-tb-node-0] Offset commit with offsets {tb_transport.api.responses.tb-node-0-0=OffsetAndMetadata{offset=0, leaderEpoch=null, metadata=''}} failed\r\norg.apache.kafka.clients.consumer.RetriableCommitFailedException: Offset commit failed with a retriable exception. You should retry committing the latest consumed offsets.\r\nCaused by: org.apache.kafka.common.errors.DisconnectException: null\r\n2021-02-11 14:28:59,404 [pool-6-thread-1] ERROR o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=transport-api-response-tb-node-0, groupId=transport-node-tb-node-0] Offset commit with offsets {tb_transport.api.responses.tb-node-0-0=OffsetAndMetadata{offset=0, leaderEpoch=null, metadata=''}} failed\r\norg.apache.kafka.clients.consumer.RetriableCommitFailedException: Offset commit failed with a retriable exception. You should retry committing the latest consumed offsets.\r\nCaused by: org.apache.kafka.common.errors.DisconnectException: null\r\n2021-02-11 14:28:59,404 [pool-6-thread-1] ERROR o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=transport-api-response-tb-node-0, groupId=transport-node-tb-node-0] Offset commit with offsets {tb_transport.api.responses.tb-node-0-0=OffsetAndMetadata{offset=0, leaderEpoch=null, metadata=''}} failed\r\norg.apache.kafka.clients.consumer.RetriableCommitFailedException: Offset commit failed with a retriable exception. You should retry committing the latest consumed offsets.\r\nCaused by: org.apache.kafka.common.errors.DisconnectException: null\r\n2021-02-11 14:28:59,404 [pool-6-thread-1] ERROR o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=transport-api-response-tb-node-0, groupId=transport-node-tb-node-0] Offset commit with offsets {tb_transport.api.responses.tb-node-0-0=OffsetAndMetadata{offset=0, leaderEpoch=null, metadata=''}} failed\r\norg.apache.kafka.clients.consumer.RetriableCommitFailedException: Offset commit failed with a retriable exception. You should retry committing the latest consumed offsets.\r\nCaused by: org.apache.kafka.common.errors.DisconnectException: null\r\n```\r\nI really couldn't figure out what causes to that problem. Could you please help?\r\n\r\nThanks\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.2.0\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4089/comments",
    "author": "alikamilyagli",
    "comments": [
      {
        "user": "Raven888888",
        "created_at": "2022-02-22T00:28:23Z",
        "body": "I have the same issue, have yours resolved?\r\nThe only workaround is restarting tb. :("
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-01-12T10:56:03Z",
        "body": "Please provide a full thingsboard.log file to investigate.\r\n\r\n`kubectl logs tb-node-0 > thingsboard.log`\r\n\r\nThanks."
      }
    ]
  },
  {
    "number": 4080,
    "title": "[Question] Why does Thingsboard use a comparatively old version of californium?",
    "created_at": "2021-02-09T14:56:26Z",
    "closed_at": "2021-02-10T10:15:02Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4080",
    "body": "**COAP transport**\r\n\r\n * Generic\r\n\r\n**Description**\r\nThingsboard is using Californium version 1.0.2. The current latest version is 2.6.1. Is there a particular reason for using such an old version, or is this simply a to-do?\r\n\r\n**Environment**\r\nAll\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4080/comments",
    "author": "joe-pulse",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-02-10T10:15:02Z",
        "body": "We are going to update to new version of californium in ThingsBoard 3.3 (together with LwM2M support)"
      }
    ]
  },
  {
    "number": 4071,
    "title": "Display Custom Alarm Messages Based on TB Selected Language",
    "created_at": "2021-02-07T08:30:02Z",
    "closed_at": "2024-05-21T14:52:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4071",
    "body": "Hello !\r\nPlease tell me how can I display alarm custom messages depending on Thingsboard selected language.\r\nI need something like this :\r\n\r\nif global_language='EN-us'\r\n{alarm_message='THIS IS AN ALARM'}\r\n\r\nif global_language='IT-it'\r\n{alarm_message='ITALIAN TRANSLATION'}\r\nand so on...\r\n\r\nThank You !\r\n\r\n**Environment**\r\n ThingsBoard CE 3.2.1 \r\nWindows 7 x64\r\nBrowser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4071/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T14:52:37Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4070,
    "title": "canot start thingsboard application after installation",
    "created_at": "2021-02-07T00:47:08Z",
    "closed_at": "2022-01-25T08:51:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4070",
    "body": "java.lang.IllegalStateException: Failed to load property source from 'file:./thingsboard.xml' (file:./thingsboard.xml)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:564)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:501)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:471)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$7(ConfigFileApplicationListener.java:450)\r\n        at java.lang.Iterable.forEach(Iterable.java:75)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$8(ConfigFileApplicationListener.java:450)\r\n        at java.lang.Iterable.forEach(Iterable.java:75)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:447)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$0(ConfigFileApplicationListener.java:350)\r\n        at org.springframework.boot.context.config.FilteredPropertySource.apply(FilteredPropertySource.java:54)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:338)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:229)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:213)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:203)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:191)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n        at org.thingsboard.server.ThingsboardServerApplication.main(ThingsboardServerApplication.java:38)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:107)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:467)\r\nCaused by: java.util.InvalidPropertiesFormatException: org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 10;  文档根元素 \"service\" 必须匹配 DOCTYPE 根 \"null\"。\r\n        at sun.util.xml.PlatformXmlPropertiesProvider.load(PlatformXmlPropertiesProvider.java:80)\r\n        at java.util.Properties$XmlSupport.load(Properties.java:1201)\r\n        at java.util.Properties.loadFromXML(Properties.java:881)\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:136)\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:122)\r\n        at org.springframework.boot.env.PropertiesPropertySourceLoader.loadProperties(PropertiesPropertySourceLoader.java:59)\r\n        at org.springframework.boot.env.PropertiesPropertySourceLoader.load(PropertiesPropertySourceLoader.java:47)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:628)\r\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:534)\r\n        ... 33 common frames omitted\r\nCaused by: org.xml.sax.SAXParseException: 文档根元素 \"service\" 必须匹配 DOCTYPE 根 \"null\"。\r\n        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)\r\n        at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\r\n        at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.rootElementSpecified(XMLDTDValidator.java:1599)\r\n        at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1877)\r\n        at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.startElement(XMLDTDValidator.java:742)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1359)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$ContentDriver.scanRootElementHook(XMLDocumentScannerImpl.java:1289)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3132)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:852)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n        at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)\r\n        at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\r\n        at sun.util.xml.PlatformXmlPropertiesProvider.getLoadingDoc(PlatformXmlPropertiesProvider.java:106)\r\n        at sun.util.xml.PlatformXmlPropertiesProvider.load(PlatformXmlPropertiesProvider.java:78)\r\n        ... 41 common frames omitted",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4070/comments",
    "author": "juxiangwu",
    "comments": [
      {
        "user": "LukasPeer",
        "created_at": "2021-02-11T08:21:30Z",
        "body": "Hello,\r\nare you sure that your Thingsboard config file is valid? \r\n\r\nPlease check the thingsboard.yml file for any errors. The error is created when Java (Thingsboard Backend) can not parse a yml File. \r\n\r\nLook for \" 文档根元素 \"service\" 必须匹配 DOCTYPE 根 \"null\". "
      },
      {
        "user": "trypzz",
        "created_at": "2021-06-01T14:52:39Z",
        "body": "Hello, @juxiangwu \r\n\r\nDo are previous message helped you?"
      }
    ]
  },
  {
    "number": 4057,
    "title": "See data of diiffrent devices under One Entity without duplication at Postgres DB Level",
    "created_at": "2021-02-04T08:03:59Z",
    "closed_at": "2024-05-21T15:32:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4057",
    "body": " Let us Say I have telemetry {\"temp1\":11} in DEVICE A. I make relation from DEVICE A to ENTITY_VIEW .It will make copy of {\"temp1\":11} to ENTITY_VIEW. My question is will it make the same entry at Database level also. So I will have two entries one under DEVICE A and other under ENTITY_VIEW in POSTGRES.\r\nIs there any other way using which I can see the data of different DEVICES under one ENTITY without DUPLICATION OF DATA AT POSTGRES LEVEL.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4057/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T15:32:47Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 4046,
    "title": "Export telemetry / timeseries data in a weekly CSV",
    "created_at": "2021-02-02T18:50:05Z",
    "closed_at": "2023-06-29T13:41:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4046",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n\r\n**Description**\r\nOn a weekly basis, I want to be able to export chosen device telemetry values that have been gathered, as a csv file through email.\r\n\r\nSimilar to #3065, I have tried using the current Generate Report tool; but with the amount of data collected the pdf exported is a snapshot of all the widgets and tables loading. And I would prefer to export in csv format, with the widget data rather than a screenshot.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4046/comments",
    "author": "marshandrewg",
    "comments": [
      {
        "user": "brucedune",
        "created_at": "2021-10-19T19:03:07Z",
        "body": "Did you ever figure this out?\r\nthanks"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:41:37Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 4044,
    "title": "[Question] Use telemetry data from different devices to visualize a calculation of the two or more variables.",
    "created_at": "2021-02-02T14:37:23Z",
    "closed_at": "2021-02-04T14:13:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4044",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nIn a graph widget it possible to add new data points. Is it possible to access multiple attributes from different devices and use those to calculate a new plot line using the Post Processing function? \r\n\r\nFor example, i have flow data, concentration data plotted in one plot. I would like to calculate the total amount (flow*concentration) using the flow and concentration and have that plotted alongside the two other variables.\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.1.1\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4044/comments",
    "author": "doscon-git",
    "comments": [
      {
        "user": "abhilash2134",
        "created_at": "2021-02-03T15:43:12Z",
        "body": "Facing the same problem!! \r\n"
      },
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-02-03T16:10:17Z",
        "body": "Hello,\r\nThere is no ability to get access to other keys data from the Post Processing function.\r\nTo achieve what you would like to get, it would be better to create a rule chain, that would perform all the calculations needed and create a new telemetry key, that could be plotted alongside other keys."
      },
      {
        "user": "doscon-git",
        "created_at": "2021-02-03T16:34:41Z",
        "body": "> Hello,\r\n> There is no ability to get access to other keys data from the Post Processing function.\r\n> To achieve what you would like to get, it would be better to create a rule chain, that would perform all the calculations needed and create a new telemetry key, that could be plotted alongside other keys.\r\n\r\nThank you. I was aware of using rule chains to do calculations, but so far i have only been able to apply these rule chains to present and future data, not past data. Is it possible to apply a rule chain to past data?"
      },
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-02-04T14:11:11Z",
        "body": "@doscon-git It is not possible to apply a rule chain to past data. One way to handle the past data is to write a script, that will fetch all needed data for a period, perform calculations and save newly created values with an appropriate timestamp in the past. "
      }
    ]
  },
  {
    "number": 4040,
    "title": "[Question] is it possible to control the values of the generator node from rule chain with a control widget?",
    "created_at": "2021-02-01T20:23:46Z",
    "closed_at": "2024-07-23T11:56:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4040",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nI want to generate a telemetry that can be controlled with the knob control widget. I was wondering if it was possible by changing the generator node script so it can interact with the widget.\r\n\r\n**Environment**\r\n * ThingsBoard: version 3.1.1PE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4040/comments",
    "author": "Lautaro-a",
    "comments": [
      {
        "user": "aadriii88",
        "created_at": "2024-05-07T12:20:12Z",
        "body": "yo tambien necesito ayuda\r\n"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-10T13:03:38Z",
        "body": "Hi. Nope, there is no such possibility since it has different functionalities. \r\nThe only solution, as I see, will be to create some custom widget, that will update rule chain's JSON. \r\nBut I'd rather recommend you to use Scheduler, since Generator designed for test purposes, not production. "
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-23T11:56:43Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 4039,
    "title": "Device connectivity status not updated",
    "created_at": "2021-02-01T17:43:21Z",
    "closed_at": "2024-05-23T14:36:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4039",
    "body": "Device connectivity status\r\n\r\n**Description**\r\n\r\nI'am using a HTTP integration on TB PE to get the data of my sensors in TB.   The integration sucessfully creates new devices and everything functions a expected.  It seems however that the device state is not always correctly updated.  Active = false although data just arrived and timeout is set to 5 days. \r\n\r\nThe server side attributes lastConnectTime  and lastDisconnectTime are also missing for all devices.\r\n\r\n\r\n\r\n**Environment**\r\n\r\n* Linux\r\n * 3.2.1. PE\r\n * Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4039/comments",
    "author": "sebsoft",
    "comments": [
      {
        "user": "gohm-tech",
        "created_at": "2022-01-11T06:28:31Z",
        "body": "Hi @ashvayka,\r\n\r\nWe have the same issue too.\r\n\r\nBest Regards,\r\n**Gohm Team**"
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-05-23T14:36:24Z",
        "body": "Hi. As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. Feel free to create a new ticket with full steps to reproduce in case it is still relevant.\r\n"
      }
    ]
  },
  {
    "number": 4035,
    "title": "[Question] Custom menu:  change the order of menu items",
    "created_at": "2021-02-01T08:48:04Z",
    "closed_at": "2022-08-25T11:58:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4035",
    "body": "\r\n**Component**\r\n     White-labeling: custom menu\r\n\r\n\r\n**Description**\r\nI wonder if we can change the order of items in a menu.\r\nThanks~\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard:  Professional Edition(PE)\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4035/comments",
    "author": "vincent12dev",
    "comments": [
      {
        "user": "Kullpoint",
        "created_at": "2021-11-29T16:12:42Z",
        "body": "just replace it in json file)\r\n"
      },
      {
        "user": "Kevinowitsch",
        "created_at": "2022-01-11T17:43:50Z",
        "body": "He probably wants to move a custom item above the predefined items. Have the same issue. Probably not possible right now."
      },
      {
        "user": "PovitruliaV",
        "created_at": "2022-06-21T16:41:17Z",
        "body": "Hi @vincent12dev ,\r\nUnfortunately, at this point in time, TB does not provide such an opportunity.\r\nRegards"
      }
    ]
  },
  {
    "number": 4017,
    "title": "[Question] how get user role",
    "created_at": "2021-01-28T07:53:31Z",
    "closed_at": "2022-08-25T15:41:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4017",
    "body": "How can i get user role using 'roleService' ? \r\nthanks\r\n\r\n * ThingsBoard: 3.1\r\n * Browser: chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4017/comments",
    "author": "anzorayubov",
    "comments": [
      {
        "user": "ashishpatil09",
        "created_at": "2021-08-31T10:21:45Z",
        "body": "did you manage to get this?"
      },
      {
        "user": "ban2derlog",
        "created_at": "2022-08-10T14:48:00Z",
        "body": "Hi, do you have this issue on latest version?"
      }
    ]
  },
  {
    "number": 4006,
    "title": "Copy data from one device to other using Rule Engine",
    "created_at": "2021-01-27T07:47:46Z",
    "closed_at": "2024-05-21T15:39:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/4006",
    "body": "If We set relation from Device A to Device B and using Rule Chain and using Change Originator.\r\n, the whole data gets copied to Device B\r\nMy question is , is it the data duplication at Postgres DB levvel also .\r\nSo Postgres will have 2 differnt entries for one key under two different device.( Device A and Device B)\r\nCan anyone please help me to clarify this.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/4006/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-01-28T14:15:46Z",
        "body": "Hi @nmahale10,\r\nIf Rules Chain looks like this:\r\n`Data -> save attributes/save timeseries -> Change Originator -> save attributes/save timeseries `\r\nPostgres will have 2 different entries for one key under two different devices. ( Device A and Device B)"
      },
      {
        "user": "nmahale10",
        "created_at": "2021-01-28T17:19:06Z",
        "body": "OK. If I use ASSET then also the behavior will be same?\r\nIf We set relation from Device A to ASSET A and using Rule Chain and using Change Originator.\r\n, the whole data gets copied to ASSET A\r\nMy question is , is it the data duplication at Postgres DB level also .\r\nSo Postgres will have 2 different entries for one key under two different entities.( Device A and ASSET  A)\r\nCan you please help me to clarify this."
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-01-28T20:33:47Z",
        "body": "Yes, everything is correct "
      },
      {
        "user": "nmahale10",
        "created_at": "2021-02-01T05:18:41Z",
        "body": "OK Thanks for the reply. Can I use ENTITY_VIEW so that I can avoid data duplication at Potsgres level.\r\nIf We set relation from Device A to ENTITY_VIEW and using Rule Chain and using Change Originator.\r\n, the whole data gets copied to ENTITY_VIEW\r\nMy question is , is it the data duplication at Postgres DB level also .\r\nSo Postgres will have 2 different entries for one key under two different entities.( Device A and ENTITY_VIEW)\r\nCan you please help me to clarify this."
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-02-01T06:49:55Z",
        "body": "Yes, but you don't have to. ENTITY_VIEW automatically copies data added in the setting and belongs to the time window ENTITY_VIEW."
      },
      {
        "user": "nmahale10",
        "created_at": "2021-02-01T07:03:56Z",
        "body": "OK. But does it make a same entry to ENTITY_VIEW . Let us Say I have telemetry {\"temp1\":11} in DEVICE A. I make relation from DEVICE A to ENTITY_VIEW .It will make copy of {\"temp1\":11} to ENTITY_VIEW. My question is will it make the same entry at Database level also. So I will have two entries one under DEVICE A and other under ENTITY_VIEW in POSTGRES.\r\nIs there any other way using which I can see the data of different DEVICES under one ENTITY without DUPLICATION OF DATA AT POSTGRES LEVEL."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T15:39:20Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 3998,
    "title": "QoS Control in server-side RPC requests ",
    "created_at": "2021-01-26T11:56:30Z",
    "closed_at": "2024-07-10T12:57:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3998",
    "body": "Given an device, in order to subscribe to RPC commands from the server, send SUBSCRIBE message to the following topic:\r\n\r\nv1/devices/me/rpc/request/+\r\n\r\nThe client/device can subscribe with QoS 1, but how it can be controlled the message published to that topic comes with QoS =1? It seems to be zero.\r\n\r\nSame for IoW Gateway and RPC configuration. Can it be set that a given RPC is sent to a given topic?\r\nserverSideRpc configuration field allows requestTopicExpression, but no qos. Can Qos be leverage there?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3998/comments",
    "author": "jalvarez2000",
    "comments": [
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-07-10T12:57:33Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity. If it steel relevant, feel free to open a new ticket with full description of your request."
      }
    ]
  },
  {
    "number": 3993,
    "title": "Dashboard not working when \"Always Full-screen\" selected",
    "created_at": "2021-01-26T08:52:58Z",
    "closed_at": "2023-06-20T08:35:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3993",
    "body": "Dashboards\r\n\r\n Generic\r\n\r\nI created a dashboard using the HTML Card as a navigator. The issue is that when I set that dashboard to \"Always Full-screen\" for the user it does not function that same as when the \"Always Full-screen\" is unchecked. In other words, when the \"Always Full-screen\" is unchecked the dashboard work as intended.\r\n\r\nWe are on the latest version of TB (upgraded last night 2021/01/25)\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3993/comments",
    "author": "Elnuvr",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-01-28T13:33:19Z",
        "body": "Hi @Elnuvr,\r\n\r\nThis correct work TB because this function is designed to work with one dashboard and provides the inability to go to other pages that are different from the specified dashboard"
      },
      {
        "user": "PawelOstropolski",
        "created_at": "2022-04-12T13:43:04Z",
        "body": "Looks like I have similar issue here.... for chrome on Android devices...  the functionality I would like to achieve is:\r\na user ( a customer of a customer) login will point him directly to a single dashboard in full screen mode.... no toolbars, no home etc just the dash content full screen. \r\nI tried many combinations of user settings and dashboard settings but can not get it to work on Chrome on Android... which does not have a full screen menu button. \r\n\r\n@TB Can you provide an intended configuration for the above i.e.: user settings and dashboard settings   "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-20T08:35:03Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 3978,
    "title": "Create Custom REST API Queries",
    "created_at": "2021-01-21T15:53:19Z",
    "closed_at": "2024-05-21T15:41:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3978",
    "body": "Hello All,\r\n   In my case I want to send the historical data of all keys of one device using \"getTimeseries\".\r\nIn current REST API Call key names are compulsory.\r\n\r\nI need to create REST API in such a way that I can keep key names optional.\r\nBy default it should send all the data of keys.\r\n\r\nCan we achieve this in TB PE 3.1 Version.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3978/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T15:41:22Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 3977,
    "title": "Read REST API Call Query in Rule Chain",
    "created_at": "2021-01-21T15:34:29Z",
    "closed_at": "2024-05-21T15:41:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3977",
    "body": "Can I get REST API CALL in Rule Engine.\r\n\r\nBasically I want to design one REST API Query which will be sent to TB.\r\nThis Query will then read by TB and add keys in query from Rule Chain.\r\nIs it possible to do this",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3977/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-21T15:41:47Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 3946,
    "title": "Get Histotical data of One or More  device/asset using Rest Api",
    "created_at": "2021-01-13T10:35:11Z",
    "closed_at": "2024-05-25T08:28:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3946",
    "body": "I want to get historical data of one day of one device/ asset which give me all data of one day of all keys available in that device\r\nI am able to get data for one key or multiple key but i want all the data of device in single Rest Api Request URL\r\n\r\nRegards",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3946/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-25T08:28:05Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n\r\n\r\n\r\n\r\n\r\n\r\n"
      }
    ]
  },
  {
    "number": 3938,
    "title": "Custom Action on entity view",
    "created_at": "2021-01-12T09:25:58Z",
    "closed_at": "2023-06-29T13:26:22Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3938",
    "body": "var $injector = widgetContext.$scope.$injector;\r\n\r\n$injector.get('deviceService').getDevice (entityID.id).then(function(device) {\r\n\r\n      if (device.name == 'thermostat1') {                    \r\n\r\n          openDashboardState ('Thermostat1');\r\n\r\n      } else if (device.name == 'thermostat2') {\r\n\r\n          openDashboardState('Thermostat2');\r\n\r\n      } else if (device.name == 'thermostat3') {\r\n\r\n          openDashboardState('Thermostat3');\r\n\r\n      }\r\n\r\n});\r\n\r\nfunction openDashboardState(stateId) {\r\n\r\n    var params = {\r\n        entityId: entityId,\r\n        entityName: entityName\r\n    };\r\n\r\n    Widgetcontext.statecontroller.openState(stateId, params, false);\r\n}\r\n\r\n\r\n\r\nplease I want to use this code on \"Entity View\" not in the device",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3938/comments",
    "author": "engqandeel1993",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-01-19T17:44:05Z",
        "body": "Hello,\r\nTo achieve what you want to, you need just to replace _deviceService_ with _entityViewService_.\r\nSo your code will be transformed in the next way:\r\n```\r\nvar $injector = widgetContext.$scope.$injector;\r\n\r\n$injector.get('entityViewService').getEntityView(entityID.id).then(function(entityView) {\r\n\r\n    if (entityView.name == 'thermostat1') {\r\n\r\n        openDashboardState ('Thermostat1');\r\n\r\n    } else if (entityView.name == 'thermostat2') {\r\n\r\n        openDashboardState('Thermostat2');\r\n\r\n    } else if (entityView.name == 'thermostat3') {\r\n\r\n        openDashboardState('Thermostat3');\r\n\r\n    }\r\n});\r\n```\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:26:22Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 3923,
    "title": "REST API Properties",
    "created_at": "2021-01-08T10:06:08Z",
    "closed_at": "2024-05-22T10:17:07Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3923",
    "body": "Hello All,\r\n\r\n    What is sort Property in Swagger URL REST API Link.\r\n\r\n /api/user/devices{?type,textSearch,sortProperty,sortOrder,pageSize,page}\r\n\r\nWhat property to be set for \r\ntextSearch and sortProperty",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3923/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2021-01-12T08:29:48Z",
        "body": "Hi @nmahale10,\r\n\r\ntextSearch [String] - name to find device\r\nsortProperty [String] - device name property, for sorting devices in array response"
      },
      {
        "user": "nmahale10",
        "created_at": "2021-01-12T08:38:52Z",
        "body": "Can you please explain what is device Name Property.\r\n\r\nIs their any other way to get All devices of Particular tenant."
      },
      {
        "user": "vvlladd28",
        "created_at": "2021-01-12T09:46:01Z",
        "body": "For example device Name Property: name, label, type, createdTime, etc.\r\nGet all devices, current tenant, used API: /api/user/devices?pageSize=1000&page=0\r\n "
      },
      {
        "user": "nmahale10",
        "created_at": "2021-01-12T09:58:07Z",
        "body": "Thanks a lot for quick update.\r\n\r\nIs it possible to modify response as per requirement.\r\n\r\nFor example I just want 2 fields only “name” and “createdtime” in response"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-22T10:17:07Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3914,
    "title": "K8s image deployment failed",
    "created_at": "2021-01-04T06:04:26Z",
    "closed_at": "2022-08-25T15:51:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3914",
    "body": "\r\n * Generic\r\n\r\n**Description**\r\nThe deployment of TB Web UI and TB JS executor is running with error\r\n\r\nStarting‘Thingsboard Web UI Microservice’... \r\nSegmentation fault(core dumped)\r\n\r\n\r\n\r\nI generated the image based on MSA of 2.4.3 source code。I have no problem with the official image deployment。\r\nI think the size of the 2.4.3 image provided by the government is 40KB less than the image generated by my own packaging。\r\nThe only thing I don't think is that dockerfile in 2.4.3 is debian:stretch But it has become th in the latest 3.2 ingsboard:base 。 I don't have any clue. I hope I can get some ideas to solve this problem.thank you very much indeed\r\n**Installation**\r\n\r\n\r\n * ThingsBoard: 2.4.3\r\n * Browser:chrome\r\n * docker version：18.06.1-ce\r\n *K8S version  ：v1.14.0",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3914/comments",
    "author": "425804004",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-01-04T14:22:42Z",
        "body": "The 2.4.3 is a very old version. Please try to use the latest 3.x or at least 2.5.x. "
      },
      {
        "user": "425804004",
        "created_at": "2021-01-05T02:05:02Z",
        "body": "> The 2.4.3 is a very old version. Please try to use the latest 3.x or at least 2.5.x.\r\n\r\nBecause I have some code for secondary development and want to migrate it to k8s code, I want to determine whether images Debian has affected it. If so, I will upgrade the version"
      },
      {
        "user": "ban2derlog",
        "created_at": "2022-07-15T10:08:37Z",
        "body": "Hi, are you try to use latest version for K8s deployment?"
      }
    ]
  },
  {
    "number": 3913,
    "title": "[Question] propagate device attributes to parent asset",
    "created_at": "2021-01-02T07:23:39Z",
    "closed_at": "2024-05-22T11:25:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3913",
    "body": "Hi, I have a few devices that report metadata about the asset they're installed in (the asset in thingsboard \"contains\" them) as client attributes.\r\nI'd like to see this attributes as attributes for the asset, is there any way to do it? I experimented a bit with rule chains but couldn't get it to work. Any help?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3913/comments",
    "author": "fargiolas",
    "comments": [
      {
        "user": "jsalazarplv",
        "created_at": "2023-06-02T18:19:34Z",
        "body": "Hi, i'm using Thingsboard PE 3.5.0.. so i dont know if this will be of any help but I had a similar problem in my setup. I managed to solve this using the node \"Duplicate to Related\" on the transformation section. This works best if the device it's only contained by one asset. After I duplicate the message to the parent asset, modify it however you like and then just use \"Save Attributes\" node or the \"Save Timeseries\" node. I hope this helps"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-22T11:25:42Z",
        "body": "Closed due to inactivity"
      }
    ]
  },
  {
    "number": 3905,
    "title": "[Question] How can I have remote access to Cassandra db through the [thingsboard/tb-cassandra] docker instance?",
    "created_at": "2020-12-29T08:26:06Z",
    "closed_at": "2023-06-29T13:26:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3905",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI want to have remote access to Cassandra time series DB so I do the followings:\r\n\r\n1. Running docker container from thingsboard/tb-cassandra image file with exposing port 9042:9042 for remote access.\r\n2. Having local access to Cassandra with the following command: docker exec -it [container id] bash\r\n3. Then using cqlsh to connect to DB successfully and seeing time-series data through container\r\n4. Pinging container from a remote host leads to successful\r\n5. **But** using cqlsh tool on remote host (and even host which running container): cqlsh [container IP] => result: connection refused\r\n\r\nIs there any specific username/password for Cassandra DB? or any other problem?\r\n\r\n\r\n\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Docker Engine - Community Version: 20.10.1 on Ubuntu\r\n * ThingsBoard: thingsboard/tb-cassandra:3.2.0\r\n * Browser: Google Chrome Version 87.0.4280.88 (Official Build) (64-bit)\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3905/comments",
    "author": "Hamed-Hasibi",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2021-01-04T16:30:55Z",
        "body": "Please attach your docker file. I suspect that the issue is with the Cassandra listen-address which is localhost and thus your cassandra will not be available. You can build your own docker image or go to the container file system and change this setting. In any case, this is not recommended and you should just use docker-compose setup and separate Cassandra and ThingsBoard. The thingsboard/tb-cassandra image is created to simplify the getting started process."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:26:35Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 3875,
    "title": "How To Display Several devices having same serial number ?",
    "created_at": "2020-12-21T08:20:17Z",
    "closed_at": "2024-05-23T12:38:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3875",
    "body": "Hi ,\r\n\r\ni have main dashboard having all devices, some if these devices having same serial number as timeseries value ( ex . 123123)\r\nthese devices is displayed with device admin widget.\r\ni want to click of any of the devices with this serial number and navigate to new dashboard state and display only devices having this serial number.\r\nN.B i don't know the serial number it is dynamic \r\nthanks. \r\nplease if you can  @ashvayka @vvlladd28 ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3875/comments",
    "author": "mm-1994",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T12:38:10Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 3871,
    "title": "[Question]Why use maven and gradle at the same time?",
    "created_at": "2020-12-19T13:44:12Z",
    "closed_at": "2020-12-21T16:44:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3871",
    "body": "both of them are build tool, so why use them at the same time? totally confused\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3871/comments",
    "author": "hitzhenyuwei",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-12-21T16:44:26Z",
        "body": "Gradle is used to build deb and rpm packages only. The main build tool is still Maven. "
      }
    ]
  },
  {
    "number": 3866,
    "title": "[Question] Multiple alarms in the same message",
    "created_at": "2020-12-18T15:59:22Z",
    "closed_at": "2022-08-25T18:48:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3866",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nHi, I'd like to define a workflow to be able to manage multiple alarms within the same input message.\r\nFor example, if we have the following message:\r\n{\r\ntemperature: 10,\r\nhumidity: 85\r\n}\r\nI'd like to create a workflow in which I can manage two alarms without duplicating nodes in different chains. For example if it was possible to \"split\" the original message in two message in the same chain (or, in general, N messages, 1 for each parameter) I could manage more easily this process. But this solution it seems not possibile.\r\n\r\nAre there any \"simple\" way to do this?\r\n\r\nThanks in advance\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3866/comments",
    "author": "shaphiro",
    "comments": [
      {
        "user": "LukasPeer",
        "created_at": "2021-02-11T10:37:06Z",
        "body": "You can try to use a \"Filter - switch\" Node. \r\n\r\nYou can send multiple outputs for each attribute. \r\n\r\nSplit Code for the Node: \r\n```javascript\r\nreturn Object.keys(msg)\r\n```\r\n\r\nNow you have a Message for every single Telemetry in your Object.\r\n\r\nI hope this helps you a bit."
      }
    ]
  },
  {
    "number": 3848,
    "title": "ThingsBoard Create Device with custom Access token",
    "created_at": "2020-12-14T12:18:58Z",
    "closed_at": "2020-12-17T07:55:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3848",
    "body": "**_### hi all\r\n\r\ni would like to create new device from admin device widget and change its access token while creation.\r\ncode i am using_**\r\n\r\nlet $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\r\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\r\n\r\nopenAddDeviceDialog();\r\n\r\nfunction openAddDeviceDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddDeviceDialogController).subscribe();\r\n}\r\n\r\nfunction AddDeviceDialogController(instance) {\r\n    let vm = instance;\r\n    \r\n    vm.addDeviceFormGroup = vm.fb.group({\r\n      deviceName: ['', [vm.validators.required]],\r\n      deviceType: ['', [vm.validators.required]],\r\n      deviceLabel: [''],\r\n      attributes: vm.fb.group({\r\n          latitude: [null],\r\n          longitude: [null]\r\n      })      \r\n    });\r\n    \r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    \r\n    vm.save = function() {\r\n        vm.addDeviceFormGroup.markAsPristine();\r\n        let device = {\r\n            name: vm.addDeviceFormGroup.get('deviceName').value,\r\n            type: vm.addDeviceFormGroup.get('deviceType').value,\r\n            label: vm.addDeviceFormGroup.get('deviceLabel').value\r\n        };\r\n        let device2 = {\r\n            createdTime: 0,\r\n            credentialsId: \"string\",\r\n            credentialsType: \"ACCESS_TOKEN\",\r\n            credentialsValue: \"123\",\r\n            id:\"string\"\r\n            \r\n            \r\n        };\r\n        deviceService.saveDevice(device).subscribe(\r\n            function (device) {\r\n                saveAttributes(device.id).subscribe(\r\n                    function () {\r\n                        widgetContext.updateAliases();\r\n                        vm.dialogRef.close(null);\r\n                    }\r\n                );\r\n            }\r\n        );\r\n       deviceService.saveDeviceCredentials(device2).subscribe();\r\n        \r\n           \r\n    }\r\n    function saveAttributes(entityId) {\r\n        let attributes = vm.addDeviceFormGroup.get('attributes').value;\r\n        let attributesArray = [];\r\n        for (let key in attributes) {\r\n            attributesArray.push({key: key, value: attributes[key]});\r\n        }\r\n        if (attributesArray.length > 0) {\r\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\r\n        } else {\r\n            return widgetContext.rxjs.of([]);\r\n        }\r\n    }\r\n}\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3848/comments",
    "author": "mm-1994",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2020-12-14T15:56:53Z",
        "body": "Hi @mm-1994,\r\n\r\nYou need to change the device save function:\r\n```\r\nvm.save = function() {\r\n    vm.addDeviceFormGroup.markAsPristine();\r\n    let device = {\r\n        name: vm.addDeviceFormGroup.get('deviceName').value,\r\n        type: vm.addDeviceFormGroup.get('deviceType').value,\r\n        label: vm.addDeviceFormGroup.get('deviceLabel').value\r\n    };\r\n    widgetContext.http.post('/api/device/credentials?accessToken=123', device).subscribe(\r\n        function (device) {\r\n            saveAttributes(device.id).subscribe(\r\n                function () {\r\n                    widgetContext.updateAliases();\r\n                    vm.dialogRef.close(null);\r\n                }\r\n            );\r\n        }\r\n    );\r\n}\r\n```\r\n"
      },
      {
        "user": "mm-1994",
        "created_at": "2020-12-15T08:18:57Z",
        "body": "Hi @vvlladd28 \r\nthanks so much for your help and quick response.\r\ni tried your code but when i create the device an error \"incorrect deviceId null\"\r\n_i am using device admin table_\r\nhere is my code\r\n\r\n`let $injector = widgetContext.$scope.$injector;\r\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\r\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\r\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\r\n\r\nopenAddDeviceDialog();\r\n\r\nfunction openAddDeviceDialog() {\r\n    customDialog.customDialog(htmlTemplate, AddDeviceDialogController).subscribe();\r\n}\r\n\r\nfunction AddDeviceDialogController(instance) {\r\n    let vm = instance;\r\n    \r\n    vm.addDeviceFormGroup = vm.fb.group({\r\n      deviceName: ['', [vm.validators.required]],\r\n      deviceType: ['', [vm.validators.required]],\r\n      deviceLabel: [''],\r\n      attributes: vm.fb.group({\r\n          latitude: [null],\r\n          longitude: [null]\r\n      })      \r\n    });\r\n    \r\n    vm.cancel = function() {\r\n        vm.dialogRef.close(null);\r\n    };\r\n    \r\n    vm.save = function() {\r\n        vm.addDeviceFormGroup.markAsPristine();\r\n        let device = {\r\n            name: vm.addDeviceFormGroup.get('deviceName').value,\r\n            type: vm.addDeviceFormGroup.get('deviceType').value,\r\n            label: vm.addDeviceFormGroup.get('deviceLabel').value\r\n        };\r\n        widgetContext.http.post('/api/device/credentials?accessToken=123', device).subscribe(\r\n            function (device) {\r\n                saveAttributes(device.id).subscribe(\r\n                    function () {\r\n                        widgetContext.updateAliases();\r\n                        vm.dialogRef.close(null);\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    };\r\n    \r\n    function saveAttributes(entityId) {\r\n        let attributes = vm.addDeviceFormGroup.get('attributes').value;\r\n        let attributesArray = [];\r\n        for (let key in attributes) {\r\n            attributesArray.push({key: key, value: attributes[key]});\r\n        }\r\n        if (attributesArray.length > 0) {\r\n            return attributeService.saveEntityAttributes(entityId, \"SERVER_SCOPE\", attributesArray);\r\n        } else {\r\n            return widgetContext.rxjs.of([]);\r\n        }\r\n    }\r\n}`"
      },
      {
        "user": "vvlladd28",
        "created_at": "2020-12-16T22:41:25Z",
        "body": "Hi @mm-1994,\r\nI had mistaken in URL API, this correct code:\r\n```\r\n widgetContext.http.post('/api/device?accessToken=123', device).subscribe(\r\n        function (device) {\r\n            saveAttributes(device.id).subscribe(\r\n                function () {\r\n                    widgetContext.updateAliases();\r\n                    vm.dialogRef.close(null);\r\n                }\r\n            );\r\n        }\r\n    );\r\n```"
      },
      {
        "user": "mm-1994",
        "created_at": "2020-12-17T07:55:27Z",
        "body": "@vvlladd28 \r\nthank you so much really helped alot"
      }
    ]
  },
  {
    "number": 3816,
    "title": "[Question] When will Lwm2m release?",
    "created_at": "2020-12-08T05:53:24Z",
    "closed_at": "2020-12-08T20:35:24Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3816",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nHi, \r\nIn roadmap 3.2 will support lwm2m protocol, may I knwo when will 3.2 release with lwm2m?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3816/comments",
    "author": "zhangxianwei2015",
    "comments": [
      {
        "user": "zhangxianwei2015",
        "created_at": "2020-12-08T05:54:52Z",
        "body": "@nickAS21 "
      },
      {
        "user": "ashvayka",
        "created_at": "2020-12-08T20:35:24Z",
        "body": "Hi @zhangxianwei2015 , we have done a lot of work to make LwM2M support available. However, forced to postpone it till 3.3. I believe it will be available by the end of January 2021. "
      },
      {
        "user": "zhangxianwei2015",
        "created_at": "2021-01-21T08:40:34Z",
        "body": "Hi,\r\nSeems there is no progress in git branch lwm2m.\r\nWill it still be available in the end of January 2021? or a reschedule?\r\n\r\nbrs\r\n"
      },
      {
        "user": "JavierNR",
        "created_at": "2021-01-21T17:09:40Z",
        "body": "I'm too interested on lwm2m support.\r\n@zhangxianwei2015 I believe thingsboard team are working on lwm2m support, see: #3840\r\n\r\nThanks to thingsboard team for all efforts ;)"
      },
      {
        "user": "zhangxianwei2015",
        "created_at": "2021-01-25T09:09:05Z",
        "body": "@JavierNR \r\nAfter the code revert, there has been 2 months without any update in branch lwm2m.\r\nI am really appreciate to the thingsboard team :), and I am also looking forward to the lwm2m support:)\r\n\r\n\r\n"
      }
    ]
  },
  {
    "number": 3814,
    "title": "Devices Aren't Appearing When Added By Integration",
    "created_at": "2020-12-07T19:27:30Z",
    "closed_at": "2022-02-02T08:55:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3814",
    "body": "We are currently using an AWS IOT Integration.  When the integration automatically provisions a device, the device is not added to the device panel but instead only appears in the relations tab of the integration.  If I try to add the device manually in the device section, I get the error \"Device with such name already exists!\".  Is this a bug or am I missing something?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3814/comments",
    "author": "webstermath",
    "comments": [
      {
        "user": "seanofahey",
        "created_at": "2021-02-03T16:42:15Z",
        "body": "I am experiencing the same with devices that have been created using the HTTP Integration on thingsboard.cloud.  The devices are listed as expected in the Integrations/Relations tab with the relation \"ManagedByIntegration\" but none of the devices are shown in the Device Groups/All entity group.  Is there an additional step required to make the devices appear?"
      },
      {
        "user": "rivardjm",
        "created_at": "2021-09-29T22:22:07Z",
        "body": "Any update on this? It has been quite a while and it would be nice if there was a workaround or if we are missing something."
      },
      {
        "user": "seanofahey",
        "created_at": "2021-10-07T15:00:05Z",
        "body": "@rivardjm in my case the error turned out to be on my end. I was setting a value in the data converter JavaScript that was causing the issue. "
      },
      {
        "user": "ashvayka",
        "created_at": "2021-10-07T15:23:48Z",
        "body": "Hi @seanofahey , @webstermath , just checking if this is related to the output of the converter. Most probable cause is that it is assigned to some customer (Customer A, by default) and you can find the device in the Customer Hierarchy. Please confirm that this is not the case here. "
      },
      {
        "user": "v2sumac",
        "created_at": "2021-11-22T11:47:41Z",
        "body": "> Hi @seanofahey , @webstermath , just checking if this is related to the output of the converter. Most probable cause is that it is assigned to some customer (Customer A, by default) and you can find the device in the Customer Hierarchy. Please confirm that this is not the case here.\r\n\r\nSeriously Awesome, I found under Customer A and changed the owner. Thank You Dude!"
      }
    ]
  },
  {
    "number": 3813,
    "title": "[Question] How to plot an array of data-points (time independent) using a Thingsboard widget",
    "created_at": "2020-12-07T16:52:22Z",
    "closed_at": "2024-05-23T12:57:43Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3813",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nWhen a specific event occurs in the field, an IoT device takes a series of data samples (eg. transient current readings at the moment of a fault). These readings are then published to a Thingsboard instance via the MQTT API.\r\n\r\nIs there a way to plot these data-points as a waveform using a Thingsboard widget? The data-points can be published in any format. eg. [221.13, 220.94, 220.75, ...]\r\n\r\nI have tried publishing the data as an array of telemetry objects with the 1 second intervals:\r\n\r\neg.\r\n[{\r\n      \"values\": {\"currentSample\": 221.13},\r\n      \"ts\": 1607354360512\r\n   },\r\n   {\r\n      \"values\": {\"currentSample\": 220.94},\r\n      \"ts\": 1607354361512\r\n   },\r\n   {\r\n      \"values\": {\"currentSample\": 220.75},\r\n      \"ts\": 1607354362512\r\n   }, ...\r\n]\r\nThe idea is then to plot the waveform as telemetry using the flot widget. The issue is that this waveform will only exist for a short period of time. Is there then a way to visualize this limited telemetry irrespective of the current window time?   \r\n\r\n**Environment**\r\n\r\n * OS:  Ubuntu 20.04.1 LTS\r\n * ThingsBoard: v.3.1.1\r\n * Browser:  Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3813/comments",
    "author": "21659419",
    "comments": [
      {
        "user": "ahmed-1a",
        "created_at": "2022-04-30T18:49:53Z",
        "body": "Same issue here"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T12:57:44Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3812,
    "title": "[Question] LwM2M support in Release 3.2",
    "created_at": "2020-12-07T12:34:53Z",
    "closed_at": "2020-12-08T20:35:03Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3812",
    "body": "can you please advise if the LwM2M will be supported in the 3.2 version and if there is a timeline for it?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3812/comments",
    "author": "sanadamin",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-12-08T20:35:03Z",
        "body": "Hi @sanadamin , we have done a lot of work to make LwM2M support available. However, forced to postpone it till 3.3. I believe it will be available by the end of January 2021. "
      },
      {
        "user": "sanadZamin",
        "created_at": "2021-03-22T08:26:58Z",
        "body": "Hello @ashvayka is there any update on the lwm2m release date?"
      }
    ]
  },
  {
    "number": 3795,
    "title": "[Question] Timewindow selection and Back button",
    "created_at": "2020-12-01T22:17:30Z",
    "closed_at": "2022-08-25T18:48:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3795",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n \r\n**Description**\r\nTimeseries widgets (charts. etc.) allow \"zooming\" into a certain period by selecting the required time range by a mouse. This feature is extremely helpful for drill-down interaction, however there is no way to get back to the prevoius time window. Hitting the \"Back\" browser button is a common UI technique expected by users but with Thingsboard it quits the current page.\r\n\r\nIs there any way to support the \"Go back\" functionality for time periods (and for dashboard states as well by the way) using Back browser button or implement this functionality with a dashboard button \r\n\r\nThank you\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n  * ThingsBoard: version 3.1.1. PE\r\n * Browser: Chrome, Edge\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3795/comments",
    "author": "rdenisyuk",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-12-02T10:17:40Z",
        "body": "Hello,\r\nAs for chart widgets, when \"zooming\" into a certain period, you can go back to a previous time period by double-click on a widget."
      }
    ]
  },
  {
    "number": 3794,
    "title": "[Question] Mixed-up telemetry data",
    "created_at": "2020-12-01T15:37:29Z",
    "closed_at": "2022-08-26T15:38:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3794",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nWe seem to have issues with telemetry data mixed between devices. Our backend iterates through roughly 100 devices and sends the payloads to an HTTP Integration. This data then goes through a data converter. The backend logs all requests. However, in Thingsboard, there are several instances where the data received did not match what was sent. Are there any known issues that may explain this? Thanks!\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: self-hosted version 3.0.1PE\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3794/comments",
    "author": "jwholme2",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-12-03T15:38:44Z",
        "body": "Hi @jwholme2 . The most common issue is that your data converter function uses global and not local variables. \r\nUse,\r\n```javascript\r\nvar myVar = 1;\r\n```\r\ninstead of \r\n```javascript\r\nmyVar = 1;\r\n```\r\n\r\nAt least, this is the only possible root cause that I know. \r\n"
      },
      {
        "user": "ashvayka",
        "created_at": "2020-12-08T20:36:30Z",
        "body": "Hi @jwholme2 , I hope my advice helped to solve the issue. Please provide comments. I am planning to close this issue if no comments within 5 days. "
      }
    ]
  },
  {
    "number": 3758,
    "title": "Is there a way to hide a widget based on device type?",
    "created_at": "2020-11-19T18:46:47Z",
    "closed_at": "2020-11-20T21:12:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3758",
    "body": "**Component**\r\nDashboard states\r\n\r\n * UI\r\nMultiple dashboard for devices\r\n\r\n**Description**\r\nIs there a way to hide a widget based on the device type that's clicked?  For Example I have an entity list widget with all my devices on my first landing page dashboard.  The user clicks on the device and it goes to a dashboard state with detailed info.  I have devices that are very similar but may or may not have an extra feature such as humidity.  So basically if I have a device with temperature and humidity I want to show the graphs of temperature and humidity when I click on that type of device.  If I have a device with only temperature the info dashboard should have no humidity graph.  \r\n\r\nIs the only way to do this with multiple dashboards?  The issue I have with that is there are several other widgets on the info page and if I make a change to one of those other widgets I now have to duplicate the change on the other dashboards....\r\n\r\n**Environment**\r\n * OS:  Windows Server 2016\r\n * ThingsBoard: 2.3.4\r\n * Browser: Chrome (latest version)",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3758/comments",
    "author": "sferguson-ISI",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-11-20T08:14:35Z",
        "body": "Hello,\r\nThere is no option to hide a widget from a particular state but in your case, you could create a second state (not a new dashboard), and when clicking on a device in the list check its type and depending on this navigate to the needed state. As for widgets that should be the same for both states (only if they are completely the same including a datasource set, state entity for example), there is an ability to copy widget by link. If the widget copied by link, changes made to it in one state should be automatically propagated to another."
      },
      {
        "user": "jonrot1906",
        "created_at": "2020-11-20T17:14:46Z",
        "body": "Depending on your widgets, you could also apply a filter which will check for attribute or timeseries \"humidity\". E.g. applying an attribute filter \"Humidity\" with key name \"humidity\" you can set operation to \"ignore case\" if this attribute \"not contains\" a value (you leave the value line blank). Now if you have a widget where you want to display your humidity and temperature timeseries, simply create an extra datasource which will apply the filter for each device depending on your dashboard state."
      },
      {
        "user": "sferguson-ISI",
        "created_at": "2020-11-20T21:12:28Z",
        "body": "> Hello,\r\n> There is no option to hide a widget from a particular state but in your case, you could create a second state (not a new dashboard), and when clicking on a device in the list check its type and depending on this navigate to the needed state. As for widgets that should be the same for both states (only if they are completely the same including a datasource set, state entity for example), there is an ability to copy widget by link. If the widget copied by link, changes made to it in one state should be automatically propagated to another.\r\n\r\nThis was a good workaround and prevents me from having to duplicate widget code changes.  For anyone else looking at this, when you click on a widget there is an option to \"Copy\" or \"Copy Reference\" do the later. thanks!"
      }
    ]
  },
  {
    "number": 3751,
    "title": "Save data to custom table in postgreSQL ",
    "created_at": "2020-11-18T15:57:09Z",
    "closed_at": "2021-06-01T15:11:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3751",
    "body": "Hello All,\r\n\r\nI have succesfully installed Thingsboard CE on an AWS environment. It is running correctly without issues. I have installed this version with PostgreSQL only.\r\n @@\r\nMy project will consist of a network with multiple devices. Each device has its own sensors. I need to have the data from each device separated in different tables. In first instance my plan was to create different tables and route the data to those tables using the rule engine. But now I have seen in the rule engine guide that this is only possible for Cassandra DB. \r\n\r\nIs this still the case and are there any other possibilities available?\r\n\r\nThanks in advance!\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3751/comments",
    "author": "omar-mha",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-12-05T14:11:14Z",
        "body": "Hi @CrazyRs6 I strongly believe that creating a table per device is not a scalable solution. You may push incoming data to Kafka or other message queue and write your own micro service to store the data in any format and any db. However, you will not be able to use those \"alternative\" PostgreSQL tables to graph data in the dashboards"
      },
      {
        "user": "trypzz",
        "created_at": "2021-06-02T06:01:20Z",
        "body": "closed due to inactivity"
      }
    ]
  },
  {
    "number": 3734,
    "title": "[Question] Entity admin widget with checkbox",
    "created_at": "2020-11-16T15:12:36Z",
    "closed_at": "2023-06-29T13:27:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3734",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Generic\r\n\r\n**Description**\r\nCould anyone tell me how to add checkbox for entity admin widget for each row ?\r\nMany thanks\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  ubuntu 20.04\r\n * ThingsBoard: 3.1.1 PE\r\n * Browser: chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3734/comments",
    "author": "anhdv1979",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-12-04T15:24:35Z",
        "body": "What would you like to do with the checkbox? What action should be taken when the checkbox is pressed?"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:27:40Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 3687,
    "title": "[Question] How to configure different email server settings for different white lable profiles?  ",
    "created_at": "2020-11-09T11:50:30Z",
    "closed_at": "2022-08-25T15:42:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3687",
    "body": "Hi \r\nWe are running TB PE 2.4.3\r\nWe have a white labeled profile that inherits email server settings at the moment\r\n\r\nCan we set different email server settings for different white labeled profiles?\r\nWhen logged in as administrator on the white labeled profile, I cannot see the \"Use System Mail Server Settings\" tick box to untick.\r\n\r\nRegards\r\nHenk ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3687/comments",
    "author": "henkbredell",
    "comments": [
      {
        "user": "PovitruliaV",
        "created_at": "2022-08-10T16:04:40Z",
        "body": "Hi @henkbredell,\r\nIs this issue still relevant?"
      }
    ]
  },
  {
    "number": 3686,
    "title": "[Question] User access (read/write) to an asset server attribute",
    "created_at": "2020-11-09T09:45:23Z",
    "closed_at": "2024-10-10T14:56:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3686",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\n I'm trying to get a User to be able to act on an \"Update server double attribute\" widget but I get an this error: \"You haven't access rights to this location!\". If I use the widget with the tenant it works correctly. Is it possible for a user to have write permissions to the server attribute of an asset without making it public? Thanks\r\n\r\n**Environment**\r\n * ThingsBoard: 3.1.1 CE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3686/comments",
    "author": "syvic",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-10-10T14:56:09Z",
        "body": "You can achieve this in the PE version with the RBAC feature."
      }
    ]
  },
  {
    "number": 3666,
    "title": "[Question] What's the use case for BATCH submit-strategy ",
    "created_at": "2020-11-02T15:06:47Z",
    "closed_at": "2024-05-27T10:07:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3666",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nThere are several submit-strategies like BURST, BATCH, SEQUENTIAL_PER_ORIGINATOR etc... The documentation on the website explains the use case for sequential handling per originator. \r\n\r\nI don't understand when to use BATCH over BURST. Most of the time batching is used for throughput gains b/c you can get a higher throughput when performing certain operations in batch. Is this the same use case here? The only thing BATCH seem to do is wait until the previous batch is handled, but the handling within a batch is done in a BURST-like fashion. How would that result in a performance or throughput gain? Or is there another use case I'm missing?\r\n\r\nThanks\r\n\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: 3.0.0\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3666/comments",
    "author": "janbols",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2024-05-27T10:07:36Z",
        "body": "- Burst - all messages are submitted to the rule chains in the order they arrive.\r\n\r\n- Batch - messages are grouped into batches using grouping parameter “Batch size”. New batch is not submitted until previous batch is acknowledged.\r\n\r\nThe main differences:\r\nBurst mode provides low latency, which is very important for real-time tasks. Packet mode can provide higher throughput due to the packet composition, but the latency increases.\r\nIn batch mode, acknowledgment of each packet is required to start processing the next packets, which helps to better handle errors and resend messages.\r\nBatch mode can be more resource efficient because it optimizes the processing of large amounts of data and reduces the frequency of context switching."
      }
    ]
  },
  {
    "number": 3665,
    "title": "Create several telemetry (timestamp) in data converter from 1 telemetry",
    "created_at": "2020-11-02T08:55:43Z",
    "closed_at": "2020-11-03T09:40:19Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3665",
    "body": "I receive 1 telemetry in my data converter which contains several data (see below)\r\nData 1 : Timestamp\r\nData 2 : Volume\r\nData 3 : Log Timestamp \r\nData 4 : Log Volume\r\nData 5 : Volume at log Timestamp + 1 hour\r\nData 6 : Volume at log Timestamp + 2 hour\r\n...\r\n\r\nI would like to divide this message in several messages (a telemetry for each hour). How can I do this in my data converter ?\r\nThanks for your help.\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3665/comments",
    "author": "Arteria2",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-11-02T10:02:04Z",
        "body": "You can refer for an example for those on below. So that, the next structure should be used for the telemetry:\r\n\r\n        \"telemetry\":[\r\n            {\r\n                \"ts\":1527863043000,\r\n                \"values\":{\r\n                    \"battery\":3.99,\r\n                    \"temperature\":27.05\r\n                }\r\n            },\r\n            {\r\n                \"ts\":1527863044000,\r\n                \"values\":{\r\n                    \"battery\":3.98,\r\n                    \"temperature\":27.06\r\n                }\r\n            }\r\n        ]\r\n\r\nSo that the data converter for this structure setup will be approximately the next:  \r\n```\r\n\r\n// Decode an uplink message from a buffer\r\n// payload - array of bytes\r\n// metadata - key/value object\r\n\r\n/** Decoder **/\r\n\r\n// decode payload to string\r\nvar payloadStr = decodeToString(payload);\r\n\r\n// decode payload to JSON\r\n// var data = decodeToJson(payload);\r\n\r\nvar deviceName = 'Device A';\r\nvar deviceType = 'thermostat';\r\nvar customerName = 'customer';\r\nvar groupName = 'thermostat devices';\r\n// use assetName and assetType instead of deviceName and deviceType\r\n// to automatically create assets instead of devices.\r\n// var assetName = 'Asset A';\r\n// var assetType = 'building';\r\n\r\n// Result object with device/asset attributes/telemetry data\r\nvar result = {\r\n// Use deviceName and deviceType or assetName and assetType, but not both.\r\n   deviceName: deviceName,\r\n   deviceType: deviceType,\r\n// assetName: assetName,\r\n// assetType: assetType,\r\n   customerName: customerName,\r\n   groupName: groupName,\r\n   attributes: {\r\n       model: 'Model A',\r\n       serialNumber: 'SN111',\r\n       integrationName: metadata['integrationName']\r\n   },\r\n   telemetry: [{\r\n       ts: \"ts1\",\r\n       value: {\r\n       temperature: 15,\r\n       humidity: 10,\r\n       rawData: payloadStr\r\n   }},{\r\n          ts: \"ts2\",\r\n       value: {\r\n       temperature: 42,\r\n       humidity: 80,\r\n       rawData: payloadStr\r\n}}\r\n   ]\r\n};\r\n\r\n/** Helper functions **/\r\n\r\nfunction decodeToString(payload) {\r\n   return String.fromCharCode.apply(String, payload);\r\n}\r\n\r\nfunction decodeToJson(payload) {\r\n   // covert payload to string.\r\n   var str = decodeToString(payload);\r\n\r\n   // parse string to JSON\r\n   var data = JSON.parse(str);\r\n   return data;\r\n}\r\n\r\nreturn result;"
      },
      {
        "user": "Arteria2",
        "created_at": "2020-11-03T09:29:58Z",
        "body": "Thanks for your message. \r\nIn my case, the telemetry is like this : \r\n  \"telemetry\":\r\n        {\r\n            \"ts\":1527863043000,\r\n            \"values\":{\r\n                \"battery1\":3.99,\r\n                \"temperature1\":27.05,\r\n                 \"battery2\":3.99,\r\n                \"temperature2\":27.05,\r\n            }\r\n        }\r\n\r\nMy device read one telemetry per hour and send one telemetry every six hours. But I only have 1 message with one timestamp and 6 values. With this timestamp, I deduct the others.\r\n\r\nI I would like to create a table at the end of my data converter with one timestamp and one measure. But, at the beginning I have only ont timestamp and 6 measure (one message). \r\n    "
      }
    ]
  },
  {
    "number": 3663,
    "title": "[Question] Is there a way to enable FIFO to limit database table storage capacity?",
    "created_at": "2020-11-02T01:22:14Z",
    "closed_at": "2022-08-29T15:43:41Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3663",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI have a Professional Edition setup using AWS EC2 instance, with postgreSQL-12 as the database.\r\n\r\nIs there any way to enable First-In, First-Out (FIFO) on the database tables to limit storage capacity? (For example, limit the storage capacity for each table to 1GB.)\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: v3.1.1 PE\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3663/comments",
    "author": "tengann",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:43:41Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3661,
    "title": "[Question] Is there a plan to upgrade the supported JDK to something recent?",
    "created_at": "2020-11-01T09:50:25Z",
    "closed_at": "2022-08-29T15:44:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3661",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nJDK 8 is no longer supported. Recent JDK versions have better GC as well. Is there a plan to upgrade the supported JDK to something recent?\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: 3.0\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3661/comments",
    "author": "dmd17",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:44:10Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3644,
    "title": "[Question] Link public dashboard with \"Entity taken from dashboard state\" alias to a specific device",
    "created_at": "2020-10-27T17:32:49Z",
    "closed_at": "2023-06-29T13:27:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3644",
    "body": "I have a generic dashboard that uses a \"Entity taken from dashboard state\" alias to show information from different devices.\r\n\r\nI have made the dashboard and the devices public, but cannot link the dahsboard public URL to a specific device.\r\n\r\nHow could I get a generic public dashboard able to show information from different devices? perhaps adding some parameter to the dashboard public url?\r\n\r\nKind regards",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3644/comments",
    "author": "IoTopenTech",
    "comments": [
      {
        "user": "IoTopenTech",
        "created_at": "2020-10-27T17:40:41Z",
        "body": "I have found a solution.\r\nJust copy the public dashboard url and add a state paremeter with the state encoded in base64"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:27:30Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us.\r\n"
      }
    ]
  },
  {
    "number": 3642,
    "title": "[Question] Issue about switch widget",
    "created_at": "2020-10-27T15:26:09Z",
    "closed_at": "2022-08-29T15:44:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3642",
    "body": "I have an issue about subscribing MQTT client, to enable to control the LED ring of my circuit with control widget.\r\n\r\nI have connected with the server and gave the access tokens as well as ids, defined my client. But when i try to switch the control widget, it does not do anything. I am sharing a the piece of code which im trying.\r\n\r\nserver = 'demo.thingsboard.io'\r\nport = 1883\r\npw= ...\r\npw_red= ...\r\nid = ...\r\ntopic_subscribe='v1/devices/me/rpc/request/+'\r\ntopic_publish='v1/devices/me/telemetry'\r\n\r\nclient = MQTTClient(id, server, port,pw,pw)\r\n\r\nclient_red = MQTTClient(id, server, port,pw_red,pw_red)\r\ntime.sleep(2)\r\nclient_red.connect()\r\ngc.collect()\r\n\r\ndef sub_cb_red(topic_red, msg_red):\r\n    print((topic_red, msg_red))\r\n    global r\r\n    if msg_red == b'{\"method\":\"setValue\",\"params\":true}':\r\n        chain.show(allred)\r\n        r=True\r\n    if msg_red == b'{\"method\":\"setValue\",\"params\":false}':\r\n        chain.show(black)\r\n        r=False\r\n\r\ndef subscribe_thread(self,n):\r\n  self.subscribe(topic_subscribe,n)\r\n\r\n\r\nclient_green.set_callback(sub_cb_red)\r\n\r\n\r\n_thread.start_new_thread(subscribe_thread,(client_red,0))",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3642/comments",
    "author": "TanCans",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:44:49Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3636,
    "title": "Issue with Label and Tooltip Functions at PE 3.1.1",
    "created_at": "2020-10-26T14:42:14Z",
    "closed_at": "2020-10-29T15:56:30Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3636",
    "body": "**Component**\r\n * UI\r\n\r\n**Environment**\r\n * OS:  Ubuntu 20\r\n * ThingsBoard: PE 3.1.1\r\n * Browser: Chrome\r\n\r\n**Description**\r\nHi Guys, I am trying to use Label Functions to customize my assets labels and colors at a Latest Value OpenStreetMap widget. At Dashboard Advanced Parameters tab, we have as default function the following. \r\n\r\nvar deviceType = dsData[dsIndex]['deviceType'];\r\nif (typeof deviceType !== undefined) {\r\n    if (deviceType == \"energy meter\") {\r\n        return '<span style=\"color:orange;\">${entityName}, ${energy:2} kWt</span>';\r\n    } else if (deviceType == \"thermometer\") {\r\n        return '<span style=\"color:blue;\">${entityName}, ${temperature:2} °C</span>';\r\n    }\r\n}\r\n\r\nSo, my doubts are:\r\n\r\n1) Which options are possible to read as dsData[dsIndex]? I mean, hoa can I get a list of possible keys?\r\n2) I tried to alter this function for assetType instead of deviceType, once my aliasses were created filtering my assets types, but it did not work. What I am trying to run is the following, but instead of create colors differenciation it is not returning any label for any asset. Without using label function the labels work fine (without any differenciation).\r\n\r\nvar assetType = dsData[dsIndex]['assetType'];\r\nif (typeof assetType !== undefined) {\r\n    if (assetType == \"ABC\") {\r\n        return '<span style=\"color:orange;\">${entityName}</span>';\r\n    } else if (assetType == \"DEF\") {\r\n        return '<span style=\"color:blue;\">${entityName}</span>';\r\n    }\r\n}\r\n\r\nThanks for your help sharing your tips and comments.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3636/comments",
    "author": "FreddyHunter",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-10-29T09:16:13Z",
        "body": "Hello,\r\nWhen using _dsData[dsIndex]_ you are able to get the value of any key, that you specified in the Datasources tab, in this way:\r\n_dsData[dsIndex]['targetKeyLabel']_.\r\nTo get the asset/device type you need to add the _\"type\"_ key (if your entity has attributes with the same name, it is important to select the correct key type - _entity field_). Then you will be able to use it in the label function by specifying _dsData[dsIndex]['Type']_ if you have not changed the default key label.\r\n"
      },
      {
        "user": "FreddyHunter",
        "created_at": "2020-10-29T14:13:45Z",
        "body": "Thanks Ekaterina, your explanation was perfect and now it is working properly!!"
      }
    ]
  },
  {
    "number": 3632,
    "title": "how to set default asset to claimed devices  via rest api?",
    "created_at": "2020-10-25T14:12:05Z",
    "closed_at": "2022-08-29T15:45:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3632",
    "body": "hi I'm new to thingboard my question is as a user account how can I claim a device and related it to an asset or set a default asset to claimed devices via rest API\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3632/comments",
    "author": "rezaUniqe",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:45:44Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3608,
    "title": "[Question] How to modify switch control widget to automatically revert value after a period of time?",
    "created_at": "2020-10-20T05:56:21Z",
    "closed_at": "2022-08-29T15:47:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3608",
    "body": "How can I modify the default built-in switch control widget in such a way that whenever a user turns on the switch, the switch will not latch to the 'On' state (value = true) but will instead automatically revert to the 'Off' state (value = false) after 3 seconds?\r\n\r\nI've tried by adding the following code to `Convert value function`.\r\n```\r\nif(value==true){\r\n     setTimeout(setFalse, 3000);\r\n}\r\n\r\nfunction setFalse(){\r\n    value=false;\r\n}\r\n\r\nreturn value;\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3608/comments",
    "author": "tengann",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:47:51Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3591,
    "title": "Alarms Questions",
    "created_at": "2020-10-15T20:08:54Z",
    "closed_at": "2022-08-29T15:49:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3591",
    "body": "Hello !\r\n\r\nPlease tell me how can I Acknowledge or Clear all of the existing alarms for one device from rule chains or a custom widget.\r\n\r\nPlease tell me how can I get a list for all existing alarms for one device from rule chains or a custom widget.\r\n\r\nThank You !\r\n\r\n**Environment**\r\nOS: Win 7 x64\r\nThingsBoard: 3.1.1\r\nBrowser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3591/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:49:49Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3541,
    "title": "How to use Attribute data in Map tooltip widget?",
    "created_at": "2020-10-05T07:52:46Z",
    "closed_at": "2021-03-04T11:31:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3541",
    "body": "Hi guys\r\n\r\nI am trying to do some logic and to display attribute values in the map tooltip / map color function\r\n\r\nit works for timeseries data, but I cannot make it work for attributes:\r\n\r\nfor attribute key 'active' that is selected in the data source for the widget.\r\n\r\n\tvar active = dsData[dsIndex]['active'];\r\ndoesn't work\r\nwhile the same works for temperature time series in the data sources.\r\n\r\n\tvar temperature = dsData[dsIndex]['temperature'];\r\n\r\nWhat is the correct method here?\r\n\r\n@YevhenBondarenko ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3541/comments",
    "author": "t0mZ4",
    "comments": [
      {
        "user": "LucasEtchezuri",
        "created_at": "2020-11-16T23:31:55Z",
        "body": "I have the same problem !!  :-("
      },
      {
        "user": "t0mZ4",
        "created_at": "2021-03-04T10:39:01Z",
        "body": "Any idea about this? @YevhenBondarenko  @ashvayka "
      },
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2021-03-04T10:54:45Z",
        "body": "Hello, @t0mmyz7 \r\nThe approach you are using to get the attributes/timeseries values is correct.\r\nCould you check, please, if you are addressing attributes by the label, not by key name?"
      },
      {
        "user": "t0mZ4",
        "created_at": "2021-03-04T11:31:53Z",
        "body": "HI @ChantsovaEkaterina \r\n\r\nyou are correct, i try again and it does work, what made the difference was to use the value as a string and not boolean.\r\n\r\nbefore I was trying to use the value as boolean\r\n\r\nif (active == true) {}\r\n\r\nbut what works is actually if (active == \"true\")\r\n\r\n\r\nthanks for your reply"
      },
      {
        "user": "bioshock2k",
        "created_at": "2021-08-14T12:35:50Z",
        "body": "I have the opossite problem ahahah\r\nWorks for attributes and timeseries values are ignored..."
      },
      {
        "user": "dhaval2017",
        "created_at": "2021-08-14T12:41:00Z",
        "body": "@bioshock2k please share the code"
      },
      {
        "user": "bioshock2k",
        "created_at": "2021-08-14T13:03:55Z",
        "body": "var state = dsData[dsIndex]['active'];\r\nvar usb = dsData[dsIndex]['vusb'];\r\n\r\nif(state=='false')\r\n{\r\n    res='red';\r\n}\r\nelse{\r\nif(usb==0.0){\r\n    res='blue';\r\n}\r\nelse{\r\n    res='green'\r\n}\r\n}\r\nreturn res;\r\n\r\nThe only way i got this to work is to translate the timeseries to an attribute.."
      }
    ]
  },
  {
    "number": 3536,
    "title": "how can i assign device via rest api to specific customer via user account token",
    "created_at": "2020-10-03T11:24:03Z",
    "closed_at": "2024-05-23T15:25:47Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3536",
    "body": "hi I started using thingsboard I have one question and I cant assign device via rest API \r\nmy problem is Can't assign device to customer from different tenant!.\r\n\r\nI used swagger UI to test the assign device api I just get token using one of my user in customer A WITCH is the default customer in thingsboard so I get the token and set it in swagger UI and then I just created the device using the device name and type the creation was successful so i logged in to see the device but it not there so I repeated the process and  I got the message that device exists so I decided to set customerID and tenant id to the API and then I got this message Can't assign device to customer from different tenant! so please help what is the problem\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3536/comments",
    "author": "rezaUniqe",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T15:25:47Z",
        "body": "You cannot re-assign devices between tenants: they are isolated by design."
      }
    ]
  },
  {
    "number": 3532,
    "title": "How can I call the function attributeService.deleteEntityTimeseries  inside custom action code?",
    "created_at": "2020-10-01T16:19:45Z",
    "closed_at": "2020-10-01T17:45:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3532",
    "body": "I am trying to delete a timeseries datapoint using attributeService.deleteEntityTimeseries on button click, but can't find the right way to pass arguments so far.\r\nHere is my attempt based on saveEntityTimeseries attempt which worked.\r\n\r\n```\r\nlet $injector = widgetContext.$scope.$injector;\r\nlet attributeService = $injector.get(widgetContext.servicesMap.get('attributeService'));\r\nwidgetContext.rxjs.forkJoin([\r\n    attributeService.deleteEntityTimeseries(entityId, ['operatorName', 'description'],\"false\", [{key: \"startTs\", value: 1601566383675}, {key: \"endTs\", value: 1601566383677}, {key: \"rewriteLatestIfDeleted\", value: \"true\"}])]\r\n).subscribe(\r\n    function (data) {\r\n        console.log(\"printing data:\");\r\n        console.log(data);\r\n        l = data;\r\n    }\r\n);\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3532/comments",
    "author": "NabilHunt",
    "comments": [
      {
        "user": "ahmed-1a",
        "created_at": "2021-01-14T11:30:11Z",
        "body": "@NabilHunt \r\nCould you please show how you sorted the arguments?\r\nI'm trying to access alarmService. "
      }
    ]
  },
  {
    "number": 3499,
    "title": "[Question]Gateway receive the unexpected message?",
    "created_at": "2020-09-21T08:34:33Z",
    "closed_at": "2022-06-20T08:15:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3499",
    "body": "If gateway does not subscribe v1/gateway/rpc,  server side send a rpc to a deivce which had connected to the gateway，tb-transport-mqtt module write and flush the rpc message to channel directly without validing whether gateway subscribe the corresponding topic. As a result, gateway can receive the message. As well as the attribute update message. Is that right?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3499/comments",
    "author": "HombioChan",
    "comments": [
      {
        "user": "imbeacon",
        "created_at": "2020-10-22T09:37:46Z",
        "body": "Hi @HombioChan ,\r\n\r\nThank you for your question.\r\nYes, you are right. Not only gateways work like you wrote, regular devices also will received messages on these topics even not subscribed to them."
      }
    ]
  },
  {
    "number": 3493,
    "title": "[Question] Data Transformation using Server Attribute",
    "created_at": "2020-09-18T18:56:12Z",
    "closed_at": "2022-02-16T17:04:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3493",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n  * Rule Engine\r\n \r\n**Description**\r\nHi Folks, I would like to know if it is possible to use Server Attributes to be used on data transformation? I mean, my device send key X: value x through http integration, on my device I created a Server Attribute key A: value a. So, for every telemetry received from device I want to be recorded on the database just the result of a - x, for example. I imagine I need to do this at rule engine, but I did not discovered how to call server attributes for this calculation. If anyone could send me some tips or share any code for that I really appreciate. Thanks in advance.\r\n\r\n**Environment**\r\n* OS:  Ubuntu 18\r\n * ThingsBoard: v3.1.1 PE\r\n \r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3493/comments",
    "author": "FreddyHunter",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-09-21T07:10:41Z",
        "body": "Hello,\r\nYou can use the _Originator Attributes_ rule node to get the attributes in the rule chain."
      }
    ]
  },
  {
    "number": 3489,
    "title": "[Question] MQTT Device attribute response took a long time to reply.",
    "created_at": "2020-09-18T10:46:59Z",
    "closed_at": "2022-06-22T09:46:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3489",
    "body": "**Component**\r\n\r\n * Generic\r\n\r\n**Description**\r\nHello, i have successfully requested shared attribute via MQTT API, but the response took too long (20sec to 1 min range), I'm going to use the feature on a battery powered application to notify the device that there is an new firmware version. 20sec to 1 min is quite bad for a battery powered application. is there anyway to make the response faster? or someone has this problem too?\r\n\r\n**Environment**\r\n * ThingsBoard: latest\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3489/comments",
    "author": "ktannady",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-06-20T08:16:47Z",
        "body": "Hello @ktannady \r\nPlease try version 3.3.4.1. It is much faster. If you reencounter this problem, please describe the workflow"
      }
    ]
  },
  {
    "number": 3482,
    "title": "How can I add the \"lastActivityTime\" property from a \"create alarm\" node to a message's metadata?",
    "created_at": "2020-09-17T14:24:34Z",
    "closed_at": "2022-06-20T08:17:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3482",
    "body": "I'm trying to add the \"lastActivityTime\" property to the metadata of a message coming from an inactivity alarm. From the documentation, the message payload coming from an inactivity node is described as follows;\r\n\r\n```\r\n{\r\n  \"active\": true,\r\n  \"lastConnectTime\": 1526979083267,\r\n  \"lastActivityTime\": 1526979083270,\r\n  \"lastDisconnectTime\": 1526978493963,\r\n  \"lastInactivityAlarmTime\": 1526978512339,\r\n  \"inactivityTimeout\": 10000\r\n}\r\n```\r\n\r\n\r\nI've verified this by checking the nodes output in debug. I'm using a transform script node to add the \"lastActivityTime\" time property to the metadata so that I can include it in an email body in the \"to email\" node. My script is in the transform node is quite simple;\r\n\r\n```\r\nmetadata.lastActivityTime = msg.lastActivityTime;\r\nreturn {msg: msg, metadata: metadata, msgType: msgType};\r\n```\r\n\r\nThis however is not working for me as I get the following in the email that I receive on inactivity;\r\n\r\n${lastActivityTime}\r\n\r\nI've checked in debug and confirmed that it's not being added to the metadata. Is there a way to add this property to the metadata?\r\n\r\nMy node structure is;\r\n\r\nMessageType switch -----> Create Inactivity Alarm -----> transform script -----> to email -----> send email",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3482/comments",
    "author": "OzyOzk",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-09-18T07:17:30Z",
        "body": "Hello,\r\nIt would be better if you add the _lastActivityTime_ to metadata before creating the alarm. _Create Alarm_ rule node generates a completely new message, so for this reason, I assume, the parameter wasn't added to the metadata. It wasn't present in the message anymore. To check this take a look at the _IN_ for transformation script."
      }
    ]
  },
  {
    "number": 3476,
    "title": "Navigate to other state on click button",
    "created_at": "2020-09-15T20:11:42Z",
    "closed_at": "2024-05-23T13:54:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3476",
    "body": "i have requirement to change the state on clicking on button so designed widget with documentation mention using static widget exmaple.\r\nBut its not navigating anyway. \r\ni look into on html element click but i still dont understand how can i add element that can help in navigating.\r\nI dont know much about javascript and html.\r\n\r\nplease me out in this problem:\r\ncode is as follow for widget\r\nhtml:\r\n```\r\n<div fxFlex fxLayout=\"column\" style=\"height: 100%;\" fxLayoutAlign=\"space-around stretch\">\r\n    <!--<h3 style=\"text-align: center;\">My first static widget.</h3>-->\r\n    <button mat-raised-button color=\"primary\" (click)=\"showAlert()\">Configure Me</button>\r\n  </div>\r\n```\r\n\r\n\r\njs:\r\n```\r\nself.onInit = function() {\r\n\r\n    self.ctx.$scope.showAlert = function() {\r\n        var alertContent = self.ctx.settings.alertContent;\r\n        \r\n        var temp;\r\n        // if (!alertContent) {\r\n        //     alertContent = \"Content derived from alertContent property of widget settings.\";\r\n        // }\r\n        // window.alert(alertContent);  \r\n\r\n    \r\n  \r\n         \r\n    // temp = self.ctx.stateController.openState('setting', {});\r\n    // window.alert((temp));  \r\n    var params = { entityId: entityId, entityName: entityName }\r\n    widgetContext.stateController.openState('setting',{});\r\n\r\n    // Widgetcontext.statecontroller.openState('setting', params, false);\r\n    \r\n    };\r\n}\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3476/comments",
    "author": "GauravChoube",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T13:54:09Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n"
      }
    ]
  },
  {
    "number": 3467,
    "title": "docker install error java.io.FileNotFoundException: /var/log/thingsboard/tb-core1/thingsboard.log (No such file or directory)",
    "created_at": "2020-09-15T10:15:52Z",
    "closed_at": "2020-09-15T14:32:20Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3467",
    "body": "./docker-install-tb.sh --loadDemo\r\n\r\n```\r\n10:13:55,331 |-ERROR in ch.qos.logback.core.rolling.RollingFileAppender[fileLogAppender] - openFile(/var/log/thingsboard/tb-core1/thingsboard.log,true) call failed. java.io.FileNotFoundException: /var/log/thingsboard/tb-core1/thingsboard.log (No such file or directory)\r\n        at java.io.FileNotFoundException: /var/log/thingsboard/tb-core1/thingsboard.log (No such file or directory)\r\n        at      at java.io.FileOutputStream.open0(Native Method)\r\n        at      at java.io.FileOutputStream.open(FileOutputStream.java:270)\r\n        at      at java.io.FileOutputStream.<init>(FileOutputStream.java:213)\r\n        at      at ch.qos.logback.core.recovery.ResilientFileOutputStream.<init>(ResilientFileOutputStream.java:26)\r\n        at      at ch.qos.logback.core.FileAppender.openFile(FileAppender.java:204)\r\n        at      at ch.qos.logback.core.FileAppender.start(FileAppender.java:127)\r\n        at      at ch.qos.logback.core.rolling.RollingFileAppender.start(RollingFileAppender.java:100)\r\n        at      at ch.qos.logback.core.joran.action.AppenderAction.end(AppenderAction.java:90)\r\n        at      at ch.qos.logback.core.joran.spi.Interpreter.callEndAction(Interpreter.java:309)\r\n        at      at ch.qos.logback.core.joran.spi.Interpreter.endElement(Interpreter.java:193)\r\n        at      at ch.qos.logback.core.joran.spi.Interpreter.endElement(Interpreter.java:179)\r\n        at      at ch.qos.logback.core.joran.spi.EventPlayer.play(EventPlayer.java:62)\r\n        at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:165)\r\n        at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:152)\r\n        at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:110)\r\n        at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:53)\r\n        at      at ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:75)\r\n        at      at ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:150)\r\n        at      at org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\r\n        at      at org.slf4j.impl.StaticLoggerBinder.<clinit>(StaticLoggerBinder.java:55)\r\n        at      at org.slf4j.LoggerFactory.bind(LoggerFactory.java:129)\r\n        at      at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:108)\r\n        at      at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:302)\r\n        at      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:276)\r\n        at      at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:288)\r\n        at      at org.thingsboard.server.ThingsboardInstallApplication.<clinit>(ThingsboardInstallApplication.java:27)\r\n        at      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at      at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at      at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at      at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at      at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n        at      at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:597)\r\n10:13:55,331 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\r\n10:13:55,334 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]\r\n10:13:55,334 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\r\n10:13:55,336 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.thingsboard.server] to INFO\r\n10:13:55,336 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [com.google.common.util.concurrent.AggregateFuture] to OFF\r\n10:13:55,336 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to INFO\r\n10:13:55,336 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [fileLogAppender] to Logger[ROOT]\r\n10:13:55,337 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]\r\n10:13:55,337 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\r\n10:13:55,338 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@7a4f0f29 - Registering current configuration as safe fallback point\r\n\r\nLogging system failed to initialize using configuration from '/usr/share/thingsboard/bin/install/logback.xml'\r\njava.lang.IllegalStateException: Logback configuration error detected:\r\nERROR in ch.qos.logback.core.rolling.RollingFileAppender[fileLogAppender] - openFile(/var/log/thingsboard/install.log,true) call failed. java.io.FileNotFoundException: /var/log/thingsboard/install.log (Permission denied)\r\n        at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\r\n        at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithSpecificConfig(AbstractLoggingSystem.java:66)\r\n        at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:57)\r\n        at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:118)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:318)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:288)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n        at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n        at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:203)\r\n        at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:114)\r\n        at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:71)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.thingsboard.server.ThingsboardInstallApplication.main(ThingsboardInstallApplication.java:43)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n        at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:597)\r\njava.lang.IllegalStateException: Logback configuration error detected:\r\nERROR in ch.qos.logback.core.rolling.RollingFileAppender[fileLogAppender] - openFile(/var/log/thingsboard/install.log,true) call failed. java.io.FileNotFoundException: /var/log/thingsboard/install.log (Permission denied)\r\n```\r\n\r\nuname -a\r\n```\r\nLinux xxx 4.18.0-193.14.2.el8_2.x86_64 #1 SMP Sun Jul 26 03:54:29 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\ndocker version\r\n```\r\nClient: Docker Engine - Community\r\n Version:           19.03.12\r\n API version:       1.40\r\n Go version:        go1.13.10\r\n Git commit:        48a66213fe\r\n Built:             Mon Jun 22 15:46:54 2020\r\n OS/Arch:           linux/amd64\r\n Experimental:      false\r\n\r\nServer: Docker Engine - Community\r\n Engine:\r\n  Version:          19.03.12\r\n  API version:      1.40 (minimum version 1.12)\r\n  Go version:       go1.13.10\r\n  Git commit:       48a66213fe\r\n  Built:            Mon Jun 22 15:45:28 2020\r\n  OS/Arch:          linux/amd64\r\n  Experimental:     false\r\n containerd:\r\n  Version:          1.2.6\r\n  GitCommit:        894b81a4b802e4eb2a91d1ce216b8817763c29fb\r\n runc:\r\n  Version:          1.0.0-rc8\r\n  GitCommit:        425e105d5a03fabd737a126ad93d62a9eeede87f\r\n docker-init:\r\n  Version:          0.18.0\r\n  GitCommit:        fec3683\r\n```\r\n\r\ndocker-compose version\r\n```\r\ndocker-compose version 1.26.2, build eefe0d31\r\ndocker-py version: 4.2.2\r\nCPython version: 3.7.7\r\nOpenSSL version: OpenSSL 1.1.0l  10 Sep 2019\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3467/comments",
    "author": "zhangchunsheng",
    "comments": [
      {
        "user": "CooL16",
        "created_at": "2020-09-15T13:42:30Z",
        "body": "Please make sure you have executed this command: ./docker-create-log-folders.sh"
      },
      {
        "user": "zhangchunsheng",
        "created_at": "2020-09-15T14:32:20Z",
        "body": "> Please make sure you have executed this command: ./docker-create-log-folders.sh\r\n\r\nI have to use root user. It can work."
      }
    ]
  },
  {
    "number": 3453,
    "title": "[Question] thingsboard.yml security issues",
    "created_at": "2020-09-13T23:30:20Z",
    "closed_at": "2022-02-16T16:30:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3453",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nBrowsing through thingsboard.yml configuration I see a lot of 'default' settings like:\r\n* username\r\n* password\r\n* tokenSigningKey\r\n* key_store_password\r\n* key_password\r\n* ...\r\nAll settings contain clear text and standard values. I'm not a security expert but shouldn't these values be auto generated? The file furthermore has \"read-properties\" for all users. Unless the parameter values are invalid and not used by Thingsboard at all this raises a huge security concern. Or am I missing something?\r\n\r\n**Environment**\r\n * OS flavour:  Debian Linux\r\n * ThingsBoard: v.2.4.3 \r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3453/comments",
    "author": "hansaplasst",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-02-16T16:30:32Z",
        "body": "Hello @hansaplasst \r\nThe data in this file is the setting for running and managing the ThingsBoard. Moreover - we advise you not to change the values in the thingsboard.yml file, but to do an export in thingsboard.conf"
      }
    ]
  },
  {
    "number": 3450,
    "title": "[Question] how to get telemetry value from duration within widget",
    "created_at": "2020-09-11T14:07:54Z",
    "closed_at": "2022-05-27T07:49:54Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3450",
    "body": "I have an use case similar to thingsboard smart meter with increasing total power key.\r\nhow to get subtraction total power from duration (from date, to date) within widget ? Pls do not give me thingsboard example link because I read them so many times.\r\nI need to call rest api for max (from - to date), min & them substract ?\r\nVery appreciated with any suggestion.\r\nP.s: its seem that I could not find telemetryService to fetch data & userService doesn't have getJwtToken() ?????\r\n* ThingsBoard: 3.1.1 PE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3450/comments",
    "author": "anhdv1979",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-02-16T16:25:20Z",
        "body": "Hello @anhdv1979\r\nIs your problem still relevant?"
      }
    ]
  },
  {
    "number": 3448,
    "title": "[Question] Transform Payload in Rule Engine",
    "created_at": "2020-09-11T09:33:30Z",
    "closed_at": "2020-09-11T11:43:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3448",
    "body": "**Component**\r\n * Rule Engine\r\n\r\n**Description**\r\nI need to generate a new JSON in the Root Rule Chain, this new JSON is different from the input. I am using the script node to add new nodes.\r\n\r\nI need to add JSON node names with @, for example:\r\n\r\ninput message > { \"temperature\" : 24}\r\noutput message > { \"@temp\": 24}\r\n\r\nHow can achieve this?\r\n\r\n**Environment**\r\n * OS:  Ubuntu 18.04\r\n * ThingsBoard: 3.1.1\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3448/comments",
    "author": "felixmondelo",
    "comments": [
      {
        "user": "Chabrol",
        "created_at": "2020-09-11T11:40:29Z",
        "body": "Something like this should work in an transformation script:\r\n```\r\nmsg[\"@temp\"] = msg.temperature;\r\ndelete msg.temperature;\r\n```\r\n"
      },
      {
        "user": "felixmondelo",
        "created_at": "2020-09-11T11:43:14Z",
        "body": "It works!!! "
      }
    ]
  },
  {
    "number": 3440,
    "title": "trying to --loaddemo in ubuntu giving syntax error while running schema-entities.sql for v3.1.1 is installation guide not updated?",
    "created_at": "2020-09-10T12:12:08Z",
    "closed_at": "2020-09-11T08:03:17Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3440",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Installation\r\n\r\n**Description**\r\nTrying to loaddemo data for v3.1.1 as per ubuntu installation guide. its giving below error. same happening with docker installation as well. so i pulled v3.0.1 in docker which works fine.\r\n\r\nInstalling DataBase schema for entities...\r\nInstalling SQL DataBase schema part: schema-entities.sql\r\nUnexpected error during ThingsBoard installation!\r\norg.postgresql.util.PSQLException: The connection attempt failed.\r\n\r\n\r\n**Environment**\r\n * OS:  ubuntu 16.04.7 LTS\r\n * ThingsBoard: 3.1.1\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3440/comments",
    "author": "ravipras8",
    "comments": [
      {
        "user": "CooL16",
        "created_at": "2020-09-10T12:21:28Z",
        "body": "@ravipras8 please provide us with full log of an installation"
      },
      {
        "user": "ashvayka",
        "created_at": "2020-09-10T12:58:37Z",
        "body": "Due to the error: org.postgresql.util.PSQLException: The connection attempt failed.\r\nI suspect that connection parameters for postgresql are not correct. please share your thingsboard.conf"
      },
      {
        "user": "ravipras8",
        "created_at": "2020-09-10T13:28:09Z",
        "body": "cat /etc/thingsboard/conf/thingsboard.conf\r\n\r\nexport JAVA_OPTS=\"$JAVA_OPTS -Dplatform=deb -Dinstall.data_dir=/usr/share/thingsboard/data\"\r\nexport JAVA_OPTS=\"$JAVA_OPTS -Xloggc:/var/log/thingsboard/gc.log -XX:+IgnoreUnrecognizedVMOptions -XX:+HeapDumpOnOutOfMemoryError -XX:+PrintGCDetails -XX:+PrintGCDateStamps\"\r\nexport JAVA_OPTS=\"$JAVA_OPTS -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10\"\r\nexport JAVA_OPTS=\"$JAVA_OPTS -XX:GCLogFileSize=10M -XX:-UseBiasedLocking -XX:+UseTLAB -XX:+ResizeTLAB -XX:+PerfDisableSharedMem -XX:+UseCondCardMark\"\r\nexport JAVA_OPTS=\"$JAVA_OPTS -XX:CMSWaitDuration=10000 -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+CMSParallelInitialMarkEnabled\"\r\nexport JAVA_OPTS=\"$JAVA_OPTS -XX:+CMSEdenChunksRecordAlways -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly\"\r\nexport JAVA_OPTS=\"$JAVA_OPTS -Xms256M -Xmx256M\"\r\nexport LOG_FILENAME=thingsboard.out\r\nexport LOADER_PATH=/usr/share/thingsboard/conf,/usr/share/thingsboard/extensions\r\nexport SQL_DATA_FOLDER=/usr/share/thingsboard/data/sql\r\n\r\n# DB Configuration\r\nexport DATABASE_ENTITIES_TYPE=sql\r\nexport DATABASE_TS_TYPE=sql\r\nexport SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.PostgreSQLDialect\r\nexport SPRING_DRIVER_CLASS_NAME=org.postgresql.Driver\r\nexport SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/thingsboard\r\nexport SPRING_DATASOURCE_USERNAME=postgres\r\nexport SPRING_DATASOURCE_PASSWORD=postgres\r\nexport SPRING_DATASOURCE_MAXIMUM_POOL_SIZE=5\r\nexport SQL_POSTGRES_TS_KV_PARTITIONING=MONTHS`\r\n\r\n\r\n\r\n\r\nUbuntu loaddemo Log:\r\nsudo /usr/share/thingsboard/bin/install/install.sh --loadDemo\r\n ===================================================\r\n :: ThingsBoard ::       (v3.1.1)\r\n ===================================================\r\n\r\nStarting ThingsBoard Installation...\r\nInstalling DataBase schema for entities...\r\nInstalling SQL DataBase schema part: schema-entities.sql\r\nUnexpected error during ThingsBoard installation!\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near \"PROCEDURE\"\r\n  Position: 21\r\n        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455)\r\n        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155)\r\n        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288)\r\n        at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430)\r\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356)\r\n        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:303)\r\n        at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:289)\r\n        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:266)\r\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:262)\r\n        at org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:68)\r\n        at org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.createDatabaseSchema(SqlAbstractDatabaseSchemaService.java:57)\r\n        at org.thingsboard.server.install.ThingsboardInstallService.performInstall(ThingsboardInstallService.java:194)\r\n        at org.thingsboard.server.ThingsboardInstallApplication.main(ThingsboardInstallApplication.java:44)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n        at org.springframework.boot.loader.PropertiesLauncher.main(PropertiesLauncher.java:597)\r\nUnexpected error during ThingsBoard installation!\r\nThingsBoard installation failed!"
      },
      {
        "user": "CooL16",
        "created_at": "2020-09-11T07:15:12Z",
        "body": "please upgrade PostgreSQL to 12+ version to resolve the issue"
      },
      {
        "user": "ravipras8",
        "created_at": "2020-09-11T07:42:58Z",
        "body": "@CooL16 i have followed the steps in the guide but checking version of postgres showing like below\r\n\r\nthingsboard$ psql -U postgres -d postgres -h 127.0.0.1 -W\r\nPassword:\r\npsql (12.4 (Ubuntu 12.4-1.pgdg16.04+1), server 9.5.23)\r\nSSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)\r\nType \"help\" for help.\r\n\r\npostgres= select version();\r\n                                                      version\r\n-------------------------------------------------------------------------------------------------------------------\r\n PostgreSQL 9.5.23 on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609, 64-bit\r\n"
      },
      {
        "user": "CooL16",
        "created_at": "2020-09-11T07:57:25Z",
        "body": "@ravipras8 your postgresql server has 9.5 version.\r\n\r\nPlease provide us with output of this command: pg_lsclusters"
      },
      {
        "user": "ravipras8",
        "created_at": "2020-09-11T08:03:17Z",
        "body": "pg_lsclusters\r\nVer Cluster Port Status Owner    Data directory               Log file\r\n9.5 main    5432 online postgres /var/lib/postgresql/9.5/main /var/log/postgresql/postgresql-9.5-main.log\r\n12  main    5433 online postgres /var/lib/postgresql/12/main  /var/log/postgresql/postgresql-12-main.log\r\n\r\n\r\nseems 2 versions installed.. removed both and installed 12 freshly its worked.\r\n\r\nthank you for your quick support."
      }
    ]
  },
  {
    "number": 3393,
    "title": "[Question] Number of Decimals on variable in 'To Email' rule chain node.",
    "created_at": "2020-08-31T08:52:29Z",
    "closed_at": "2022-06-20T08:24:52Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3393",
    "body": "**To email-node**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nWhen using a variable in the email body with the ${temperature}-format I get a lot of decimals.\r\nIs there a way to round it to a single decimal? In widgets, et.c. I'm using ${temperature:1} and it works, but that doesn't work in the rulechain. \r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3393/comments",
    "author": "BigAdam86",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-09-15T12:35:39Z",
        "body": "Hello,\r\nCurrently, the only way is to round value to a needed number of decimals before creating an email template. You can do this in the Transformation-  script rule node and after that go to creating an email body."
      }
    ]
  },
  {
    "number": 3374,
    "title": "CoAP DTLS PSK",
    "created_at": "2020-08-27T05:14:29Z",
    "closed_at": "2022-06-14T07:51:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3374",
    "body": "Does Thingsboard CoAP transport layer supports DTLS, specific Pre-shared key authentication?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3374/comments",
    "author": "strautins",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-09-01T09:55:36Z",
        "body": "seems to be the feature request "
      },
      {
        "user": "strautins",
        "created_at": "2020-09-01T10:35:27Z",
        "body": "Thank you!\r\nIn future, it could be nice addition to Thingsboard for \"on battery\"  devices. \r\nThere are already projects going on, on CoAP DTLS. I preferred Java@github `californium/scandium` may be it is wise to check.\r\nI got my answer, again, thanks. Feel free to close this question, if no future action will take place."
      }
    ]
  },
  {
    "number": 3354,
    "title": "[Question] Can thingsboard support 3D map",
    "created_at": "2020-08-21T15:02:05Z",
    "closed_at": "2022-08-29T15:52:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3354",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI want to track iot device movement not only on x and y axis, but also on z axis, and then display it on the dashboard.  Can anyone give me some pointers on where to start?\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3354/comments",
    "author": "dongouyang",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:52:32Z",
        "body": "\r\nClosed, as not active."
      }
    ]
  },
  {
    "number": 3350,
    "title": "[Question] Count Latest Values with aggregate stream node/ Get all related Attributes",
    "created_at": "2020-08-21T07:15:22Z",
    "closed_at": "2024-06-10T13:45:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3350",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\n\r\n1)\r\n\r\nIs it possible to count the values received in the last hour with aggregate stream node? I can only select aggregration count with interval 1 hour. But this will lead to fixed timewindows, for example I will get the count of the values from 14:00-15:00 but at 15:00 the count will be reset and starts from 0 for 15:00-16:00. I'm looking for a dynamic count which gives me the count of the values received in the last hour/day from current timestamp.\r\n\r\n2)\r\nIs it possible to get every attribute of related assets/devices based on orginator and add them to metadata? Related Attributes Node will produce always a new message for every relation. I want all attributes at once in metadata.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * ThingsBoard: Thingsboard v.3.0.1 PE\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3350/comments",
    "author": "JonasRueck",
    "comments": [
      {
        "user": "JonasRueck",
        "created_at": "2020-09-04T05:52:34Z",
        "body": "Still looking for an answer :smile: \r\n\r\nI want to count messages sent in the last hour and do that like eveery 5 minutes.\r\nExample:\r\nIt's 15:00. So I count from 14:00-15:00 and get 100. Next interval will be 5 minutes later so its 15:05 and I count from 14:05-15:05 and get 90."
      },
      {
        "user": "mykhailokornieiev",
        "created_at": "2024-06-10T13:45:11Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3341,
    "title": "Why are there multiple sessions in deviceactor Processor",
    "created_at": "2020-08-20T08:06:46Z",
    "closed_at": "2020-08-28T14:03:12Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3341",
    "body": "private final Map<UUID, SessionInfoMetaData> sessions;\r\n    private final Map<UUID, SessionInfo> attributeSubscriptions;\r\n    private final Map<UUID, SessionInfo> rpcSubscriptions;\r\n\r\nTest findings:\r\nwhen I alter the device attributes,\r\nthe code:\r\n```\r\nattributeSubscriptions.entrySet().forEach(sub -> {\r\n                    sendToTransport(finalNotification, sub.getKey(), sub.getValue().getNodeId());\r\n                });\r\n```\r\nIt will be sent many times to transport.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3341/comments",
    "author": "zth390872451",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-08-28T14:03:12Z",
        "body": "There is a configuration parameter actors.session.max_concurrent_sessions_per_device or ACTORS_MAX_CONCURRENT_SESSION_PER_DEVICE which is set to 1 by default. So, when the newer session is created, old one is closed. This is useful for \"buggy\" devices/firmware that forgets to close sessions. \r\nHowever, for some extreme cases you might need two physical devices to connect with one credentials and they both need to receive notification. "
      }
    ]
  },
  {
    "number": 3324,
    "title": "[Question] Entity admin widget server-side attributes show",
    "created_at": "2020-08-17T04:38:58Z",
    "closed_at": "2020-09-30T14:42:51Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3324",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI - Entity admin widget\r\n**Description**\r\nCould you pls tell me how to show server-side attributes e.g active -> icon instead of true/false; lastActivitytime -> timestamp to Datetime ?\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 20.04\r\n * ThingsBoard: 3.1.0 PE\r\n * Browser: Chrome & Firefox",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3324/comments",
    "author": "anhdv1979",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-08-17T07:57:11Z",
        "body": "Hello,\r\nYou can use data post-processing or cell content function to change attribute values formatting.\r\nA simple example for active attribute:\r\n_Cell content function:_\r\n```\r\nvalue = '&#11044;';\r\nreturn value;\r\n```\r\n_Cell style function:_\r\n```\r\nvar color;\r\nif (value == 'false') {\r\n    color = '#EB5757';\r\n} else {\r\n    color = '#27AE60';\r\n}\r\nreturn {\r\n    color: color,\r\n    fontSize: '18px'\r\n};\r\n```\r\n\r\n"
      }
    ]
  },
  {
    "number": 3321,
    "title": "[Question] Rule Chain unavailable?",
    "created_at": "2020-08-16T18:15:32Z",
    "closed_at": "2020-08-17T16:39:25Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3321",
    "body": "my rule chain is not loading, i cant acces to rule chain on my demo version\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3321/comments",
    "author": "Johnacom",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-08-17T14:00:26Z",
        "body": "those should be okay now. there were a small changes being applied for the environment related "
      }
    ]
  },
  {
    "number": 3318,
    "title": "Thingsboard with haproxy",
    "created_at": "2020-08-15T05:47:45Z",
    "closed_at": "2020-08-16T10:22:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3318",
    "body": "1. After I install haproxy, I am very strange that if I create device & asset under URL:8080 & could not see them under URL ? And rule chain behave wrong (for aggregration, ussually null value) after haproxy installed. \r\n2. I completely remove haproxy but I don't know why I could still use URL without port 8080 ?\r\nPls help!",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3318/comments",
    "author": "anhdv1979",
    "comments": [
      {
        "user": "agtokty",
        "created_at": "2020-08-15T10:32:17Z",
        "body": "1 . Don't understand\r\n2. Thingsboard is using 8080 as a default port, so tb will always run on this port(if you dont change it from configuration). haproxy  also use this port to acces tb itself."
      },
      {
        "user": "anhdv1979",
        "created_at": "2020-08-15T10:41:53Z",
        "body": "Let me describe:\r\n1. I install TB 3.1 PE on premise (OS: Ubuntu 20.04). After that I run thingsboard with URL and port 8080 (default). Creating devices and asset under group e.g D group for devices and A group for assets. After that I install Ha as guide. I come with URL without 8080 port. But assets and devices not show although D & A groups show. ?????\r\n2. Uninstall haproxy completely but still come with URL without 8080 port. How do I do to make it back before haproxy installaion. It means that I would like to come with url and 8080 port, not url alone"
      },
      {
        "user": "agtokty",
        "created_at": "2020-08-15T10:56:59Z",
        "body": "OK, it is very interesting that after haproxy uninstallation, tb still reachable with 80(without 8080 port) port. \r\nAre you sure haproxy is not running or any other program like apache redirecting your 80 port to 8080 ?"
      },
      {
        "user": "anhdv1979",
        "created_at": "2020-08-15T11:07:50Z",
        "body": "Yes. I check all httpd apache nginx but none of them run"
      }
    ]
  },
  {
    "number": 3299,
    "title": "[Question] WARNING Record value is out of bounds",
    "created_at": "2020-08-13T08:42:15Z",
    "closed_at": "2022-08-29T15:54:00Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3299",
    "body": "Im having the following warning after a period of time of sending constant data (7.5k devices sending data every 10 seconds). Here is the log section:\r\n```\r\n2020-08-13 09:40:03,762 [Thingsboard-io-3] WARN  c.d.o.d.i.core.metrics.HdrReservoir - [Thingsboard.cql-requests] Recorded value (19163326012) is out of bounds, discarding\r\n```\r\nFollowed by this error:\r\n\r\n```\r\n2020-08-13 09:40:08,202 [cassandra-callback-10-thread-425] ERROR c.g.c.u.concurrent.AggregateFuture - Got more than one input Future failure. Logging failures after the first\r\ncom.datastax.oss.driver.api.core.DriverTimeoutException: Query timed out after PT20S\r\n\tat com.datastax.oss.driver.internal.core.cql.CqlRequestHandler.lambda$scheduleTimeout$1(CqlRequestHandler.java:224)\r\n\tat io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:672)\r\n\tat io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:747)\r\n\tat io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:472)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nWhat is this warning related to?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3299/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T15:54:00Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3298,
    "title": "Unable to get active event on rpc request",
    "created_at": "2020-08-13T07:32:58Z",
    "closed_at": "2024-05-23T13:16:37Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3298",
    "body": "Hi,\nAs per documents , whenever device request to thingsBoard it's generate the active event message on telemetry, attributes and rpc messages.\n\nBut I'm not getting any active event message on rpc messages request but it's generating on telemetry and attributes message.\n\nI also tried to generate using rule chain but don't know to where to send after generate message.\n\nI'm using demo version of thingsBoard and I generally want to active and inactive event of all devices that indicates that help me to process my application.\n\nPlease help me and suggest me if anything can do using rule chain.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3298/comments",
    "author": "GauravChoube",
    "comments": [
      {
        "user": "GauravChoube",
        "created_at": "2020-08-21T07:29:44Z",
        "body": "please some one respond me!"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T13:16:37Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3296,
    "title": "[Question] Warning Error while opening new channel",
    "created_at": "2020-08-12T16:24:25Z",
    "closed_at": "2022-07-12T06:50:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3296",
    "body": "Hi, when trying to set two cassandra nodes. I get the following warning in my thingsboard.log file\r\n\r\n```\r\n2020-08-12 17:21:39,487 [Thingsboard-admin-0] WARN  c.d.o.d.i.core.pool.ChannelPool - [Thingsboard|/155.245.64.208:9042]  Error while opening new channel (ConnectionInitException: [Thingsboard|connecting...] Protocol initialization request, step 1 (STARTUP {CQL_VERSION=3.0.0, DRIVER_NAME=DataStax Java driver for Apache Cassandra(R), DRIVER_VERSION=4.6.0, CLIENT_ID=1e892456-dde5-4d8a-b286-a07e08bfa2ad}): failed to send request (java.nio.channels.ClosedChannelException))\r\n```\r\nWhat is related to? And how can I solve it?\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3296/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2022-06-22T18:12:12Z",
        "body": "Hi, does this error persist all time or only at start of ThingsBoard?"
      }
    ]
  },
  {
    "number": 3265,
    "title": "[Question] How to choose descending sort order in dashboard Device Admin Table widget's advanced form's Default sort order field",
    "created_at": "2020-08-09T19:16:15Z",
    "closed_at": "2020-08-11T20:31:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3265",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n\r\n**Description**\r\nI specified lastAcitivityTime in Dashboard->Widget->Device admin table->Advanced->Default sort order. That seems to be working. How can one specify descending order along with name? Default seems to be ascending and I have to click to choose descending every time I open the dashboard.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu LTS 18.04\r\n * ThingsBoard: 3.0.1\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3265/comments",
    "author": "ashvarma-git",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-08-10T07:11:31Z",
        "body": "Hello,\r\nYou can do this by adding the \" - \" sign before the attribute name specified as default sort order."
      },
      {
        "user": "ashvarma-git",
        "created_at": "2020-08-10T13:20:01Z",
        "body": "Thank you for the answer. Please add ii to documentation. It was also not obvious that one could simply specify a device attribute there, since no drop list is offered to make a selection like in many other form fields. I just found out by chance."
      }
    ]
  },
  {
    "number": 3264,
    "title": "Does thingsboard support ECC certificates?",
    "created_at": "2020-08-09T18:46:52Z",
    "closed_at": "2022-06-22T18:22:58Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3264",
    "body": "I want to use SharkSSl in my next product and it use ECC in its certificate management implementation, and I can see that device credentials support RSA only (from GUI).",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3264/comments",
    "author": "ahmedwahdan",
    "comments": [
      {
        "user": "ban2derlog",
        "created_at": "2022-06-22T17:45:55Z",
        "body": "Hi, ThingsBoard supports only RSA PEM certificates and JKS."
      }
    ]
  },
  {
    "number": 3263,
    "title": "Request Timeout every time. What happened ?",
    "created_at": "2020-08-09T07:51:00Z",
    "closed_at": "2022-07-05T07:13:11Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3263",
    "body": "Hello!\r\nEvery time I enter the dashboard, I get a request timeout on the widget. The request for ESP8266 does not come, so I cannot answer. When I try to manually send data for the widget, it does not respond to them. The problem arose just under two weeks ago. Before that, everything was fine.\r\n\r\nMac OS X, ESP8266-01",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3263/comments",
    "author": "NazarDiadiun",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-08-14T16:17:16Z",
        "body": "what's in the rule engine processing to be set, does the \"send rpc call\" rule node being set there? Is the device being already connected?"
      },
      {
        "user": "Karabiy",
        "created_at": "2020-09-30T15:10:23Z",
        "body": "does the issue persists? "
      },
      {
        "user": "ban2derlog",
        "created_at": "2022-06-22T17:47:00Z",
        "body": "Hi, does this still persist on latest version?"
      }
    ]
  },
  {
    "number": 3249,
    "title": "[Question] How to deploy TB using microservice and multiple host machines",
    "created_at": "2020-08-06T08:06:11Z",
    "closed_at": "2021-06-02T09:12:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3249",
    "body": "Hi, is there any documentation on how to run TB using microservices in multiple machines?\r\nI only see \"Docker configuration for ThingsBoard Microservices\" example, but is with only one host machine. Where can I specify the IP address of each machine?\r\n\r\nThanks",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3249/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "CooL16",
        "created_at": "2020-10-01T11:47:00Z",
        "body": "@fjpa121197 to perform that you need an external kafka, zookeeper and redis services.\r\nThen you have to set the Ip of a common zookeeper and kafka services (so to them can connect ThingsBoard and they will be able to communicate with each other)\r\nyou can set the propper properties within tb-node.env, queue-kafka.env files.\r\nAs well you have to comment out all settings that relates to tb-core2 on one machine, and all settings that relates to tb-core1 on the second machine. (this settings located within docker-compose.yml files)"
      },
      {
        "user": "trypzz",
        "created_at": "2021-06-02T09:12:13Z",
        "body": "closed due to inactivity."
      }
    ]
  },
  {
    "number": 3236,
    "title": "[Question] why kick arka away？",
    "created_at": "2020-08-04T11:23:27Z",
    "closed_at": "2020-08-05T09:38:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3236",
    "body": "\r\n**Description**\r\nsince 2.5.2 ，Replaced Akka with pure java implementation of Actor System;   \r\n\r\n why?    are there many problem ?\r\n\r\n What are the advantages  in  the   Actor System ？\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3236/comments",
    "author": "opjk",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-08-05T09:18:06Z",
        "body": "#3094  you may refer to this thread regarding those to be described "
      }
    ]
  },
  {
    "number": 3231,
    "title": "Running Apache server with thingsboard",
    "created_at": "2020-08-03T16:15:43Z",
    "closed_at": "2020-09-30T15:12:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3231",
    "body": "I am running thingsboard on vps which has ubantu linux.\r\ni using thingsboard community and i want to run Apache along thingsboard.\r\n\r\nPlease suggest me how to achieve it.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3231/comments",
    "author": "GauravChoube",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-08-05T09:16:41Z",
        "body": "for those reasons you should set the port for the ThingsBoard or the Apach in a way to prevent the \"Port already bound\"\r\nin order to prevent those, for the ThingsBoard you can change the ports being used\r\nPlease, set those in the thingsboard.conf file and refer to the thingsboard.yml file only to get the environmental variables. It is the same logic as for the license key, so, for example, in case if you would have want to change the MQTT enabled ( the MQTT API to stop ) to the disabled, for the thingsboard.conf file you would have added the next row: \r\nexport MQTT_ENABLED=false\r\n\r\nAfter all the changes will be applied, it is required to have the thingsboard restart, to have the changes to be applied. \r\n\r\nThe thingsboard.yml file is located in the same directory as the thingsboard.conf. The path for the directory is /etc/thingsboard/conf/"
      }
    ]
  },
  {
    "number": 3216,
    "title": "Thingsboard Custom Image Folder",
    "created_at": "2020-08-03T09:12:00Z",
    "closed_at": "2022-08-29T16:27:33Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3216",
    "body": "Hello !\r\nI want to use in Thingsboard my custom images for devices and for assets.\r\nPlease tell me in which folder should I place these custom images in order to be loaded from there by Thingsboard.\r\nDoes Thingsboard have such folder ?\r\nThank You !\r\n\r\nEnvironment\r\n\r\nOS: Win 7 x64\r\nThingsBoard: 2.5.2\r\nBrowser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3216/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "amizer12",
        "created_at": "2020-08-05T09:59:49Z",
        "body": "I'm in the same boat - i'm loading now images from external sources but it messes up my performance - i think those files are packed inside compiled jar file.\r\nI'll try to compile from source and add images to it and see if that works.\r\nIf that`s the case then maybe there is a way to imprt local files into the webpage via JS somehow ?\r\nI`ve also converter some of my graphics into svg file nad pasted into the code so those ar erendered locally, unfortunatelly i can do it only for vector-based images"
      },
      {
        "user": "lmax25",
        "created_at": "2020-08-05T21:03:41Z",
        "body": "Sorry !\r\nStill not found any solution yet except the external link image...\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-29T16:27:33Z",
        "body": "Closed, as not active."
      }
    ]
  },
  {
    "number": 3215,
    "title": "Delete Thingsboard Alarms Based On Users Name and Type",
    "created_at": "2020-08-03T09:05:17Z",
    "closed_at": "2024-05-23T13:15:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3215",
    "body": "Hello !\r\n\r\nPlease tell me how can I allow only to certain customers or customer's users to delete only a specified type of alarm based on alarm type in Thingsboard 2.5 or 3.00 .\r\n\r\nLet's say :\r\n\r\nIF alarm_type='NO POWER'\r\ncustomer \"A\" or tenant administrators can delete the alarm\r\n\r\nIF alarm_type='NO POWER'\r\ncustomer \"B\",\"C\",.....,\"N\" can't delete the alarm\r\n\r\nThank You !\r\n\r\nEnvironment\r\n\r\nOS: Win 7 x64\r\nThingsBoard: 2.5.2  or 3.00\r\nBrowser: Chrome",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3215/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T13:15:28Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity.\r\n\r\n\r\n\r\n\r\n\r\n\r\n"
      }
    ]
  },
  {
    "number": 3214,
    "title": "[Question] Thingsboard demo does not update temeletry data",
    "created_at": "2020-08-03T07:49:36Z",
    "closed_at": "2020-08-04T18:22:04Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3214",
    "body": "Hi, I have trouble getting both device telemetry data and dashboards updating real time. But when I refresh the page, the data is updated on both device telemetry data and dashboards. How to resolve this?\r\n\r\nit also prompted me \r\n\"504 Gateway Time-out\"\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3214/comments",
    "author": "engfei",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2020-08-04T07:17:09Z",
        "body": "Hi @engfei,\r\nPlease recheck this problem, because this not reproduce at me."
      },
      {
        "user": "engfei",
        "created_at": "2020-08-04T07:19:13Z",
        "body": "Hi @vvlladd28 \r\n\r\nThings are getting back normal this morning without doing anything. Thanks"
      },
      {
        "user": "TanCans",
        "created_at": "2020-10-01T14:46:14Z",
        "body": "Hey, i am having the same problem since a couple of days, do you know how to solve it or what can be the problem?"
      },
      {
        "user": "ahsan2882",
        "created_at": "2020-10-10T15:11:06Z",
        "body": "Does this happen with the paid version as well?"
      }
    ]
  },
  {
    "number": 3206,
    "title": "[Question] How to navigate to a new dashboard state by clicking on row and add new widget for each device on ThingsBoard",
    "created_at": "2020-07-31T11:15:38Z",
    "closed_at": "2022-08-26T15:40:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3206",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * dashboard state\r\n * Generic\r\n\r\n**Description**\r\nI've created a widget card which contains multiple devices, and I've added an action to navigate to a new dashboard by clicking on a row, I want for each dashboard to create diffrent widget, the problem is when I create a widget it's the same for all the device dashboard state, even though I try to modify it, then the other widgets got modified too, I don't know if it's a bug from the platfom or not. please can anybody help me with this.\r\n\r\n**Environment**\r\n\r\n * ThingsBoard:  CE version 3\r\n ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3206/comments",
    "author": "Nadou14",
    "comments": [
      {
        "user": "Delapouite",
        "created_at": "2020-08-14T06:42:09Z",
        "body": "Hello. Do you use a unique title for each widget?"
      },
      {
        "user": "Karabiy",
        "created_at": "2020-09-30T15:44:25Z",
        "body": "please, specify whether you have used the dashboard import option for those "
      }
    ]
  },
  {
    "number": 3194,
    "title": "Exceptions - Error",
    "created_at": "2020-07-29T16:03:03Z",
    "closed_at": "2022-09-01T10:58:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3194",
    "body": "Hi, \r\n\r\nWhat is \"Deque full\" error related to? What is the direct cause? \r\n\r\nThanks",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3194/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "fjpa121197",
        "created_at": "2020-08-02T07:49:53Z",
        "body": "Looking at the logs, I see the following error in TB logs:\r\n\r\n```\r\n2020-08-01 01:17:06,946 [ForkJoinPool-12-worker-0] ERROR c.g.c.u.concurrent.AggregateFuture - Got more than one input Future failure. Logging failures after the first\r\njava.lang.IllegalStateException: Deque full\r\n\tat java.util.concurrent.LinkedBlockingDeque.addLast(LinkedBlockingDeque.java:335)\r\n\tat java.util.concurrent.LinkedBlockingDeque.add(LinkedBlockingDeque.java:633)\r\n\tat org.thingsboard.server.dao.util.AbstractBufferedRateExecutor.submit(AbstractBufferedRateExecutor.java:109)\r\n\tat org.thingsboard.server.dao.nosql.CassandraAbstractDao.executeAsync(CassandraAbstractDao.java:93)\r\n\tat org.thingsboard.server.dao.nosql.CassandraAbstractDao.executeAsyncWrite(CassandraAbstractDao.java:76)\r\n\tat org.thingsboard.server.dao.timeseries.CassandraBaseTimeseriesDao.savePartition(CassandraBaseTimeseriesDao.java:434)\r\n\tat org.thingsboard.server.dao.timeseries.BaseTimeseriesService.saveAndRegisterFutures(BaseTimeseriesService.java:153)\r\n\tat org.thingsboard.server.dao.timeseries.BaseTimeseriesService.save(BaseTimeseriesService.java:144)\r\n\tat org.thingsboard.server.service.telemetry.DefaultTelemetrySubscriptionService.saveAndNotify(DefaultTelemetrySubscriptionService.java:124)\r\n\tat org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode.onMsg(TbMsgTimeseriesNode.java:89)\r\n\tat org.thingsboard.server.actors.ruleChain.RuleNodeActorMessageProcessor.onRuleChainToRuleNodeMsg(RuleNodeActorMessageProcessor.java:107)\r\n\tat org.thingsboard.server.actors.ruleChain.RuleNodeActor.onRuleChainToRuleNodeMsg(RuleNodeActor.java:97)\r\n\tat org.thingsboard.server.actors.ruleChain.RuleNodeActor.doProcess(RuleNodeActor.java:60)\r\n\tat org.thingsboard.server.actors.service.ContextAwareActor.process(ContextAwareActor.java:45)\r\n\tat org.thingsboard.server.actors.TbActorMailbox.processMailbox(TbActorMailbox.java:121)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n```"
      },
      {
        "user": "Karabiy",
        "created_at": "2020-08-05T15:09:27Z",
        "body": "you can refer to this thread\r\n#1515 "
      },
      {
        "user": "fjpa121197",
        "created_at": "2020-08-05T21:00:27Z",
        "body": "I have a monitoring tool that checks the availability of the database and it doesn't show any time that the node was down. Also, how can I increase this queue size? Is there a parameters in a configuration file or is related to a resource?"
      },
      {
        "user": "fjpa121197",
        "created_at": "2020-08-11T16:30:41Z",
        "body": "@ashvayka @Karabiy any comments on what parameter to change to overcome this error? "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2022-09-01T10:58:57Z",
        "body": "Deque full error has been encountered in versions before 3.3.x if I'm not mistaken.\r\nIt was solved by raising cassandra.query.concurrent_limit. This error has not occurred for a long time on recent versions of ThingsBoard."
      }
    ]
  },
  {
    "number": 3193,
    "title": "ESP8266. the graph in the dashboard is not drawn in real time",
    "created_at": "2020-07-29T15:14:33Z",
    "closed_at": "2024-05-23T15:44:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3193",
    "body": "I don't understand what happened. My sketch worked fine, but something strange has started happening recently. Data is sent from ESP8266 and comes to the dashboard. But the realtime function seems to be not available. I need to reload the page to see the data just arrived. Also, the RPC commands stopped reaching the ESP8266. I tried to load the sketch from the guides, however, even there, in the serial port, it is not visible that I switched the switch. Is this a problem on the thingsboard ?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3193/comments",
    "author": "NazarDiadiun",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-07-29T15:41:07Z",
        "body": "please, specify whether you are using the live demo environment of the ThingsBoard or you are using the on premises installation\r\nin case if you are using the on premises installation, please, specify the exact version of the ThingsBoard you are using \r\nTo have the check of the version you may refer to the (PE only) white labeling → white labeling → show platform name and version or, in case if you have ssh access, you can use the (is okay with both CE and PE) “ dpkg -l thingsboard “ command to check the version.\r\nalso check the device connectivity and whether there are no issues related to the network"
      },
      {
        "user": "NazarDiadiun",
        "created_at": "2020-07-29T15:49:58Z",
        "body": "Thanks for answering!\r\n\r\nI am using a live demo, there are no problems with connecting the device. As I already wrote - Data is sent and I can see it, but only when I reload the page. When I rebooted it earlier, the setGpioStatus command came to me on ESP8266, now it does not come. I tried a few sketches and they all worked a few days ago."
      },
      {
        "user": "Karabiy",
        "created_at": "2020-07-29T16:12:50Z",
        "body": "can you specify the email you are using to login to the live demo, so that we can check the issue of yours "
      },
      {
        "user": "NazarDiadiun",
        "created_at": "2020-07-29T16:17:25Z",
        "body": "Nazardiadiun@gmail.com\r\n\r\nThanks in advance!"
      },
      {
        "user": "chendrix4",
        "created_at": "2020-07-31T00:19:15Z",
        "body": "I'm having the same issue with ESP32/DHT22 tutorial on the live demo. I must manually refresh to see new data, and setGpioStatus widgets timeout every time.\r\n\r\nI'm working on Windows with Firefox and Chrome.\r\n\r\nMy account is cdhendrix0207 [at] gmail [dot] com."
      },
      {
        "user": "csimena",
        "created_at": "2020-07-31T00:22:08Z",
        "body": "I'm also having the same issue on Mac OS with Safari! "
      },
      {
        "user": "NazarDiadiun",
        "created_at": "2020-08-01T09:34:38Z",
        "body": "> can you specify the email you are using to login to the live demo, so that we can check the issue of yours\r\n\r\nHello! Still no solution to this problem? It still doesn't work as it should."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T15:44:34Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3191,
    "title": "[Question] Programatically set Widget size",
    "created_at": "2020-07-29T13:37:50Z",
    "closed_at": "2022-06-15T07:58:59Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3191",
    "body": "Hi,\r\nIs there a way to programatically set the widget height and size ?\r\n\r\nI know TB uses gridster for layout and when i `console.log(self.ctx.dashboard.gridsterOpts)` i can see multiple options.\r\ni`ve digged through the gridster documentation for each and no matter what i inject directly into the DOM it is completely ignored by widgets.\r\n\r\nI would also love to set mobile widget height to something bigger then 10 and it is not happening even if i directly inject it in the widget code ( i need it as my widget as in actuall application that is being cut in mobile view  as it needs more then 10 point for height)\r\n\r\nI can get current widget height and width from API as documented but how can i set it to a desired value ?\r\n\r\nAny idea ?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 18.04\r\n * ThingsBoard: 3.0.1 CE\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3191/comments",
    "author": "amizer12",
    "comments": [
      {
        "user": "amizer12",
        "created_at": "2020-07-29T16:57:40Z",
        "body": "I`ve found a REALLY HACKY way to do it - i get the height of two divs of my custom widgets, sum them up and then set the height attribute of the widget div in DOM, i also do the same in \r\n\r\n`on.Resize`\r\n\r\n```\r\nvueh=clientHeight+clientHeight2+32\r\nxx=document.getElementsByClassName(\"tb-widget\")[0]\r\nxx.style.height = vueh+'px';\r\n```"
      },
      {
        "user": "yogamuliawan",
        "created_at": "2021-07-21T00:42:54Z",
        "body": "I've found a tricky way to do it by changing the height via xpath address\r\n\r\nUse below function to get the Element and set the height using `style.property = value`\r\n\r\n```\r\ngetElementByXpath = function(xpathfullpath) {\r\n  return document.evaluate(xpathfullpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\r\n}\r\n```\r\n\r\nGoodluck Guys! 😊\r\n"
      }
    ]
  },
  {
    "number": 3184,
    "title": "[Question] DomSanitzer in Widget for base64 encoded data",
    "created_at": "2020-07-28T18:28:47Z",
    "closed_at": "2020-08-13T13:49:16Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3184",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Widget\r\n \r\n**Description**\r\nMy IoT application acquires audio signals from deployed devices. The short audio clips (<500KB) are base64 encoded and sent to TB as a JSON key/value. My goal is to provide access to the latest recordings on the dashboard so the user can quickly evaluate and take necessary action.\r\n\r\nSo I created a new widget to display the html5 audio element and set its src to the base64 encoded data string like this:`src=\"data:audio/wav;base64,UklGRgh3AQBXQVZFZm10IBAAAAAB … /6//q/+T/3P/g/9v/4//a/+j/3f/o/+X/6P/t//D/9v/3/w==\"`. However, Angular does not permit this because it is considered an unsafe url and disables it by prepending `unsafe` to the string like this: `src=\"unsafe:data:audio/wav;base64,UklGRgh3AQBXQVZFZm10IBAAAAAB … /6//q/+T/3P/g/9v/4//a/+j/3f/o/+X/6P/t//D/9v/3/w==\"`.\r\n\r\nThe obvious solution is to use Angular's DomSanitizer (`domSanitizer.bypassSecurityTrustUrl()`) but it is not accessible within the widget's scope and it cannot be imported at runtime. A search of this repo shows numerous usages of the DomSanitizer, including in various widget components (ui-ngx/src/app/modules/home/components/widget/lib/alarms-table-widget.component.ts, ui-ngx/src/app/modules/home/components/widget/lib/entities-table-widget.component.ts, ui-ngx/src/app/modules/home/components/widget/lib/timeseries-table-widget.component.ts, etc.). \r\n\r\nIs it possible to access the DomSanitizer in a Widget? If so, how? If not, what other options can I try?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  AWS EC2 \r\n * ThingsBoard: PE 3.0.1\r\n * Browser: Chrome 84\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3184/comments",
    "author": "imoon",
    "comments": [
      {
        "user": "imoon",
        "created_at": "2020-08-11T18:36:14Z",
        "body": "Is there anyone who can help me with this?"
      },
      {
        "user": "vvlladd28",
        "created_at": "2020-08-11T20:19:22Z",
        "body": "Hi @imoon,\r\nIn the new version TB 3.1, we are added DomSanitizer to widgetContext. "
      },
      {
        "user": "imoon",
        "created_at": "2020-08-12T17:41:45Z",
        "body": "@vvlladd28 good news. Thanks"
      }
    ]
  },
  {
    "number": 3177,
    "title": "How to run unit test? thingsboard2.4.3",
    "created_at": "2020-07-28T05:39:08Z",
    "closed_at": "2022-09-23T07:53:50Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3177",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nHow to run unit test for thingsboard2.4.3\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: 2.4.3\r\n * Java 1.8.0_251\r\n* Idea\r\n\r\nwhen run unit test\r\n\r\n2020-07-28 13:37:54,704 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\r\njava.sql.SQLInvalidAuthorizationSpecException: invalid authorization specification - not found: SA\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n\tat org.hsqldb.jdbc.JDBCConnection.<init>(Unknown Source)\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3177/comments",
    "author": "waytai",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-09-23T07:53:50Z",
        "body": "closed due to inactivity"
      }
    ]
  },
  {
    "number": 3173,
    "title": "Suggestion of how to run TB",
    "created_at": "2020-07-27T14:47:24Z",
    "closed_at": "2022-02-04T14:08:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3173",
    "body": "Hi,\r\n\r\nI am running TB, using a hybrid approach (Cassandra and PostgreSQL). All of them running in the same machine, with the following specs:\r\nProceessor: Intel Core i5-3570 CPU @3.40GHz x 4\r\nRAM: 8GB\r\nDisk Size 500GB\r\n\r\nMy goal is to connect up to 10K devices that send data every 10 seconds. Right now, using only 2.5K devices, the machine doesnt get over-loaded and I can access TB Web UI and a dashboard that I have to check if the devices are active. However, as I increase the number of devices connected and sending data, the Web UI starts overloading and laggy. I have check the CPU utilization and between TB and Cassandra, it reaches 90-100%.  \r\n\r\nI think I will separate the Cassandra database and put it in another machine. However, I wanted to know if changing TB queue service (currently using in-memory) will benefit or make the Web UI less laggy? \r\n\r\nAlso, I know you can separate Cassandra database and have running in a separate machine. But can you do the same with the postgreSQL database? And is it possible to do it with TB? So a part of TB that handles MQTT requests is in a machine and the rest of TB is in another?\r\n\r\nThanks in advance",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3173/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-07-27T16:43:43Z",
        "body": "Hi @fjpa121197 , please await a bit for 3.1 release. It will be available in max 2 weeks. This is a major improvement for UI performance and responsiveness based on improvements of SQL queries behind the UI requests. "
      },
      {
        "user": "fjpa121197",
        "created_at": "2020-07-28T07:24:18Z",
        "body": "What are the differences between using in-memory and kafka as queue service? "
      },
      {
        "user": "Karabiy",
        "created_at": "2020-07-29T11:00:52Z",
        "body": "Kafka provides more reliability. \r\nfor example, in case if you have Kafka and for some reason you have your ThingsBoard host being down, the Kafka will keep store those messages and also the in-memory does not fit the cluster deployments, because of the synchronization is being required between the services. "
      }
    ]
  },
  {
    "number": 3148,
    "title": "when execute npm install，why the file IUtils.d.ts: in node_modules/@date-io/core/IUtils.d.ts would produce \"import .......  prettier\" and leads to a fault",
    "created_at": "2020-07-24T03:07:33Z",
    "closed_at": "2020-10-06T11:04:49Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3148",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n * Rule Engine\r\n * Installation\r\n * Generic\r\n\r\n**Description**\r\nA clear and concise details.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  name and version\r\n * ThingsBoard: version\r\n * Browser: name and version\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3148/comments",
    "author": "chuck199202104",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-07-24T10:15:41Z",
        "body": "which OS and environment you are using for those to be executed? "
      },
      {
        "user": "Karabiy",
        "created_at": "2020-10-06T11:04:49Z",
        "body": "issue seems not to persists. "
      }
    ]
  },
  {
    "number": 3147,
    "title": "How to pass entityName when using openDashBoardState() in custom Action",
    "created_at": "2020-07-23T21:47:03Z",
    "closed_at": "2020-07-25T19:50:44Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3147",
    "body": "Hi Guys, in the map widget we are using this following code to switch to dashboard state based on device type. But we cannot figure out how to pass entityName to the state so we can use the alias option 'Entity taken from dashboard state parameters'\r\n\r\nany help would be greatly appreciated \r\n\r\nversion: thingsboard 3.0.1PE\r\n\r\n```\r\n\r\nvar $injector = widgetContext.$scope.$injector;\r\n$injector.get(widgetContext.servicesMap.get('deviceService')).getDevice(entityId.id).subscribe(function(device) {\r\n        if (device.type == 'SCC-2D') {\r\n            openDashboardState('SCC_2D')\r\n        }\r\n        else if(device.type == 'SCC-2T') {\r\n            openDashboardState('SCC_2T')\r\n        }\r\n        else if(device.type == 'SCC-DT')  {\r\n            openDashboardState('SCC_DT')\r\n        }\r\n});\r\n\r\nfunction openDashboardState(stateId) {\r\n    var params = {\r\n        entityId: entityId,\r\n        entityName: entityName\r\n    }\r\n\r\n    widgetContext.stateController.openState(stateId, params, false);\r\n}\r\n\r\n```",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3147/comments",
    "author": "t0mZ4",
    "comments": [
      {
        "user": "t0mZ4",
        "created_at": "2020-07-24T17:54:12Z",
        "body": "Hi @vvlladd28  perhaps you can share your expertise with us on this issue as well?\r\n\r\n"
      },
      {
        "user": "vvlladd28",
        "created_at": "2020-07-24T21:15:47Z",
        "body": "Hi @t0mmyz7,\r\n\r\nYou need to use the name from the service response:\r\n \r\n```\r\nvar $injector = widgetContext.$scope.$injector;\r\nvar deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\r\n\r\ndeviceService.getDevice(entityId.id).subscribe(function(device) {\r\n        if (device.type == 'SCC-2D') {\r\n            openDashboardState(‘SCC_2D’, device)\r\n        }\r\n        else if(device.type == 'SCC-2T') {\r\n            openDashboardState('SCC_2T', device)\r\n        }\r\n        else if(device.type == 'SCC-DT')  {\r\n            openDashboardState('SCC_DT', device)\r\n        }\r\n});\r\n\r\nfunction openDashboardState(stateId, device) {\r\n    var params = {\r\n        entityId: entityId,\r\n        entityName: device.name\r\n    }\r\n\r\n    widgetContext.stateController.openState(stateId, params, false);\r\n}\r\n```"
      },
      {
        "user": "t0mZ4",
        "created_at": "2020-07-25T19:50:14Z",
        "body": "@vvlladd28 thanks alot Vlad, again you help us solve this and achieve our objective!! I wonder if there is a reference where we could have studied openDashboardState() to know what variables it expects?\r\n\r\nOne small typo to fix in your code example, \r\n\r\ninstead of            \r\n\r\n `openDashboardState(‘SCC_2D’, device)`\r\n\r\nThis\r\n\r\n`openDashboardState('SCC_2D', device)`"
      },
      {
        "user": "Arteria2",
        "created_at": "2021-03-16T15:33:24Z",
        "body": "Hello, I try to put this code in custom Action but it does not work. Can you help me ?\r\nThanks\r\n\r\nvar $injector = widgetContext.$scope.$injector;\r\nlet deviceService = $injector.get(widgetContext.servicesMap.get('deviceService'));\r\n\r\ndeviceService.getDevice(entityId.id).subscribe(function(device) {\r\n        if (device.type == 'ers-elsys') {\r\n            openDashboardState('co2_etat',device)\r\n        }\r\n        else if(device.type == 'ers-elsys-sound') {\r\n            openDashboardState('sound_etat',device)\r\n        }\r\n        \r\n});\r\n\r\nfunction openDashboardState(stateId,device) {\r\n    var params = {\r\n        entityId: entityId,\r\n        entityName: device.name\r\n    };\r\n\r\n    widgetContext.stateController.openState(stateId, params, false);\r\n}"
      }
    ]
  },
  {
    "number": 3142,
    "title": "MQTT Netty ",
    "created_at": "2020-07-22T17:43:11Z",
    "closed_at": "2024-10-01T11:33:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3142",
    "body": "Hi, I have a question regarding the mqtt netty parameters in TB. \r\nHow should the \"boss_group_thread_count\" and \" worker_group_thread_count\" parameters be changed? Under what values and based on what should those changed?\r\n\r\nTB server is hosted in:\r\nProceessor: Intel Core i5-3570 CPU @3.40GHz x 4\r\nRAM: 8GB\r\nDisk Size 500GB\r\n\r\n```\r\nmqtt:\r\n    # Enable/disable mqtt transport protocol.\r\n    enabled: \"${MQTT_ENABLED:true}\"\r\n    bind_address: \"${MQTT_BIND_ADDRESS:0.0.0.0}\"\r\n    bind_port: \"${MQTT_BIND_PORT:1883}\"\r\n    timeout: \"${MQTT_TIMEOUT:10000}\"\r\n    netty:\r\n      leak_detector_level: \"${NETTY_LEAK_DETECTOR_LVL:DISABLED}\"\r\n      boss_group_thread_count: \"${NETTY_BOSS_GROUP_THREADS:1}\"\r\n      worker_group_thread_count: \"${NETTY_WORKER_GROUP_THREADS:12}\"\r\n      max_payload_size: \"${NETTY_MAX_PAYLOAD_SIZE:65536}\"\r\n      so_keep_alive: \"${NETTY_SO_KEEPALIVE:false}\"\r\n```\r\n\r\nHow should I change those parametters and what benefits can I expect from this changes (better results or it depends)?\r\n\r\nThanks in advance",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3142/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "pon0marev",
        "created_at": "2024-09-19T15:38:07Z",
        "body": "**boss_group_thread_coun**t - can speed up the processing of new connections if the server handles a large number of clients.\r\nIncreasing the number of threads may increase resource consumption.\r\n**worker_group_thread_count** - more worker threads can help process a large number of messages faster, which increases performance under high MQTT traffic. However, too many threads can reduce overall performance if the system is CPU limited.\r\n\r\nStandard settings can handle a large number of devices and do not require modification. However, you can experiment with the settings to find the optimal balance between performance and resource utilization."
      }
    ]
  },
  {
    "number": 3134,
    "title": "Choose device in sendOneWayCommand [control widget]",
    "created_at": "2020-07-21T16:16:47Z",
    "closed_at": "2024-05-23T15:50:05Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3134",
    "body": "**Component**\r\n * Control widget\r\n\r\n**Description**\r\nHow to send RPC command to specific device when i have multiples devices in my dashboard.\r\nFor example with \"RPC button\" control widget:\r\n        if (oneWayElseTwoWay) {\r\n            commandPromise = self.ctx.controlApi.sendOneWayCommand(rpcMethod, rpcParams, timeout);\r\n        } else {\r\n            commandPromise = self.ctx.controlApi.sendTwoWayCommand(rpcMethod, rpcParams, timeout);\r\n        }\r\n        commandPromise.subscribe(\r\n            function success() {\r\n                self.ctx.$scope.error = \"\";\r\n                self.ctx.detectChanges();\r\n            },\r\n            function fail(rejection) {\r\n                if (self.ctx.settings.showError) {\r\n                    self.ctx.$scope.error =rejection.status + \": \" +rejection.statusText;\r\n                    self.ctx.detectChanges();\r\n                }\r\n            }\r\n        );\r\nIn 2.5 version i used \"sendTwoWayRpcCommand\" but in 3.0.1 version i'cannot find the how to access to this command.\r\n\r\n**Environment**\r\n * OS:  Ubuntu\r\n * ThingsBoard: v3.0.1\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3134/comments",
    "author": "hjlopezr",
    "comments": [
      {
        "user": "Tasosgi",
        "created_at": "2020-07-30T05:50:39Z",
        "body": "I am wondering the same.."
      },
      {
        "user": "RGNagel",
        "created_at": "2020-08-22T13:44:27Z",
        "body": "yea me too"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T15:50:05Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3130,
    "title": "i have migrate the database to another server and i have this issue",
    "created_at": "2020-07-21T10:17:50Z",
    "closed_at": "2020-07-22T11:02:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3130",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n \r\ncould not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3130/comments",
    "author": "Ben-Sassi-Oussema",
    "comments": [
      {
        "user": "yefimov-andrii",
        "created_at": "2020-07-22T10:51:00Z",
        "body": "Could you please specify how you migrated and which settings you used?"
      }
    ]
  },
  {
    "number": 3123,
    "title": "TB MQTT broker",
    "created_at": "2020-07-20T17:37:58Z",
    "closed_at": "2020-07-22T16:52:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3123",
    "body": "Hi,\r\n\r\nHow many connections does TB MQTT broker accept from only one IP address? Does it allow more than 10K connections from only one IP address?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3123/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "heqiqi",
        "created_at": "2020-07-22T02:19:07Z",
        "body": "Hey, the quantity of connections only  relates to your bandwidth and memory."
      }
    ]
  },
  {
    "number": 3088,
    "title": "[Question] Polygon for Image Map",
    "created_at": "2020-07-13T11:01:32Z",
    "closed_at": "2024-05-29T14:03:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3088",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Image Map Widget\r\n\r\n**Description**\r\nThe polygon for image maps seems to have the coordinates based on pixel size. This cause the polygon form to be of the same size regardless of the widget size, and to be placed incorrectly if the widget resizes. Perhaps change it to be based on x, y coordinates between 0 and 1 instead or is that any alternative way to solve this issue?\r\n\r\n**Environment**\r\n * ThingsBoard PE\r\n * Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3088/comments",
    "author": "micklwl",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-05-29T14:03:27Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3086,
    "title": "[Question] how to use the redis queue in the rule engine rest api call node",
    "created_at": "2020-07-13T04:52:18Z",
    "closed_at": "2024-06-03T13:40:39Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3086",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n\r\n**Description**\r\nwhen i use the rest api call node ，there is a option：“Use redis queue for message persistence”, but I don't know how to use it. Is there any document？how to  set the number of retries and the time out seconds？\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3086/comments",
    "author": "wan560",
    "comments": [
      {
        "user": "ShvaykaD",
        "created_at": "2024-05-27T15:41:34Z",
        "body": "Hi @wan560,\r\n\r\nThank you for your question. The feature you mentioned has been deprecated since ThingsBoard version 2.5, and enabling this parameter will have no effect.\r\n\r\n@irynamatveieva, could you please create a pull request to remove this parameter from the rule node configuration? This will help avoid any confusion for our customers."
      }
    ]
  },
  {
    "number": 3084,
    "title": "no system-data.sql can be find",
    "created_at": "2020-07-13T02:30:19Z",
    "closed_at": "2022-08-26T16:02:14Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3084",
    "body": "I run my SQL statement ，but it without arguments",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3084/comments",
    "author": "walom30s",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-07-13T16:24:43Z",
        "body": "please, specify the exact flow you proceeded with"
      }
    ]
  },
  {
    "number": 3070,
    "title": "Custom Widget",
    "created_at": "2020-07-09T08:42:27Z",
    "closed_at": "2022-09-26T10:02:46Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3070",
    "body": "I am facing issue with custom widget of read HTML tag in the **self.onInit** function, getting value “undefined” in window alert. \r\n\r\n\r\n**HTML CODE**:\r\n\r\n<!DOCTYPE html>\r\n<html>\r\n<body ng-app=\"\">\r\n <div flex layout=\"column\" style=\"height: 100%;\">\r\n    <form #downlinkForm=\"ngForm\" (submit)=\"calConfig()\">\r\n     <md-content class=\"md-padding\" layout=\"column\">\r\n     <label for=\"country\"><h4>Device Configuration </h4></label>\r\n            <label for=\"singleSelect\">Device Mode</label>\r\n            <select name=\"device_mode\" ng-model=\"deviceMode\">\r\n                  <option value=\"000\">Time Based</option>\r\n                  <option value=\"001\">Motion Based</option>\r\n                  <option value=\"010\">Indoor Location</option>\r\n                  <option value=\"110\">BLE Live</option>\r\n            </select>\r\n           <label for=\"dl_hex_val\">Computed Configuration Value</label>\r\n           <textarea id=\"dwonlink_value\" ng-model=\"dwonlinkValue\" style=\"height:50px\"></textarea>\r\n           <input type=\"submit\" value=\"Create New Configuration\"/>\r\n   </md-content>\r\n  </form>\r\n</div>\r\n</body>\r\n</html>\r\n\r\n**JS Code** : \r\n\r\nself.onInit = function() {\r\n    self.ctx.$scope.calConfig = function() {       \r\n       var deviceMode = self.ctx.$scope.deviceMode;           // select parameter\r\n      window.alert(deviceMode);\r\n   };\r\n}",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3070/comments",
    "author": "vijayshukla80",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-09-26T10:02:46Z",
        "body": "Closed due to inactive."
      }
    ]
  },
  {
    "number": 3066,
    "title": "Keys group formation of device.",
    "created_at": "2020-07-08T10:26:01Z",
    "closed_at": "2022-09-26T10:03:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3066",
    "body": "Hello All,\r\n\r\n  I have one device say \"TestDevice\".\r\n  and keys :- test1,test2,test3,test4.\r\n\r\nCan I group this - Group 1 :-test1,test2\r\n                             Group 2 :- test3,test4\r\n\r\nand use this Group names in REST API call to get latest telemetry.So I will just send \"Group 1\" instead of test1,test22 in REST API call to get data of \"test1\" and\" test2\".\r\n\r\nThanks",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3066/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-09-26T10:03:29Z",
        "body": "Closed due to inactive"
      }
    ]
  },
  {
    "number": 3059,
    "title": "How to use assetService in map widget?",
    "created_at": "2020-07-07T10:01:08Z",
    "closed_at": "2024-05-23T16:03:35Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3059",
    "body": "Hello\r\nI want to create a dynamic marker tooltip in map widget (image map) , For example map shows some building assets and when user click a marker, tooltip shows related assets on tooltip,\r\nSo I used this code in tooltip function in  image map advanced settings, but it only works on dashboard edit mode and show empty tooltip in dashboard view mode, Do you have any idea?\r\n\r\n\r\n\r\nlet id = data.$datasource.entityId.toString();\r\nlet $injector = window.ctx.$scope.$injector;  //window.ctx is widget self.ctx I assigned in widget init method,\r\nlet assetService = $injector.get(window.ctx.servicesMap.get(\r\n    'assetService'));\r\n\r\nassetService.findByQuery(query).toPromise( (result)=> {\r\n    result.forEach(function(item) {\r\n        mytooltip+= '<br>' + item.name;\r\n    });\r\n    data.mytooltip= mytooltip;\r\n});\r\nreturn '${mytooltip}';\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3059/comments",
    "author": "hmirzaee2",
    "comments": [
      {
        "user": "mgogh",
        "created_at": "2021-06-29T13:10:42Z",
        "body": "Hi,\r\n\r\nI would like to do something quite similar but I encounter some issues.\r\nDid you succeed in doing this stuff ?\r\n\r\nRegards,"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T16:03:35Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3054,
    "title": "sending http request through widget",
    "created_at": "2020-07-06T22:09:56Z",
    "closed_at": "2024-05-23T16:05:09Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3054",
    "body": "Hi Guys\r\n\r\nI am using the device admin table to create device on thingsboard. \r\nI would like to take the device name and forward this to a 3rd party application using an http POST embedded in the java section of the widget code.\r\nTo do that i have created an XMLHttpRequest in my code.\r\n\r\nWhen i run the code, nothing happen. I don't think this request is executed.\r\n\r\nHas someone ever succeed to make similar action ? or any better way to make this ?\r\n\r\nThanks a lot\r\nDavid",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3054/comments",
    "author": "DavidR-fr",
    "comments": [
      {
        "user": "ChristofferHolmesland",
        "created_at": "2020-07-10T12:47:54Z",
        "body": "```javascript\r\nconst xhttp = new XMLHttpRequest();\r\nxhttp.onreadystatechange = function() {\r\n    if (xhttp.readyState != 4) return;\r\n    console.log(xhttp.status);\r\n    console.log(xhttp.responseText);\r\n}\r\n\r\nxhttp.open(method, url);\r\nxhttp.send();\r\n```"
      },
      {
        "user": "DavidR-fr",
        "created_at": "2020-07-10T14:43:14Z",
        "body": "Hi\n\nThanks this is exactly what I am doing, but it as no effect. I don’t think the code is executed or the request not forwarded either. Here the code I have in the java section:\n\n    var xhttp = new XMLHttpRequest();\nxhttp.onreadystatechange = function() {\nif (this.readyState == 4 && this.status == 200) {\nalert(this.responseText);\n}\n};\nxhttp.open(\"POST\", url, false);\nxhttp.setRequestHeader(\"Content-type\", \"application/json\");\nxhttp.setRequestHeader(\"accept\", \"application/json\");\nxhttp.setRequestHeader(\"authorization\", \"Basic am9uLnNtaXRoOkNDS3FqMkk3QkdmSw==\");\nxhttp.timeout=10000;\nxhttp.send(\"{ \\\"devEUI\\\": \\\"11aa11bb22cc33dd\\\", \\\"appEUI\\\": \\\"aa00bb12ce22dd33\\\", \\\"appKey\\\": \\\"aa00bb11cc22dd33aa00bb11cc22dd33\\\", \\\"deviceType\\\": \\\"G3_PULSE_V1\\\", \\\"utilityId\\\": 2}\");\n}\n\nAnd the one the html section\n\n    <button mat-button mat-raised-button color=« primary\n    type=\"submit\" onclick=\"UserAction()\">Swagger</button> »\n\nI don’t really understand what I am doing wrong\n\nBest Regards\nDavid\nLe 10 juil. 2020 à 14:48 +0200, Christoffer Holmesland <notifications@github.com>, a écrit :\n> `\n> const xhttp = new XMLHttpRequest();\n> xhttp.onreadystatechange = function() {\n> if (xhttp.readyState != 4) return;\n> console.log(xhttp.status);\n> console.log(xhttp.responseText);\n> }\n> xhttp.open(method, url);\n> xhttp.send();\n> `\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n"
      },
      {
        "user": "itrich",
        "created_at": "2020-12-30T15:14:11Z",
        "body": "I have exactly the same problem. \r\n\r\n```\r\nvar xhr = new XMLHttpRequest();\r\nvar weatherData;\r\nxhr.open(\"GET\", url);\r\nxhr.onreadystatechange = function() {\r\n        console.log(\"onreadystatechange: \" + xhr.readyState);\r\n        if (xhr.readyState !== XMLHttpRequest.DONE) {\r\n            return;\r\n        }\r\n        console.log(\"status: \" + xhr.status)\r\n        if (xhr.status === 0 || (xhr.status >= 200 && xhr.status < 400)) {\r\n            console.log(\"response: \" + xhr.responseType);\r\n            //return;\r\n        }\r\n        console.log(\"Response:\" + xhr.response);\r\n        // Turning the JSON data into an object \r\n        weatherData = JSON.parse(xhr.response);\r\n        console.log(\"Weather: \" + weatherData);\r\n        // No error so parse and display in HTML\r\n        displayWeather(weatherData);\r\n};\r\nxhr.send();\r\n```\r\n\r\ngives me an empty response and status code 0.\r\n"
      },
      {
        "user": "Maxwh21",
        "created_at": "2023-02-14T09:56:23Z",
        "body": "Did you guys ever figure this out? "
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-23T16:05:10Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3051,
    "title": "[Build from source] Can't run application (Error: Could not find or load main class org.thingsboard.server.ThingsboardServerApplication)",
    "created_at": "2020-07-06T03:01:15Z",
    "closed_at": "2022-09-26T10:05:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3051",
    "body": " * OS:  Windows 10\r\n * ThingsBoard: 3.0\r\nClearing the .m2 repository, downloading all dependencies, and compile works fine.\r\nI use mvn clean install -U.\r\n\r\nWhen trying to run ThingsboardServerApplication I got:\r\n\r\n**Error: Could not find or load main class org.thingsboard.server.ThingsboardServerApplication**\r\n`\"C:\\Program Files\\Java\\openjdk-8u252-b09\\bin\\java.exe\" \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.1.2\\lib\\idea_rt.jar=60042:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.1.2\\bin\" -Dfile.encoding=UTF-8 -classpath \"C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\jaccess.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\localedata.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\nashorn.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\sunec.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\sunjce_provider.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\sunmscapi.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\sunpkcs11.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\ext\\zipfs.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\management-agent.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\openjdk-8u252-b09\\jre\\lib\\rt.jar;C:\\TB\\thingsboard\\common\\dao-api\\target\\classes;C:\\TB\\thingsboard\\common\\data\\target\\classes;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.7\\slf4j-api-1.7.7.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\slf4j\\log4j-over-slf4j\\1.7.7\\log4j-over-slf4j-1.7.7.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.3\\logback-core-1.2.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.3\\logback-classic-1.2.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.10.2\\jackson-databind-2.10.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.10.2\\jackson-annotations-2.10.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.10.2\\jackson-core-2.10.2.jar;C:\\TB\\thingsboard\\common\\message\\target\\classes;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\bouncycastle\\bcprov-jdk15on\\1.64\\bcprov-jdk15on-1.64.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\vladimir-bukhtoyarov\\bucket4j-core\\4.1.1\\bucket4j-core-4.1.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\guava\\guava\\28.2-jre\\guava-28.2-jre.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\guava\\failureaccess\\1.0.1\\failureaccess-1.0.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\guava\\listenablefuture\\9999.0-empty-to-avoid-conflict-with-guava\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\checkerframework\\checker-qual\\2.10.0\\checker-qual-2.10.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.3.4\\error_prone_annotations-2.3.4.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.3\\j2objc-annotations-1.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\fge\\json-schema-validator\\2.2.6\\json-schema-validator-2.2.6.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\joda-time\\joda-time\\2.3\\joda-time-2.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\googlecode\\libphonenumber\\libphonenumber\\6.2\\libphonenumber-6.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\fge\\json-schema-core\\1.2.5\\json-schema-core-1.2.5.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\fge\\uri-template\\0.9\\uri-template-0.9.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\fge\\msg-simple\\1.1\\msg-simple-1.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\fge\\btf\\1.2\\btf-1.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\fge\\jackson-coreutils\\1.8\\jackson-coreutils-1.8.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\mozilla\\rhino\\1.7R4\\rhino-1.7R4.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\net\\sf\\jopt-simple\\jopt-simple\\4.6\\jopt-simple-4.6.jar;C:\\TB\\thingsboard\\common\\util\\target\\classes;C:\\TB\\thingsboard\\common\\transport\\transport-api\\target\\classes;C:\\TB\\thingsboard\\common\\queue\\target\\classes;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\kafka\\kafka-clients\\2.3.0\\kafka-clients-2.3.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\luben\\zstd-jni\\1.4.0-1\\zstd-jni-1.4.0-1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\lz4\\lz4-java\\1.6.0\\lz4-java-1.6.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\xerial\\snappy\\snappy-java\\1.1.7.3\\snappy-java-1.1.7.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\amazonaws\\aws-java-sdk-sqs\\1.11.747\\aws-java-sdk-sqs-1.11.747.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\amazonaws\\aws-java-sdk-core\\1.11.747\\aws-java-sdk-core-1.11.747.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\commons-logging\\commons-logging\\1.1.3\\commons-logging-1.1.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\httpcomponents\\httpclient\\4.5.9\\httpclient-4.5.9.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\software\\amazon\\ion\\ion-java\\1.0.2\\ion-java-1.0.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\fasterxml\\jackson\\dataformat\\jackson-dataformat-cbor\\2.6.7\\jackson-dataformat-cbor-2.6.7.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\joda-time\\joda-time\\2.8.1\\joda-time-2.8.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\amazonaws\\jmespath-java\\1.11.747\\jmespath-java-1.11.747.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\cloud\\google-cloud-pubsub\\1.105.0\\google-cloud-pubsub-1.105.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-api\\1.22.1\\grpc-api-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-context\\1.22.1\\grpc-context-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.3.2\\error_prone_annotations-2.3.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\codehaus\\mojo\\animal-sniffer-annotations\\1.17\\animal-sniffer-annotations-1.17.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-stub\\1.22.1\\grpc-stub-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-protobuf\\1.22.1\\grpc-protobuf-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-protobuf-lite\\1.22.1\\grpc-protobuf-lite-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\api\\api-common\\1.9.0\\api-common-1.9.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\api\\grpc\\proto-google-common-protos\\1.17.0\\proto-google-common-protos-1.17.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\api\\grpc\\proto-google-cloud-pubsub-v1\\1.87.0\\proto-google-cloud-pubsub-v1-1.87.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\api\\grpc\\proto-google-iam-v1\\0.13.0\\proto-google-iam-v1-0.13.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\api\\gax\\1.56.0\\gax-1.56.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\auth\\google-auth-library-oauth2-http\\0.20.0\\google-auth-library-oauth2-http-0.20.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\http-client\\google-http-client-jackson2\\1.34.0\\google-http-client-jackson2-1.34.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\api\\gax-grpc\\1.56.0\\gax-grpc-1.56.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-auth\\1.22.1\\grpc-auth-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\auth\\google-auth-library-credentials\\0.20.0\\google-auth-library-credentials-0.20.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-alts\\1.22.1\\grpc-alts-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-grpclb\\1.22.1\\grpc-grpclb-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\protobuf\\protobuf-java-util\\3.7.1\\protobuf-java-util-3.7.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-core\\1.22.1\\grpc-core-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\android\\annotations\\4.1.1.4\\annotations-4.1.1.4.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\perfmark\\perfmark-api\\0.16.0\\perfmark-api-0.16.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\opencensus\\opencensus-contrib-grpc-metrics\\0.21.0\\opencensus-contrib-grpc-metrics-0.21.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\grpc\\grpc-netty-shaded\\1.22.1\\grpc-netty-shaded-1.22.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\threeten\\threetenbp\\1.4.3\\threetenbp-1.4.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\opencensus\\opencensus-api\\0.26.0\\opencensus-api-0.26.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\auto\\value\\auto-value-annotations\\1.7\\auto-value-annotations-1.7.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\http-client\\google-http-client\\1.34.2\\google-http-client-1.34.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\httpcomponents\\httpcore\\4.4.13\\httpcore-4.4.13.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\opencensus\\opencensus-contrib-http-util\\0.24.0\\opencensus-contrib-http-util-0.24.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\javax\\annotation\\javax.annotation-api\\1.3.2\\javax.annotation-api-1.3.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\microsoft\\azure\\azure-servicebus\\3.2.0\\azure-servicebus-3.2.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\qpid\\proton-j\\0.33.2\\proton-j-0.33.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\microsoft\\azure\\qpid-proton-j-extensions\\1.2.2\\qpid-proton-j-extensions-1.2.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\asynchttpclient\\async-http-client\\2.10.5\\async-http-client-2.10.5.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\asynchttpclient\\async-http-client-netty-utils\\2.10.5\\async-http-client-netty-utils-2.10.5.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.45.Final\\netty-buffer-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.45.Final\\netty-codec-http-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-common\\4.1.45.Final\\netty-common-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-transport\\4.1.45.Final\\netty-transport-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-codec\\4.1.45.Final\\netty-codec-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-handler\\4.1.49.Final\\netty-handler-4.1.49.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.49.Final\\netty-resolver-4.1.49.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-codec-socks\\4.1.45.Final\\netty-codec-socks-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-handler-proxy\\4.1.45.Final\\netty-handler-proxy-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.45.Final\\netty-transport-native-epoll-4.1.45.Final-linux-x86_64.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-transport-native-unix-common\\4.1.45.Final\\netty-transport-native-unix-common-4.1.45.Final.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.45.Final\\netty-transport-native-kqueue-4.1.45.Final-osx-x86_64.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\reactivestreams\\reactive-streams\\1.0.2\\reactive-streams-1.0.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\typesafe\\netty\\netty-reactive-streams\\2.0.3\\netty-reactive-streams-2.0.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\sun\\activation\\javax.activation\\1.2.0\\javax.activation-1.2.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\microsoft\\azure\\azure-client-authentication\\1.7.2\\azure-client-authentication-1.7.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\microsoft\\azure\\azure-client-runtime\\1.7.2\\azure-client-runtime-1.7.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\microsoft\\rest\\client-runtime\\1.7.2\\client-runtime-1.7.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\squareup\\retrofit2\\retrofit\\2.5.0\\retrofit-2.5.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\squareup\\okhttp3\\okhttp\\3.12.6\\okhttp-3.12.6.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\squareup\\okio\\okio\\1.15.0\\okio-1.15.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\squareup\\okhttp3\\logging-interceptor\\3.12.2\\logging-interceptor-3.12.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\squareup\\okhttp3\\okhttp-urlconnection\\3.12.2\\okhttp-urlconnection-3.12.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\squareup\\retrofit2\\converter-jackson\\2.5.0\\converter-jackson-2.5.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-joda\\2.10.1\\jackson-datatype-joda-2.10.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\reactivex\\rxjava\\1.3.8\\rxjava-1.3.8.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\squareup\\retrofit2\\adapter-rxjava\\2.6.2\\adapter-rxjava-2.6.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\commons-codec\\commons-codec\\1.11\\commons-codec-1.11.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\microsoft\\azure\\adal4j\\1.6.4\\adal4j-1.6.4.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\nimbusds\\oauth2-oidc-sdk\\6.5\\oauth2-oidc-sdk-6.5.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\sun\\mail\\javax.mail\\1.6.2\\javax.mail-1.6.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\javax\\activation\\activation\\1.1\\activation-1.1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\github\\stephenc\\jcip\\jcip-annotations\\1.0-1\\jcip-annotations-1.0-1.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\net\\minidev\\json-smart\\2.3\\json-smart-2.3.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\net\\minidev\\accessors-smart\\1.2\\accessors-smart-1.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\ow2\\asm\\asm\\5.0.4\\asm-5.0.4.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\nimbusds\\lang-tag\\1.5\\lang-tag-1.5.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\nimbusds\\nimbus-jose-jwt\\8.19\\nimbus-jose-jwt-8.19.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\microsoft\\azure\\azure-annotations\\1.10.0\\azure-annotations-1.10.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\rabbitmq\\amqp-client\\4.8.0\\amqp-client-4.8.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\spring-context-support\\5.2.6.RELEASE\\spring-context-support-5.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\spring-beans\\5.2.6.RELEASE\\spring-beans-5.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\spring-context\\5.2.6.RELEASE\\spring-context-5.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\spring-aop\\5.2.6.RELEASE\\spring-aop-5.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\spring-expression\\5.2.6.RELEASE\\spring-expression-5.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\spring-core\\5.2.6.RELEASE\\spring-core-5.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\spring-jcl\\5.2.6.RELEASE\\spring-jcl-5.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.2.6.RELEASE\\spring-boot-autoconfigure-2.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.2.6.RELEASE\\spring-boot-2.2.6.RELEASE.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.6.2\\gson-2.6.2.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\commons\\commons-lang3\\3.4\\commons-lang3-3.4.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\com\\google\\protobuf\\protobuf-java\\3.11.4\\protobuf-java-3.11.4.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\curator\\curator-recipes\\4.2.0\\curator-recipes-4.2.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\curator\\curator-framework\\4.2.0\\curator-framework-4.2.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\curator\\curator-client\\4.2.0\\curator-client-4.2.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\zookeeper\\zookeeper\\3.5.5\\zookeeper-3.5.5.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\zookeeper\\zookeeper-jute\\3.5.5\\zookeeper-jute-3.5.5.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\org\\apache\\yetus\\audience-annotations\\0.5.0\\audience-annotations-0.5.0.jar;C:\\Users\\ahmed.wahdan\\.m2\\repository\\io\\netty\\netty-all\\4.1.49.Final\\netty-all-4.1.49.Final.jar;C:\\TB\\thingsboard\\rule-engine\\rule-engine-api\\target\\classes\" org.thingsboard.server.ThingsboardServerApplication`\r\n\r\nBuilding from the maven GUI : Clean and install  I got:\r\n\r\nUsing Build Project I got: \r\n\r\nHow to fix this?\r\n\r\n\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3051/comments",
    "author": "ahmedwahdan",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-09-26T10:05:08Z",
        "body": "Closed due to inactive"
      }
    ]
  },
  {
    "number": 3037,
    "title": "[Question] Does the REST API allow client-side ID generation?",
    "created_at": "2020-07-01T21:11:56Z",
    "closed_at": "2024-05-27T14:25:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3037",
    "body": "**Component**\r\n * Generic\r\n\r\n**Description**\r\nWe are occasionally generating IDs on the client-side (because of offline-functionality).\r\nThis used to work perfectly well, until we updated from 2.4.1 to 2.5.2. Now we always get a 404 when trying a request like this:\r\n```\r\nPOST /api/asset\r\n{\r\n   \"id\":{\r\n      \"entityType\":\"ASSET\",\r\n      \"id\":\"81ce2668-bbd3-11ea-b3de-0242ac130004\"\r\n   },\r\n   \"name\":\"test\",\r\n   \"type\":\"test\",\r\n   \"label\":\"test\"\r\n}\r\n```\r\n\r\nIs this intended behavior? If yes, is there a reason for the change?\r\n\r\n**Environment**\r\n * ThingsBoard: 2.4.1 and 2.5.2\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3037/comments",
    "author": "JcBernack",
    "comments": [
      {
        "user": "ssakharova",
        "created_at": "2024-05-27T14:25:09Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3023,
    "title": "Custom widgets to change dashboard state",
    "created_at": "2020-06-29T17:45:37Z",
    "closed_at": "2020-07-13T16:12:57Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3023",
    "body": "Hi everyone,\nI'm using thingsBoard demo version 3.0.1.\nI want to switch dashboard state by using custom widgets.\nSo I used custom widgets method and formed the one click button widget that was refered from some others post where those also doing same things.but still whenever click the widget not happening anything.\nPlease help me anyone and possible share widget or code that atleast work.\nThanks ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3023/comments",
    "author": "GauravChoube",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-07-06T09:15:00Z",
        "body": "you can refer to the TB source code on how those can be developed properly"
      },
      {
        "user": "GauravChoube",
        "created_at": "2020-07-08T14:25:21Z",
        "body": "Hi Karabiy,\r\ni already follow process as show in getting started guide for custom widget but still help me out.\r\ncan you suggest some code that help me for my problem"
      },
      {
        "user": "Karabiy",
        "created_at": "2020-07-13T16:12:57Z",
        "body": "I recommend you to refer to the TB source code for the best practices investigation reasons. "
      }
    ]
  },
  {
    "number": 3020,
    "title": "Monitoring cassandra metrics",
    "created_at": "2020-06-29T14:30:53Z",
    "closed_at": "2020-07-02T13:47:38Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3020",
    "body": "Hi, \r\n\r\nI'm trying to monitor cassandra database when multiple devices are sending telemetry data to TB. Im using Applications Manager to monitor the cassandra database. Im able to connect to it correctly, however, when I start sending data, the performance metrics (writes per second) do not show/reflect in the monitor. \r\n\r\nI already filed an issue for the application manager support team to look at, and they told me that \" latest Cassandra is not exposing these Attributes via MBeans \". Is there any configuration part that I should change for this?\r\n\r\nOn the other hand, is there any open source software that is able to monitor the cassandra database in real time that you suggest?\r\n\r\nThanks in advance\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3020/comments",
    "author": "fjpa121197",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-07-02T13:47:38Z",
        "body": "there are various alternatives on those. \r\nit might be better, in this case, to contact the Cassandra support, in case if they can propose any kind of an embedded solution or the most clear. "
      }
    ]
  },
  {
    "number": 3018,
    "title": "Get Telemetry for Specific Alarm",
    "created_at": "2020-06-29T01:24:42Z",
    "closed_at": "2024-05-24T10:37:18Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3018",
    "body": "Hello !\r\n\r\nPlease tell me how to define a custom action in Alarm Widget On Row Click.\r\n\r\nThis new action must get all the telemetry data starting with Alarm Created Time\r\nfor the device in the clicked row and to display all the data into another dasboard state\r\nin a new widget.\r\n\r\nThank You !\r\n\r\nEnvironment\r\n\r\nOS: Win 7 x64\r\nThingsBoard: 2.5.2\r\nBrowser: Chrome",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3018/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-24T10:37:18Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 3017,
    "title": "[Question] How to exploit JSON Support in Widgets and Dashboards [2.5.2]",
    "created_at": "2020-06-28T23:42:46Z",
    "closed_at": "2020-07-03T06:42:42Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3017",
    "body": "The latest 2.5+ versions of TB support JSON in Telemetries & Attributes.\r\nHowever, there seems to be no added feature to access these datasets in the widgets Datasource section.\r\n\r\nI've tried dot notation with no luck, and I've also tried to use the Post-processing function to return sub-values of the JSON data, but the editor keeps demanding that the function must return a value.\r\n\r\nSample functions:\r\n\r\n    return value.key1; //Fails to compile\r\n    return value[\"key1\"]; //Fails\r\n    return JSON.parse(value).key1; //Also fails\r\n\r\nHow can we access inner fields in a JSON on the dashboards?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3017/comments",
    "author": "Manusisko",
    "comments": [
      {
        "user": "ChantsovaEkaterina",
        "created_at": "2020-07-01T17:26:04Z",
        "body": "Hello,\r\nYou can try something like this:\r\n```\r\nvar temp = JSON.parse(value).key1;\r\nif (typeof temp !== 'undefined') {\r\n    value = temp;\r\n}\r\nreturn value;\r\n```"
      },
      {
        "user": "Manusisko",
        "created_at": "2020-07-01T22:06:56Z",
        "body": "Thanks! I ended up using something similar. "
      }
    ]
  },
  {
    "number": 3013,
    "title": "How can I get the current logged user info",
    "created_at": "2020-06-26T21:18:32Z",
    "closed_at": "2020-09-01T14:52:31Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3013",
    "body": "Hello !\r\nPlease tell me how can I get the current logged user info and display it's profile (name, email, etc) into a HTML widget.\r\nI need the variable names.\r\nThank You !\r\n\r\n\r\nEnvironment\r\nOS: Win 7 x64\r\nThingsBoard: 2.5.2\r\nBrowser: Chrome\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3013/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "RondoRonaldo",
        "created_at": "2020-09-01T14:52:31Z",
        "body": "You can use the next code to retrieve first and last names in custom widgets using ThingsBoard below version 3.0:\r\n\r\nvar $injector = self.ctx.$scope.$injector;\r\nvar $scope = self.ctx.$scope;\r\nvar userService = $injector.get('userService');\r\n $scope.firstName = userService.getCurrentUser().firstName;\r\n $scope.lastName = userService.getCurrentUser().lastName;\r\n\r\nIn HTML  block use the next code to represent this information:\r\n\r\n<div>{{firstName}}</div>\r\n<div>{{lastName}}</div>\r\n"
      },
      {
        "user": "jskillen",
        "created_at": "2020-09-10T16:21:50Z",
        "body": "Based on errors I've seen shouldn't the userService be retrieved as follows:\r\n\r\nvar userService = $injector.get(self.ctx.servicesMap.get('userService'));\r\n\r\nKindly correct if I'm wrong.\r\n\r\n**EDIT**\r\n\r\n**Neither of these methods work in TB PE 3.1.1.**\r\n\r\n@RondoRonaldo your code produces: \r\n\r\n\"Widget Error: NullInjectorError: R3InjectorError(e)[userService -> userService -> userService -> userService]: \r\n  NullInjectorError: No provider for userService!\"\r\n\r\nMy code produces:\r\n\r\n\"Widget Error: TypeError: userService.getCurrentUser is not a function\"\r\n\r\nIMO this should not be closed."
      },
      {
        "user": "Manusisko",
        "created_at": "2020-10-16T20:11:45Z",
        "body": "> \r\n> \r\n> Based on errors I've seen shouldn't the userService be retrieved as follows:\r\n> \r\n> var userService = $injector.get(self.ctx.servicesMap.get('userService'));\r\n> \r\n> Kindly correct if I'm wrong.\r\n> \r\n> **EDIT**\r\n> \r\n> **Neither of these methods work in TB PE 3.1.1.**\r\n> \r\n> @RondoRonaldo your code produces:\r\n> \r\n> \"Widget Error: NullInjectorError: R3InjectorError(e)[userService -> userService -> userService -> userService]:\r\n> NullInjectorError: No provider for userService!\"\r\n> \r\n> My code produces:\r\n> \r\n> \"Widget Error: TypeError: userService.getCurrentUser is not a function\"\r\n> \r\n> IMO this should not be closed.\r\n\r\n`self.ctx.currentUser`  is equivalent to userService.getCurrentUser() in V2.5"
      }
    ]
  },
  {
    "number": 3005,
    "title": "[Question] building image web-ui from source issue  ",
    "created_at": "2020-06-25T10:42:41Z",
    "closed_at": "2022-08-26T08:14:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3005",
    "body": "**UI**\r\n\r\n\r\n\r\n**Description**\r\ni'm trying to run thingsboard with microservices apprcoh and i have problem when building docker image from source of web-ui \r\nwhen using ```gcr.io/cloud-builders/mvn:3.5.0-jdk-8``` this is the output : \r\n```\r\n\r\nroot@webui-fdc676f44-kz6sz:/tmp# dpkg -c tb-web-ui.deb |grep 'tb-web-ui$'\r\n-r-x------ thingsboard/thingsboard 6626 2020-06-22 09:17 ./usr/share/tb-web-ui/init/tb-web-ui\r\nlrw-r--r-- root/root                     0 2020-06-22 09:17 ./etc/init.d/tb-web-ui -> /usr/share/tb-web-ui/init/tb-web-ui\r\n```\r\n\r\n \r\nand when using  `cloud9 ( amazon linux 2)` this is the output : \r\n\r\n```\r\nroot@tb-web-ui-759d76bff6-9bqjz:/tmp# dpkg -c tb-web-ui.deb |grep 'tb-web-ui$'\r\n-r-x------ thingsboard/thingsboard 47078623 2020-06-25 09:11 ./usr/share/tb-web-ui/bin/tb-web-ui\r\n-r-x------ thingsboard/thingsboard     6626 2020-06-25 09:11 ./usr/share/tb-web-ui/init/tb-web-ui\r\nlrw-r--r-- root/root                      0 2020-06-25 09:11 ./etc/init.d/tb-web-ui -> /usr/share/tb-web-ui/init/tb-web-ui\r\n```\r\n\r\nit seems like this package doesn't be generated : \r\n\r\n`-r-x------ thingsboard/thingsboard 47078623 2020-06-25 09:11 ./usr/share/tb-web-ui/bin/tb-web-ui`\r\n\r\nhow can i fix this error ? any suggestion ? \r\n**Environment**\r\n * ThingsBoard: V2.4.3\r\n\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3005/comments",
    "author": "Hamza-Slama",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-26T08:14:28Z",
        "body": "Hello,\r\nI think this issue is not relevant,\r\nPlease re-open the ticket if this is relevant for the new ThingsBoard version."
      }
    ]
  },
  {
    "number": 3001,
    "title": "Multiple EntityID in handleWidgetAction",
    "created_at": "2020-06-24T11:12:56Z",
    "closed_at": "2024-05-24T10:37:55Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/3001",
    "body": "Can I send multiple \"EnityID\" in following function.(May be in Array or String Format)\r\n   self.ctx.actionsApi.handleWidgetAction(event, descriptor, entityId, entityName, null, entityLabel);\r\nCan I access same from other widget.\r\n\r\nThanks",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/3001/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-24T10:37:55Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 2987,
    "title": "openDashboardState Not Working In Thingsboard 3.0.1",
    "created_at": "2020-06-20T22:51:25Z",
    "closed_at": "2020-06-23T06:46:36Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2987",
    "body": "Hello !\r\nI successfully used the following code on Thingsboard 2.4.3 widget's custom action.\r\nWhen I migrated to Thingsboard 3.0.1 the code is not working anymore !\r\nPlease help me and give me the working code for Thingsboard 3.0.1 !\r\nOr give me some samples for the new version of Thingsboard because now\r\nmy platform is not working !\r\nCould somebody translate this code for Thingsboard 3.0.1 ?\r\nThank You !\r\n\r\nHere is the code :\r\nvar $injector = widgetContext.$scope.$injector;\r\n$injector.get('deviceService').getDevice(entityId.id).then(function(device) {\r\n if(device.type == 'TEMP SENSOR'.trim()) {\r\n  openDashboardState('TEMP SENSOR Details'.trim());\r\n }\r\n else if(device.type == 'HUM SENSOR'.trim()) {\r\n  openDashboardState('HUM SENSOR Details'.trim());\r\n }\r\n else if(device.type == 'CO2 SENSOR'.trim()) {\r\n  openDashboardState( 'CO2 SENSOR Details'.trim());\r\n }\r\n else if(device.type == 'WATER METER SENSOR'.trim()) {\r\n  openDashboardState( 'WATER METER SENSOR Details'.trim()); \r\n } \r\n else if(device.type == 'ENERGY METER SENSOR'.trim()) {\r\n  openDashboardState( 'ENERGY METER SENSOR Details'.trim()); \r\n }\r\nelse if(device.type == 'COOLER FREEZER SENSOR'.trim()) {\r\n  openDashboardState( 'COOLER FREEZER SENSOR Details'.trim()); \r\n } \r\n});\r\n\r\nfunction openDashboardState(stateId) {\r\n var params = {\r\n entityId: entityId,\r\n entityName: entityName\r\n };\r\n\r\n widgetContext.stateController.openState(stateId, params, false);\r\n}\r\n\r\n\r\n\r\n**Environment**\r\n * OS:  Win7 x64\r\n * ThingsBoard: 3.0.1\r\n * Browser: Google Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2987/comments",
    "author": "lmax25",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2020-06-22T06:09:04Z",
        "body": "Hi @lmax25,\r\nIn the new version of TB 3.0, we update the Angular version, and some features need to be updated to work correctly on the new version. Examples are available in Custom action (with HTML template).\r\nTo make your code work, you need to change:\r\n`$injector.get('deviceService').getDevice(entityId.id).then(`=> `$injector.get(widgetContext.servicesMap.get('deviceService')).getDevice(entityId.id).subscribe(`"
      }
    ]
  },
  {
    "number": 2981,
    "title": "Mapping of Device data from cassandra and postgres",
    "created_at": "2020-06-18T20:34:58Z",
    "closed_at": "2022-08-26T08:16:32Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2981",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nWe are using Thingsboard with postgres and cassandra.\r\nCurrently we try to do some data analysis by using the data from the databases.\r\nWe would like to map devices telemetry data that is saved in cassandra to the attributes of the same device which is saved in postgres. The `entity_id` of the cassandra entries of that device is the id which I can get from the Thingsboard UI by copying it via the button in the devices details. The id of the device in postgres seems to be some other id.\r\n\r\nHow can I map the values from cassandra and postgres?\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  TB Docker Container running in k8s\r\n * ThingsBoard: 2.4.3\r\n * Browser: Chrome\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2981/comments",
    "author": "SORC3r3r",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-26T08:16:32Z",
        "body": "Apologize for not answering\r\nPlease reopen the issue if still relevant"
      }
    ]
  },
  {
    "number": 2976,
    "title": "[Question] How to maintains control value ",
    "created_at": "2020-06-18T01:56:52Z",
    "closed_at": "2022-08-26T16:03:15Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2976",
    "body": "Hi, I'm currently doing MQTT RPC testing with eWon Gateway. I facing below issue and appreciate if anyone could give me some hints\r\n\r\nI created 2 control widget in Thingsboard Dashboard (Analog Knob control and Digital Switch control). The issue now is the control value will falls back to default value when I refresh the dashboard.\r\n\r\nFor topic \"**v1/devices/me/telemetry**\", i publish data in below format and is working good\r\njson$ = '{'\r\njson$ = json$ + '\"Temperature001\":' + '\"' + STR$  (GETIO \"Analog1\") + '\"'\r\njson$ = json$ + '}'\r\nMQTT \"PUBLISH\",  TopicToPublishOn$ ,  json$ , 0,0\r\n\r\nFor topic \"**v1/devices/me/rpc/response/\"**\", i publish data in same format but it doesnt work \r\nTopicToResponse$ = \"v1/devices/me/rpc/response/\"\r\n$IDinputJson$ = MsgTopic$\r\n$StartBracketPos% = 27\r\n$EndBracketPos% = LEN $IDinputJson$\r\nRequestID$ = $IDinputJson$($StartBracketPos% TO $EndBracketPos%)\r\n\r\nResponse$ = '{'\r\nResponse$ = Response$ + '\"getValue\":' + '\"' + AI1$ + '\"'\r\nResponse$ = Response$ + '}' \r\nPRINT Response$\r\nTopicToResponsewID$ = TopicToResponse$ + RequestID$\r\nMQTT \"PUBLISH\",  TopicToResponsewID$ ,  Response$ , 0,0\r\n\r\nappreciate if someone could give some hints\r\n\r\nThank you ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2976/comments",
    "author": "engfei",
    "comments": [
      {
        "user": "IoTThinks",
        "created_at": "2021-08-14T01:18:57Z",
        "body": "Just response to v1/devices/me/rpc/response/request-id\r\nThe payload is just a number. Such as 12.34"
      }
    ]
  },
  {
    "number": 2969,
    "title": "Timeout to process message: toDeviceActorMsg",
    "created_at": "2020-06-17T05:13:05Z",
    "closed_at": "2020-06-18T12:56:10Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2969",
    "body": "\r\n**Description**\r\nall device offline, the log show Timeout to process message: toDeviceActorMsg\r\nthe details:\r\n2020-06-17 06:52:11,837 [tb-core-consumer-21-thread-1] WARN  o.t.s.s.q.DefaultTbCoreConsumerService - [f0c52d24-e9e3-4e44-abac-7b7d8c206f4b] Timeout to process message: toDeviceActorMsg {\r\n  sessionInfo {\r\n    nodeId: \"tb1\"\r\n    sessionIdMSB: -7876535771024830549\r\n    sessionIdLSB: -7464736614925503430\r\n    tenantIdMSB: -1756354304764407320\r\n    tenantIdLSB: -7722955328114625697\r\n    deviceIdMSB: 7663890647397569001\r\n    deviceIdLSB: -5795081931061413631\r\n    deviceName: \"XSFT_BHZL01\"\r\n    deviceType: \"XSFT_A4\"\r\n  }\r\n  subscriptionInfo {\r\n    lastActivityTime: 1592347926460\r\n    attributeSubscription: true\r\n  }\r\n}\r\n\r\n2020-06-17 06:52:11,837 [tb-core-consumer-21-thread-1] WARN  o.t.s.s.q.DefaultTbCoreConsumerService - [8e6a1da6-17dd-421a-b8df-b98c8edede38] Timeout to process message: toDeviceActorMsg {\r\n  sessionInfo {\r\n    nodeId: \"tb1\"\r\n    sessionIdMSB: 7792187362580972523\r\n    sessionIdLSB: -8208509579783043946\r\n    tenantIdMSB: -1375145516795227670\r\n    tenantIdLSB: -7179998682850462437\r\n    deviceIdMSB: 8239153893586047466\r\n    deviceIdLSB: -7179998682850462437\r\n    deviceName: \"SilosC\"\r\n    deviceType: \"demo\"\r\n  }\r\n  subscriptionInfo {\r\n    lastActivityTime: 1592347927968\r\n  }\r\n}\r\n\r\n2020-06-17 06:52:11,837 [tb-core-consumer-21-thread-1] WARN  o.t.s.s.q.DefaultTbCoreConsumerService - [e87322ef-86ba-48f4-b3d9-cc6e85827318] Timeout to process message: toDeviceActorMsg {\r\n  sessionInfo {\r\n    nodeId: \"tb1\"\r\n    sessionIdMSB: -4457319480720799394\r\n    sessionIdLSB: -9142223683191164030\r\n    tenantIdMSB: -1756354304764407320\r\n    tenantIdLSB: -7722955328114625697\r\n    deviceIdMSB: -4725388299268517400\r\n    deviceIdLSB: -7722955328114625697\r\n    deviceName: \"XSFT_CHZL01\"\r\n    deviceType: \"XSFT_A2\"\r\n  }\r\n  subscriptionInfo {\r\n    lastActivityTime: 1592347921547\r\n    attributeSubscription: true\r\n  }\r\n}\r\n2020-06-17 06:52:15,512 [TB-Scheduling-1] INFO  o.t.s.s.queue.TbCoreConsumerStats - Total [69] sessionEvents [2] getAttr [0] subToAttr [0] subToRpc [0] toDevRpc [0] subInfo [67] claimDevice [0] deviceState [0] subMgr [0] coreNfs [0]\r\n2020-06-17 06:52:15,710 [TB-Scheduling-2] INFO  o.t.s.s.q.TbRuleEngineConsumerStats - [Main] Stats: totalMsgs = [635] successfulMsgs = [0] failedMsgs = [0] tmpFailed = [0] failedIterations = [30] successfulIterations = [0] tmpTimeout = [0] timeoutMsgs = [635]\r\n2020-06-17 06:52:15,792 [TB-Scheduling-1] INFO  o.t.s.d.n.CassandraBufferedRateExecutor - Permits queueSize [0] totalAdded [45] totalLaunched [45] totalReleased [45] totalFailed [0] totalExpired [0] totalRejected [0] totalRateLimited [0] totalRateLimitedTenants [0] currBuffer [0]\r\n2020-06-17 06:52:25,792 [TB-Scheduling-1] INFO  o.t.server.actors.ActorSystemContext - Rule Engine JS Invoke Stats: requests [2] responses [2] failures [0]\r\n2020-06-17 06:52:38,443 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'\r\n2020-06-17 06:52:38,444 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'\r\n2020-06-17 06:52:38,446 [SpringContextShutdownHook] INFO  o.t.s.t.coap.CoapTransportService - Stopping CoAP transport!\r\n2020-06-17 06:52:38,448 [SpringContextShutdownHook] INFO  o.t.s.t.coap.CoapTransportService - CoAP transport stopped!\r\n2020-06-17 06:52:38,448 [SpringContextShutdownHook] INFO  o.t.s.t.mqtt.MqttTransportService - Stopping MQTT transport!\r\n2020-06-17 06:52:38,449 [SpringContextShutdownHook] INFO  o.t.s.t.mqtt.MqttTransportService - MQTT transport stopped!\r\n2020-06-17 06:52:38,498 [Akka-akka.actor.default-dispatcher-1676] WARN  akka.actor.CoordinatedShutdown - Could not addJvmShutdownHook, due to: Shutdown in progress\r\n2020-06-17 06:52:40,464 [tb-core-consumer-21-thread-1] WARN  o.t.s.s.q.DefaultTbCoreConsumerService - [9f537dce-2d78-4d41-a559-72db2cf6b8d0] Timeout to process message: toDeviceActorMsg {\r\n  sessionInfo {\r\n    nodeId: \"tb1\"\r\n    sessionIdMSB: -6156914939076063600\r\n    sessionIdLSB: -5322804379425378666\r\n    tenantIdMSB: -1756354304764407320\r\n    tenantIdLSB: -7722955328114625697\r\n    deviceIdMSB: -9132411292021157400\r\n    deviceIdLSB: -7722955328114625697\r\n    deviceName: \"XSFT_YN01\"\r\n    deviceType: \"XSFT_A2\"\r\n  }\r\n  sessionEvent {\r\n    sessionType: ASYNC\r\n    event: CLOSED\r\n  }\r\n}\r\n\r\n2020-06-17 06:52:40,465 [tb-core-consumer-21-thread-1] WARN  o.t.s.s.q.DefaultTbCoreConsumerService - [8d027673-965d-4ae7-8d16-dbc8dea517b1] Timeout to process message: toDeviceActorMsg {\r\n  sessionInfo {\r\n    nodeId: \"tb1\"\r\n    sessionIdMSB: -3558869322601840435\r\n    sessionIdLSB: -8054967416100775620\r\n    tenantIdMSB: -1756354304764407320\r\n    tenantIdLSB: -7722955328114625697\r\n    deviceIdMSB: 5606015068649034216\r\n    deviceIdLSB: -7722955328114625697\r\n    deviceName: \"XSFT_ZYDY01\"\r\n    deviceType: \"XSFT_A2\"\r\n  }\r\n\r\n\r\n\r\n**Environment**\r\n\r\n * OS:  centos7\r\n * ThingsBoard: 2.4.3is ok\r\n upgrade to 2.5.1  ,the problems appearance.  \"Timeout to process message: toDeviceActorMsg\"\r\n and later  all device connected is close,  all deivice offline.\r\n \r\nbecause to solve this problem,i  upgrade to 3.0.0,  and the problems is still occur\r\n\r\nhelp ! thanks\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2969/comments",
    "author": "zouhr",
    "comments": [
      {
        "user": "zouhr",
        "created_at": "2020-06-18T12:56:10Z",
        "body": "when i reboot computer，the problem disappear。"
      },
      {
        "user": "tikarei",
        "created_at": "2020-07-14T08:02:32Z",
        "body": "I'm having this problem with 3.0.0 and restarting doesn't help."
      },
      {
        "user": "tanyongnan1992",
        "created_at": "2020-07-15T04:42:39Z",
        "body": "Same issue with version 2.5.2 PE\r\nI found that it was the rule chain failure. If this issue occurred, all the rule chain function will hang, but other Thingsboard function was normal (eg. dashboard succeeded to fetch data, I could save alarm via alarm api)\r\nOn the other hand, this issue disappeared after rebooting the server. However, the same issue was repeated 1 or 2 days after the last reboot."
      },
      {
        "user": "dgood-tech",
        "created_at": "2020-08-03T14:21:27Z",
        "body": "Encountered the same problem, rule node logging  o.t.server.actors.ActorSystemContext - Rule Engine JS Invoke Stats: requests [3296] responses [0] failures [0]\r\nHow to solve this problem"
      },
      {
        "user": "ChristineChetty",
        "created_at": "2020-10-29T06:53:57Z",
        "body": "Same problem here. My telemtry is always delayed"
      }
    ]
  },
  {
    "number": 2962,
    "title": "rule chain question about Cache not updated",
    "created_at": "2020-06-16T02:54:56Z",
    "closed_at": "2024-05-24T10:45:08Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2962",
    "body": "Hello, I'm trying to redevelop。My requirement rule chain only needs to judge telemetry data to generate alarm, and it is too cumbersome to call API directly. My judgment rule is only based on attributes, so I want to insert fixed format directly into database to reduce risk。\r\n\r\nI insert rule chain data directly into the database through code。Three tables are mainly inserted: rule_ Chain and rule_ Node and relation。Here is the SQL I pulled out\r\n-- chain\r\nINSERT INTO \"public\".\"rule_chain\"(\"id\", \"additional_info\", \"configuration\", \"name\", \"first_rule_node_id\", \"root\", \"debug_mode\", \"search_text\", \"tenant_id\") VALUES ('1eaaeadd6c3e8c1a4eca9ff586caf62', 'null', 'null', '测试报警7', '1eaaeadd6c3e8c0a4eca9ff586caf62', 'f', 'f', '测试报警7', '1eaa07e6fe60350a7d3f1b786d41fd4');\r\n-- node\r\nINSERT INTO \"public\".\"rule_node\"(\"id\", \"rule_chain_id\", \"additional_info\", \"configuration\", \"type\", \"name\", \"debug_mode\", \"search_text\") VALUES ('1eaaeadd6c3e8c0a4eca9ff586caf62', '1eaaeadd6c3e8c1a4eca9ff586caf62', '{\"layoutX\":277,\"layoutY\":151}', '{\"jsScript\":\"var restult = false;if(metadata.deviceName == ''测试设备3'' && (msg.humidity>5)) { restult = true;} return restult;\"}', 'org.thingsboard.rule.engine.filter.TbJsFilterNode', '报警脚本', 'f', '报警脚本');\r\nINSERT INTO \"public\".\"rule_node\"(\"id\", \"rule_chain_id\", \"additional_info\", \"configuration\", \"type\", \"name\", \"debug_mode\", \"search_text\") VALUES ('1eaaeadd6cebe30a4eca9ff586caf62', '1eaaeadd6c3e8c1a4eca9ff586caf62', '{\"layoutX\":539,\"layoutY\":113}', '{\"alarmType\":\"General Alarm\",\"alarmDetailsBuildJs\":\"var details = {}; if (metadata.prevAlarmDetails) {    details = JSON.parse(metadata.prevAlarmDetails);} var sencerVal = \\\"''{ ''sVal'':{''\\\";if(msg.humidity>5){  sencerVal = sencerVal + ''湿度:''+ msg.humidity+'','';}sencerVal +=''}}'';details = \\\"''{''msg'':''测试报警7发生错误'' ,''\\\"+ sencerVal; return details;\",\"severity\":\"CRITICAL\",\"propagate\":false,\"useMessageAlarmData\":false,\"relationTypes\":[]}', 'org.thingsboard.rule.engine.action.TbCreateAlarmNode', '创建报警', 'f', '创建报警');\r\nINSERT INTO \"public\".\"rule_node\"(\"id\", \"rule_chain_id\", \"additional_info\", \"configuration\", \"type\", \"name\", \"debug_mode\", \"search_text\") VALUES ('1eaaeadd6d267b0a4eca9ff586caf62', '1eaaeadd6c3e8c1a4eca9ff586caf62', '{\"layoutX\":522,\"layoutY\":243}', '{\"alarmType\":\"General Alarm\",\"alarmDetailsBuildJs\":\"var details = {}; if (metadata.prevAlarmDetails) {    details = JSON.parse(metadata.prevAlarmDetails);}return details;\"}', 'org.thingsboard.rule.engine.action.TbClearAlarmNode', '解除报警', 'f', '解除报警');\r\n-- msg type switch 与 规则链关系\r\nINSERT INTO \"public\".\"relation\"(\"from_id\", \"from_type\", \"to_id\", \"to_type\", \"relation_type_group\", \"relation_type\", \"additional_info\") VALUES ('1eaa07e70350db0a7d3f1b786d41fd4', 'RULE_NODE', '1eaaeadd6c3e8c1a4eca9ff586caf62', 'RULE_CHAIN', 'RULE_NODE', 'Post telemetry', '{\"layoutX\":332,\"layoutY\":25,\"ruleChainNodeId\":\"rule-chain-node-9\"}');\r\n-- 链 与 script  node  关系\r\nINSERT INTO \"public\".\"relation\"(\"from_id\", \"from_type\", \"to_id\", \"to_type\", \"relation_type_group\", \"relation_type\", \"additional_info\") VALUES ('1eaaeadd6c3e8c1a4eca9ff586caf62', 'RULE_CHAIN', '1eaaeadd6c3e8c0a4eca9ff586caf62', 'RULE_NODE', 'RULE_CHAIN', 'Contains', NULL);\r\nINSERT INTO \"public\".\"relation\"(\"from_id\", \"from_type\", \"to_id\", \"to_type\", \"relation_type_group\", \"relation_type\", \"additional_info\") VALUES ('1eaaeadd6c3e8c1a4eca9ff586caf62', 'RULE_CHAIN', '1eaaeadd6cebe30a4eca9ff586caf62', 'RULE_NODE', 'RULE_CHAIN', 'Contains', NULL);\r\nINSERT INTO \"public\".\"relation\"(\"from_id\", \"from_type\", \"to_id\", \"to_type\", \"relation_type_group\", \"relation_type\", \"additional_info\") VALUES ('1eaaeadd6c3e8c1a4eca9ff586caf62', 'RULE_CHAIN', '1eaaeadd6d267b0a4eca9ff586caf62', 'RULE_NODE', 'RULE_CHAIN', 'Contains', NULL);\r\n--  script  node  与报警 node  关系\r\nINSERT INTO \"public\".\"relation\"(\"from_id\", \"from_type\", \"to_id\", \"to_type\", \"relation_type_group\", \"relation_type\", \"additional_info\") VALUES ('1eaaeadd6c3e8c0a4eca9ff586caf62', 'RULE_NODE', '1eaaeadd6cebe30a4eca9ff586caf62', 'RULE_NODE', 'RULE_NODE', 'True', NULL);\r\nINSERT INTO \"public\".\"relation\"(\"from_id\", \"from_type\", \"to_id\", \"to_type\", \"relation_type_group\", \"relation_type\", \"additional_info\") VALUES ('1eaaeadd6c3e8c0a4eca9ff586caf62', 'RULE_NODE', '1eaaeadd6d267b0a4eca9ff586caf62', 'RULE_NODE', 'RULE_NODE', 'False', NULL);\r\n\r\nI also tried to refresh and wrote a refresh code, but it didn't work：\r\n\r\n    @PreAuthorize(\"hasAnyAuthority('TENANT_ADMIN')\")\r\n    @RequestMapping(value = \"/ruleChain/refreshRule/{ruleChainId}\", method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public RuleChain refreshRule(@PathVariable(RULE_CHAIN_ID) String strRuleChainId) throws ThingsboardException{\r\n        RuleChainId ruleChainId = new RuleChainId( UUIDConverter.fromString(strRuleChainId));\r\n        RuleChain ruleChain=checkRuleChain(ruleChainId, Operation.READ);\r\n        actorService.onEntityStateChange(ruleChain.getTenantId(), ruleChainId, ComponentLifecycleEvent.UPDATED);\r\n        return ruleChain;\r\n\r\n    }\r\n\r\nWhen I insert normally, these codes are invalid, but when I restart the service, the content of the rule chain inserted into the database will be displayed. Has anyone ever met this situation, or can you give me some tips? Thank you very much\r\n\r\n * ThingsBoard: version  2.4.3\r\n\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2962/comments",
    "author": "425804004",
    "comments": [
      {
        "user": "425804004",
        "created_at": "2020-06-16T07:44:26Z",
        "body": "I looked at the code to refresh the cache     《RuleChainActorMessageProcessor》\r\nIt only flushed the cache of nodes. How should I refresh the rule_ Cache of chain"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-24T10:45:08Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 2959,
    "title": "No description of TextPageLink and TextPageData ",
    "created_at": "2020-06-15T14:37:42Z",
    "closed_at": "2024-05-24T10:45:34Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2959",
    "body": "I am searching in repo for TextPageLink and TextPageData , its not there instead PageLink and PageData is found.\r\n\r\nI am trying to access through restClient in springboot but it throwing error since no proper description is there.\r\n\r\nPlease help me or update repo with latest code.\r\nThanks in advance",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2959/comments",
    "author": "Ankeshkumarsingh",
    "comments": [
      {
        "user": "Ankeshkumarsingh",
        "created_at": "2020-06-15T15:29:31Z",
        "body": "Can you please update the rest client artifactory with latest codes.?"
      },
      {
        "user": "Sascha1993",
        "created_at": "2020-07-08T13:48:20Z",
        "body": "Hei,\r\nsame issue here. Using REST-calls with this data structures always results in \"400 Bad Request\"-Exception. Hoping someone may help soon.\r\nBest regards"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-24T10:45:34Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 2921,
    "title": "How to make a dashboard accessible from any pc ?",
    "created_at": "2020-06-07T16:32:16Z",
    "closed_at": "2020-07-02T11:10:40Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2921",
    "body": "I am working from OS Ubuntu 16.04 and I am trying to make my dashboard public and try to access the link from another pc but it says access forbidden, even though the dashboard and the device is public.\r\nAlso I tried the customer feature and assigning the device and dashboard to that customer. After trying to log in from the other pc that has thingsboard installed on it it says authentication failed.\r\n \r\nAny help ??",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2921/comments",
    "author": "HendAdell",
    "comments": [
      {
        "user": "yefimov-andrii",
        "created_at": "2020-06-26T15:39:06Z",
        "body": "If you press F12 while opening a dashboard, you will be able to determine which resource you are denied access to."
      },
      {
        "user": "HendAdell",
        "created_at": "2020-06-26T20:25:02Z",
        "body": "I pressed F12 and it gave me this error in the console: Failed to load resource: the server responded with a status of 401()\r\n\r\n> If you press F12 while opening a dashboard, you will be able to determine which resource you are denied access to.\r\n\r\n"
      },
      {
        "user": "HendAdell",
        "created_at": "2020-06-27T18:39:20Z",
        "body": "How can I make it accessible from another laptop connected to another network?"
      },
      {
        "user": "Karabiy",
        "created_at": "2020-07-01T10:55:51Z",
        "body": "For those reasons you need to have a public IP for the host server of yours. So that you can access those using the public IP. "
      },
      {
        "user": "HendAdell",
        "created_at": "2020-07-01T12:25:54Z",
        "body": "Okay, sorry for that question bas how can I get the public IP ?\n\n> On Jul 1, 2020, at 12:56 PM, Vladislav Alexandrovich <notifications@github.com> wrote:\n> \n> ﻿\n> For those reasons you need to have a public IP for the host server of yours. So that you can access those using the public IP.\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n"
      },
      {
        "user": "Karabiy",
        "created_at": "2020-07-01T12:32:08Z",
        "body": "It depends. You can have an infrastructure being bought from the cloud provider who also provides the public IP, or you can request such an option your local network provider. There are various options on those. "
      }
    ]
  },
  {
    "number": 2914,
    "title": "How to export device configurations?",
    "created_at": "2020-06-05T01:39:07Z",
    "closed_at": "2023-06-29T13:46:01Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2914",
    "body": "How to export device configurations?\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2914/comments",
    "author": "ahmedwahdan",
    "comments": [
      {
        "user": "whhhh1500",
        "created_at": "2020-06-15T09:54:44Z",
        "body": "no way ，Export results is \"[ ]\""
      },
      {
        "user": "zouhr",
        "created_at": "2020-06-19T13:11:36Z",
        "body": "rest api ？"
      },
      {
        "user": "whhhh1500",
        "created_at": "2020-06-23T06:01:50Z",
        "body": "You have to upload your own JSON configuration and make it conform to the rules\nlike\n\n\n\n\n\nthis version  is thingsboard-gateway-2.2.1rc ，I don't know much about python.\nIt's just a thought. I hope it can help you\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n在 2020-06-19 21:11:50，\"zouhr\" <notifications@github.com> 写道：\n\nrest api ？\n\n—\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or unsubscribe."
      },
      {
        "user": "Ultrazombie",
        "created_at": "2023-06-29T13:46:01Z",
        "body": "We inform you that your GitHub ticket has been inactive for some time, and we will close it. If you have any more concerns or encounter similar issues, please don't hesitate to contact us."
      }
    ]
  },
  {
    "number": 2913,
    "title": "REST API node Authorization",
    "created_at": "2020-06-04T16:48:30Z",
    "closed_at": "2020-07-02T11:10:29Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2913",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Rule Engine\r\n\r\n**Description**\r\nHi there! I am using a REST API node where I have to set the proper Authorization as Header. For testing, I already have used the X-Authorization token and it worked, but as you may know it expires after a login or a short time...I tried setting \"Authorization\" as Header and \"${credentials}\" as value...Of course, I have included an enrichment node as a previous node (in particular tenant/customer attributes) in order to get the credentials as metadata (I set \"source field\" as well as \"Target attribute\" to \"credentials\"- I already tried \"username\" and \"password\")...Unfortunately, I am not able to get this target field and I always have the same 401 Authorization error as REST API node output...\r\n\r\nAny suggestions?I think that what is missing is the correct name of the source/target attributes to be used in the enrichment node...I did not find help in documentation! \r\n\r\nThanks in advance for your help! \r\n\r\nPS: I also have tried \"None\" as value for the Authorization in the REST API node.\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Linux\r\n * ThingsBoard: previous version (not updated yet after the 18 may updates)\r\n * Browser: Chrome 83.0.4103.61\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2913/comments",
    "author": "blackprincess88",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-07-01T11:01:10Z",
        "body": "For those reasons it is required to setup the next schema\nFirst the authorization request being invoked, so that the jwt_token being received is valid and afters the requests to the API using the \"Bearer jwt_token\" as fot the x authorization being included to the headers for the next request to be invoked\nIt is also recommended to have a separate users whos credentials will be used fot the rule chain development"
      }
    ]
  },
  {
    "number": 2906,
    "title": "[Question] Custom Action not working after upgrade to V3.0",
    "created_at": "2020-06-03T10:49:48Z",
    "closed_at": "2020-06-07T18:29:27Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2906",
    "body": "Currently i'm using \"Entities hierarchy\" widget and the below custom action code to browse between dashboard states based on Device/Asset selection.\r\nThe below code was working fine but recently it stopped working, I've matched the code with the recent tutorial published 28 May and nothing seems to be changed.\r\nPlease advise if there is something i need to modify for the below code to work\r\n\r\n`var $injector = widgetContext.$scope.$injector;\r\n\r\nif (entityId.entityType === 'DEVICE') {\r\n    $injector.get('deviceService').getDevice(entityId.id)\r\n        .then(\r\n            function(device) {\r\n                openDashboardState('devices');\r\n            });\r\n} else if (entityId.entityType === 'ASSET') {\r\n    $injector.get('assetService').getAsset(entityId.id)\r\n        .then(\r\n            function(asset) {\r\n                openDashboardState('asset');\r\n            });\r\n}\r\n\r\nfunction openDashboardState(stateId) {\r\n    var params = {\r\n        entityId: entityId,\r\n        entityName: entityName\r\n    };\r\n    widgetContext.stateController.openState(stateId, params,\r\n        false);\r\n}`",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2906/comments",
    "author": "Itgvs",
    "comments": [
      {
        "user": "vvlladd28",
        "created_at": "2020-06-03T12:44:20Z",
        "body": "Hi @Itgvs, \r\nIn the new version of TB 3.0, we update the Angular version, and some features need to be updated to work correctly on the new version. Examples are available in **Custom action (with HTML template)**.\r\nTo make your code work, you need to change:\r\n`$injector.get('deviceService').getDevice(entityId.id).then(` => `$injector.get(widgetContext.servicesMap.get('deviceService')).getDevice(entityId.id).subscribe(`\r\n`$injector.get('assetService').getAsset(entityId.id).then(` => `$injector.get(widgetContext.servicesMap.get('assetService')).getAsset(entityId.id).subscribe(`"
      }
    ]
  },
  {
    "number": 2902,
    "title": "DEBUG Mqtt transport in thingsboard",
    "created_at": "2020-06-03T07:57:35Z",
    "closed_at": "2022-02-08T10:27:28Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2902",
    "body": "Thingsboard 2.5\r\n\r\nI have a strange issue with my devices disconnecting from thingsboard ones a three days and never be able to reconnect. I am using MQTT SSL over 2G network.\r\nDisconnections happens ones a while but my devices are   able to reconnect. But when it disconnects after 3 days, my devices can't reconnect and only hardware reset makes them able to reconnect again.\r\nI am suspicious of the MQTT client that my devices are using. I want to see all the MQTT activity in thingsboard.log \r\nI should recompile thingsboard and modify the logging information but there is no documentation about it. How can I enable MQTT logging in thingsboard.log\r\n\r\nThanks very much for the help\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2902/comments",
    "author": "faithware",
    "comments": [
      {
        "user": "faithware",
        "created_at": "2020-06-10T01:16:40Z",
        "body": "No chance for an answer here? "
      },
      {
        "user": "faithware",
        "created_at": "2020-06-14T06:48:58Z",
        "body": "@ashvayka Would anyone answer my question? \r\n"
      },
      {
        "user": "Karabiy",
        "created_at": "2020-07-02T13:44:49Z",
        "body": "> I am suspicious of the MQTT client that my devices are using. I want to see all the MQTT activity in thingsboard.log\r\n\r\nyou can setup those in the logback.xml file and then have a restart. Also, make sure t hat the devices of yours does not drop connection on their side. "
      }
    ]
  },
  {
    "number": 2901,
    "title": "Rule Engine Base",
    "created_at": "2020-06-03T00:05:31Z",
    "closed_at": "2020-06-26T13:10:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2901",
    "body": "Hello,\r\n\r\nI see that Things-board rule engine is almost the same as Node Red, so if I want to build my own rule engine what is the technologies, principles, ...etc that I should know to be able to achieve that.\r\n\r\nThank you!",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2901/comments",
    "author": "ahmedwahdan",
    "comments": [
      {
        "user": "Karabiy",
        "created_at": "2020-06-26T13:10:53Z",
        "body": "it is highly recommended to take computer science courses. you can refer to the TB sources as the knowledge base, in case if you want to proceed on programming is a Java."
      }
    ]
  },
  {
    "number": 2885,
    "title": "[Question] Is it possible to disable the built in web ui in TB single docker images?",
    "created_at": "2020-05-30T17:55:39Z",
    "closed_at": "2022-08-26T08:22:23Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2885",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * UI\r\n\r\n**Description**\r\nIs it possible to disable the web ui in single docker images? I tried to change the server.js file in /ui/ bit it did not work. As i have to say that i do not fully understand the file structure yet it would be freat if one experienced user could guide me into the right direction here.\r\n\r\nI want to achieve the following:\r\n\r\n- Spin up a single docker image of tb-postgres\r\n- Be able to access the /api/ endpoints\r\n- Disable user login over web ui\r\n\r\nThanks in advance\r\n\r\n**Environment**\r\n<!-- Add information about your environment and ThingsBoard version if applicable -->\r\n * OS:  Ubuntu 16.04.6 LTS\r\n * ThingsBoard: 2.4.3\r\n * Browser: Chrome, Firefox\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2885/comments",
    "author": "jPXUGAAt54",
    "comments": [
      {
        "user": "Ultrazombie",
        "created_at": "2022-08-26T08:22:23Z",
        "body": "ThingsBoard functionality does not provide this in a monolithic installation."
      }
    ]
  },
  {
    "number": 2883,
    "title": "[Question] Is there a way to use Aggregate latest node with less than a minute interval ?",
    "created_at": "2020-05-29T17:48:47Z",
    "closed_at": "2020-06-01T12:34:56Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2883",
    "body": "I am using the following layout\r\nCustomer having several assets and several devices per each asset.\r\nI need to aggregate (sum) the latest energy telemetry key from all devices per 10 seconds interval, the lowest interval available in the node is 1 minute, is there a way to make it 10 seconds ?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2883/comments",
    "author": "Itgvs",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-06-01T12:34:56Z",
        "body": "This is UI limitation. You can download the rule chain JSON and manually change the value to 10 seconds. "
      }
    ]
  },
  {
    "number": 2880,
    "title": "Migration 2.4.3 to 2.5 in Amazon RDS, Permission Issue?",
    "created_at": "2020-05-29T13:46:49Z",
    "closed_at": "2020-06-01T12:39:48Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2880",
    "body": "I am getting this error while migrating in Amazon RDS.\r\n\r\nFailed to execute query: call insert_into_ts_kv('/tmp/ts_kv2267233513583762561/ts_kv.sql') due to: ERROR: must be superuser or a member of the pg_write_server_files role to COPY to a file\r\nHint: Anyone can COPY to stdout or from stdin. psql's \\copy command also works for anyone.\r\nI couldn't find anyway to give permission pg_write_server_files for the master user of RDS instance. Has anyone faced the same problem?",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2880/comments",
    "author": "russelmahmud",
    "comments": [
      {
        "user": "wadimklincov",
        "created_at": "2020-05-29T15:22:56Z",
        "body": "I had the exact same issue. And retrying the upgrade only led to endless loops of #2767.:("
      },
      {
        "user": "russelmahmud",
        "created_at": "2020-05-29T16:30:10Z",
        "body": "> I had the exact same issue. And retrying the upgrade only led to endless loops of #2767.:(\r\n\r\nHave you solved it? Have you faced same problem in Amazon RDS (Postgresql)?"
      },
      {
        "user": "wadimklincov",
        "created_at": "2020-05-29T16:37:24Z",
        "body": "> Have you solved it? Have you faced same problem in Amazon RDS (Postgresql)?\r\n\r\nYes I've had the exact same issue with RDS (after upgrading from 9 to 11), but I wasn't able to solve either issue."
      },
      {
        "user": "ashvayka",
        "created_at": "2020-06-01T12:39:48Z",
        "body": "This is fixed in 2.5.1 that we plan to release today. The problem is that AWS RDS DB user can't use \"COPY\" command. In 2.5.1 we have updated upgrade script and will fallback to use plan inserts. This is slower but works everywhere."
      }
    ]
  },
  {
    "number": 2842,
    "title": "AWS IoT Integration Creating TLS Factory Failed",
    "created_at": "2020-05-26T21:27:11Z",
    "closed_at": "2020-05-28T05:18:45Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2842",
    "body": "**Component**\r\n\r\n<!-- Choose one of the following and delete all others. -->\r\n * Generic\r\n\r\n**Description**\r\nI'm testing AWS Integration with cloud.thingsboard.io following your video tutorial. But I keep receiving creating TLS factory failed error after uploading AWS rootCA file. I have tried both  VeriSign Class 3 Public Primary G5 root CA certificate and  Amazon Root CA 1. Can anybody help me with it? Thanks\r\n\r\njava.lang.RuntimeException: Creating TLS factory failed!\r\n\tat org.thingsboard.integration.mqtt.credentials.CertPemClientCredentials.initSslContext(CertPemClientCredentials.java:93)\r\n\tat org.thingsboard.integration.mqtt.AbstractMqttIntegration.initSslContext(AbstractMqttIntegration.java:196)\r\n\tat org.thingsboard.integration.mqtt.AbstractMqttIntegration.initClient(AbstractMqttIntegration.java:164)\r\n\tat org.thingsboard.integration.mqtt.basic.BasicMqttIntegration.init(BasicMqttIntegration.java:74)\r\n\tat org.thingsboard.integration.mqtt.aws.AwsIotIntegration.init(AwsIotIntegration.java:46)\r\n\tat org.thingsboard.integration.mqtt.AbstractMqttIntegration.update(AbstractMqttIntegration.java:99)\r\n\tat org.thingsboard.server.service.integration.DefaultPlatformIntegrationService.lambda$updateIntegration$2(DefaultPlatformIntegrationService.java:367)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.io.IOException: overrun, bytes = 924\r\n\tat javax.crypto.EncryptedPrivateKeyInfo.<init>(EncryptedPrivateKeyInfo.java:92)\r\n\tat org.thingsboard.integration.mqtt.credentials.CertPemClientCredentials.getKeySpec(CertPemClientCredentials.java:186)\r\n\tat org.thingsboard.integration.mqtt.credentials.CertPemClientCredentials.readPrivateKeyFile(CertPemClientCredentials.java:173)\r\n\tat org.thingsboard.integration.mqtt.credentials.CertPemClientCredentials.createAndInitKeyManagerFactory(CertPemClientCredentials.java:104)\r\n\tat org.thingsboard.integration.mqtt.credentials.CertPemClientCredentials.initSslContext(CertPemClientCredentials.java:87)\r\n\t... 14 more\r\n\r\n**Environment**\r\nusing cloud.thingsboard.io\r\n",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2842/comments",
    "author": "xhr0428",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-05-27T11:58:04Z",
        "body": "Looks like the PEM file you provide is not correct:\r\n\r\norg.thingsboard.integration.mqtt.credentials.CertPemClientCredentials.getKeySpec(CertPemClientCredentials.java:186)"
      },
      {
        "user": "xhr0428",
        "created_at": "2020-05-27T14:35:00Z",
        "body": "> Looks like the PEM file you provide is not correct:\r\n> \r\n> org.thingsboard.integration.mqtt.credentials.CertPemClientCredentials.getKeySpec(CertPemClientCredentials.java:186)\r\n\r\nHi @ashvayka , I followed the video instruction, created a new set of certificates, downloaded cert file and private key, downloaded Amazon Root CA 1 and attached the following policy\r\n{\r\n  \"Version\": \"2012-10-17\",\r\n  \"Statement\": [\r\n    {\r\n      \"Effect\": \"Allow\",\r\n      \"Action\": \"iot:*\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\nAsterisks are not displayed here but I do have them in Action after iot and Resource.\r\n\r\nI could post message to AWS IoT using mosquitto_pub and the crt, key, pem files I downloaded. However when uploading the same set of files to thingsboard, I saw this error. \r\n\r\nWhat would be the correct pem file to use? Thanks\r\n"
      },
      {
        "user": "xhr0428",
        "created_at": "2020-05-28T05:18:45Z",
        "body": "It only happened to cloud.thingsboard.io. The issue was gone after I installed thingsboard on my computer.  "
      }
    ]
  },
  {
    "number": 2837,
    "title": "why not IdleStateHandler in server？",
    "created_at": "2020-05-26T08:04:12Z",
    "closed_at": "2020-06-01T13:21:53Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2837",
    "body": "why not IdleStateHandler in server？",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2837/comments",
    "author": "yzzh9",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-05-26T09:17:55Z",
        "body": "please provide more details."
      },
      {
        "user": "yzzh9",
        "created_at": "2020-05-26T09:48:48Z",
        "body": "> please provide more details.\r\n\r\nAbnormal disconnection of device . In the server side，How do I know if the device is disconnected？I know can be implemented by 'IdleStateHandler' ,but I do not see 'IdleStateHandler' in the server side."
      },
      {
        "user": "ashvayka",
        "created_at": "2020-05-26T11:29:50Z",
        "body": "This depends on the protocol you use. For MQTT this is based on ping logic that is embedded to the mqtt protocol. What protocol you are using?"
      },
      {
        "user": "yzzh9",
        "created_at": "2020-05-27T06:27:42Z",
        "body": "> This depends on the protocol you use. For MQTT this is based on ping logic that is embedded to the mqtt protocol. What protocol you are using?\r\n\r\nI'm using MQTT. For MQTT ping logic that is:\r\n`            case PINGREQ:\r\n                if (checkConnected(ctx, msg)) {\r\n                    ctx.writeAndFlush(new MqttMessage(new MqttFixedHeader(PINGRESP, false, AT_MOST_ONCE, false, 0)));\r\n                    transportService.reportActivity(sessionInfo);\r\n                }\r\n                break;`\r\nFor PINGREQ, only reply PINGRESP. \r\nAbnormal disconnection of device, For example, the network cable is broken. ping logic didn't deal with it."
      },
      {
        "user": "ashvayka",
        "created_at": "2020-06-01T13:21:53Z",
        "body": "the transportService.reportActivity updates the local state of the session. If there is no connectivity, the service will send inactivity event automatically. The session inactivity timeout is configured using TB_TRANSPORT_SESSIONS_INACTIVITY_TIMEOUT env variable and is periodically reported to TB Core using TB_TRANSPORT_SESSIONS_REPORT_TIMEOUT parameter."
      }
    ]
  },
  {
    "number": 2810,
    "title": "Provision for sending one data out of many to another system using REST API.",
    "created_at": "2020-05-21T12:09:20Z",
    "closed_at": "2024-05-24T11:06:21Z",
    "labels": [
      "question"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/2810",
    "body": "Hello All,\r\n   I have multiple data say DT1, DT2, DT3, DT4, and DT5. \r\nI am sending all this data to Device1 of Thingsboard.\r\nI want to segregate the data in such a way that only one data can be sent for one REST API Query.\r\n\r\nSo how can I filter the data in such a way that if I query for data DT1 only DT1 information  should get passed as a response\r\n\r\nThanking you all.",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/2810/comments",
    "author": "nmahale10",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2020-05-26T13:11:36Z",
        "body": "Please provide an example of REST API call you already make and we will comment on the alternatives. "
      },
      {
        "user": "nmahale10",
        "created_at": "2020-05-26T14:21:01Z",
        "body": "The solution I have tried is given below:-\r\n I have sent DT1 to Device1,DT2 to Device2 ,DT3 to Device3,DT4 to Device4 and DT5 to Device5.\r\nUsed similar kind of query given below\r\n\r\nhttp(s)://MyCloud.in/api/plugins/telemetry/DEVICE/852d8200-9788-11ea-b94b-4b8eb8a38a67/keys/timeseries\r\n\r\nBut here I need to create 5 different devices on thingsboard.\r\n\r\n\r\nAs mentioned in the earlier query I wanted to minimize devices , for that, I have sent all data to Device1. But how to handle it further. Please suggest.\r\n\r\n"
      },
      {
        "user": "Ultrazombie",
        "created_at": "2024-05-24T11:06:21Z",
        "body": "As the community has not provided assistance on this matter over an extended period, I am closing this ticket due to inactivity."
      }
    ]
  },
  {
    "number": 1006,
    "title": "Add partition granularity to time series data",
    "created_at": "2018-08-10T09:59:25Z",
    "closed_at": "2018-08-19T19:06:20Z",
    "labels": [
      "enhancement",
      "help wanted",
      "Contributions Welcome!"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/1006",
    "body": "Currently the partition granularity supports MINUTES, HOURS, DAYS, MONTHS and YEARS.\r\nWhen dealing with infrequent  time series transmission rate resulting in less than 500000 values in the life span of the device, it is possible to optimize with a partition value 'INDEFINITE' to indicate a default partition value for the partition column and skip saving and querying the partition table.    ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/1006/comments",
    "author": "davidgin",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2018-08-10T20:54:00Z",
        "body": "Hi @davidgin . I believe this is a quite valid use case and you can suggest a PR based on modifications to CassandraBaseTimeseriesDao. I believe this is the only class you need to change (except adding tests)"
      }
    ]
  },
  {
    "number": 1005,
    "title": "Enable separation of timeseries datastore and entities datastore",
    "created_at": "2018-08-10T09:35:26Z",
    "closed_at": "2022-08-25T17:58:43Z",
    "labels": [
      "enhancement",
      "help wanted",
      "Contributions Welcome!"
    ],
    "url": "https://github.com/thingsboard/thingsboard/issues/1005",
    "body": "Currently the deployment of ThingsBoard can use either Cassandra data store or RDBMS.\r\nWhile Cassandra is optimal for time series data, it lacks many features to support ThingsBoard entity model which is more relational in its nature.\r\nThe suggestion is to use 2 data stores simultaneously:\r\nCassandra API only for time series and RDBMS for all other entities.\r\n   ",
    "comments_url": "https://api.github.com/repos/thingsboard/thingsboard/issues/1005/comments",
    "author": "davidgin",
    "comments": [
      {
        "user": "ashvayka",
        "created_at": "2018-08-10T20:58:57Z",
        "body": "Hi @davidgin \r\nWe've introduced two annotations to control either Cassandra or SQL dao is used:\r\norg.thingsboard.server.dao.util.SqlDao and org.thingsboard.server.dao.util.NoSqlDao.\r\nI suggest to add two other annotations: SqlTsDao and NoSqlTsDao for timeseries data and add the corresponding parameter to thingsboard.yml. We may refactor \"database.type\" parameter in thingsboard.yml to \"database.ts.type\" and \"database.entities.type\".\r\n\r\nGood luck with the implementation! Let's use this issue to discuss the implementation details!"
      },
      {
        "user": "hagaic",
        "created_at": "2018-08-21T08:33:02Z",
        "body": "Hi @ashvayka \r\nI started implementing according to your suggestion.\r\nI also added NoSqlAnyDao annotation for Cassandra infra classes like CassandraCluster and CassandraQueryOptions, which are needed both in database.type=cassandra and in hybrid mode.\r\nCurrently I'm trying to solve a problem with installation:\r\nThingsboardInstallService uses a single autowired DatabseSchemaService, so it can only be one of the two. In the hybrid configuration we need both.\r\nMaybe instead of the polymorphic DatabseSchemaService use the two classes:\r\n\r\n```\r\n@Autowired(required = false)\r\nprivate CassandraDatabseSchemaService cassandraDatabseSchemaService;\r\n\r\n@Autowired(required = false)\r\nprivate SqlDatabseSchemaService sqlDatabseSchemaService;\r\n```\r\n\r\nand then createDataBaseSchema() only for the non null?\r\nWhat do you think?\r\n\r\n"
      },
      {
        "user": "ashvayka",
        "created_at": "2018-08-21T11:49:09Z",
        "body": "Hi @hagaic \r\n\r\nI believe we need to create two separate classes/interfaces for each DB type:\r\nCassandraDatabseSchemaService -> CassandraEntityDatabaseSchemaService\r\nCassandraTsDatabaseSchemaService\r\n\r\nSqlDatabseSchemaService -> SqlEntityDatabaseSchemaService\r\nSqlTsDatabaseSchemaService\r\n\r\nEach one will be responsible for the creation of the corresponding tables/column families and will be annotated with the same annotations as earlier proposed. \r\nJust to summarize: we separate creation of main entities db structure from creation of timeseries db structure. Do you agree?"
      },
      {
        "user": "hagaic",
        "created_at": "2018-08-21T15:58:17Z",
        "body": "Hi @ashvayka \r\nSo to elaborate the installation part in details:\r\nWe will have 3 top DatabseSchemaService using 4 sub services:\r\n\r\n1. CassandraDatabseSchemaService will delegate to CassandraEntityDatabaseSchemaService, CassandraTsDatabaseSchemaService.\r\n2. SqlDatabseSchemaService will delegate to SqlEntityDatabaseSchemaService, SqlTsDatabaseSchemaService.\r\n3. A new HybridDatabseSchemaService will delegate to SqlEntityDatabaseSchemaService, CassandraTsDatabaseSchemaService. \r\nHybridDatabseSchemaService will be annotated with a new HybridDao (database.enity.type==sql && database.ts.type==cassandra) \r\n\r\nExactly one of the three top *DatabseSchemaService will be autowired into ThingsboardInstallService \r\n\r\nEach sub-service will be able to run independently (CREATE KEYSPACE IF NOT EXISTS)\r\n\r\nschema.sql/cql files will be broken into 2 files each (entity/ts), each used in one of the 4 sub-services.\r\n\r\nP.S what about DatabseUpgradeService? looks like we will also need to do all of this refactoring there also? [after deeper look: no need for that since no upgrade of TS tables anyway]\r\n"
      },
      {
        "user": "hagaic",
        "created_at": "2018-08-28T11:06:29Z",
        "body": "Hi @ashvayka \r\nAfter further thought, I want to handle the schema installation using a simpler design, without the \"3 top DatabseSchemaService\" layer:\r\nThingsboardInstallService will use two autowired services: EntityDatabseSchemaService & TsDatabseSchemaService (both interfaces are marker extensions of DatabseSchemaService), each wired with exactly one of two implementations.\r\n\r\n@SqlDao class SqlEntityDatabaseSchemaService implements EntityDatabseSchemaService \r\n@NoSqlDao class CassandraEntityDatabaseSchemaService implements EntityDatabseSchemaService \r\n\r\n@SqlTsDao class SqlTsDatabaseSchemaService implements TsDatabseSchemaService \r\n@NoSqlTsDao class CassandraTsDatabaseSchemaService implements TsDatabseSchemaService \r\n"
      }
    ]
  }
]