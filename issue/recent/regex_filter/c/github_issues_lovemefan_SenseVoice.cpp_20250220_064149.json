[
  {
    "number": 58,
    "title": " batchåŠŸèƒ½æ”¯æŒ",
    "created_at": "2025-02-11T03:52:43Z",
    "closed_at": "2025-02-14T08:14:53Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/pull/58",
    "body": "1. è‡ªç”¨çš„vadè¯†åˆ«+åˆ‡åˆ†æ–¹æ¡ˆè½¬ç§»åˆ°examples/zcr_mainä¸­ã€‚\r\n2. batchç›¸å…³å¤–é¢çš„æ¥å£æ–°å¢ä¸€å¥—ï¼šsense_voice_batch_pcm_to_feature_with_stateï¼Œsense_voice_batch_fullï¼Œsense_voice_batch_print_outputã€‚ä»¥åŠä¸€ä¸ªæ–¹ä¾¿ä½¿ç”¨çš„æ¥å£sense_voice_batch_pcmfã€‚\r\n3. zcr_mainä¸­çš„main.ccç®€åŒ–äº†main.ccä¸­ç”¨ä¸åˆ°çš„å‚æ•°ï¼Œå¹¶ä¸”å–æ¶ˆäº†n_processorçš„å®ç°ã€‚\r\n    1.  n_processorè®¾è®¡ä¸Šé€‚é…äºå¤šä¸ªCPUï¼Œåœ¨SenseVoice.cppå’Œwhisper.cppä¸Šå‡å­˜åœ¨ã€‚\r\n    2. åœ¨è¡Œä¸ºä¸Šï¼Œç¨‹åºä¼šåˆ›å»ºn_processorä¸ªæ¨¡å‹ï¼Œæ¯ä¸€ä¸ªCPUå„æœ‰ä¸€ä¸ªï¼Œå¹¶ä¸”éŸ³é¢‘åˆ‡å‰²æ˜¯æä¸ºæš´åŠ›çš„å¹³å‡åˆ‡åˆ†ï¼Œè€Œæ²¡æœ‰è€ƒè™‘æ˜¯å¦ä¼šåˆ‡æ–­éŸ³é¢‘çš„ã€‚\r\n    3. å¤šçº¿ç¨‹å‚æ•°-tæ²¡æœ‰åŠ¨ï¼Œè®¾è®¡ä¸Šæ˜¯å•ä¸ªCPUä¸­é€‚é…å¤šæ ¸çš„å‚æ•°ï¼Œåªæ˜¯åŠ é€Ÿäº†å•æ¬¡è¯†åˆ«çš„é¢„å¤„ç†ï¼ˆä¸è¿‡é¢„å¤„ç†ä¹‹åå°±æ˜¯æ¨¡å‹è¯†åˆ«äº†ï¼‰ã€‚\r\n4. sense-voice-encoderä¸­ä¸€å°æ®µFSMNç›¸å…³çš„æœ‰2ä¸ªå…³äºbatchçš„å®ç°ã€‚",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/58/comments",
    "author": "Ivy233",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2025-02-11T05:52:53Z",
        "body": "å¤ªæ£’äº†ğŸ‘ğŸ‘ğŸ‘ï¼Œååˆ†æ„Ÿè°¢"
      }
    ]
  },
  {
    "number": 57,
    "title": "Update main.cc",
    "created_at": "2025-02-10T07:00:12Z",
    "closed_at": "2025-02-10T07:04:30Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/pull/57",
    "body": "Remove redundant line.",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/57/comments",
    "author": "znsoftm",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2025-02-10T07:04:33Z",
        "body": "Thanks!"
      }
    ]
  },
  {
    "number": 49,
    "title": "åŠŸèƒ½åˆå¹¶ä¸ä¸€äº›bugä¿®å¤ã€‚",
    "created_at": "2025-01-14T09:24:29Z",
    "closed_at": "2025-01-23T08:32:18Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/pull/49",
    "body": "å•çº¯çš„ä»£ç åˆå¹¶ï¼Œåˆå¹¶èŒƒå›´ï¼š\r\n1. streamï¼ˆéº¦å…‹é£è¾“å…¥ï¼‰åŠŸèƒ½æ¥å…¥ã€‚\r\n2. æ–°å¢common-sdlä»£ç ç›¸æ¯”whisper.cppåŒåä»£ç ç•¥æœ‰ä¿®æ”¹ã€‚\r\n3. ä¿®å¤â€œå–‚å–‚å–‚â€è¯†åˆ«æˆâ€œå–‚â€ï¼Œå¹¶ä¸”ä¸â€œ%%%â€è¯†åˆ«æˆä¸€ä¸ªâ€œ%â€åŒºåˆ†å¼€ã€‚\r\n4. æ•´ç†è¾“å‡ºæ¥å£ï¼Œä½¿printfä»è¯­éŸ³è¯†åˆ«åŠŸèƒ½ä¸­åˆ†ç¦»å¼€ã€‚\r\n5. éƒ¨åˆ†ä»£ç ç©ºæ ¼å¯¹é½å¼ºè¿«ç—‡ã€‚\r\n6. æ²¡æœ‰libsdl2-devæ—¶ï¼Œä¸ç¼–è¯‘sense-voice-stream\r\næœªåˆå¹¶åŠŸèƒ½ï¼š\r\n1. main.ccï¼ˆæ–‡ä»¶åˆ‡å‰²ï¼‰ä¿ç•™åŸæ¥çš„å¤„ç†ï¼Œé™¤äº†è¾“å‡ºæœ‰æ‰€ä¿®æ”¹ã€‚",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/49/comments",
    "author": "Ivy233",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2025-01-23T08:31:40Z",
        "body": "ååˆ†æ„Ÿè°¢"
      }
    ]
  },
  {
    "number": 46,
    "title": "std::filesystemå‡ºç°é“¾æ¥é”™è¯¯",
    "created_at": "2025-01-13T08:29:26Z",
    "closed_at": "2025-01-21T09:49:47Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/46",
    "body": "mainåˆ†æ”¯æ‹‰ä¸‹æ¥ç›´æ¥ç¼–è¯‘å¯ä»¥æ‹¿åˆ°è¿™æ ·çš„æŠ¥é”™ï¼š\r\n```\r\n/usr/bin/ld: ../../lib/libggml.a(ggml-backend-reg.cpp.o): in function `ggml_backend_load_best(char const*, bool) [clone .constprop.148]':\r\nggml-backend-reg.cpp:(.text+0x1a30): undefined reference to `std::filesystem::__cxx11::path::_M_split_cmpts()'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x1a3d): undefined reference to `std::filesystem::status(std::filesystem::__cxx11::path const&)'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x1e08): undefined reference to `std::filesystem::__cxx11::path::_M_split_cmpts()'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x1e15): undefined reference to `std::filesystem::status(std::filesystem::__cxx11::path const&)'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x2018): undefined reference to `std::filesystem::__cxx11::path::_M_split_cmpts()'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x202e): undefined reference to `std::filesystem::__cxx11::directory_iterator::directory_iterator(std::filesystem::__cxx11::path const&, std::filesystem::directory_options, std::error_code*)'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x2136): undefined reference to `std::filesystem::__cxx11::directory_iterator::operator*() const'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x226b): undefined reference to `std::filesystem::__cxx11::path::_M_find_extension() const'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x235a): undefined reference to `std::filesystem::__cxx11::path::_M_split_cmpts()'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x24cf): undefined reference to `std::filesystem::__cxx11::directory_iterator::operator++()'\r\n/usr/bin/ld: ggml-backend-reg.cpp:(.text+0x2644): undefined reference to `std::filesystem::status(std::filesystem::__cxx11::path const&)'\r\ncollect2: error: ld returned 1 exit status\r\n```\r\nç¯å¢ƒï¼šg++ 8.3.0\r\nçœ‹èµ·æ¥æ˜¯å› ä¸ºstd::filesysteméœ€è¦ä½¿ç”¨C++17æ‰å¯ä»¥ä¿®å¤ï¼Œå½“å‰g++æ˜¯ä¸æ”¯æŒè¿™ä¸ªçš„ï¼Œéœ€è¦åœ¨target_link_librariesæœ€ååŠ ä¸€ä¸ªstdc++fsã€‚\r\nä¸è¿‡è¿™ä¸ªæ˜¯ä¸æ˜¯GGMLæœ¬èº«çš„é—®é¢˜ï¼Ÿ",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/46/comments",
    "author": "Ivy233",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2025-01-13T08:46:10Z",
        "body": "å¯èƒ½æ˜¯çš„ï¼ŒGGMLæ›´æ–°é¢‘ç‡å¤ªå¿«äº†ã€‚æœ€è¿‘åˆ°å¹´å‰å› ä¸ºå¤ªå¿™æˆ‘åº”è¯¥éƒ½æ²¡æ—¶é—´æ›´æ–°é¡¹ç›®äº†ï¼Œå¦‚æœæœ‰è§£å†³æ–¹æ¡ˆæ¬¢è¿prï¼Œè°¢è°¢"
      },
      {
        "user": "Ivy233",
        "created_at": "2025-01-14T02:50:24Z",
        "body": "è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æƒ³é—®ä¸‹ï¼Œæ¨¡å‹æ”¯æŒkv-cacheå—ï¼Ÿçœ‹pyç‰ˆæœ¬æ²¡æœ‰å‘ç°å¯¹åº”çš„ç»†èŠ‚ã€‚"
      },
      {
        "user": "lovemefan",
        "created_at": "2025-01-14T03:22:19Z",
        "body": "sensevoice-small  æ˜¯éè‡ªå›å½’æ¨¡å‹ï¼Œä¸éœ€è¦kv-cache"
      },
      {
        "user": "Ivy233",
        "created_at": "2025-01-14T09:28:43Z",
        "body": "> å¯èƒ½æ˜¯çš„ï¼ŒGGMLæ›´æ–°é¢‘ç‡å¤ªå¿«äº†ã€‚æœ€è¿‘åˆ°å¹´å‰å› ä¸ºå¤ªå¿™æˆ‘åº”è¯¥éƒ½æ²¡æ—¶é—´æ›´æ–°é¡¹ç›®äº†ï¼Œå¦‚æœæœ‰è§£å†³æ–¹æ¡ˆæ¬¢è¿prï¼Œè°¢è°¢\r\n\r\nè¯•å›¾åŠ äº†ä¸€ä¸‹stdc++fsã€‚ã€‚ã€‚èƒ½è¿‡linuxä½†æ˜¯ä¸èƒ½è¿‡macosï¼Œä¼°è®¡windowsä¹Ÿæ‚¬ï¼Œè¦ä¸è¦æˆ‘å…ˆæ’¤å›å»è¿™ä¸ªstdc++fsçš„æäº¤ã€‚"
      },
      {
        "user": "Ivy233",
        "created_at": "2025-01-17T05:52:25Z",
        "body": "å·²ç»æpräº†ï¼Œè¦ä¸è¦çœ‹çœ‹ï¼ŒåŠ äº†éº¦å…‹é£è¾“å…¥çš„åŠŸèƒ½"
      }
    ]
  },
  {
    "number": 39,
    "title": "ä¸ºä»€ä¹ˆsensevoiceæ¨¡å‹çš„è¾“å…¥æ˜¯NXTX560ï¼Ÿ",
    "created_at": "2024-12-20T03:14:03Z",
    "closed_at": "2024-12-20T03:55:12Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/39",
    "body": "å¾ˆå¤šasrçš„è¾“å…¥æ˜¯NXTX80, sensevoiceçš„560æ˜¯ä»€ä¹ˆå«ä¹‰",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/39/comments",
    "author": "dlkht",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-12-20T03:52:56Z",
        "body": "è®ºæ–‡ä¸­LFRï¼ˆlower frame rateï¼‰æŠ€æœ¯å°†7å¸§fbank ï¼ˆä¸€å¸§80ç»´ï¼‰æ‹¼æˆäº†ä¸€å¸§ï¼Œæ‰€ä»¥ç»´åº¦æ˜¯560"
      },
      {
        "user": "dlkht",
        "created_at": "2024-12-20T03:53:50Z",
        "body": "è°¢è°¢"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-12-20T03:55:12Z",
        "body": "ä¸å®¢æ°”"
      }
    ]
  },
  {
    "number": 33,
    "title": "è¯†åˆ«ä¸å‡ºæ•°å­—",
    "created_at": "2024-12-03T01:52:26Z",
    "closed_at": "2024-12-10T06:34:52Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/33",
    "body": "æˆ‘åœ¨è¯­éŸ³ä¸­è¯´å‡º1 2 3 4 5 6 7 8 9ï¼Œåªè¦æ˜¯å«æœ‰æ•°å­—çš„ï¼Œéƒ½è¯†åˆ«ä¸å‡ºæ¥ï¼Œè¿™æ˜¯å’‹å›äº‹å‘¢",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/33/comments",
    "author": "TechManDexiang",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-12-10T06:40:12Z",
        "body": "è¯·é—®é¢˜è§£å†³äº†å—ï¼Œ æœ€è¿‘å¿™ï¼Œè¿˜æ²¡æ¥åŠå›å¤"
      },
      {
        "user": "TechManDexiang",
        "created_at": "2024-12-13T07:34:12Z",
        "body": "é—®é¢˜è§£å†³äº†ï¼Œè¿™åº”è¯¥æ˜¯æˆ‘è‡ªå·±çš„é—®é¢˜ï¼Œæˆ‘æ˜¯æ”¹äº†ä¸€ä¸‹ä»£ç ï¼Œç”Ÿæˆäº†.soåº“ï¼Œåæ¥æ¢æˆ.aåº“å°±å¥½äº†"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-12-13T07:37:23Z",
        "body": "æ–°ç‰ˆæ›´æ–°äº†vadæ¨¡å‹ï¼Œæ”¯æŒé•¿éŸ³é¢‘äº†"
      }
    ]
  },
  {
    "number": 29,
    "title": "Fix multi percent",
    "created_at": "2024-11-20T07:04:01Z",
    "closed_at": "2024-11-20T07:10:58Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/pull/29",
    "body": "å¤šä¸ªç™¾åˆ†å·è¿›è¡Œä¿®å¤ã€‚\r\næ”¯æŒwithitné€‰é¡¹ã€‚\r\nç•¥ä¸ºä¼˜åŒ–ä¸‹decodeä¹‹åçš„è¾“å‡ºint*æ¥å›å¤åˆ¶çš„æ¬¡æ•°ã€‚",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/29/comments",
    "author": "Ivy233",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-11-20T07:10:43Z",
        "body": "ğŸ¤—ğŸ¤—ğŸ¤—æ„Ÿè°¢è´¡çŒ®"
      }
    ]
  },
  {
    "number": 28,
    "title": "æƒ³æŠŠsenseVoiceé›†æˆåˆ°qtç¨‹åºä¸­",
    "created_at": "2024-11-19T08:02:26Z",
    "closed_at": "2024-11-19T10:33:40Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/28",
    "body": "æˆ‘æŠŠsensevoiceé›†æˆåˆ°äº†qtä¸­ï¼Œæƒ³å®ç°ç±»ä¼¼è¯­éŸ³è¾“å…¥æ³•çš„åŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘å‘ç°sensevoiceå¯¹éŸ³é¢‘æ ¼å¼æœ‰è¦æ±‚ï¼Œæƒ³çŸ¥é“å…·ä½“è¦æ±‚æ˜¯ä»€ä¹ˆï¼Œä»€ä¹ˆæ ·çš„pcmæ•°æ®æ‰èƒ½è¢«è¯†åˆ«ã€‚",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/28/comments",
    "author": "TechManDexiang",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-11-19T08:20:51Z",
        "body": "éœ€è¦16k é‡‡æ ·ç‡ï¼Œ å•é€šé“çš„wavéŸ³é¢‘ï¼Œ æœ€è¿‘åœ¨ç ”ç©¶åŠ å…¥vadåˆ‡åˆ†ï¼Œå°†ä¼šæ”¯æŒæ›´é•¿éŸ³é¢‘è¾“å…¥ã€ä¼ªæµå¼è¾“å…¥ï¼Œä¼šæŒç»­æ›´æ–°çš„"
      },
      {
        "user": "TechManDexiang",
        "created_at": "2024-11-19T08:25:08Z",
        "body": "ç›´æ¥å½•çš„pcmæ•°æ®ä¸è¡Œå—ï¼Œæˆ‘ä½¿ç”¨qté‡‡é›†çš„pcmåŸå§‹æ•°æ®ï¼Œä½†æ˜¯è¯†åˆ«ä¸å‡ºæ¥ï¼Œä¸‹é¢æ˜¯é‡‡é›†pcmçš„å‚æ•°ã€‚\r\n```\r\nQAudioFormat format;\r\n\r\n    format.setSampleRate(16000);\r\n    format.setChannelCount(1);\r\n    format.setSampleSize(16);\r\n    format.setCodec(\"audio/pcm\");\r\n    format.setByteOrder(QAudioFormat::LittleEndian);\r\n    format.setSampleType(QAudioFormat::SignedInt);\r\n\r\n```"
      },
      {
        "user": "TechManDexiang",
        "created_at": "2024-11-19T09:40:45Z",
        "body": "å·²ç»è§£å†³äº†ï¼Œé—®é¢˜å‡ºç°åœ¨æˆ‘å¯¹é‡‡é›†åˆ°çš„çš„pcmæ•°æ®è¿›è¡Œè½¬æ¢è¿™é‡Œï¼ˆQBytearrayè½¬æ¢æˆvector<double>ï¼‰"
      }
    ]
  },
  {
    "number": 27,
    "title": "ç™¾åˆ†å·ä¼šè¾“å‡ºä¸‰ä¸ª%",
    "created_at": "2024-11-05T10:41:28Z",
    "closed_at": "2024-12-19T01:29:23Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/27",
    "body": "åé¦ˆä¸€ä¸ªbugï¼Œå½“éŸ³é¢‘ä¸­å‡ºç°ç™¾åˆ†å·è¿™ä¸‰ä¸ªå­—çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šè¾“å‡º%%%ã€‚ã€‚ã€‚\r\nwhisper.cppå’ŒåŸç‰ˆçš„SenseVoiceæ²¡æœ‰ã€‚",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/27/comments",
    "author": "Ivy233",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-11-19T08:18:58Z",
        "body": "æ”¶åˆ°ï¼Œæœ€è¿‘è¾ƒå¿™ï¼Œä¼šæŠ½ç©ºè§£å†³çš„"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-12-19T01:29:23Z",
        "body": "å·²è§£å†³ #29"
      }
    ]
  },
  {
    "number": 26,
    "title": "é•¿éŸ³é¢‘è¯†åˆ«æ•ˆæœè¾ƒå·®",
    "created_at": "2024-10-22T10:43:17Z",
    "closed_at": "2024-12-19T01:29:41Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/26",
    "body": "ä¸ªäººè¿™è¾¹æ£€æµ‹å‘ç°ï¼š\r\n1. æœ€ç»ˆstate.idsé•¿åº¦åªæœ‰1000å·¦å³æ—¶ï¼ŒåŸºæœ¬éƒ½èƒ½è¯†åˆ«åˆ°ï¼Œè¾“å‡ºä¹ŸåŸºæœ¬å¯è¯»ã€‚\r\n2. æœ€ç»ˆstate.idsé•¿åº¦æœ‰8000å·¦å³æ—¶ï¼ˆå¯¹åº”çš„éŸ³é¢‘æœ‰8minï¼‰ï¼Œä¼šå‡ºç°å¤§æ®µå¤§æ®µçš„id=0çš„æƒ…å†µï¼Œä¸€ä¸‹å­èƒ½è·³å¥½å‡ ç™¾ä¸ªtokenã€‚\r\næƒ³é—®ä¸‹è¿™ç§é—®é¢˜æ˜¯å¦é‡åˆ°è¿‡ï¼Œæœ‰æ²¡æœ‰æ’æŸ¥è¿‡å€¼çš„åŸå› ï¼Ÿ",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/26/comments",
    "author": "Ivy233",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-10-24T02:14:49Z",
        "body": "æœ‰é‡åˆ°è¿‡ï¼Œè¿™ä¸ªæ˜¯æ¨¡å‹é—®é¢˜ï¼Œ#12 ä¸­æœ‰ä¾‹å­ï¼Œæ­¤éæµå¼æ¨¡å‹é€‚åˆå…ˆç”¨vadåˆ‡åˆ†æˆå°æ®µï¼Œç„¶åå†è¯†åˆ«ã€‚vadæ¨¡å‹å¾—äº‰å–æŠ½æ—¶é—´åŠ ä¸€ä¸‹æ‰æ›´åŠ å®ç”¨"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-12-13T02:18:32Z",
        "body": "å·²æ›´æ–°vadï¼Œå¯ä»¥é‡æ–°æµ‹è¯•å•¦"
      }
    ]
  },
  {
    "number": 25,
    "title": "MacBook Pro M1 æŒ‰ç…§è¯´æ˜ç¼–è¯‘æŠ¥é”™",
    "created_at": "2024-10-20T12:56:04Z",
    "closed_at": "2024-10-21T01:49:23Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/25",
    "body": "`/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice-decoder.cc:125:13: error: use of undeclared identifier 'ggml_backend_metal_set_n_cb'\r\n            ggml_backend_metal_set_n_cb(backend, n_threads);\r\n            ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:120:25: warning: unused variable 'key' [-Wunused-variable]\r\n            const char *key = gguf_get_key(gguf_ctx, i);\r\n                        ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:175:22: warning: unused variable 'scale' [-Wunused-variable]\r\n        const size_t scale = sense_voice.hparams.ftype ? 1 : 2;\r\n                     ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:262:20: warning: variable 'buffer_size' set but not used [-Wunused-but-set-variable]\r\n            size_t buffer_size = 32*1024; // need some extra room??\r\n                   ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:237:21: warning: unused variable 'hparams' [-Wunused-variable]\r\n        const auto &hparams = sense_voice.hparams;\r\n                    ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:229:12: warning: unused variable 'ctx_size' [-Wunused-variable]\r\n    size_t ctx_size = 0;\r\n           ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:231:21: warning: unused variable 'wtype' [-Wunused-variable]\r\n    const ggml_type wtype = sctx.wtype;\r\n                    ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:232:21: warning: unused variable 'vtype' [-Wunused-variable]\r\n    const ggml_type vtype =\r\n                    ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice-encoder.cc:113:9: error: use of undeclared identifier 'ggml_backend_metal_log_set_callback'\r\n        ggml_backend_metal_log_set_callback(g_state.log_callback,\r\n        ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/examples/common-ggml.cc:250:17: warning: variable 'nelements' set but not used [-Wunused-but-set-variable]\r\n        int32_t nelements = 1;\r\n                ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/examples/common-ggml.cc:336:21: warning: variable 'f32_data' is uninitialized when used here [-Wuninitialized]/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice-encoder.cc:\r\n163:13: error:                     f32_data[i] = ggml_fp16_to_fp32(data_f16[i]);\r\nuse of undeclared identifier 'ggml_backend_metal_set_n_cb'                    ^~~~~~~~\r\n\r\n            ggml_backend_metal_set_n_cb(backend, n_threads);\r\n            ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/examples/common-ggml.cc:329:29: note: initialize the variable 'f32_data' to silence this warning\r\n            float * f32_data;\r\n                            ^\r\n                             = nullptr\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice-encoder.cc:458:17: warning: unused variable 'model' [-Wunused-variable]\r\n    const auto &model = ctx.model;\r\n                ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:410:9: error: use of undeclared identifier 'ggml_backend_metal_log_set_callback'\r\n        ggml_backend_metal_log_set_callback(g_state.log_callback, g_state.log_callback_user_data);\r\n        ^\r\n/Users/soulmayon/desktop/ali/SenseVoice.cpp/sense-voice/csrc/sense-voice.cc:763:19: warning: unused variable 'n_ctx' [-Wunused-variable]\r\n        const int n_ctx = state->feature.n_len;\r\n                  ^\r\n`",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/25/comments",
    "author": "soulmayon",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-10-20T14:44:25Z",
        "body": "ç”±äºæœ€æ–°ggmlçš„apiå˜åŒ–ï¼Œè¯·æ›´æ–°æœ€æ–°ä»£ç "
      },
      {
        "user": "soulmayon",
        "created_at": "2024-10-21T00:01:12Z",
        "body": "å·²æ›´æ–°ï¼Œè¿™æ¬¡åªæœ‰è­¦å‘Šwarning: unused variableä½†ä¸æŠ¥é”™äº†ï¼Œéå¸¸æ„Ÿè°¢"
      }
    ]
  },
  {
    "number": 18,
    "title": "é’ˆå¯¹issueç¬¬ä¸€æ¡çš„ä¿®å¤ã€‚",
    "created_at": "2024-09-26T01:55:58Z",
    "closed_at": "2024-09-26T03:23:47Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/pull/18",
    "body": "gitignoreå¿½ç•¥build\r\nä¿®æ”¹normçš„å®ç°ï¼ˆå¤šäº†ä¸€ä¸ªscale\r\ndim_size%WARP_SIZE == 0æ—¶ä¸è°ƒç”¨normç¬¬ä¸€ç»´æ‰©å……",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/18/comments",
    "author": "Ivy233",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-09-26T03:21:00Z",
        "body": "éå¸¸æ„Ÿè°¢ï¼"
      }
    ]
  },
  {
    "number": 15,
    "title": "ä¸ºä»€ä¹ˆæˆ‘çš„ç¼–è¯‘æŠ¥é”™error: â€˜strlenâ€™ was not declared in this scope?",
    "created_at": "2024-09-22T11:08:54Z",
    "closed_at": "2024-09-23T11:20:35Z",
    "labels": [
      "bug"
    ],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/15",
    "body": "debian12 å®‰è£…çš„gcc12\r\n\r\n/home/wkitt/SenseVoice.cpp/examples/common-ggml.cc: In function â€˜std::string llama_format_tensor_shape(const ggml_tensor*)â€™:\r\n/home/wkitt/SenseVoice.cpp/examples/common-ggml.cc:44:24: error: â€˜strlenâ€™ was not declared in this scope\r\n   44 |         snprintf(buf + strlen(buf), sizeof(buf) - strlen(buf), \", %5\" PRId64, t->ne[i]);\r\n      |                        ^~~~~~\r\n/home/wkitt/SenseVoice.cpp/examples/common-ggml.cc:13:1: note: â€˜strlenâ€™ is defined in header â€˜<cstring>â€™; did you forget to â€˜#include <cstring>â€™?\r\n   12 | #include <map>\r\n  +++ |+#include <cstring>\r\n   13 |\r\n/home/wkitt/SenseVoice.cpp/examples/common-ggml.cc: In function â€˜bool sense_voice_ggml_quantize0(ggml_context*, gguf_context*, const std::string&, const std::string&, ggml_ftype, int, const std::vector<std::__cxx11::basic_string<char> >&, const std::vector<std::__cxx11::basic_string<char> >&)â€™:\r\n/home/wkitt/SenseVoice.cpp/examples/common-ggml.cc:319:50: error: â€˜strcmpâ€™ was not declared in this scope\r\n  319 |                  (new_type == GGML_TYPE_IQ1_M && strcmp(tensor->name, \"embed.weight\") && strcmp(tensor->name, \"ctc.ctc_lo.weight\"))  ||\r\n      |                                                  ^~~~~~\r\n/home/wkitt/SenseVoice.cpp/examples/common-ggml.cc:319:50: note: â€˜strcmpâ€™ is defined in header â€˜<cstring>â€™; did you forget to â€˜#include <cstring>â€™?\r\nmake[2]: *** [examples/CMakeFiles/common.dir/build.make:76ï¼šexamples/CMakeFiles/common.dir/common-ggml.cc.o] é”™è¯¯ 1\r\nmake[1]: *** [CMakeFiles/Makefile2:262ï¼šexamples/CMakeFiles/common.dir/all] é”™è¯¯ 2\r\nmake: *** [Makefile:136ï¼šall] é”™è¯¯ 2",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/15/comments",
    "author": "wkitt4",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-09-23T01:51:20Z",
        "body": "æ„Ÿè°¢åé¦ˆï¼Œå½“å‰bugå·²è§£å†³"
      }
    ]
  },
  {
    "number": 14,
    "title": "failed to read WAV file 'SenseVoice.cpp/data/test1.wav'",
    "created_at": "2024-09-16T13:16:50Z",
    "closed_at": "2024-10-06T14:46:17Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/14",
    "body": "Expected subchunk1_id 0x20746d66. Given: 0x4b4e554a\r\nerror: failed to read WAV file 'SenseVoice.cpp/data/test1.wav'\r\n\r\næˆ‘ç”µè„‘ä¸Šå½•äº†ä¸€ä¸ªWAVæ ¼å¼éŸ³é¢‘ï¼Œæ¨ç†çš„æ—¶å€™æç¤ºä»¥ä¸Šé”™è¯¯ï¼Œæƒ³é—®ä¸‹æ˜¯ä»€ä¹ˆåŸå› å‘¢ã€‚\r\n",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/14/comments",
    "author": "brisyramshere",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-09-16T15:41:14Z",
        "body": "ç¡®ä¿éŸ³é¢‘ä¸º 16kHzï¼Œå•é€šé“çš„wavï¼Œå¯ä»¥ä½¿ç”¨ffmpegè½¬æ¢\r\n\r\n```\r\nffmpeg -i /path/test1.wav -ar 16000 -ac 1 /path/output.wav\r\n```"
      },
      {
        "user": "brisyramshere",
        "created_at": "2024-09-17T05:11:34Z",
        "body": "> ç¡®ä¿éŸ³é¢‘ä¸º 16kHzï¼Œå•é€šé“çš„wavï¼Œå¯ä»¥ä½¿ç”¨ffmpegè½¬æ¢\r\n> \r\n> ```\r\n> ffmpeg -i /path/test1.wav -ar 16000 -ac 1 /path/output.wav\r\n> ```\r\n\r\näº†è§£äº†ï¼Œè°¢è°¢"
      }
    ]
  },
  {
    "number": 11,
    "title": "fix tesnor set error",
    "created_at": "2024-09-09T07:09:02Z",
    "closed_at": "2024-09-09T07:26:59Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/pull/11",
    "body": "ggml_backend_tensor_set would copy data from host to host , replace it with ggml_backend_tensor_copy while using cuda",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/11/comments",
    "author": "pockers21",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-09-09T07:26:51Z",
        "body": "Thank you very much for your contribution. I really appreciate your help."
      }
    ]
  },
  {
    "number": 10,
    "title": "encoderå‡ å€çš„ä¸‹é‡‡æ ·",
    "created_at": "2024-09-06T04:38:13Z",
    "closed_at": "2024-12-19T01:23:57Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/10",
    "body": "æ„Ÿè°¢å·¥ä½œï¼Œæƒ³è¯·é—®ä¸€ä¸‹ï¼Œencoderæ˜¯å‡ å€çš„ä¸‹é‡‡æ ·ï¼Ÿ",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/10/comments",
    "author": "leospark",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-09-06T06:14:32Z",
        "body": "æ„Ÿè°¢å¯¹è¯¥å·¥ä½œçš„å…³æ³¨ã€‚\r\n\r\nä¸¾ä¸ªä¾‹å­ï¼Œ1ç§’çš„éŸ³é¢‘ä¸º16000å¸§æ•°æ®ï¼Œç»è¿‡ç‰¹å¾æå–fbankå˜æˆäº†97å¸§ï¼Œå†è¿›è¿‡lfrå˜æˆäº†15å¸§ï¼Œç„¶åé€å…¥encoderï¼Œencoderå‡ºæ¥è¿˜æ˜¯15å¸§ï¼Œæœ€åctcè¾“å‡ºä¸ºå¯¹åº”çš„15ä¸ªlogitï¼Œä¹Ÿå°±æ˜¯çº¦ä¸º66ms/perï¼Œ è¿™æ ·ç®—ä¸‹æ¥æ˜¯ä¸‹é‡‡æ ·1000å¤šå€äº†ã€‚\r\n\r\nç›¸æ¯”äºwhisperï¼Œ1ç§’åˆ°éŸ³é¢‘whisperçš„encoderè¾“å‡ºæ¯ç§’50å¸§ï¼Œsense voiceæ¯”whisperè¿˜è¦è¿›ä¸€æ­¥å‹ç¼©3å€å¤š"
      }
    ]
  },
  {
    "number": 9,
    "title": "CMake Error : build-info.cmake not found",
    "created_at": "2024-09-04T14:03:58Z",
    "closed_at": "2024-09-12T10:13:54Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/9",
    "body": "```\r\nCMake Error at CMakeLists.txt:63 (include):\r\n  include could not find requested file:\r\n\r\n    /.../SenseVoice.cpp/cmake/build-info.cmake\r\n```\r\n\r\nMaybe the file was somehow ignored? It seems coming from `include(${CMAKE_CURRENT_SOURCE_DIR}/cmake/build-info.cmake)`",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/9/comments",
    "author": "cxcxcxcx",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-09-04T14:11:03Z",
        "body": "Sorry, I forgot to upload the filesï¼Œplease try again. I will add the Git Action as soon as possible."
      }
    ]
  },
  {
    "number": 7,
    "title": "ggmlæ¡†æ¶åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¼šæ¯”onnxå¿«å—ï¼Ÿæœ‰onnxå…¼å®¹æ€§å¼ºå—ï¼Ÿ",
    "created_at": "2024-09-02T07:52:39Z",
    "closed_at": "2024-09-02T08:06:20Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/7",
    "body": "å¸ˆå…„å¸¦å¸¦",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/7/comments",
    "author": "yuyun2000",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-09-02T08:04:21Z",
        "body": "SenseVoice.cpp åœ¨cpuä¸Šé€Ÿåº¦ç›¸å¯¹onnxæ²¡æœ‰å¤ªå¤§ä¼˜åŠ¿ï¼Œä½†æ˜¯å¯ä»¥å°½é‡ä¿è¯è¯­éŸ³è¯†åˆ«çš„å®æ—¶æ€§ï¼Œé€Ÿåº¦æ–¹é¢éœ€è¦å¤§é‡ä¼˜åŒ–å·¥ä½œï¼Œä½†æ˜¯ggmlæ”¯æŒå¾ˆå¤šåç«¯ï¼Œä¾‹å¦‚metalã€cudaã€vulkanã€è¿˜æœ‰amdã€interçš„GPUï¼Œè¿™äº›éƒ½éœ€è¦èŠ±æ—¶é—´é€‚é…"
      },
      {
        "user": "yuyun2000",
        "created_at": "2024-09-02T08:06:20Z",
        "body": "å¥½å§ï¼Œçœ‹æ¥ä½ç«¯è®¾å¤‡ä¸Šè¿˜æ˜¯onnxå…¼å®¹å¼ºä¸€ç‚¹å•Š"
      }
    ]
  },
  {
    "number": 5,
    "title": "å®ç°æ—¶é—´æˆ³åŠŸèƒ½",
    "created_at": "2024-08-23T08:06:06Z",
    "closed_at": "2024-12-19T01:23:40Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/5",
    "body": "ç›®å‰ä¸€ä¸ªåˆæ­¥çš„æƒ³æ³•æ˜¯æ ¹æ®ç›®å‰åˆ†å—çš„æ¯å—å¤§å°960ä¸ªsamples  æŒ‰ç…§ç›®å‰å¤„ç†çš„16kçš„é‡‡æ ·ç‡çš„æ•°æ®ï¼Œæ¯å—æ˜¯60msï¼Œæœ€åCTCè¾“å‡ºçš„æœ‰åºçš„idsä¸­å¯¹åº”çš„tokençš„æ—¶é•¿å°±æ˜¯å®ƒæ‰€åœ¨é¡ºåº*60msï¼Œæ˜¯å¦æ˜¯è¿™æ ·ç†è§£å‘¢ï¼Œä»£ç å±‚é¢æˆ‘å°±ç›´æ¥è¿™ä¹ˆå†™äº†ï¼š\r\n            //å¯¹äºå‰å¤„ç†æ—¶æ¯ä¸ªtokençš„æ—¶é—´ä»¥960 samples 60ms æ¯ä¸€å—ï¼Œä»¥æ­¤ä¸ºä¼°ç®—å‡ºæ¯ä¸ªtokençš„æ‰€åœ¨çš„ä½ç½®çš„æ—¶é—´æˆ³\r\nsense-voice-decoder.ccæ–‡ä»¶ï¼š128è¡Œ\r\n```\r\n            int i=0, step=60;\r\n            for(int id: state.ids){\r\n                if (id != 0) {\r\n                    SENSE_VOICE_LOG_INFO(\"%s: %s\", to_timestamp(step*(i>3? i-4:i), false).c_str(), ctx.vocab.id_to_token[id].c_str());\r\n                }\r\n                i++;\r\n            }\r\n            SENSEVOICE_LOG_INFO(\"size is %d\", state.ids.size());\r\n```",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/5/comments",
    "author": "cerberspace",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-08-23T08:29:56Z",
        "body": "å¯ä»¥è¿™æ ·ç†è§£ï¼Œ 1ç§’çš„éŸ³é¢‘ä¸º16000å¸§æ•°æ®ï¼Œç»è¿‡ç‰¹å¾æå–fbankå˜æˆäº†97å¸§ï¼Œå†è¿›è¿‡lfrå˜æˆäº†15å¸§ï¼Œæœ€åctcè¾“å‡ºä¸ºå¯¹åº”çš„15ä¸ªlogitï¼Œä¹Ÿå°±æ˜¯60ms/per ï¼Œç›´æ¥æŒ‰ç…§æ¯60msæ¯ä¸ªtokenå…¶å®æ˜¯å¯ä»¥çš„ï¼Œå‰ææ˜¯åˆ‡åˆ†çš„ç²’åº¦å’Œå‡†ç¡®åº¦å¯ä»¥æ¥å—ã€‚\r\næ®æˆ‘äº†è§£ï¼Œç›®å‰è¾ƒä¸ºæˆç†Ÿçš„å¯¹é½ç®—æ³•æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯dwt(whisper.cppåœ¨ä½¿ç”¨)å’Œctc-alignmentï¼ˆtorchaudioã€wenetåœ¨ä½¿ç”¨ï¼‰ï¼Œè¿™ä¸¤ä¸ªç®—æ³•è¾“å…¥æ˜¯ctcå‡ºæ¥çš„æ¦‚ç‡çŸ©é˜µï¼Œæ—¶é—´æˆ³ä¼šæ›´ç²¾ç¡®ã€‚"
      },
      {
        "user": "cerberspace",
        "created_at": "2024-08-23T08:42:23Z",
        "body": "å¦‚æœä¸æ˜¯è®¡ç®—åˆ°token-levelçš„æ—¶é—´æˆ³ï¼Œä»…ä»…æ˜¯segmentæ–­å¥ï¼Œåªçºªå½•æ–­å¥start-endæ—¶é—´æˆ³å‘¢ï¼Ÿ"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-08-23T08:46:09Z",
        "body": "åº”è¯¥å¯ä»¥çš„ï¼Œå¯ä»¥éªŒè¯ä¸€ä¸‹ï¼Œå¯ä»¥å…ˆè¿™æ ·ç”¨ç€ï¼Œåç»­æˆ‘ä¼šæ…¢æ…¢åœ°åŠ vadå’Œæ—¶é—´æˆ³åŠŸèƒ½çš„"
      },
      {
        "user": "cerberspace",
        "created_at": "2024-08-23T08:49:36Z",
        "body": "thanksï¼Œæ¯ä¸€ä¸ªç‚¹å±•å¼€éƒ½æ˜¯ä¸€ç¯‡æ–‡ç« äº†ï¼Œæˆ‘ä¹Ÿè¾¹å†™è¾¹å­¦ï¼Œæœ‰æœºä¼šä¹Ÿè´¡çŒ®ä¸€ç‚¹ä¸Šæ¥ã€‚"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-08-23T08:54:18Z",
        "body": "> thanksï¼Œæ¯ä¸€ä¸ªç‚¹å±•å¼€éƒ½æ˜¯ä¸€ç¯‡æ–‡ç« äº†ï¼Œæˆ‘ä¹Ÿè¾¹å†™è¾¹å­¦ï¼Œæœ‰æœºä¼šä¹Ÿè´¡çŒ®ä¸€ç‚¹ä¸Šæ¥ã€‚\r\n\r\næˆ‘ä¹Ÿæ˜¯è¾¹å­¦è¾¹å†™çš„ï¼Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿ä¸ä¼šğŸ˜‚ï¼Œå…±åŒè¿›æ­¥ï¼Œæ¬¢è¿è´¡çŒ®"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-12-13T02:22:30Z",
        "body": "é…åˆvadå·²å®ç°å¥å­çº§åˆ«çš„æ—¶é—´æˆ³"
      }
    ]
  },
  {
    "number": 4,
    "title": "Can it support Q4 or Q8 quantization?",
    "created_at": "2024-08-21T12:49:09Z",
    "closed_at": "2024-10-06T14:45:37Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/4",
    "body": null,
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/4/comments",
    "author": "edisonzf2020",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-08-21T12:54:36Z",
        "body": "Yes, thanks to the whisper.cpp, more quantized models will be supported in the future, and Iâ€™m also looking forward to the  release of SenseVoice-Large"
      },
      {
        "user": "edisonzf2020",
        "created_at": "2024-08-21T14:58:47Z",
        "body": "cool\r\nAnd can support mp3 input first?"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-08-22T01:38:05Z",
        "body": "> cool And can support mp3 input first?\r\n\r\nUse ffmpeg convert mp3 to wav\r\n```bash\r\nffmpeg -i /path/xxx.mp3 -ar 16000 -ac 1 /path/output.wav\r\n```"
      },
      {
        "user": "lovemefan",
        "created_at": "2024-09-02T03:23:43Z",
        "body": "Support Q3, Q4, Q5, Q6, Q8 quantization now."
      }
    ]
  },
  {
    "number": 3,
    "title": "Can't run in macos Apple M2 Ultra",
    "created_at": "2024-08-21T10:16:05Z",
    "closed_at": "2024-08-21T12:48:17Z",
    "labels": [],
    "url": "https://github.com/lovemefan/SenseVoice.cpp/issues/3",
    "body": "build in macosï¼Œ\r\n\r\nthe log as followingï¼š\r\n```\r\n(base) fanmac@M2-Ultra-Lan SenseVoice.cpp % ./build/bin/sense-voice-main -m ./models/gguf-fp32-sense-voice-small.bin ./asr_example_zh.wav -t 4\r\nsense_voice_small_init_from_file_with_params_no_state: loading model from './models/gguf-fp32-sense-voice-small.bin'\r\nsense_voice_init_with_params_no_state: use gpu    = 1\r\nsense_voice_init_with_params_no_state: flash attn = 0\r\nsense_voice_init_with_params_no_state: gpu_device = 0\r\nsense_voice_model_load: version:      3\r\nsense_voice_model_load: alignment:   32\r\nsense_voice_model_load: data offset: 444480\r\nsense_voice_model_load: loading model\r\nsense_voice_model_load: n_vocab = 25055\r\nsense_voice_model_load: n_encoder_hidden_state = 512\r\nsense_voice_model_load: n_encoder_linear_units = 2048\r\nsense_voice_model_load: n_encoder_attention_heads  = 4\r\nsense_voice_model_load: n_encoder_layers = 50\r\nsense_voice_model_load: n_mels  = 80\r\nsense_voice_model_load: ftype  = 1\r\nsense_voice_model_load: vocab[25055] loaded\r\nsense_voice_model_load: Metal total size =   935.21 MB\r\nsense_voice_model_load: n_tensors: 1197\r\nsense_voice_model_load: load SenseVoiceSmall takes 0.317000 second \r\nsense_voice_backend_init_gpu: using Metal backend\r\nggml_metal_init: allocating\r\nggml_metal_init: found device: Apple M2 Ultra\r\nggml_metal_init: picking default device: Apple M2 Ultra\r\nggml_metal_init: using embedded metal library\r\nggml_metal_init: GPU name:   Apple M2 Ultra\r\nggml_metal_init: GPU family: MTLGPUFamilyApple8  (1008)\r\nggml_metal_init: GPU family: MTLGPUFamilyCommon3 (3003)\r\nggml_metal_init: GPU family: MTLGPUFamilyMetal3  (5001)\r\nggml_metal_init: simdgroup reduction support   = true\r\nggml_metal_init: simdgroup matrix mul. support = true\r\nggml_metal_init: hasUnifiedMemory              = true\r\nggml_metal_init: recommendedMaxWorkingSetSize  = 154618.82 MB\r\nsense_voice_init_state: kv pad  size  =    3.67 MB\r\nggml_backend_metal_buffer_type_alloc_buffer: error: failed to allocate buffer, size =     0.00 MiB\r\nggml_gallocr_reserve_n: failed to allocate Metal buffer of size 0\r\nzsh: segmentation fault  ./build/bin/sense-voice-main -m ./models/gguf-fp32-sense-voice-small.bin  -t \r\n```",
    "comments_url": "https://api.github.com/repos/lovemefan/SenseVoice.cpp/issues/3/comments",
    "author": "edisonzf2020",
    "comments": [
      {
        "user": "lovemefan",
        "created_at": "2024-08-21T12:45:18Z",
        "body": "Unfortunately, the Metal GPU backend is not supported yet, only the CPU can be used for now. Iâ€™ll do my best to adapt it."
      },
      {
        "user": "edisonzf2020",
        "created_at": "2024-08-21T12:48:12Z",
        "body": "cool work, I run it ok by -ng parameter."
      }
    ]
  }
]